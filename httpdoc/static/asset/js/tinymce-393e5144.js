import{c as xD}from"./cookie-4e3b67e1.js";var m6={exports:{}};(function(Jo){(function(){var lr=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},ro=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},sa=function(e,t){var r=Array.prototype.slice.call(e);return r.sort(t)},jo=function(e,t){return dt(function(r,a){return e.eq(t(r),t(a))})},dt=function(e){return{eq:e}},qr=dt(function(e,t){return e===t}),ke=qr,Nt=function(e){return dt(function(t,r){if(t.length!==r.length)return!1;for(var a=t.length,c=0;c<a;c++)if(!e.eq(t[c],r[c]))return!1;return!0})},zi=function(e,t){return jo(Nt(e),function(r){return sa(r,t)})},fr=function(e){return dt(function(t,r){var a=Object.keys(t),c=Object.keys(r);if(!zi(ke).eq(a,c))return!1;for(var l=a.length,m=0;m<l;m++){var p=a[m];if(!e.eq(t[p],r[p]))return!1}return!0})},kn=dt(function(e,t){if(e===t)return!0;var r=lr(e),a=lr(t);return r!==a?!1:ro(r)?e===t:r==="array"?Nt(kn).eq(e,t):r==="object"?fr(kn).eq(e,t):!1}),Mr=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},qo=function(e){return function(t){return Mr(t)===e}},lt=function(e){return function(t){return typeof t===e}},mr=function(e){return function(t){return e===t}},Gt=qo("string"),yt=qo("object"),hn=qo("array"),Dr=mr(null),tr=lt("boolean"),Ft=mr(void 0),Fn=function(e){return e==null},Zt=function(e){return!Fn(e)},Wt=lt("function"),me=lt("number"),en=function(){},On=function(e,t){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return e(t.apply(null,r))}},Ca=function(e,t){return function(r){return e(t(r))}},oe=function(e){return function(){return e}},ho=function(e){return e},Ka=function(e,t){return e===t};function Ct(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=t.concat(a);return e.apply(null,l)}}var la=function(e){return function(t){return!e(t)}},Hr=function(e){return function(){throw new Error(e)}},ot=function(e){return e()},Eo=function(e){e()},Je=oe(!1),zt=oe(!0),Jr=function(){return Rr},Rr=function(){var e=function(a){return a()},t=ho,r={fold:function(a,c){return a()},isSome:Je,isNone:zt,getOr:t,getOrThunk:e,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:oe(null),getOrUndefined:oe(void 0),or:t,orThunk:e,map:Jr,each:en,bind:Jr,exists:Je,forall:zt,filter:function(){return Jr()},toArray:function(){return[]},toString:oe("none()")};return r}(),Gr=function(e){var t=oe(e),r=function(){return c},a=function(l){return l(e)},c={fold:function(l,m){return m(e)},isSome:zt,isNone:Je,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(l){return Gr(l(e))},each:function(l){l(e)},bind:a,exists:a,forall:a,filter:function(l){return l(e)?c:Rr},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return c},br=function(e){return e==null?Rr:Gr(e)},ee={some:Gr,none:Jr,from:br},Go=Array.prototype.slice,Mo=Array.prototype.indexOf,Kr=Array.prototype.push,Pa=function(e,t){return Mo.call(e,t)},it=function(e,t){var r=Pa(e,t);return r===-1?ee.none():ee.some(r)},Et=function(e,t){return Pa(e,t)>-1},Ot=function(e,t){for(var r=0,a=e.length;r<a;r++){var c=e[r];if(t(c,r))return!0}return!1},Vt=function(e,t){for(var r=e.length,a=new Array(r),c=0;c<r;c++){var l=e[c];a[c]=t(l,c)}return a},tt=function(e,t){for(var r=0,a=e.length;r<a;r++){var c=e[r];t(c,r)}},En=function(e,t){for(var r=e.length-1;r>=0;r--){var a=e[r];t(a,r)}},Vn=function(e,t){for(var r=[],a=[],c=0,l=e.length;c<l;c++){var m=e[c],p=t(m,c)?r:a;p.push(m)}return{pass:r,fail:a}},tn=function(e,t){for(var r=[],a=0,c=e.length;a<c;a++){var l=e[a];t(l,a)&&r.push(l)}return r},xa=function(e,t,r){return En(e,function(a,c){r=t(r,a,c)}),r},eo=function(e,t,r){return tt(e,function(a,c){r=t(r,a,c)}),r},mn=function(e,t,r){for(var a=0,c=e.length;a<c;a++){var l=e[a];if(t(l,a))return ee.some(l);if(r(l,a))break}return ee.none()},Ut=function(e,t){return mn(e,t,Je)},To=function(e,t){for(var r=0,a=e.length;r<a;r++){var c=e[r];if(t(c,r))return ee.some(r)}return ee.none()},Sa=function(e){for(var t=[],r=0,a=e.length;r<a;++r){if(!hn(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);Kr.apply(t,e[r])}return t},ka=function(e,t){return Sa(Vt(e,t))},ri=function(e,t){for(var r=0,a=e.length;r<a;++r){var c=e[r];if(t(c,r)!==!0)return!1}return!0},Fi=function(e){var t=Go.call(e,0);return t.reverse(),t},Oo=function(e,t){return tn(e,function(r){return!Et(t,r)})},fa=function(e,t){for(var r={},a=0,c=e.length;a<c;a++){var l=e[a];r[String(l)]=t(l,a)}return r},Ao=function(e,t){var r=Go.call(e,0);return r.sort(t),r},Ea=function(e,t){return t>=0&&t<e.length?ee.some(e[t]):ee.none()},Vo=function(e){return Ea(e,0)},Ta=function(e){return Ea(e,e.length-1)},N=Wt(Array.from)?Array.from:function(e){return Go.call(e)},va=function(e,t){for(var r=0;r<e.length;r++){var a=t(e[r],r);if(a.isSome())return a}return ee.none()},Xa=Object.keys,lo=Object.hasOwnProperty,pn=function(e,t){for(var r=Xa(e),a=0,c=r.length;a<c;a++){var l=r[a],m=e[l];t(m,l)}},Yt=function(e,t){return za(e,function(r,a){return{k:a,v:t(r,a)}})},za=function(e,t){var r={};return pn(e,function(a,c){var l=t(a,c);r[l.k]=l.v}),r},Pr=function(e){return function(t,r){e[r]=t}},Cu=function(e,t,r,a){var c={};return pn(e,function(l,m){(t(l,m)?r:a)(l,m)}),c},Ii=function(e,t){var r={},a={};return Cu(e,t,Pr(r),Pr(a)),{t:r,f:a}},Jn=function(e,t){var r={};return Cu(e,t,Pr(r),en),r},xu=function(e,t){var r=[];return pn(e,function(a,c){r.push(t(a,c))}),r},Su=function(e){return xu(e,ho)},_r=function(e,t){return Un(e,t)?ee.from(e[t]):ee.none()},Un=function(e,t){return lo.call(e,t)},gt=function(e,t){return Un(e,t)&&e[t]!==void 0&&e[t]!==null},da=function(e,t,r){return r===void 0&&(r=kn),fr(r).eq(e,t)},na=Array.isArray,Po=function(e){if(na(e))return e;for(var t=[],r=0,a=e.length;r<a;r++)t[r]=e[r];return t},Fa=function(e,t,r){var a,c;if(!e)return!1;if(r=r||e,e.length!==void 0){for(a=0,c=e.length;a<c;a++)if(t.call(r,e[a],a,e)===!1)return!1}else for(a in e)if(Un(e,a)&&t.call(r,e[a],a,e)===!1)return!1;return!0},ra=function(e,t){var r=[];return Fa(e,function(a,c){r.push(t(a,c,e))}),r},oi=function(e,t){var r=[];return Fa(e,function(a,c){(!t||t(a,c,e))&&r.push(a)}),r},oa=function(e,t){if(e){for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r}return-1},ki=function(e,t,r,a){for(var c=Ft(r)?e[0]:r,l=0;l<e.length;l++)c=t.call(a,c,e[l],l);return c},or=function(e,t,r){var a,c;for(a=0,c=e.length;a<c;a++)if(t.call(r,e[a],a,e))return a;return-1},Oa=function(e){return e[e.length-1]},Jt=function(){return Jt=Object.assign||function(t){for(var r,a=1,c=arguments.length;a<c;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Jt.apply(this,arguments)};function Li(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(r[a[c]]=e[a[c]]);return r}function Aa(e,t,r){if(r||arguments.length===2)for(var a=0,c=t.length,l;a<c;a++)(l||!(a in t))&&(l||(l=Array.prototype.slice.call(t,0,a)),l[a]=t[a]);return e.concat(l||Array.prototype.slice.call(t))}var Ya=function(e){var t=!1,r;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return t||(t=!0,r=e.apply(null,a)),r}},Xr=function(e,t,r,a){var c=e.isiOS()&&/ipad/i.test(r)===!0,l=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),p=m||a("(pointer:coarse)"),C=c||!l&&m&&a("(min-device-width:768px)"),_=l||m&&!C,H=t.isSafari()&&e.isiOS()&&/safari/i.test(r)===!1,$=!_&&!C&&!H;return{isiPad:oe(c),isiPhone:oe(l),isTablet:oe(C),isPhone:oe(_),isTouch:oe(p),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:oe(H),isDesktop:oe($)}},ku=function(e,t){for(var r=0;r<e.length;r++){var a=e[r];if(a.test(t))return a}},ma=function(e,t){var r=ku(e,t);if(!r)return{major:0,minor:0};var a=function(c){return Number(t.replace(r,"$"+c))};return le(a(1),a(2))},ai=function(e,t){var r=String(t).toLowerCase();return e.length===0?Lu():ma(e,r)},Lu=function(){return le(0,0)},le=function(e,t){return{major:e,minor:t}},ye={nu:le,detect:ai,unknown:Lu},Oe=function(e,t){return va(t.brands,function(r){var a=r.brand.toLowerCase();return Ut(e,function(c){var l;return a===((l=c.brand)===null||l===void 0?void 0:l.toLowerCase())}).map(function(c){return{current:c.name,version:ye.nu(parseInt(r.version,10),0)}})})},Me=function(e,t){var r=String(t).toLowerCase();return Ut(e,function(a){return a.search(r)})},Rt=function(e,t){return Me(e,t).map(function(r){var a=ye.detect(r.versionRegexes,t);return{current:r.name,version:a}})},nt=function(e,t){return Me(e,t).map(function(r){var a=ye.detect(r.versionRegexes,t);return{current:r.name,version:a}})},re=function(e,t){return e.substring(t)},fe=function(e,t,r){return t===""||e.length>=t.length&&e.substr(r,r+t.length)===t},_e=function(e,t){return qe(e,t)?re(e,t.length):e},Xe=function(e,t){return e.indexOf(t)!==-1},qe=function(e,t){return fe(e,t,0)},Mt=function(e){return function(t){return t.replace(e,"")}},It=Mt(/^\s+|\s+$/g),pt=Mt(/^\s+/g),Mn=Mt(/\s+$/g),Kn=function(e){return e.length>0},Zn=function(e){return!Kn(e)},Bn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fo=function(e){return function(t){return Xe(t,e)}},Le=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Xe(e,"edge/")&&Xe(e,"chrome")&&Xe(e,"safari")&&Xe(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Bn],search:function(e){return Xe(e,"chrome")&&!Xe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Xe(e,"msie")||Xe(e,"trident")}},{name:"Opera",versionRegexes:[Bn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fo("firefox")},{name:"Safari",versionRegexes:[Bn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Xe(e,"safari")||Xe(e,"mobile/"))&&Xe(e,"applewebkit")}}],Dn=[{name:"Windows",search:fo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Xe(e,"iphone")||Xe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fo("linux"),versionRegexes:[]},{name:"Solaris",search:fo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],to={browsers:oe(Le),oses:oe(Dn)},$r="Edge",ii="Chrome",ir="IE",Xi="Opera",Qo="Firefox",ga="Safari",Cc=function(){return di({current:void 0,version:ye.unknown()})},di=function(e){var t=e.current,r=e.version,a=function(c){return function(){return t===c}};return{current:t,version:r,isEdge:a($r),isChrome:a(ii),isIE:a(ir),isOpera:a(Xi),isFirefox:a(Qo),isSafari:a(ga)}},mi={unknown:Cc,nu:di,edge:oe($r),chrome:oe(ii),ie:oe(ir),opera:oe(Xi),firefox:oe(Qo),safari:oe(ga)},vo="Windows",es="iOS",Zu="Android",ec="Linux",bs="OSX",aa="Solaris",Yi="FreeBSD",ts="ChromeOS",Ji=function(){return Ei({current:void 0,version:ye.unknown()})},Ei=function(e){var t=e.current,r=e.version,a=function(c){return function(){return t===c}};return{current:t,version:r,isWindows:a(vo),isiOS:a(es),isAndroid:a(Zu),isOSX:a(bs),isLinux:a(ec),isSolaris:a(aa),isFreeBSD:a(Yi),isChromeOS:a(ts)}},X={unknown:Ji,nu:Ei,windows:oe(vo),ios:oe(es),android:oe(Zu),linux:oe(ec),osx:oe(bs),solaris:oe(aa),freebsd:oe(Yi),chromeos:oe(ts)},he=function(e,t,r){var a=to.browsers(),c=to.oses(),l=t.bind(function(C){return Oe(a,C)}).orThunk(function(){return Rt(a,e)}).fold(mi.unknown,mi.nu),m=nt(c,e).fold(X.unknown,X.nu),p=Xr(m,l,e,r);return{browser:l,os:m,deviceType:p}},Ae={detect:he},Ge=function(e){return window.matchMedia(e).matches},ut=Ya(function(){return Ae.detect(navigator.userAgent,ee.from(navigator.userAgentData),Ge)}),an=function(){return ut()},ur=navigator.userAgent,kr=an(),er=kr.browser,bo=kr.os,yo=kr.deviceType,Qi=/WebKit/.test(ur)&&!er.isEdge(),Da="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Eu=ur.indexOf("Windows Phone")!==-1,In={opera:er.isOpera(),webkit:Qi,ie:er.isIE()||er.isEdge()?er.version.major:!1,gecko:er.isFirefox(),mac:bo.isOSX()||bo.isiOS(),iOS:yo.isiPad()||yo.isiPhone(),android:bo.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:er.isIE()?document.documentMode||7:10,fileApi:Da,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!er.isIE(),desktop:yo.isDesktop(),windowsPhone:Eu,browser:{current:er.current,version:er.version,isChrome:er.isChrome,isEdge:er.isEdge,isFirefox:er.isFirefox,isIE:er.isIE,isOpera:er.isOpera,isSafari:er.isSafari},os:{current:bo.current,version:bo.version,isAndroid:bo.isAndroid,isChromeOS:bo.isChromeOS,isFreeBSD:bo.isFreeBSD,isiOS:bo.isiOS,isLinux:bo.isLinux,isOSX:bo.isOSX,isSolaris:bo.isSolaris,isWindows:bo.isWindows},deviceType:{isDesktop:yo.isDesktop,isiPad:yo.isiPad,isiPhone:yo.isiPhone,isPhone:yo.isPhone,isTablet:yo.isTablet,isTouch:yo.isTouch,isWebView:yo.isWebView}},xc=/^\s*|\s*$/g,gl=function(e){return e==null?"":(""+e).replace(xc,"")},zr=function(e,t){return t?t==="array"&&na(e)?!0:typeof e===t:e!==void 0},hl=function(e,t,r){var a;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),r=r||{},a=e.length;a--;)r[e[a]]={};return r},Ks=Un,Ul=function(e,t,r){var a=this,c,l,m,p=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var C=e[3].match(/(^|\.)(\w+)$/i)[2],_=a.createNS(e[3].replace(/\.\w+$/,""),r);if(!_[C]){if(e[2]==="static"){_[C]=t,this.onCreate&&this.onCreate(e[2],e[3],_[C]);return}t[C]||(t[C]=function(){},p=1),_[C]=t[C],a.extend(_[C].prototype,t),e[5]&&(c=a.resolve(e[5]).prototype,l=e[5].match(/\.(\w+)$/i)[1],m=_[C],p?_[C]=function(){return c[l].apply(this,arguments)}:_[C]=function(){return this.parent=c[l],m.apply(this,arguments)},_[C].prototype[C]=_[C],a.each(c,function(H,$){_[C].prototype[$]=c[$]}),a.each(t,function(H,$){c[$]?_[C].prototype[$]=function(){return this.parent=c[$],H.apply(this,arguments)}:$!==C&&(_[C].prototype[$]=H)})),a.each(t.static,function(H,$){_[C][$]=H})}},tc=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var a=0;a<t.length;a++){var c=t[a];for(var l in c)if(Un(c,l)){var m=c[l];m!==void 0&&(e[l]=m)}}return e},lu=function(e,t,r,a){a=a||this,e&&(r&&(e=e[r]),Fa(e,function(c,l){if(t.call(a,c,l,r)===!1)return!1;lu(c,t,r,a)}))},Pf=function(e,t){var r,a;for(t=t||window,e=e.split("."),r=0;r<e.length;r++)a=e[r],t[a]||(t[a]={}),t=t[a];return t},Ia=function(e,t){var r,a;for(t=t||window,e=e.split("."),r=0,a=e.length;r<a&&(t=t[e[r]],!!t);r++);return t},Zi=function(e,t){return!e||zr(e,"array")?e:ra(e.split(t||","),gl)},ys=function(e){var t=In.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},je={trim:gl,isArray:na,is:zr,toArray:Po,makeMap:hl,each:Fa,map:ra,grep:oi,inArray:oa,hasOwn:Ks,extend:tc,create:Ul,walk:lu,createNS:Pf,resolve:Ia,explode:Zi,_addCacheSuffix:ys},Hi=function(e,t){var r=t||document,a=r.createElement("div");if(a.innerHTML=e,!a.hasChildNodes()||a.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ui(a.childNodes[0])},nc=function(e,t){var r=t||document,a=r.createElement(e);return ui(a)},pl=function(e,t){var r=t||document,a=r.createTextNode(e);return ui(a)},ui=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},P=function(e,t,r){return ee.from(e.dom.elementFromPoint(t,r)).map(ui)},k={fromHtml:Hi,fromTag:nc,fromText:pl,fromDom:ui,fromPoint:P},w=function(e,t){var r=[],a=function(l){return r.push(l),t(l)},c=t(e);do c=c.bind(a);while(c.isSome());return r},D=function(e,t,r){return(e.compareDocumentPosition(t)&r)!==0},W=function(e,t){return D(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},te=8,Ce=9,Ye=11,nn=1,vn=3,wt=function(e,t){var r=e.dom;if(r.nodeType!==nn)return!1;var a=r;if(a.matches!==void 0)return a.matches(t);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(t);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(t);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Qt=function(e){return e.nodeType!==nn&&e.nodeType!==Ce&&e.nodeType!==Ye||e.childElementCount===0},Wn=function(e,t){var r=t===void 0?document:t.dom;return Qt(r)?[]:Vt(r.querySelectorAll(e),k.fromDom)},dn=function(e,t){var r=t===void 0?document:t.dom;return Qt(r)?ee.none():ee.from(r.querySelector(e)).map(k.fromDom)},cn=function(e,t){return e.dom===t.dom},Vr=function(e,t){var r=e.dom,a=t.dom;return r===a?!1:r.contains(a)},zn=function(e,t){return W(e.dom,t.dom)},wo=function(e,t){return an().browser.isIE()?zn(e,t):Vr(e,t)};typeof window<"u"||Function("return this;")();var on=function(e){var t=e.dom.nodeName;return t.toLowerCase()},gi=function(e){return e.dom.nodeType},Wl=function(e){return function(t){return gi(t)===e}},ws=function(e){return gi(e)===te||on(e)==="#comment"},Mc=Wl(nn),fu=Wl(vn),P1=Wl(Ce),Cs=Wl(Ye),Sv=function(e){return function(t){return Mc(t)&&on(t)===e}},ns=function(e){return k.fromDom(e.dom.ownerDocument)},xs=function(e){return P1(e)?e:ns(e)},zf=function(e){return k.fromDom(xs(e).dom.documentElement)},La=function(e){return k.fromDom(xs(e).dom.defaultView)},Tu=function(e){return ee.from(e.dom.parentNode).map(k.fromDom)},Ha=function(e,t){for(var r=Wt(t)?t:Je,a=e.dom,c=[];a.parentNode!==null&&a.parentNode!==void 0;){var l=a.parentNode,m=k.fromDom(l);if(c.push(m),r(m)===!0)break;a=l}return c},kv=function(e){var t=function(r){return tn(r,function(a){return!cn(e,a)})};return Tu(e).map(Hu).map(t).getOr([])},Ff=function(e){return ee.from(e.dom.previousSibling).map(k.fromDom)},rs=function(e){return ee.from(e.dom.nextSibling).map(k.fromDom)},hi=function(e){return Fi(w(e,Ff))},zo=function(e){return w(e,rs)},Hu=function(e){return Vt(e.dom.childNodes,k.fromDom)},Xs=function(e,t){var r=e.dom.childNodes;return ee.from(r[t]).map(k.fromDom)},jl=function(e){return Xs(e,0)},Ss=function(e){return Xs(e,e.dom.childNodes.length-1)},Dh=function(e){return e.dom.childNodes.length},Fo=function(e){var t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return k.fromDom(t)},Ou=function(e){return Cs(e)&&Zt(e.dom.host)},Ra=Wt(Element.prototype.attachShadow)&&Wt(Node.prototype.getRootNode),Au=oe(Ra),bl=Ra?function(e){return k.fromDom(e.dom.getRootNode())}:xs,$e=function(e){return Ou(e)?e:Fo(xs(e))},eu=function(e){var t=bl(e);return Ou(t)?ee.some(t):ee.none()},wn=function(e){return k.fromDom(e.dom.host)},wd=function(e){if(Au()&&Zt(e.target)){var t=k.fromDom(e.target);if(Mc(t)&&_a(t)&&e.composed&&e.composedPath){var r=e.composedPath();if(r)return Vo(r)}}return ee.from(e.target)},_a=function(e){return Zt(e.dom.shadowRoot)},$a=function(e,t){var r=Tu(e);r.each(function(a){a.dom.insertBefore(t.dom,e.dom)})},If=function(e,t){var r=rs(e);r.fold(function(){var a=Tu(e);a.each(function(c){jn(c,t)})},function(a){$a(a,t)})},pi=function(e,t){var r=jl(e);r.fold(function(){jn(e,t)},function(a){e.dom.insertBefore(t.dom,a.dom)})},jn=function(e,t){e.dom.appendChild(t.dom)},ks=function(e,t){$a(e,t),jn(t,e)},Rh=function(e,t){tt(t,function(r){$a(e,r)})},oo=function(e,t){tt(t,function(r){jn(e,r)})},Es=function(e){e.dom.textContent="",tt(Hu(e),function(t){ci(t)})},ci=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},$i=function(e){var t=Hu(e);t.length>0&&Rh(e,t),ci(e)},Se=function(e){var t=fu(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var r=t.ownerDocument;return eu(k.fromDom(t)).fold(function(){return r.body.contains(t)},Ca(Se,wn))},Pc=function(e,t){var r=function(a,c){return Pc(e+a,t+c)};return{left:e,top:t,translate:r}},Ts=Pc,os=function(e){var t=e.getBoundingClientRect();return Ts(t.left,t.top)},rc=function(e,t){return e!==void 0?e:t!==void 0?t:0},yr=function(e){var t=e.dom.ownerDocument,r=t.body,a=t.defaultView,c=t.documentElement;if(r===e.dom)return Ts(r.offsetLeft,r.offsetTop);var l=rc(a==null?void 0:a.pageYOffset,c.scrollTop),m=rc(a==null?void 0:a.pageXOffset,c.scrollLeft),p=rc(c.clientTop,r.clientTop),C=rc(c.clientLeft,r.clientLeft);return Io(e).translate(m-C,l-p)},Io=function(e){var t=e.dom,r=t.ownerDocument,a=r.body;return a===t?Ts(a.offsetLeft,a.offsetTop):Se(e)?os(t):Ts(0,0)},Lf=function(e){var t=e!==void 0?e.dom:document,r=t.body.scrollLeft||t.documentElement.scrollLeft,a=t.body.scrollTop||t.documentElement.scrollTop;return Ts(r,a)},Ev=function(e,t,r){var a=r!==void 0?r.dom:document,c=a.defaultView;c&&c.scrollTo(e,t)},Cn=function(e,t){var r=an().browser.isSafari();r&&Wt(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Sc=function(e){var t=e===void 0?window:e;return an().browser.isFirefox()?ee.none():ee.from(t.visualViewport)},z1=function(e,t,r,a){return{x:e,y:t,width:r,height:a,right:e+r,bottom:t+a}},as=function(e){var t=e===void 0?window:e,r=t.document,a=Lf(k.fromDom(r));return Sc(t).fold(function(){var c=t.document.documentElement,l=c.clientWidth,m=c.clientHeight;return z1(a.left,a.top,l,m)},function(c){return z1(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height)})},is=function(e){return function(t){return!!t&&t.nodeType===e}},ql=function(e){return!!e&&!Object.getPrototypeOf(e)},Ln=is(1),us=function(e){var t=e.map(function(r){return r.toLowerCase()});return function(r){if(r&&r.nodeName){var a=r.nodeName.toLowerCase();return Et(t,a)}return!1}},oc=function(e,t){var r=t.toLowerCase().split(" ");return function(a){if(Ln(a))for(var c=0;c<r.length;c++){var l=a.ownerDocument.defaultView.getComputedStyle(a,null),m=l?l.getPropertyValue(e):null;if(m===r[c])return!0}return!1}},ac=function(e){return function(t){return Ln(t)&&t.hasAttribute(e)}},Ir=function(e,t){return function(r){return Ln(r)&&r.getAttribute(e)===t}},Ja=function(e){return Ln(e)&&e.hasAttribute("data-mce-bogus")},Cd=function(e){return Ln(e)&&e.getAttribute("data-mce-bogus")==="all"},Ys=function(e){return Ln(e)&&e.tagName==="TABLE"},Tn=function(e){return function(t){return!!(Ln(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},Os=us(["textarea","input"]),jt=is(3),xd=is(8),Va=is(9),Hf=is(11),Ua=us(["br"]),_h=us(["img"]),Js=Tn("true"),Co=Tn("false"),Wa=us(["td","th"]),Zo=us(["video","audio","object","embed"]),zc=function(e,t,r){return r===void 0&&(r=Ka),e.exists(function(a){return r(a,t)})},Qn=function(e){for(var t=[],r=function(c){t.push(c)},a=0;a<e.length;a++)e[a].each(r);return t},$u=function(e,t,r){return e.isSome()&&t.isSome()?ee.some(r(e.getOrDie(),t.getOrDie())):ee.none()},F1=function(e,t,r,a){return e.isSome()&&t.isSome()&&r.isSome()?ee.some(a(e.getOrDie(),t.getOrDie(),r.getOrDie())):ee.none()},Bh=function(e,t){return e?ee.some(t):ee.none()},Sd=function(e){return e.style!==void 0&&Wt(e.style.getPropertyValue)},Gl=function(e,t,r){if(Gt(r)||tr(r)||me(r))e.setAttribute(t,r+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple")},O=function(e,t,r){Gl(e.dom,t,r)},z=function(e,t){var r=e.dom;pn(t,function(a,c){Gl(r,c,a)})},V=function(e,t){var r=e.dom.getAttribute(t);return r===null?void 0:r},se=function(e,t){return ee.from(V(e,t))},Te=function(e,t){var r=e.dom;return r&&r.hasAttribute?r.hasAttribute(t):!1},ht=function(e,t){e.dom.removeAttribute(t)},sn=function(e){return eo(e.dom.attributes,function(t,r){return t[r.name]=r.value,t},{})},cr=function(e,t,r){if(!Gt(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Sd(e)&&e.style.setProperty(t,r)},Pe=function(e,t){var r=e.dom;pn(t,function(a,c){cr(r,c,a)})},sr=function(e,t){var r=e.dom,a=window.getComputedStyle(r),c=a.getPropertyValue(t);return c===""&&!Se(e)?Do(r,t):c},Do=function(e,t){return Sd(e)?e.style.getPropertyValue(t):""},Ti=function(e,t){var r=e.dom,a=Do(r,t);return ee.from(a).filter(function(c){return c.length>0})},ia=function(e){var t={},r=e.dom;if(Sd(r))for(var a=0;a<r.style.length;a++){var c=r.style.item(a);t[c]=r.style[c]}return t},kd=function(e){return e.dom.offsetWidth},Xm=an().browser,I1=function(e){return Ut(e,Mc)},Nh=function(e){return Xm.isFirefox()&&on(e)==="table"?I1(Hu(e)).filter(function(t){return on(t)==="caption"}).bind(function(t){return I1(zo(t)).map(function(r){var a=r.dom.offsetTop,c=t.dom.offsetTop,l=t.dom.offsetHeight;return a<=c?-l:0})}).getOr(0):0},ic=function(e,t){return e.children&&Et(e.children,t)},un=function(e,t,r){var a=0,c=0,l=e.ownerDocument;if(r=r||e,t){if(r===e&&t.getBoundingClientRect&&sr(k.fromDom(e),"position")==="static"){var m=t.getBoundingClientRect();return a=m.left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,c=m.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop,{x:a,y:c}}for(var p=t;p&&p!==r&&p.nodeType&&!ic(p,r);){var C=p;a+=C.offsetLeft||0,c+=C.offsetTop||0,p=C.offsetParent}for(p=t.parentNode;p&&p!==r&&p.nodeType&&!ic(p,r);)a-=p.scrollLeft||0,c-=p.scrollTop||0,p=p.parentNode;c+=Nh(k.fromDom(t))}return{x:a,y:c}},vu={},Mh={exports:vu};(function(e,t,r,a){(function(c,l){typeof t=="object"&&typeof r<"u"?r.exports=l():typeof e=="function"&&e.amd?e(l):(c=typeof globalThis<"u"?globalThis:c||self,c.EphoxContactWrapper=l())})(this,function(){var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof xD<"u"?xD:typeof self<"u"?self:{},l={exports:{}};(function(_){(function(H){var $=setTimeout;function U(){}function Z(pe,Be){return function(){pe.apply(Be,arguments)}}function ne(pe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof pe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ee(pe,this)}function ae(pe,Be){for(;pe._state===3;)pe=pe._value;if(pe._state===0){pe._deferreds.push(Be);return}pe._handled=!0,ne._immediateFn(function(){var Qe=pe._state===1?Be.onFulfilled:Be.onRejected;if(Qe===null){(pe._state===1?ie:ge)(Be.promise,pe._value);return}var mt;try{mt=Qe(pe._value)}catch(Nn){ge(Be.promise,Nn);return}ie(Be.promise,mt)})}function ie(pe,Be){try{if(Be===pe)throw new TypeError("A promise cannot be resolved with itself.");if(Be&&(typeof Be=="object"||typeof Be=="function")){var Qe=Be.then;if(Be instanceof ne){pe._state=3,pe._value=Be,ve(pe);return}else if(typeof Qe=="function"){Ee(Z(Qe,Be),pe);return}}pe._state=1,pe._value=Be,ve(pe)}catch(mt){ge(pe,mt)}}function ge(pe,Be){pe._state=2,pe._value=Be,ve(pe)}function ve(pe){pe._state===2&&pe._deferreds.length===0&&ne._immediateFn(function(){pe._handled||ne._unhandledRejectionFn(pe._value)});for(var Be=0,Qe=pe._deferreds.length;Be<Qe;Be++)ae(pe,pe._deferreds[Be]);pe._deferreds=null}function De(pe,Be,Qe){this.onFulfilled=typeof pe=="function"?pe:null,this.onRejected=typeof Be=="function"?Be:null,this.promise=Qe}function Ee(pe,Be){var Qe=!1;try{pe(function(mt){Qe||(Qe=!0,ie(Be,mt))},function(mt){Qe||(Qe=!0,ge(Be,mt))})}catch(mt){if(Qe)return;Qe=!0,ge(Be,mt)}}ne.prototype.catch=function(pe){return this.then(null,pe)},ne.prototype.then=function(pe,Be){var Qe=new this.constructor(U);return ae(this,new De(pe,Be,Qe)),Qe},ne.all=function(pe){var Be=Array.prototype.slice.call(pe);return new ne(function(Qe,mt){if(Be.length===0)return Qe([]);var Nn=Be.length;function Kt(Rn,Dt){try{if(Dt&&(typeof Dt=="object"||typeof Dt=="function")){var qt=Dt.then;if(typeof qt=="function"){qt.call(Dt,function(St){Kt(Rn,St)},mt);return}}Be[Rn]=Dt,--Nn===0&&Qe(Be)}catch(St){mt(St)}}for(var rt=0;rt<Be.length;rt++)Kt(rt,Be[rt])})},ne.resolve=function(pe){return pe&&typeof pe=="object"&&pe.constructor===ne?pe:new ne(function(Be){Be(pe)})},ne.reject=function(pe){return new ne(function(Be,Qe){Qe(pe)})},ne.race=function(pe){return new ne(function(Be,Qe){for(var mt=0,Nn=pe.length;mt<Nn;mt++)pe[mt].then(Be,Qe)})},ne._immediateFn=typeof setImmediate=="function"?function(pe){setImmediate(pe)}:function(pe){$(pe,0)},ne._unhandledRejectionFn=function(Be){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Be)},ne._setImmediateFn=function(Be){ne._immediateFn=Be},ne._setUnhandledRejectionFn=function(Be){ne._unhandledRejectionFn=Be},_.exports?_.exports=ne:H.Promise||(H.Promise=ne)})(c)})(l);var m=l.exports,p=function(){return typeof window<"u"?window:Function("return this;")()}(),C={boltExport:p.Promise||m};return C})})(void 0,vu,Mh);var Ph=Mh.exports.boltExport,Ym=function(e){var t=ee.none(),r=[],a=function(_){return Ym(function(H){c(function($){H(_($))})})},c=function(_){m()?C(_):r.push(_)},l=function(_){m()||(t=ee.some(_),p(r),r=[])},m=function(){return t.isSome()},p=function(_){tt(_,C)},C=function(_){t.each(function(H){setTimeout(function(){_(H)},0)})};return e(l),{get:c,map:a,isReady:m}},Ed=function(e){return Ym(function(t){t(e)})},iy={nu:Ym,pure:Ed},yl=function(e){setTimeout(function(){throw e},0)},Tv=function(e){var t=function(C){e().then(C,yl)},r=function(C){return Tv(function(){return e().then(C)})},a=function(C){return Tv(function(){return e().then(function(_){return C(_).toPromise()})})},c=function(C){return Tv(function(){return e().then(function(){return C.toPromise()})})},l=function(){return iy.nu(t)},m=function(){var C=null;return Tv(function(){return C===null&&(C=e()),C})},p=e;return{map:r,bind:a,anonBind:c,toLazy:l,toCached:m,toPromise:p,get:t}},L1=function(e){return Tv(function(){return new Ph(e)})},Kk=function(e){return Tv(function(){return Ph.resolve(e)})},H1={nu:L1,pure:Kk},$1=function(e,t){return t(function(r){var a=[],c=0,l=function(m){return function(p){a[m]=p,c++,c>=e.length&&r(a)}};e.length===0?r([]):tt(e,function(m,p){m.get(l(p))})})},tu=function(e){return $1(e,H1.nu)},ha=function(e){var t=function($){return ha(e)},r=function($){return ha(e)},a=function($){return ha($(e))},c=function($){return ha(e)},l=function($){$(e)},m=function($){return $(e)},p=function($,U){return U(e)},C=function($){return $(e)},_=function($){return $(e)},H=function(){return ee.some(e)};return{isValue:zt,isError:Je,getOr:oe(e),getOrThunk:oe(e),getOrDie:oe(e),or:t,orThunk:r,fold:p,map:a,mapError:c,each:l,bind:m,exists:C,forall:_,toOptional:H}},uc=function(e){var t=function(_){return _()},r=function(){return Hr(String(e))()},a=ho,c=function(_){return _()},l=function(_){return uc(e)},m=function(_){return uc(_(e))},p=function(_){return uc(e)},C=function(_,H){return _(e)};return{isValue:Je,isError:zt,getOr:ho,getOrThunk:t,getOrDie:r,or:a,orThunk:c,fold:C,map:l,mapError:m,each:en,bind:p,exists:Je,forall:zt,toOptional:ee.none}},Td=function(e,t){return e.fold(function(){return uc(t)},ha)},wl={value:ha,error:uc,fromOption:Td},Ov=function(e){if(!hn(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],r={};return tt(e,function(a,c){var l=Xa(a);if(l.length!==1)throw new Error("one and only one name per case");var m=l[0],p=a[m];if(r[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!hn(p))throw new Error("case arguments must be an array");t.push(m),r[m]=function(){for(var C=[],_=0;_<arguments.length;_++)C[_]=arguments[_];var H=C.length;if(H!==p.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+p.length+" ("+p+"), got "+H);var $=function(U){var Z=Xa(U);if(t.length!==Z.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+Z.join(","));var ne=ri(t,function(ae){return Et(Z,ae)});if(!ne)throw new Error("Not all branches were specified when using match. Specified: "+Z.join(", ")+`
Required: `+t.join(", "));return U[m].apply(null,C)};return{fold:function(){for(var U=[],Z=0;Z<arguments.length;Z++)U[Z]=arguments[Z];if(U.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+U.length);var ne=U[c];return ne.apply(null,C)},match:$,log:function(U){console.log(U,{constructors:t,constructor:m,params:C})}}}}),r},As={generate:Ov};As.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var mC=function(e){return e.fold(ho,ho)};function V1(e,t,r,a,c){return e(r,a)?ee.some(r):Wt(c)&&c(r)?ee.none():t(r,a,c)}var Av=function(e,t,r){for(var a=e.dom,c=Wt(r)?r:Je;a.parentNode;){a=a.parentNode;var l=k.fromDom(a);if(t(l))return ee.some(l);if(c(l))break}return ee.none()},Jm=function(e,t,r){var a=function(c,l){return l(c)};return V1(a,Av,e,t,r)},Od=function(e,t){var r=e.dom;return r.parentNode?uy(k.fromDom(r.parentNode),function(a){return!cn(e,a)&&t(a)}):ee.none()},uy=function(e,t){var r=function(c){return t(k.fromDom(c))},a=Ut(e.dom.childNodes,r);return a.map(k.fromDom)},Ds=function(e,t,r){return Av(e,function(a){return wt(a,t)},r)},U1=function(e,t){return dn(t,e)},Oi=function(e,t,r){var a=function(c,l){return wt(c,l)};return V1(a,Ds,e,t,r)},Qa=window.Promise?window.Promise:Ph,Ad,Rs=function(e,t){for(var r=window.requestAnimationFrame,a=["ms","moz","webkit"],c=function(m){window.setTimeout(m,0)},l=0;l<a.length&&!r;l++)r=window[a[l]+"RequestAnimationFrame"];r||(r=c),r(e,t)},Qm=function(e,t){return typeof t!="number"&&(t=0),setTimeout(e,t)},Fc=function(e,t){return typeof t!="number"&&(t=1),setInterval(e,t)},W1=function(e){return clearTimeout(e)},cy=function(e){return clearInterval(e)},j1=function(e,t){var r,a=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];clearTimeout(r),r=Qm(function(){e.apply(this,c)},t)};return a.stop=function(){clearTimeout(r)},a},si={requestAnimationFrame:function(e,t){if(Ad){Ad.then(e);return}Ad=new Qa(function(r){t||(t=document.body),Rs(r,t)}).then(e)},setTimeout:Qm,setInterval:Fc,setEditorTimeout:function(e,t,r){return Qm(function(){e.removed||t()},r)},setEditorInterval:function(e,t,r){var a=Fc(function(){e.removed?clearInterval(a):t()},r);return a},debounce:j1,throttle:j1,clearInterval:cy,clearTimeout:W1},$f=function(e,t){t===void 0&&(t={});var r=0,a={},c=k.fromDom(e),l=xs(c),m=t.maxLoadTime||5e3,p=function(ie){t.referrerPolicy=ie},C=function(ie){jn($e(c),ie)},_=function(ie){var ge=$e(c);U1(ge,"#"+ie).each(ci)},H=function(ie){return _r(a,ie).getOrThunk(function(){return{id:"mce-u"+r++,passed:[],failed:[],count:0}})},$=function(ie,ge,ve){var De,Ee=je._addCacheSuffix(ie),pe=H(Ee);a[Ee]=pe,pe.count++;var Be=function(Dt,qt){for(var St=Dt.length;St--;)Dt[St]();pe.status=qt,pe.passed=[],pe.failed=[],De&&(De.onload=null,De.onerror=null,De=null)},Qe=function(){return Be(pe.passed,2)},mt=function(){return Be(pe.failed,3)},Nn=function(Dt,qt){Dt()||(Date.now()-Rn<m?si.setTimeout(qt):mt())},Kt=function(){Nn(function(){for(var Dt=e.styleSheets,qt=Dt.length;qt--;){var St=Dt[qt],$t=St.ownerNode;if($t&&$t.id===De.id)return Qe(),!0}return!1},Kt)};if(ge&&pe.passed.push(ge),ve&&pe.failed.push(ve),pe.status!==1){if(pe.status===2){Qe();return}if(pe.status===3){mt();return}pe.status=1;var rt=k.fromTag("link",l.dom);z(rt,{rel:"stylesheet",type:"text/css",id:pe.id});var Rn=Date.now();t.contentCssCors&&O(rt,"crossOrigin","anonymous"),t.referrerPolicy&&O(rt,"referrerpolicy",t.referrerPolicy),De=rt.dom,De.onload=Kt,De.onerror=mt,C(rt),O(rt,"href",Ee)}},U=function(ie){return H1.nu(function(ge){$(ie,On(ge,oe(wl.value(ie))),On(ge,oe(wl.error(ie))))})},Z=function(ie,ge,ve){tu(Vt(ie,U)).get(function(De){var Ee=Vn(De,function(pe){return pe.isValue()});Ee.fail.length>0?ve(Ee.fail.map(mC)):ge(Ee.pass.map(mC))})},ne=function(ie){var ge=je._addCacheSuffix(ie);_r(a,ge).each(function(ve){var De=--ve.count;De===0&&(delete a[ge],_(ve.id))})},ae=function(ie){tt(ie,function(ge){ne(ge)})};return{load:$,loadAll:Z,unload:ne,unloadAll:ae,_setReferrerPolicy:p}},gC=function(){var e=new WeakMap,t=function(r,a){var c=bl(r),l=c.dom;return ee.from(e.get(l)).getOrThunk(function(){var m=$f(l,a);return e.set(l,m),m})};return{forElement:t}},Zm=gC(),li=function(){function e(t,r){this.node=t,this.rootNode=r,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},e.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},e.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},e.prototype.findSibling=function(t,r,a,c){var l,m;if(t){if(!c&&t[r])return t[r];if(t!==this.rootNode){if(l=t[a],l)return l;for(m=t.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(l=m[a],l)return l}}},e.prototype.findPreviousNode=function(t,r,a,c){var l,m,p;if(t){if(l=t[a],this.rootNode&&l===this.rootNode)return;if(l){if(!c){for(p=l[r];p;p=p[r])if(!p[r])return p}return l}if(m=t.parentNode,m&&m!==this.rootNode)return m}},e}(),Dd=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],zh=["td","th"],Fh=["thead","tbody","tfoot"],hC=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],eg=["h1","h2","h3","h4","h5","h6"],Xk=["li","dd","dt"],tg=["ul","ol","dl"],pC=["pre","script","textarea","style"],kc=function(e){var t;return function(r){return t=t||fa(e,zt),Un(t,on(r))}},sy=kc(eg),_s=kc(Dd),Rd=function(e){return on(e)==="table"},Ec=function(e){return Mc(e)&&!_s(e)},Kl=function(e){return Mc(e)&&on(e)==="br"},_d=kc(hC),Cl=kc(tg),Xl=kc(Xk),Ih=kc(Fh),Bd=kc(zh),ng=kc(pC),bC=function(e,t,r){return Ds(e,t,r).isSome()},rg="\uFEFF",cc="\xA0",Dv=function(e){return e===rg},Lh=function(e){return e.replace(/\uFEFF/g,"")},fi=rg,Nd=Dv,Yl=Lh,ly=Ln,Rv=jt,Ic=function(e){return Rv(e)&&(e=e.parentNode),ly(e)&&e.hasAttribute("data-mce-caret")},Md=function(e){return Rv(e)&&Nd(e.data)},Vu=function(e){return Ic(e)||Md(e)},_v=function(e){return e.firstChild!==e.lastChild||!Ua(e.firstChild)},Uo=function(e,t){var r=e.ownerDocument,a=r.createTextNode(fi),c=e.parentNode;if(t){var l=e.previousSibling;if(Rv(l)){if(Vu(l))return l;if($h(l))return l.splitText(l.data.length-1)}c.insertBefore(a,e)}else{var l=e.nextSibling;if(Rv(l)){if(Vu(l))return l;if(Hh(l))return l.splitText(1),l}e.nextSibling?c.insertBefore(a,e.nextSibling):c.appendChild(a)}return a},ua=function(e){var t=e.container();return jt(t)?t.data.charAt(e.offset())===fi||e.isAtStart()&&Md(t.previousSibling):!1},Bs=function(e){var t=e.container();return jt(t)?t.data.charAt(e.offset()-1)===fi||e.isAtEnd()&&Md(t.nextSibling):!1},yC=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Jl=function(e,t,r){var a=t.ownerDocument,c=a.createElement(e);c.setAttribute("data-mce-caret",r?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(yC());var l=t.parentNode;return r?l.insertBefore(c,t):t.nextSibling?l.insertBefore(c,t.nextSibling):l.appendChild(c),c},Hh=function(e){return Rv(e)&&e.data[0]===fi},$h=function(e){return Rv(e)&&e.data[e.data.length-1]===fi},fy=function(e){var t=e.getElementsByTagName("br"),r=t[t.length-1];Ja(r)&&r.parentNode.removeChild(r)},vy=function(e){return e&&e.hasAttribute("data-mce-caret")?(fy(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},wC=function(e){return Ic(e.startContainer)},q1=Js,CC=Co,Vh=Ua,og=jt,Yk=us(["script","style","textarea"]),G1=us(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ag=us(["table"]),xC=Vu,du=function(e){return xC(e)?!1:og(e)?!Yk(e.parentNode):G1(e)||Vh(e)||ag(e)||dy(e)},cs=function(e){return Ln(e)&&e.getAttribute("unselectable")==="true"},dy=function(e){return cs(e)===!1&&CC(e)},Bv=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(dy(e))return!1;if(q1(e))return!0}return!0},Jk=function(e){return dy(e)?eo(N(e.getElementsByTagName("*")),function(t,r){return t||q1(r)},!1)!==!0:!1},my=function(e){return G1(e)||Jk(e)},Uh=function(e,t){return du(e)&&Bv(e,t)},Uu=/^[ \t\r\n]*$/,mu=function(e){return Uu.test(e)},Wh=function(e,t){var r=k.fromDom(t),a=k.fromDom(e);return bC(a,"pre,code",Ct(cn,r))},SC=function(e,t){return jt(e)&&mu(e.data)&&Wh(e,t)===!1},kC=function(e){return Ln(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},jh=function(e,t){return du(e)&&SC(e,t)===!1||kC(e)||K1(e)},K1=ac("data-mce-bookmark"),Ai=ac("data-mce-bogus"),Qs=Ir("data-mce-bogus","all"),Pd=function(e,t){var r=0;if(jh(e,e))return!1;var a=e.firstChild;if(!a)return!0;var c=new li(a,e);do{if(t){if(Qs(a)){a=c.next(!0);continue}if(Ai(a)){a=c.next();continue}}if(Ua(a)){r++,a=c.next();continue}if(jh(a,e))return!1;a=c.next()}while(a);return r<=1},vi=function(e,t){return t===void 0&&(t=!0),Pd(e.dom,t)},ig=function(e){return e.nodeName.toLowerCase()==="span"},Vf=function(e,t){return Zt(e)&&(jh(e,t)||Ec(k.fromDom(e)))},EC=function(e,t){var r=new li(e,t).prev(!1),a=new li(e,t).next(!1),c=Ft(r)||Vf(r,t),l=Ft(a)||Vf(a,t);return c&&l},X1=function(e){return ig(e)&&e.getAttribute("data-mce-type")==="bookmark"},Y1=function(e,t){return jt(e)&&e.data.length>0&&EC(e,t)},Qk=function(e){return Ln(e)?e.childNodes.length>0:!1},TC=function(e){return Hf(e)||Va(e)},J1=function(e,t,r){var a=r||t;if(Ln(t)&&X1(t))return t;for(var c=t.childNodes,l=c.length-1;l>=0;l--)J1(e,c[l],a);if(Ln(t)){var m=t.childNodes;m.length===1&&X1(m[0])&&t.parentNode.insertBefore(m[0],t)}return!TC(t)&&!jh(t,a)&&!Qk(t)&&!Y1(t,a)&&e.remove(t),t},gy=je.makeMap,zd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ql=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q1=/[<>&\"\']/g,Qr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Lc={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Ns={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},hy={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Lo=function(e){var t=k.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},qh=function(e,t){var r,a,c,l={};if(e){for(e=e.split(","),t=t||10,r=0;r<e.length;r+=2)a=String.fromCharCode(parseInt(e[r],t)),Ns[a]||(c="&"+e[r+1]+";",l[a]=c,l[c]=a);return l}},Di=qh("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Fd=function(e,t){return e.replace(t?zd:Ql,function(r){return Ns[r]||r})},gu=function(e){return(""+e).replace(Q1,function(t){return Ns[t]||t})},Gh=function(e,t){return e.replace(t?zd:Ql,function(r){return r.length>1?"&#"+((r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320)+65536)+";":Ns[r]||"&#"+r.charCodeAt(0)+";"})},Kh=function(e,t,r){return r=r||Di,e.replace(t?zd:Ql,function(a){return Ns[a]||r[a]||a})},py=function(e,t){var r=qh(t)||Di,a=function(m,p){return m.replace(p?zd:Ql,function(C){return Ns[C]!==void 0?Ns[C]:r[C]!==void 0?r[C]:C.length>1?"&#"+((C.charCodeAt(0)-55296)*1024+(C.charCodeAt(1)-56320)+65536)+";":"&#"+C.charCodeAt(0)+";"})},c=function(m,p){return Kh(m,p,r)},l=gy(e.replace(/\+/g,","));return l.named&&l.numeric?a:l.named?t?c:Kh:l.numeric?Gh:Fd},by=function(e){return e.replace(Qr,function(t,r){return r?(r.charAt(0).toLowerCase()==="x"?r=parseInt(r.substr(1),16):r=parseInt(r,10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))):Lc[r]||String.fromCharCode(r)):hy[t]||Di[t]||Lo(t)})},Zs={encodeRaw:Fd,encodeAllRaw:gu,encodeNumeric:Gh,encodeNamed:Kh,getEncodeFunc:py,decode:by},xl={},Z1={},Nv=je.makeMap,Du=je.each,e0=je.extend,Mv=je.explode,yy=je.inArray,nu=function(e,t){return e=je.trim(e),e?e.split(t||" "):[]},t0=function(e,t){var r=Nv(e," ",Nv(e.toUpperCase()," "));return e0(r,t)},OC=function(e){return t0("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},ru=function(e){var t={},r,a,c,l,m,p,C=function(H,$,U){var Z,ne,ae,ie=function(ve,De){var Ee={},pe,Be;for(pe=0,Be=ve.length;pe<Be;pe++)Ee[ve[pe]]=De||{};return Ee};U=U||[],$=$||"",typeof U=="string"&&(U=nu(U));var ge=nu(H);for(Z=ge.length;Z--;)ne=nu([r,$].join(" ")),ae={attributes:ie(ne),attributesOrder:ne,children:ie(U,Z1)},t[ge[Z]]=ae},_=function(H,$){var U,Z,ne,ae,ie=nu(H);U=ie.length;for(var ge=nu($);U--;)for(Z=t[ie[U]],ne=0,ae=ge.length;ne<ae;ne++)Z.attributes[ge[ne]]={},Z.attributesOrder.push(ge[ne])};return xl[e]?xl[e]:(r="id accesskey class dir lang style tabindex title role",a="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",a+=" article aside details dialog figure main header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(r+=" xml:lang",p="acronym applet basefont big font strike tt",c=[c,p].join(" "),Du(nu(p),function(H){C(H,"",c)}),m="center dir isindex noframes",a=[a,m].join(" "),l=[a,c].join(" "),Du(nu(m),function(H){C(H,"",l)})),l=l||[a,c].join(" "),C("html","manifest","head body"),C("head","","base command link meta noscript script style title"),C("title hr noscript br"),C("base","href target"),C("link","href rel media hreflang type sizes hreflang"),C("meta","name http-equiv content charset"),C("style","media type scoped"),C("script","src async defer type charset"),C("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",l),C("address dt dd div caption","",l),C("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),C("blockquote","cite",l),C("ol","reversed start type","li"),C("ul","","li"),C("li","value",l),C("dl","","dt dd"),C("a","href target rel media hreflang type",c),C("q","cite",c),C("ins del","cite datetime",l),C("img","src sizes srcset alt usemap ismap width height"),C("iframe","src name width height",l),C("embed","src type width height"),C("object","data type typemustmatch name usemap form width height",[l,"param"].join(" ")),C("param","name value"),C("map","name",[l,"area"].join(" ")),C("area","alt coords shape href target rel media hreflang type"),C("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),C("colgroup","span","col"),C("col","span"),C("tbody thead tfoot","","tr"),C("tr","","td th"),C("td","colspan rowspan headers",l),C("th","colspan rowspan headers scope abbr",l),C("form","accept-charset action autocomplete enctype method name novalidate target",l),C("fieldset","disabled form name",[l,"legend"].join(" ")),C("label","form for",c),C("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),C("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?l:c),C("select","disabled form multiple name required size","option optgroup"),C("optgroup","disabled label","option"),C("option","disabled label selected value"),C("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),C("menu","type label",[l,"li"].join(" ")),C("noscript","",l),e!=="html4"&&(C("wbr"),C("ruby","",[c,"rt rp"].join(" ")),C("figcaption","",l),C("mark rt rp summary bdi","",c),C("canvas","width height",l),C("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[l,"track source"].join(" ")),C("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[l,"track source"].join(" ")),C("picture","","img source"),C("source","src srcset type media sizes"),C("track","kind src srclang label default"),C("datalist","",[c,"option"].join(" ")),C("article section nav aside main header footer","",l),C("hgroup","","h1 h2 h3 h4 h5 h6"),C("figure","",[l,"figcaption"].join(" ")),C("time","datetime",c),C("dialog","open",l),C("command","type label icon disabled checked radiogroup command"),C("output","for form name",c),C("progress","value max",c),C("meter","value min max low high optimum",c),C("details","open",[l,"summary"].join(" ")),C("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),e!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allowfullscreen loading")),Du(nu("a form meter progress dfn"),function(H){t[H]&&delete t[H].children[H]}),delete t.caption.children.table,delete t.script,xl[e]=t,t)},n0=function(e,t){var r;return e&&(r={},typeof e=="string"&&(e={"*":e}),Du(e,function(a,c){r[c]=r[c.toUpperCase()]=t==="map"?Nv(a,/[, ]/):Mv(a,/[, ]/)})),r},Uf=function(e){var t={},r={},a=[],c={},l={},m=function(ct,Bt,gn){var Fe=e[ct];return Fe?Fe=Nv(Fe,/[, ]/,Nv(Fe.toUpperCase(),/[, ]/)):(Fe=xl[ct],Fe||(Fe=t0(Bt,gn),xl[ct]=Fe)),Fe};e=e||{};var p=ru(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var C=n0(e.valid_styles),_=n0(e.invalid_styles,"map"),H=n0(e.valid_classes,"map"),$=m("whitespace_elements","pre script noscript style textarea video audio iframe object code"),U=m("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Z=m("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ne=m("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ae="td th iframe video audio object script code",ie=m("non_empty_elements",ae+" pre",Z),ge=m("move_caret_before_on_enter_elements",ae+" table",Z),ve=m("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),De=m("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",ve),Ee=m("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Du((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(ct){l[ct]=new RegExp("</"+ct+"[^>]*>","gi")});var pe=function(ct){return new RegExp("^"+ct.replace(/([?+*])/g,".$1")+"$")},Be=function(ct){var Bt,gn,Fe,bt,st,yn,_n,Yo,zu,wu,M1,ps,qs,Fu,Mf,Gs,Ah,ta,wa=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Iu=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,qm=/[*?+]/;if(ct){var Gm=nu(ct,",");for(t["@"]&&(Gs=t["@"].attributes,Ah=t["@"].attributesOrder),Bt=0,gn=Gm.length;Bt<gn;Bt++)if(st=wa.exec(Gm[Bt]),st){if(Fu=st[1],zu=st[2],Mf=st[3],Yo=st[5],ps={},qs=[],yn={attributes:ps,attributesOrder:qs},Fu==="#"&&(yn.paddEmpty=!0),Fu==="-"&&(yn.removeEmpty=!0),st[4]==="!"&&(yn.removeEmptyAttrs=!0),Gs&&(pn(Gs,function(Km,oy){ps[oy]=Km}),qs.push.apply(qs,Ah)),Yo){for(Yo=nu(Yo,"|"),Fe=0,bt=Yo.length;Fe<bt;Fe++)if(st=Iu.exec(Yo[Fe]),st){if(_n={},M1=st[1],wu=st[2].replace(/[\\:]:/g,":"),Fu=st[3],ta=st[4],M1==="!"&&(yn.attributesRequired=yn.attributesRequired||[],yn.attributesRequired.push(wu),_n.required=!0),M1==="-"){delete ps[wu],qs.splice(yy(qs,wu),1);continue}Fu&&(Fu==="="&&(yn.attributesDefault=yn.attributesDefault||[],yn.attributesDefault.push({name:wu,value:ta}),_n.defaultValue=ta),Fu===":"&&(yn.attributesForced=yn.attributesForced||[],yn.attributesForced.push({name:wu,value:ta}),_n.forcedValue=ta),Fu==="<"&&(_n.validValues=Nv(ta,"?"))),qm.test(wu)?(yn.attributePatterns=yn.attributePatterns||[],_n.pattern=pe(wu),yn.attributePatterns.push(_n)):(ps[wu]||qs.push(wu),ps[wu]=_n)}}!Gs&&zu==="@"&&(Gs=ps,Ah=qs),Mf&&(yn.outputName=zu,t[Mf]=yn),qm.test(zu)?(yn.pattern=pe(zu),a.push(yn)):t[zu]=yn}}},Qe=function(ct){t={},a=[],Be(ct),Du(p,function(Bt,gn){r[gn]=Bt.children})},mt=function(ct){var Bt=/^(~)?(.+)$/;ct&&(xl.text_block_elements=xl.block_elements=null,Du(nu(ct,","),function(gn){var Fe=Bt.exec(gn),bt=Fe[1]==="~",st=bt?"span":"div",yn=Fe[2];if(r[yn]=r[st],c[yn]=st,bt||(De[yn.toUpperCase()]={},De[yn]={}),!t[yn]){var _n=t[st];_n=e0({},_n),delete _n.removeEmptyAttrs,delete _n.removeEmpty,t[yn]=_n}Du(r,function(Yo,zu){Yo[st]&&(r[zu]=Yo=e0({},r[zu]),Yo[yn]=Yo[st])})}))},Nn=function(ct){var Bt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;xl[e.schema]=null,ct&&Du(nu(ct,","),function(gn){var Fe=Bt.exec(gn),bt,st;Fe&&(st=Fe[1],st?bt=r[Fe[2]]:bt=r[Fe[2]]={"#comment":{}},bt=r[Fe[2]],Du(nu(Fe[3],"|"),function(yn){st==="-"?delete bt[yn]:bt[yn]={}}))})},Kt=function(ct){var Bt=t[ct],gn;if(Bt)return Bt;for(gn=a.length;gn--;)if(Bt=a[gn],Bt.pattern.test(ct))return Bt};e.valid_elements?Qe(e.valid_elements):(Du(p,function(ct,Bt){t[Bt]={attributes:ct.attributes,attributesOrder:ct.attributesOrder},r[Bt]=ct.children}),e.schema!=="html5"&&Du(nu("strong/b em/i"),function(ct){var Bt=nu(ct,"/");t[Bt[1]].outputName=Bt[0]}),Du(Ee,function(ct,Bt){t[Bt]&&(e.padd_empty_block_inline_children&&(t[Bt].paddInEmptyBlock=!0),t[Bt].removeEmpty=!0)}),Du(nu("ol ul blockquote a table tbody"),function(ct){t[ct]&&(t[ct].removeEmpty=!0)}),Du(nu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(ct){t[ct].paddEmpty=!0}),Du(nu("span"),function(ct){t[ct].removeEmptyAttrs=!0})),mt(e.custom_elements),Nn(e.valid_children),Be(e.extended_valid_elements),Nn("+ol[ul|ol],+ul[ul|ol]"),Du({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(ct,Bt){t[Bt]&&(t[Bt].parentsRequired=nu(ct))}),e.invalid_elements&&Du(Mv(e.invalid_elements),function(ct){t[ct]&&delete t[ct]}),Kt("span")||Be("span[!data-mce-type|*]");var rt=oe(C),Rn=oe(_),Dt=oe(H),qt=oe(ne),St=oe(De),$t=oe(ve),rn=oe(Ee),at=oe(Z),Xt=oe(U),Ar=oe(ie),so=oe(ge),uo=oe($),Qu=oe(l),ni=function(ct,Bt){var gn=r[ct.toLowerCase()];return!!(gn&&gn[Bt.toLowerCase()])},hs=function(ct,Bt){var gn,Fe,bt=Kt(ct);if(bt)if(Bt){if(bt.attributes[Bt])return!0;if(gn=bt.attributePatterns,gn){for(Fe=gn.length;Fe--;)if(gn[Fe].pattern.test(ct))return!0}}else return!0;return!1},Vl=oe(c);return{children:r,elements:t,getValidStyles:rt,getValidClasses:Dt,getBlockElements:St,getInvalidStyles:Rn,getShortEndedElements:at,getTextBlockElements:$t,getTextInlineElements:rn,getBoolAttrs:qt,getElementRule:Kt,getSelfClosingElements:Xt,getNonEmptyElements:Ar,getMoveCaretBeforeOnEnterElements:so,getWhiteSpaceElements:uo,getSpecialElements:Qu,isValidChild:ni,isValid:hs,getCustomElements:Vl,addValidElements:Be,setValidElements:Qe,addCustomElements:mt,addValidChildren:Nn}},Zl=function(e,t,r,a){var c=function(l){return l=parseInt(l,10).toString(16),l.length>1?l:"0"+l};return"#"+c(t)+c(r)+c(a)},Sl=function(e,t){var r=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,m=/\s+$/,p,C={},_,H,$=rg;e=e||{},t&&(_=t.getValidStyles(),H=t.getInvalidStyles());var U=(`\\" \\' \\; \\: ; : `+$).split(" ");for(p=0;p<U.length;p++)C[U[p]]=$+p,C[$+p]=U[p];return{toHex:function(Z){return Z.replace(a,Zl)},parse:function(Z){var ne={},ae,ie,ge,ve,De=e.url_converter,Ee=e.url_converter_scope||r,pe=function(Dt,qt,St){var $t=ne[Dt+"-top"+qt];if(!!$t){var rn=ne[Dt+"-right"+qt];if(!!rn){var at=ne[Dt+"-bottom"+qt];if(!!at){var Xt=ne[Dt+"-left"+qt];if(!!Xt){var Ar=[$t,rn,at,Xt];for(p=Ar.length-1;p--&&Ar[p]===Ar[p+1];);p>-1&&St||(ne[Dt+qt]=p===-1?Ar[0]:Ar.join(" "),delete ne[Dt+"-top"+qt],delete ne[Dt+"-right"+qt],delete ne[Dt+"-bottom"+qt],delete ne[Dt+"-left"+qt])}}}}},Be=function(Dt){var qt=ne[Dt],St;if(!!qt){for(qt=qt.split(" "),St=qt.length;St--;)if(qt[St]!==qt[0])return!1;return ne[Dt]=qt[0],!0}},Qe=function(Dt,qt,St,$t){!Be(qt)||!Be(St)||!Be($t)||(ne[Dt]=ne[qt]+" "+ne[St]+" "+ne[$t],delete ne[qt],delete ne[St],delete ne[$t])},mt=function(Dt){return ve=!0,C[Dt]},Nn=function(Dt,qt){return ve&&(Dt=Dt.replace(/\uFEFF[0-9]/g,function(St){return C[St]})),qt||(Dt=Dt.replace(/\\([\'\";:])/g,"$1")),Dt},Kt=function(Dt){return String.fromCharCode(parseInt(Dt.slice(1),16))},rt=function(Dt){return Dt.replace(/\\[0-9a-f]+/gi,Kt)},Rn=function(Dt,qt,St,$t,rn,at){if(rn=rn||at,rn)return rn=Nn(rn),"'"+rn.replace(/\'/g,"\\'")+"'";if(qt=Nn(qt||St||$t),!e.allow_script_urls){var Xt=qt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Xt)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Xt))return""}return De&&(qt=De.call(Ee,qt,"style")),"url('"+qt.replace(/\'/g,"\\'")+"')"};if(Z){for(Z=Z.replace(/[\u0000-\u001F]/g,""),Z=Z.replace(/\\[\"\';:\uFEFF]/g,mt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Dt){return Dt.replace(/[;:]/g,mt)});ae=l.exec(Z);)if(l.lastIndex=ae.index+ae[0].length,ie=ae[1].replace(m,"").toLowerCase(),ge=ae[2].replace(m,""),ie&&ge){if(ie=rt(ie),ge=rt(ge),ie.indexOf($)!==-1||ie.indexOf('"')!==-1||!e.allow_script_urls&&(ie==="behavior"||/expression\s*\(|\/\*|\*\//.test(ge)))continue;ie==="font-weight"&&ge==="700"?ge="bold":(ie==="color"||ie==="background-color")&&(ge=ge.toLowerCase()),ge=ge.replace(a,Zl),ge=ge.replace(c,Rn),ne[ie]=ve?Nn(ge,!0):ge}pe("border","",!0),pe("border","-width"),pe("border","-color"),pe("border","-style"),pe("padding",""),pe("margin",""),Qe("border","border-width","border-style","border-color"),ne.border==="medium none"&&delete ne.border,ne["border-image"]==="none"&&delete ne["border-image"]}return ne},serialize:function(Z,ne){var ae="",ie=function(ve){var De,Ee=_[ve];if(Ee)for(var pe=0,Be=Ee.length;pe<Be;pe++)ve=Ee[pe],De=Z[ve],De&&(ae+=(ae.length>0?" ":"")+ve+": "+De+";")},ge=function(ve,De){var Ee=H["*"];return Ee&&Ee[ve]?!1:(Ee=H[De],!(Ee&&Ee[ve]))};return ne&&_?(ie("*"),ie(ne)):pn(Z,function(ve,De){ve&&(!H||ge(De,ne))&&(ae+=(ae.length>0?" ":"")+De+": "+ve+";")}),ae}}},Wf={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ms=function(e){return e instanceof Event||Wt(e.initEvent)},wy=function(e){return e.isDefaultPrevented===zt||e.isDefaultPrevented===Je},ss=function(e){return Fn(e.preventDefault)||Ms(e)},r0=function(e,t){var r=t!=null?t:{};for(var a in e)Un(Wf,a)||(r[a]=e[a]);return Zt(r.composedPath)&&(r.composedPath=function(){return e.composedPath()}),r},Cy=function(e,t,r,a){var c,l=r0(t,a);return l.type=e,Fn(l.target)&&(l.target=(c=l.srcElement)!==null&&c!==void 0?c:r),ss(t)&&(l.preventDefault=function(){l.defaultPrevented=!0,l.isDefaultPrevented=zt,Wt(t.preventDefault)?t.preventDefault():Ms(t)&&(t.returnValue=!1)},l.stopPropagation=function(){l.cancelBubble=!0,l.isPropagationStopped=zt,Wt(t.stopPropagation)?t.stopPropagation():Ms(t)&&(t.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=zt,l.stopPropagation()},wy(l)||(l.isDefaultPrevented=l.defaultPrevented===!0?zt:Je,l.isPropagationStopped=l.cancelBubble===!0?zt:Je,l.isImmediatePropagationStopped=Je)),l},AC="mce-data-",Xh=/^(?:mouse|contextmenu)|click/,Yh=function(e,t,r,a){e.addEventListener?e.addEventListener(t,r,a||!1):e.attachEvent&&e.attachEvent("on"+t,r)},ug=function(e,t,r,a){e.removeEventListener?e.removeEventListener(t,r,a||!1):e.detachEvent&&e.detachEvent("on"+t,r)},jf=function(e){return Zt(e)&&Xh.test(e.type)},qf=function(e,t){var r=Cy(e.type,e,document,t);if(jf(e)&&Ft(e.pageX)&&!Ft(e.clientX)){var a=r.target.ownerDocument||document,c=a.documentElement,l=a.body,m=r;m.pageX=e.clientX+(c&&c.scrollLeft||l&&l.scrollLeft||0)-(c&&c.clientLeft||l&&l.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||l&&l.scrollTop||0)-(c&&c.clientTop||l&&l.clientTop||0)}return Ft(r.metaKey)&&(r.metaKey=!1),r},xy=function(e,t,r){var a=e.document,c={type:"ready"};if(r.domLoaded){t(c);return}var l=function(){return a.readyState==="complete"||a.readyState==="interactive"&&a.body},m=function(){ug(e,"DOMContentLoaded",m),ug(e,"load",m),r.domLoaded||(r.domLoaded=!0,t(c)),e=null};l()?m():Yh(e,"DOMContentLoaded",m),r.domLoaded||Yh(e,"load",m)},Pv=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=AC+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(t,r,a,c){var l=this,m,p,C,_,H,$,U,Z=window,ne=function(ie){l.executeHandlers(qf(ie||Z.event),m)};if(!(!t||t.nodeType===3||t.nodeType===8)){t[l.expando]?m=t[l.expando]:(m=l.count++,t[l.expando]=m,l.events[m]={}),c=c||t;var ae=r.split(" ");for(C=ae.length;C--;){if(_=ae[C],$=ne,H=U=!1,_==="DOMContentLoaded"&&(_="ready"),l.domLoaded&&_==="ready"&&t.readyState==="complete"){a.call(c,qf({type:_}));continue}l.hasMouseEnterLeave||(H=l.mouseEnterLeave[_],H&&($=function(ie){var ge=ie.currentTarget,ve=ie.relatedTarget;if(ve&&ge.contains)ve=ge.contains(ve);else for(;ve&&ve!==ge;)ve=ve.parentNode;ve||(ie=qf(ie||Z.event),ie.type=ie.type==="mouseout"?"mouseleave":"mouseenter",ie.target=ge,l.executeHandlers(ie,m))})),!l.hasFocusIn&&(_==="focusin"||_==="focusout")&&(U=!0,H=_==="focusin"?"focus":"blur",$=function(ie){ie=qf(ie||Z.event),ie.type=ie.type==="focus"?"focusin":"focusout",l.executeHandlers(ie,m)}),p=l.events[m][_],p?_==="ready"&&l.domLoaded?a(qf({type:_})):p.push({func:a,scope:c}):(l.events[m][_]=p=[{func:a,scope:c}],p.fakeName=H,p.capture=U,p.nativeHandler=$,_==="ready"?xy(t,$,l):Yh(t,H||_,$,U))}return t=p=null,a}},e.prototype.unbind=function(t,r,a){var c,l,m,p,C;if(!t||t.nodeType===3||t.nodeType===8)return this;var _=t[this.expando];if(_){if(C=this.events[_],r){var H=r.split(" ");for(l=H.length;l--;)if(p=H[l],c=C[p],c){if(a){for(m=c.length;m--;)if(c[m].func===a){var $=c.nativeHandler,U=c.fakeName,Z=c.capture;c=c.slice(0,m).concat(c.slice(m+1)),c.nativeHandler=$,c.fakeName=U,c.capture=Z,C[p]=c}}(!a||c.length===0)&&(delete C[p],ug(t,c.fakeName||p,c.nativeHandler,c.capture))}}else pn(C,function(ne,ae){ug(t,ne.fakeName||ae,ne.nativeHandler,ne.capture)}),C={};for(p in C)if(Un(C,p))return this;delete this.events[_];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},e.prototype.fire=function(t,r,a){var c;if(!t||t.nodeType===3||t.nodeType===8)return this;var l=qf({type:r,target:t},a);do c=t[this.expando],c&&this.executeHandlers(l,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!l.isPropagationStopped());return this},e.prototype.clean=function(t){var r,a;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),a=t.getElementsByTagName("*"),r=a.length;r--;)t=a[r],t[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,r){var a=this.events[r],c=a&&a[t.type];if(c)for(var l=0,m=c.length;l<m;l++){var p=c[l];if(p&&p.func.call(p.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Vi,Ho,cg,Sy,zv,Hc,$c,Ri,ja,pa,_i,Ro,Ba,ef,Fv,Id,Tt,Jh,ou="sizzle"+-new Date,kl=window.document,au=0,o0=0,a0=Tl(),ky=Tl(),Qh=Tl(),Ey=function(e,t){return e===t&&(pa=!0),0},Iv="undefined",Ty=1<<31,sg={}.hasOwnProperty,mo=[],bi=mo.pop,Lv=mo.push,Hv=mo.push,DC=mo.slice,Ld=mo.indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]===e)return t;return-1},Oy="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",qa="[\\x20\\t\\r\\n\\f]",Vc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Gf="\\["+qa+"*("+Vc+")(?:"+qa+"*([*^$|!~]?=)"+qa+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Vc+"))|)"+qa+"*\\]",i0=":("+Vc+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Gf+")*)|.*)\\)|)",Ps=new RegExp("^"+qa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qa+"+$","g"),Zk=new RegExp("^"+qa+"*,"+qa+"*"),e3=new RegExp("^"+qa+"*([>+~]|"+qa+")"+qa+"*"),Ay=new RegExp("="+qa+`*([^\\]'"]*?)`+qa+"*\\]","g"),u0=new RegExp(i0),Hd=new RegExp("^"+Vc+"$"),Zh={ID:new RegExp("^#("+Vc+")"),CLASS:new RegExp("^\\.("+Vc+")"),TAG:new RegExp("^("+Vc+"|[*])"),ATTR:new RegExp("^"+Gf),PSEUDO:new RegExp("^"+i0),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+qa+"*(even|odd|(([+-]|)(\\d*)n|)"+qa+"*(?:([+-]|)"+qa+"*(\\d+)|))"+qa+"*\\)|)","i"),bool:new RegExp("^(?:"+Oy+")$","i"),needsContext:new RegExp("^"+qa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+qa+"*((?:-\\d)?\\d*)"+qa+"*\\)|)(?=[^-]|$)","i")},RC=/^(?:input|select|textarea|button)$/i,ep=/^h\d$/i,Dy=/^[^{]+\{\s*\[native \w/,tp=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ry=/[+~]/,t3=/'|\\/g,El=new RegExp("\\\\([\\da-f]{1,6}"+qa+"?|("+qa+")|.)","ig"),$v=function(e,t,r){var a="0x"+t-65536;return a!==a||r?t:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Hv.apply(mo=DC.call(kl.childNodes),kl.childNodes),mo[kl.childNodes.length].nodeType}catch{Hv={apply:mo.length?function(t,r){Lv.apply(t,DC.call(r))}:function(t,r){for(var a=t.length,c=0;t[a++]=r[c++];);t.length=a-1}}}var xo=function(e,t,r,a){var c,l,m,p,C,_,H,$,U,Z;if((t?t.ownerDocument||t:kl)!==Ro&&_i(t),t=t||Ro,r=r||[],!e||typeof e!="string")return r;if((p=t.nodeType)!==1&&p!==9)return[];if(ef&&!a){if(c=tp.exec(e))if(m=c[1]){if(p===9)if(l=t.getElementById(m),l&&l.parentNode){if(l.id===m)return r.push(l),r}else return r;else if(t.ownerDocument&&(l=t.ownerDocument.getElementById(m))&&Jh(t,l)&&l.id===m)return r.push(l),r}else{if(c[2])return Hv.apply(r,t.getElementsByTagName(e)),r;if((m=c[3])&&Vi.getElementsByClassName)return Hv.apply(r,t.getElementsByClassName(m)),r}if(Vi.qsa&&(!Fv||!Fv.test(e))){if($=H=ou,U=t,Z=p===9&&e,p===1&&t.nodeName.toLowerCase()!=="object"){for(_=zv(e),(H=t.getAttribute("id"))?$=H.replace(t3,"\\$&"):t.setAttribute("id",$),$="[id='"+$+"'] ",C=_.length;C--;)_[C]=$+op(_[C]);U=Ry.test(e)&&rp(t.parentNode)||t,Z=_.join(",")}if(Z)try{return Hv.apply(r,U.querySelectorAll(Z)),r}catch{}finally{H||t.removeAttribute("id")}}}return $c(e.replace(Ps,"$1"),t,r,a)};function Tl(){var e=[];function t(r,a){return e.push(r+" ")>Ho.cacheLength&&delete t[e.shift()],t[r+" "]=a}return t}function ls(e){return e[ou]=!0,e}function _C(e,t){var r=t&&e,a=r&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||Ty)-(~e.sourceIndex||Ty);if(a)return a;if(r){for(;r=r.nextSibling;)if(r===t)return-1}return e?1:-1}function n3(e){return function(t){var r=t.nodeName.toLowerCase();return r==="input"&&t.type===e}}function np(e){return function(t){var r=t.nodeName.toLowerCase();return(r==="input"||r==="button")&&t.type===e}}function Kf(e){return ls(function(t){return t=+t,ls(function(r,a){for(var c,l=e([],r.length,t),m=l.length;m--;)r[c=l[m]]&&(r[c]=!(a[c]=r[c]))})})}function rp(e){return e&&typeof e.getElementsByTagName!==Iv&&e}Vi=xo.support={},Sy=xo.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},_i=xo.setDocument=function(e){var t,r=e?e.ownerDocument||e:kl,a=r.defaultView;function c(l){try{return l.top}catch{}return null}return r===Ro||r.nodeType!==9||!r.documentElement?Ro:(Ro=r,Ba=r.documentElement,ef=!Sy(r),a&&a!==c(a)&&(a.addEventListener?a.addEventListener("unload",function(){_i()},!1):a.attachEvent&&a.attachEvent("onunload",function(){_i()})),Vi.attributes=!0,Vi.getElementsByTagName=!0,Vi.getElementsByClassName=Dy.test(r.getElementsByClassName),Vi.getById=!0,Ho.find.ID=function(l,m){if(typeof m.getElementById!==Iv&&ef){var p=m.getElementById(l);return p&&p.parentNode?[p]:[]}},Ho.filter.ID=function(l){var m=l.replace(El,$v);return function(p){return p.getAttribute("id")===m}},Ho.find.TAG=Vi.getElementsByTagName?function(l,m){if(typeof m.getElementsByTagName!==Iv)return m.getElementsByTagName(l)}:function(l,m){var p,C=[],_=0,H=m.getElementsByTagName(l);if(l==="*"){for(;p=H[_++];)p.nodeType===1&&C.push(p);return C}return H},Ho.find.CLASS=Vi.getElementsByClassName&&function(l,m){if(ef)return m.getElementsByClassName(l)},Id=[],Fv=[],Vi.disconnectedMatch=!0,Fv=Fv.length&&new RegExp(Fv.join("|")),Id=Id.length&&new RegExp(Id.join("|")),t=Dy.test(Ba.compareDocumentPosition),Jh=t||Dy.test(Ba.contains)?function(l,m){var p=l.nodeType===9?l.documentElement:l,C=m&&m.parentNode;return l===C||!!(C&&C.nodeType===1&&(p.contains?p.contains(C):l.compareDocumentPosition&&l.compareDocumentPosition(C)&16))}:function(l,m){if(m){for(;m=m.parentNode;)if(m===l)return!0}return!1},Ey=t?function(l,m){if(l===m)return pa=!0,0;var p=!l.compareDocumentPosition-!m.compareDocumentPosition;return p||(p=(l.ownerDocument||l)===(m.ownerDocument||m)?l.compareDocumentPosition(m):1,p&1||!Vi.sortDetached&&m.compareDocumentPosition(l)===p?l===r||l.ownerDocument===kl&&Jh(kl,l)?-1:m===r||m.ownerDocument===kl&&Jh(kl,m)?1:ja?Ld.call(ja,l)-Ld.call(ja,m):0:p&4?-1:1)}:function(l,m){if(l===m)return pa=!0,0;var p,C=0,_=l.parentNode,H=m.parentNode,$=[l],U=[m];if(!_||!H)return l===r?-1:m===r?1:_?-1:H?1:ja?Ld.call(ja,l)-Ld.call(ja,m):0;if(_===H)return _C(l,m);for(p=l;p=p.parentNode;)$.unshift(p);for(p=m;p=p.parentNode;)U.unshift(p);for(;$[C]===U[C];)C++;return C?_C($[C],U[C]):$[C]===kl?-1:U[C]===kl?1:0},r)},xo.matches=function(e,t){return xo(e,null,null,t)},xo.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Ro&&_i(e),t=t.replace(Ay,"='$1']"),Vi.matchesSelector&&ef&&(!Id||!Id.test(t))&&(!Fv||!Fv.test(t)))try{var r=Tt.call(e,t);if(r||Vi.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch{}return xo(t,Ro,null,[e]).length>0},xo.contains=function(e,t){return(e.ownerDocument||e)!==Ro&&_i(e),Jh(e,t)},xo.attr=function(e,t){(e.ownerDocument||e)!==Ro&&_i(e);var r=Ho.attrHandle[t.toLowerCase()],a=r&&sg.call(Ho.attrHandle,t.toLowerCase())?r(e,t,!ef):void 0;return a!==void 0?a:Vi.attributes||!ef?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},xo.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},xo.uniqueSort=function(e){var t,r=[],a=0,c=0;if(pa=!Vi.detectDuplicates,ja=!Vi.sortStable&&e.slice(0),e.sort(Ey),pa){for(;t=e[c++];)t===e[c]&&(a=r.push(c));for(;a--;)e.splice(r[a],1)}return ja=null,e},cg=xo.getText=function(e){var t,r="",a=0,c=e.nodeType;if(c){if(c===1||c===9||c===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=cg(e)}else if(c===3||c===4)return e.nodeValue}else for(;t=e[a++];)r+=cg(t);return r},Ho=xo.selectors={cacheLength:50,createPseudo:ls,match:Zh,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(El,$v),e[3]=(e[3]||e[4]||e[5]||"").replace(El,$v),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||xo.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&xo.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return Zh.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&u0.test(r)&&(t=zv(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(El,$v).toLowerCase();return e==="*"?function(){return!0}:function(r){return r.nodeName&&r.nodeName.toLowerCase()===t}},CLASS:function(e){var t=a0[e+" "];return t||(t=new RegExp("(^|"+qa+")"+e+"("+qa+"|$)"))&&a0(e,function(r){return t.test(typeof r.className=="string"&&r.className||typeof r.getAttribute!==Iv&&r.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(a){var c=xo.attr(a,e);return c==null?t==="!=":t?(c+="",t==="="?c===r:t==="!="?c!==r:t==="^="?r&&c.indexOf(r)===0:t==="*="?r&&c.indexOf(r)>-1:t==="$="?r&&c.slice(-r.length)===r:t==="~="?(" "+c+" ").indexOf(r)>-1:t==="|="?c===r||c.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,r,a,c){var l=e.slice(0,3)!=="nth",m=e.slice(-4)!=="last",p=t==="of-type";return a===1&&c===0?function(C){return!!C.parentNode}:function(C,_,H){var $,U,Z,ne,ae,ie,ge=l!==m?"nextSibling":"previousSibling",ve=C.parentNode,De=p&&C.nodeName.toLowerCase(),Ee=!H&&!p;if(ve){if(l){for(;ge;){for(Z=C;Z=Z[ge];)if(p?Z.nodeName.toLowerCase()===De:Z.nodeType===1)return!1;ie=ge=e==="only"&&!ie&&"nextSibling"}return!0}if(ie=[m?ve.firstChild:ve.lastChild],m&&Ee){for(U=ve[ou]||(ve[ou]={}),$=U[e]||[],ae=$[0]===au&&$[1],ne=$[0]===au&&$[2],Z=ae&&ve.childNodes[ae];Z=++ae&&Z&&Z[ge]||(ne=ae=0)||ie.pop();)if(Z.nodeType===1&&++ne&&Z===C){U[e]=[au,ae,ne];break}}else if(Ee&&($=(C[ou]||(C[ou]={}))[e])&&$[0]===au)ne=$[1];else for(;(Z=++ae&&Z&&Z[ge]||(ne=ae=0)||ie.pop())&&!((p?Z.nodeName.toLowerCase()===De:Z.nodeType===1)&&++ne&&(Ee&&((Z[ou]||(Z[ou]={}))[e]=[au,ne]),Z===C)););return ne-=c,ne===a||ne%a===0&&ne/a>=0}}},PSEUDO:function(e,t){var r,a=Ho.pseudos[e]||Ho.setFilters[e.toLowerCase()]||xo.error("unsupported pseudo: "+e);return a[ou]?a(t):a.length>1?(r=[e,e,"",t],Ho.setFilters.hasOwnProperty(e.toLowerCase())?ls(function(c,l){for(var m,p=a(c,t),C=p.length;C--;)m=Ld.call(c,p[C]),c[m]=!(l[m]=p[C])}):function(c){return a(c,0,r)}):a}},pseudos:{not:ls(function(e){var t=[],r=[],a=Hc(e.replace(Ps,"$1"));return a[ou]?ls(function(c,l,m,p){for(var C,_=a(c,null,p,[]),H=c.length;H--;)(C=_[H])&&(c[H]=!(l[H]=C))}):function(c,l,m){return t[0]=c,a(t,null,m,r),t[0]=null,!r.pop()}}),has:ls(function(e){return function(t){return xo(e,t).length>0}}),contains:ls(function(e){return e=e.replace(El,$v),function(t){return(t.textContent||t.innerText||cg(t)).indexOf(e)>-1}}),lang:ls(function(e){return Hd.test(e||"")||xo.error("unsupported lang: "+e),e=e.replace(El,$v).toLowerCase(),function(t){var r;do if(r=ef?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||r.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Ba},focus:function(e){return e===Ro.activeElement&&(!Ro.hasFocus||Ro.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Ho.pseudos.empty(e)},header:function(e){return ep.test(e.nodeName)},input:function(e){return RC.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:Kf(function(){return[0]}),last:Kf(function(e,t){return[t-1]}),eq:Kf(function(e,t,r){return[r<0?r+t:r]}),even:Kf(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:Kf(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:Kf(function(e,t,r){for(var a=r<0?r+t:r;--a>=0;)e.push(a);return e}),gt:Kf(function(e,t,r){for(var a=r<0?r+t:r;++a<t;)e.push(a);return e})}},Ho.pseudos.nth=Ho.pseudos.eq,tt(["radio","checkbox","file","password","image"],function(e){Ho.pseudos[e]=n3(e)}),tt(["submit","reset"],function(e){Ho.pseudos[e]=np(e)});function lg(){}lg.prototype=Ho.filters=Ho.pseudos,Ho.setFilters=new lg,zv=xo.tokenize=function(e,t){var r,a,c,l,m,p,C,_=ky[e+" "];if(_)return t?0:_.slice(0);for(m=e,p=[],C=Ho.preFilter;m;){(!r||(a=Zk.exec(m)))&&(a&&(m=m.slice(a[0].length)||m),p.push(c=[])),r=!1,(a=e3.exec(m))&&(r=a.shift(),c.push({value:r,type:a[0].replace(Ps," ")}),m=m.slice(r.length));for(l in Ho.filter)!Ho.filter.hasOwnProperty(l)||(a=Zh[l].exec(m))&&(!C[l]||(a=C[l](a)))&&(r=a.shift(),c.push({value:r,type:l,matches:a}),m=m.slice(r.length));if(!r)break}return t?m.length:m?xo.error(e):ky(e,p).slice(0)};function op(e){for(var t=0,r=e.length,a="";t<r;t++)a+=e[t].value;return a}function ap(e,t,r){var a=t.dir,c=r&&a==="parentNode",l=o0++;return t.first?function(m,p,C){for(;m=m[a];)if(m.nodeType===1||c)return e(m,p,C)}:function(m,p,C){var _,H,$=[au,l];if(C){for(;m=m[a];)if((m.nodeType===1||c)&&e(m,p,C))return!0}else for(;m=m[a];)if(m.nodeType===1||c){if(H=m[ou]||(m[ou]={}),(_=H[a])&&_[0]===au&&_[1]===l)return $[2]=_[2];if(H[a]=$,$[2]=e(m,p,C))return!0}}}function fg(e){return e.length>1?function(t,r,a){for(var c=e.length;c--;)if(!e[c](t,r,a))return!1;return!0}:e[0]}function BC(e,t,r){for(var a=0,c=t.length;a<c;a++)xo(e,t[a],r);return r}function ip(e,t,r,a,c){for(var l,m=[],p=0,C=e.length,_=t!=null;p<C;p++)(l=e[p])&&(!r||r(l,a,c))&&(m.push(l),_&&t.push(p));return m}function c0(e,t,r,a,c,l){return a&&!a[ou]&&(a=c0(a)),c&&!c[ou]&&(c=c0(c,l)),ls(function(m,p,C,_){var H,$,U,Z=[],ne=[],ae=p.length,ie=m||BC(t||"*",C.nodeType?[C]:C,[]),ge=e&&(m||!t)?ip(ie,Z,e,C,_):ie,ve=r?c||(m?e:ae||a)?[]:p:ge;if(r&&r(ge,ve,C,_),a)for(H=ip(ve,ne),a(H,[],C,_),$=H.length;$--;)(U=H[$])&&(ve[ne[$]]=!(ge[ne[$]]=U));if(m){if(c||e){if(c){for(H=[],$=ve.length;$--;)(U=ve[$])&&H.push(ge[$]=U);c(null,ve=[],H,_)}for($=ve.length;$--;)(U=ve[$])&&(H=c?Ld.call(m,U):Z[$])>-1&&(m[H]=!(p[H]=U))}}else ve=ip(ve===p?ve.splice(ae,ve.length):ve),c?c(null,p,ve,_):Hv.apply(p,ve)})}function $d(e){for(var t,r,a,c=e.length,l=Ho.relative[e[0].type],m=l||Ho.relative[" "],p=l?1:0,C=ap(function($){return $===t},m,!0),_=ap(function($){return Ld.call(t,$)>-1},m,!0),H=[function($,U,Z){var ne=!l&&(Z||U!==Ri)||((t=U).nodeType?C($,U,Z):_($,U,Z));return t=null,ne}];p<c;p++)if(r=Ho.relative[e[p].type])H=[ap(fg(H),r)];else{if(r=Ho.filter[e[p].type].apply(null,e[p].matches),r[ou]){for(a=++p;a<c&&!Ho.relative[e[a].type];a++);return c0(p>1&&fg(H),p>1&&op(e.slice(0,p-1).concat({value:e[p-2].type===" "?"*":""})).replace(Ps,"$1"),r,p<a&&$d(e.slice(p,a)),a<c&&$d(e=e.slice(a)),a<c&&op(e))}H.push(r)}return fg(H)}function up(e,t){var r=t.length>0,a=e.length>0,c=function(l,m,p,C,_){var H,$,U,Z=0,ne="0",ae=l&&[],ie=[],ge=Ri,ve=l||a&&Ho.find.TAG("*",_),De=au+=ge==null?1:Math.random()||.1,Ee=ve.length;for(_&&(Ri=m!==Ro&&m);ne!==Ee&&(H=ve[ne])!=null;ne++){if(a&&H){for($=0;U=e[$++];)if(U(H,m,p)){C.push(H);break}_&&(au=De)}r&&((H=!U&&H)&&Z--,l&&ae.push(H))}if(Z+=ne,r&&ne!==Z){for($=0;U=t[$++];)U(ae,ie,m,p);if(l){if(Z>0)for(;ne--;)ae[ne]||ie[ne]||(ie[ne]=bi.call(C));ie=ip(ie)}Hv.apply(C,ie),_&&!l&&ie.length>0&&Z+t.length>1&&xo.uniqueSort(C)}return _&&(au=De,Ri=ge),ae};return r?ls(c):c}Hc=xo.compile=function(e,t){var r,a=[],c=[],l=Qh[e+" "];if(!l){for(t||(t=zv(e)),r=t.length;r--;)l=$d(t[r]),l[ou]?a.push(l):c.push(l);l=Qh(e,up(c,a)),l.selector=e}return l},$c=xo.select=function(e,t,r,a){var c,l,m,p,C,_=typeof e=="function"&&e,H=!a&&zv(e=_.selector||e);if(r=r||[],H.length===1){if(l=H[0]=H[0].slice(0),l.length>2&&(m=l[0]).type==="ID"&&Vi.getById&&t.nodeType===9&&ef&&Ho.relative[l[1].type]){if(t=(Ho.find.ID(m.matches[0].replace(El,$v),t)||[])[0],t)_&&(t=t.parentNode);else return r;e=e.slice(l.shift().value.length)}for(c=Zh.needsContext.test(e)?0:l.length;c--&&(m=l[c],!Ho.relative[p=m.type]);)if((C=Ho.find[p])&&(a=C(m.matches[0].replace(El,$v),Ry.test(l[0].type)&&rp(t.parentNode)||t))){if(l.splice(c,1),e=a.length&&op(l),!e)return Hv.apply(r,a),r;break}}return(_||Hc(e,H))(a,t,!ef,r,Ry.test(e)&&rp(t.parentNode)||t),r},Vi.sortStable=ou.split("").sort(Ey).join("")===ou,Vi.detectDuplicates=!!pa,_i(),Vi.sortDetached=!0;var _y=document,s0=Array.prototype.push,Vd=Array.prototype.slice,r3=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,cp=Pv.Event,By=je.makeMap("children,contents,next,prev"),Ud=function(e){return typeof e<"u"},l0=function(e){return typeof e=="string"},vg=function(e){return e&&e===e.window},dg=function(e,t){t=t||_y;var r=t.createElement("div"),a=t.createDocumentFragment();r.innerHTML=e;for(var c;c=r.firstChild;)a.appendChild(c);return a},tf=function(e,t,r,a){var c;if(l0(t))t=dg(t,Vv(e[0]));else if(t.length&&!t.nodeType){if(t=nr.makeArray(t),a)for(c=t.length-1;c>=0;c--)tf(e,t[c],r,a);else for(c=0;c<t.length;c++)tf(e,t[c],r,a);return e}if(t.nodeType)for(c=e.length;c--;)r.call(e[c],t);return e},Ny=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},NC=function(e,t,r){var a,c;return t=nr(t)[0],e.each(function(){var l=this;(!r||a!==l.parentNode)&&(a=l.parentNode,c=t.cloneNode(!1),l.parentNode.insertBefore(c,l)),c.appendChild(l)}),e},sc=je.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),MC=je.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),o3={for:"htmlFor",class:"className",readonly:"readOnly"},My={float:"cssFloat"},Wd={},sp={},Uc=function(e,t){return new nr.fn.init(e,t)},Py=function(e,t){var r;if(t.indexOf)return t.indexOf(e);for(r=t.length;r--;)if(t[r]===e)return r;return-1},f0=/^\s*|\s*$/g,fs=function(e){return e==null?"":(""+e).replace(f0,"")},Tc=function(e,t){var r,a,c,l;if(e)if(r=e.length,r===void 0){for(a in e)if(e.hasOwnProperty(a)&&(l=e[a],t.call(l,a,l)===!1))break}else for(c=0;c<r&&(l=e[c],t.call(l,c,l)!==!1);c++);return e},zy=function(e,t){var r=[];return Tc(e,function(a,c){t(c,a)&&r.push(c)}),r},Vv=function(e){return e?e.nodeType===9?e:e.ownerDocument:_y};Uc.fn=Uc.prototype={constructor:Uc,selector:"",context:null,length:0,init:function(e,t){var r=this,a,c;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return nr(e).attr(t);r.context=t=document}if(l0(e))if(r.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?a=[null,e,null]:a=r3.exec(e),a)if(a[1])for(c=dg(e,Vv(t)).firstChild;c;)s0.call(r,c),c=c.nextSibling;else{if(c=Vv(t).getElementById(a[2]),!c)return r;if(c.id!==a[2])return r.find(e);r.length=1,r[0]=c}else return nr(t).find(e);else this.add(e,!1);return r},toArray:function(){return je.toArray(this)},add:function(e,t){var r=this,a,c;if(l0(e))return r.add(nr(e));if(t!==!1)for(a=nr.unique(r.toArray().concat(nr.makeArray(e))),r.length=a.length,c=0;c<a.length;c++)r[c]=a[c];else s0.apply(r,nr.makeArray(e));return r},attr:function(e,t){var r=this,a;if(typeof e=="object")Tc(e,function(c,l){r.attr(c,l)});else if(Ud(t))this.each(function(){var c;if(this.nodeType===1){if(c=Wd[e],c&&c.set){c.set(this,t);return}t===null?this.removeAttribute(e,2):this.setAttribute(e,t,2)}});else{if(r[0]&&r[0].nodeType===1){if(a=Wd[e],a&&a.get)return a.get(r[0],e);if(MC[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),t===null&&(t=void 0)}return t}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var r=this;if(e=o3[e]||e,typeof e=="object")Tc(e,function(a,c){r.prop(a,c)});else if(Ud(t))this.each(function(){this.nodeType===1&&(this[e]=t)});else return r[0]&&r[0].nodeType&&e in r[0]?r[0][e]:t;return r},css:function(e,t){var r=this,a,c,l=function(p){return p.replace(/-(\D)/g,function(C,_){return _.toUpperCase()})},m=function(p){return p.replace(/[A-Z]/g,function(C){return"-"+C})};if(typeof e=="object")Tc(e,function(p,C){r.css(p,C)});else if(Ud(t))e=l(e),typeof t=="number"&&!sc[e]&&(t=t.toString()+"px"),r.each(function(){var p=this.style;if(c=sp[e],c&&c.set){c.set(this,t);return}try{this.style[My[e]||e]=t}catch{}(t===null||t==="")&&(p.removeProperty?p.removeProperty(m(e)):p.removeAttribute(e))});else{if(a=r[0],c=sp[e],c&&c.get)return c.get(a);if(a.ownerDocument.defaultView)try{return a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(m(e))}catch{return}else return a.currentStyle?a.currentStyle[l(e)]:""}return r},remove:function(){for(var e=this,t,r=this.length;r--;)t=e[r],cp.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,r=this.length;r--;)for(t=e[r];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,r;if(Ud(e)){r=t.length;try{for(;r--;)t[r].innerHTML=e}catch{nr(t[r]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,r;if(Ud(e)){for(r=t.length;r--;)"innerText"in t[r]?t[r].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return tf(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return tf(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?tf(e,arguments,function(t){this.parentNode.insertBefore(t,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?tf(e,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):e},appendTo:function(e){return nr(e).append(this),this},prependTo:function(e){return nr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return NC(this,e)},wrapAll:function(e){return NC(this,e,!0)},wrapInner:function(e){return this.each(function(){nr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){nr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),nr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var r=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Tc(e.split(" "),function(){r.toggleClass(this,t)}):r.each(function(a,c){var l=Ny(c,e);if(l!==t){var m=c.className;l?c.className=fs((" "+m+" ").replace(" "+e+" "," ")):c.className+=m?" "+e:e}})),r},hasClass:function(e){return Ny(this[0],e)},each:function(e){return Tc(this,e)},on:function(e,t){return this.each(function(){cp.bind(this,e,t)})},off:function(e,t){return this.each(function(){cp.unbind(this,e,t)})},trigger:function(e){return this.each(function(){typeof e=="object"?cp.fire(this,e.type,e):cp.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return nr(Vd.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,r,a=[];for(t=0,r=this.length;t<r;t++)nr.find(e,this[t],a);return nr(a)},filter:function(e){return nr(typeof e=="function"?zy(this.toArray(),function(t,r){return e(r,t)}):nr.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof nr&&(e=e[0]),this.each(function(r,a){for(;a;){if(typeof e=="string"&&nr(a).is(e)){t.push(a);break}else if(a===e){t.push(a);break}a=a.parentNode}}),nr(t)},offset:function(e){var t,r,a,c=0,l=0,m;return e?this.css(e):(t=this[0],t&&(r=t.ownerDocument,a=r.documentElement,t.getBoundingClientRect&&(m=t.getBoundingClientRect(),c=m.left+(a.scrollLeft||r.body.scrollLeft)-a.clientLeft,l=m.top+(a.scrollTop||r.body.scrollTop)-a.clientTop)),{left:c,top:l})},push:s0,sort:Array.prototype.sort,splice:Array.prototype.splice},je.extend(Uc,{extend:je.extend,makeArray:function(e){return vg(e)||e.nodeType?[e]:je.toArray(e)},inArray:Py,isArray:je.isArray,each:Tc,trim:fs,grep:zy,find:xo,expr:xo.selectors,unique:xo.uniqueSort,text:xo.getText,contains:xo.contains,filter:function(e,t,r){var a=t.length;for(r&&(e=":not("+e+")");a--;)t[a].nodeType!==1&&t.splice(a,1);return t.length===1?t=nr.find.matchesSelector(t[0],e)?[t[0]]:[]:t=nr.find.matches(e,t),t}});var Fy=function(e,t,r){var a=[],c=e[t];for(typeof r!="string"&&r instanceof nr&&(r=r[0]);c&&c.nodeType!==9&&!(r!==void 0&&(c===r||typeof r=="string"&&nr(c).is(r)));)c.nodeType===1&&a.push(c),c=c[t];return a},v0=function(e,t,r,a){var c=[];for(a instanceof nr&&(a=a[0]);e;e=e[t])if(!(r&&e.nodeType!==r)){if(a!==void 0&&(e===a||typeof a=="string"&&nr(e).is(a)))break;c.push(e)}return c},Iy=function(e,t,r){for(e=e[t];e;e=e[t])if(e.nodeType===r)return e;return null};Tc({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Fy(e,"parentNode")},next:function(e){return Iy(e,"nextSibling",1)},prev:function(e){return Iy(e,"previousSibling",1)},children:function(e){return v0(e.firstChild,"nextSibling",1)},contents:function(e){return je.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Uc.fn[e]=function(r){var a=this,c=[];a.each(function(){var m=t.call(c,this,r,c);m&&(nr.isArray(m)?c.push.apply(c,m):c.push(m))}),this.length>1&&(By[e]||(c=nr.unique(c)),e.indexOf("parents")===0&&(c=c.reverse()));var l=nr(c);return r?l.filter(r):l}}),Tc({parentsUntil:function(e,t){return Fy(e,"parentNode",t)},nextUntil:function(e,t){return v0(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return v0(e,"previousSibling",1,t).slice(1)}},function(e,t){Uc.fn[e]=function(r,a){var c=this,l=[];c.each(function(){var p=t.call(l,this,r,l);p&&(nr.isArray(p)?l.push.apply(l,p):l.push(p))}),this.length>1&&(l=nr.unique(l),(e.indexOf("parents")===0||e==="prevUntil")&&(l=l.reverse()));var m=nr(l);return a?m.filter(a):m}}),Uc.fn.is=function(e){return!!e&&this.filter(e).length>0},Uc.fn.init.prototype=Uc.fn,Uc.overrideDefaults=function(e){var t,r=function(a,c){return t=t||e(),arguments.length===0&&(a=t.element),c||(c=t.context),new r.fn.init(a,c)};return nr.extend(r,this),r},Uc.attrHooks=Wd,Uc.cssHooks=sp;var nr=Uc,mg=je.each,PC=je.grep,Xf=In.ie,zC=/^([a-z0-9],?)+$/i,Yf=function(e,t,r){var a=t.keep_values,c={set:function(m,p,C){t.url_converter&&p!==null&&(p=t.url_converter.call(t.url_converter_scope||r(),p,C,m[0])),m.attr("data-mce-"+C,p).attr(C,p)},get:function(m,p){return m.attr("data-mce-"+p)||m.attr(p)}},l={style:{set:function(m,p){if(p!==null&&typeof p=="object"){m.css(p);return}a&&m.attr("data-mce-style",p),p!==null&&typeof p=="string"?(m.removeAttr("style"),m.css(e.parse(p))):m.attr("style",p)},get:function(m){var p=m.attr("data-mce-style")||m.attr("style");return p=e.serialize(e.parse(p),m[0].nodeName),p}}};return a&&(l.href=l.src=c),l},Ly=function(e,t){var r=t.attr("style"),a=e.serialize(e.parse(r),t[0].nodeName);a||(a=null),t.attr("data-mce-style",a)},Uv=function(e,t){var r=0,a,c;if(e)for(a=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)c=e.nodeType,!(t&&c===3&&(c===a||!e.nodeValue.length))&&(r++,a=c);return r},Ko=function(e,t){t===void 0&&(t={});var r={},a=window,c={},l=0,m=!0,p=!0,C=Zm.forElement(k.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),_=[],H=t.schema?t.schema:Uf({}),$=Sl({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),U=t.ownEvents?new Pv:Pv.Event,Z=H.getBlockElements(),ne=nr.overrideDefaults(function(){return{context:e,element:dC.getRoot()}}),ae=function(we){if(typeof we=="string")return!!Z[we];if(we){var Ve=we.nodeType;if(Ve)return!!(Ve===1&&Z[we.nodeName])}return!1},ie=function(we){return we&&e&&Gt(we)?e.getElementById(we):we},ge=function(we){return ne(typeof we=="string"?ie(we):we)},ve=function(we,Ve,kt){var Ht,dr,go=ge(we);return go.length&&(Ht=d6[Ve],Ht&&Ht.get?dr=Ht.get(go,Ve):dr=go.attr(Ve)),typeof dr>"u"&&(dr=kt||""),dr},De=function(we){var Ve=ie(we);return Ve?Ve.attributes:[]},Ee=function(we,Ve,kt){kt===""&&(kt=null);var Ht=ge(we),dr=Ht.attr(Ve);if(!!Ht.length){var go=d6[Ve];go&&go.set?go.set(Ht,kt,Ve):Ht.attr(Ve,kt),dr!==kt&&t.onSetAttrib&&t.onSetAttrib({attrElm:Ht,attrName:Ve,attrValue:kt})}},pe=function(we,Ve){if(!Xf||we.nodeType!==1||Ve)return we.cloneNode(Ve);var kt=e.createElement(we.nodeName);return mg(De(we),function(Ht){Ee(kt,Ht.nodeName,ve(we,Ht.nodeName))}),kt},Be=function(){return t.root_element||e.body},Qe=function(we){var Ve=as(we);return{x:Ve.x,y:Ve.y,w:Ve.width,h:Ve.height}},mt=function(we,Ve){return un(e.body,ie(we),Ve)},Nn=function(we,Ve,kt){var Ht=Gt(Ve)?ge(we).css(Ve,kt):ge(we).css(Ve);t.update_styles&&Ly($,Ht)},Kt=function(we,Ve){var kt=ge(we).css(Ve);t.update_styles&&Ly($,kt)},rt=function(we,Ve,kt){var Ht=ge(we);return kt?Ht.css(Ve):(Ve=Ve.replace(/-(\D)/g,function(dr,go){return go.toUpperCase()}),Ve==="float"&&(Ve=In.browser.isIE()?"styleFloat":"cssFloat"),Ht[0]&&Ht[0].style?Ht[0].style[Ve]:void 0)},Rn=function(we){var Ve,kt;return we=ie(we),Ve=rt(we,"width"),kt=rt(we,"height"),Ve.indexOf("px")===-1&&(Ve=0),kt.indexOf("px")===-1&&(kt=0),{w:parseInt(Ve,10)||we.offsetWidth||we.clientWidth,h:parseInt(kt,10)||we.offsetHeight||we.clientHeight}},Dt=function(we){we=ie(we);var Ve=mt(we),kt=Rn(we);return{x:Ve.x,y:Ve.y,w:kt.w,h:kt.h}},qt=function(we,Ve){var kt;if(!we)return!1;if(!Array.isArray(we)){if(Ve==="*")return we.nodeType===1;if(zC.test(Ve)){var Ht=Ve.toLowerCase().split(/,/),dr=we.nodeName.toLowerCase();for(kt=Ht.length-1;kt>=0;kt--)if(Ht[kt]===dr)return!0;return!1}if(we.nodeType&&we.nodeType!==1)return!1}var go=Array.isArray(we)?we:[we];return xo(Ve,go[0].ownerDocument||go[0],null,go).length>0},St=function(we,Ve,kt,Ht){var dr=[],go,Ga=ie(we);for(Ht=Ht===void 0,kt=kt||(Be().nodeName!=="BODY"?Be().parentNode:null),je.is(Ve,"string")&&(go=Ve,Ve==="*"?Ve=function(ay){return ay.nodeType===1}:Ve=function(ay){return qt(ay,go)});Ga&&!(Ga===kt||Fn(Ga.nodeType)||Va(Ga)||Hf(Ga));){if(!Ve||typeof Ve=="function"&&Ve(Ga))if(Ht)dr.push(Ga);else return[Ga];Ga=Ga.parentNode}return Ht?dr:null},$t=function(we,Ve,kt){var Ht=St(we,Ve,kt,!1);return Ht&&Ht.length>0?Ht[0]:null},rn=function(we,Ve,kt){var Ht=Ve;if(we){for(typeof Ve=="string"&&(Ht=function(dr){return qt(dr,Ve)}),we=we[kt];we;we=we[kt])if(typeof Ht=="function"&&Ht(we))return we}return null},at=function(we,Ve){return rn(we,Ve,"nextSibling")},Xt=function(we,Ve){return rn(we,Ve,"previousSibling")},Ar=function(we,Ve){return xo(we,ie(Ve)||t.root_element||e,[])},so=function(we,Ve,kt){var Ht,dr=typeof we=="string"?ie(we):we;if(!dr)return!1;if(je.isArray(dr)&&(dr.length||dr.length===0))return Ht=[],mg(dr,function(Ga,ay){Ga&&Ht.push(Ve.call(kt,typeof Ga=="string"?ie(Ga):Ga,ay))}),Ht;var go=kt||this;return Ve.call(go,dr)},uo=function(we,Ve){ge(we).each(function(kt,Ht){mg(Ve,function(dr,go){Ee(Ht,go,dr)})})},Qu=function(we,Ve){var kt=ge(we);Xf?kt.each(function(Ht,dr){if(dr.canHaveHTML!==!1){for(;dr.firstChild;)dr.removeChild(dr.firstChild);try{dr.innerHTML="<br>"+Ve,dr.removeChild(dr.firstChild)}catch{nr("<div></div>").html("<br>"+Ve).contents().slice(1).appendTo(dr)}return Ve}}):kt.html(Ve)},ni=function(we,Ve,kt,Ht,dr){return so(we,function(go){var Ga=typeof Ve=="string"?e.createElement(Ve):Ve;return uo(Ga,kt),Ht&&(typeof Ht!="string"&&Ht.nodeType?Ga.appendChild(Ht):typeof Ht=="string"&&Qu(Ga,Ht)),dr?Ga:go.appendChild(Ga)})},hs=function(we,Ve,kt){return ni(e.createElement(we),we,Ve,kt,!0)},Vl=Zs.decode,ct=Zs.encodeAllRaw,Bt=function(we,Ve,kt){var Ht="",dr;Ht+="<"+we;for(dr in Ve)gt(Ve,dr)&&(Ht+=" "+dr+'="'+ct(Ve[dr])+'"');return typeof kt<"u"?Ht+">"+kt+"</"+we+">":Ht+" />"},gn=function(we){var Ve,kt=e.createElement("div"),Ht=e.createDocumentFragment();for(Ht.appendChild(kt),we&&(kt.innerHTML=we);Ve=kt.firstChild;)Ht.appendChild(Ve);return Ht.removeChild(kt),Ht},Fe=function(we,Ve){var kt=ge(we);return Ve?kt.each(function(){for(var Ht;Ht=this.firstChild;)Ht.nodeType===3&&Ht.data.length===0?this.removeChild(Ht):this.parentNode.insertBefore(Ht,this)}).remove():kt.remove(),kt.length>1?kt.toArray():kt[0]},bt=function(we){return so(we,function(Ve){var kt,Ht=Ve.attributes;for(kt=Ht.length-1;kt>=0;kt--)Ve.removeAttributeNode(Ht.item(kt))})},st=function(we){return $.parse(we)},yn=function(we,Ve){return $.serialize(we,Ve)},_n=function(we){var Ve,kt;if(dC!==Ko.DOM&&e===document){if(r[we])return;r[we]=!0}kt=e.getElementById("mceDefaultStyles"),kt||(kt=e.createElement("style"),kt.id="mceDefaultStyles",kt.type="text/css",Ve=e.getElementsByTagName("head")[0],Ve.firstChild?Ve.insertBefore(kt,Ve.firstChild):Ve.appendChild(kt)),kt.styleSheet?kt.styleSheet.cssText+=we:kt.appendChild(e.createTextNode(we))},Yo=function(we){we||(we=""),tt(we.split(","),function(Ve){c[Ve]=!0,C.load(Ve,en)})},zu=function(we,Ve,kt){ge(we).toggleClass(Ve,kt).each(function(){this.className===""&&nr(this).attr("class",null)})},wu=function(we,Ve){ge(we).addClass(Ve)},M1=function(we,Ve){zu(we,Ve,!1)},ps=function(we,Ve){return ge(we).hasClass(Ve)},qs=function(we){ge(we).show()},Fu=function(we){ge(we).hide()},Mf=function(we){return ge(we).css("display")==="none"},Gs=function(we){return(we||"mce_")+l++},Ah=function(we){var Ve=typeof we=="string"?ie(we):we;return Ln(Ve)?Ve.outerHTML:nr("<div></div>").append(nr(Ve).clone()).html()},ta=function(we,Ve){ge(we).each(function(){try{if("outerHTML"in this){this.outerHTML=Ve;return}}catch{}Fe(nr(this).html(Ve),!0)})},wa=function(we,Ve){var kt=ie(Ve);return so(we,function(Ht){var dr=kt.parentNode,go=kt.nextSibling;return go?dr.insertBefore(Ht,go):dr.appendChild(Ht),Ht})},Iu=function(we,Ve,kt){return so(Ve,function(Ht){return je.is(Ht,"array")&&(we=we.cloneNode(!0)),kt&&mg(PC(Ht.childNodes),function(dr){we.appendChild(dr)}),Ht.parentNode.replaceChild(we,Ht)})},qm=function(we,Ve){var kt;return we.nodeName!==Ve.toUpperCase()&&(kt=hs(Ve),mg(De(we),function(Ht){Ee(kt,Ht.nodeName,ve(we,Ht.nodeName))}),Iu(kt,we,!0)),kt||we},Gm=function(we,Ve){for(var kt=we,Ht;kt;){for(Ht=Ve;Ht&&kt!==Ht;)Ht=Ht.parentNode;if(kt===Ht)break;kt=kt.parentNode}return!kt&&we.ownerDocument?we.ownerDocument.documentElement:kt},Km=function(we){return $.toHex(je.trim(we))},oy=function(we){if(Ln(we)){var Ve=we.nodeName.toLowerCase()==="a"&&!ve(we,"href")&&ve(we,"id");if(ve(we,"name")||ve(we,"data-mce-bookmark")||Ve)return!0}return!1},oB=function(we,Ve){var kt,Ht,dr=0;if(oy(we))return!1;if(we=we.firstChild,we){var go=new li(we,we.parentNode),Ga=H?H.getWhiteSpaceElements():{};Ve=Ve||(H?H.getNonEmptyElements():null);do{if(kt=we.nodeType,Ln(we)){var ay=we.getAttribute("data-mce-bogus");if(ay){we=go.next(ay==="all");continue}if(Ht=we.nodeName.toLowerCase(),Ve&&Ve[Ht]){if(Ht==="br"){dr++,we=go.next();continue}return!1}if(oy(we))return!1}if(kt===8||kt===3&&!mu(we.nodeValue)||kt===3&&we.parentNode&&Ga[we.parentNode.nodeName]&&mu(we.nodeValue))return!1;we=go.next()}while(we)}return dr<=1},aB=function(){return e.createRange()},K8=function(we,Ve,kt){var Ht=aB(),dr,go,Ga;if(we&&Ve)return Ht.setStart(we.parentNode,Uv(we)),Ht.setEnd(Ve.parentNode,Uv(Ve)),dr=Ht.extractContents(),Ht=aB(),Ht.setStart(Ve.parentNode,Uv(Ve)+1),Ht.setEnd(we.parentNode,Uv(we)+1),go=Ht.extractContents(),Ga=we.parentNode,Ga.insertBefore(J1(dC,dr),we),kt?Ga.insertBefore(kt,we):Ga.insertBefore(Ve,we),Ga.insertBefore(J1(dC,go),we),Fe(we),kt||Ve},l6=function(we,Ve,kt,Ht){if(je.isArray(we)){for(var dr=we.length,go=[];dr--;)go[dr]=l6(we[dr],Ve,kt,Ht);return go}t.collect&&(we===e||we===a)&&_.push([we,Ve,kt,Ht]);var Ga=U.bind(we,Ve,kt,Ht||dC);return Ga},f6=function(we,Ve,kt){if(je.isArray(we)){for(var Ht=we.length,dr=[];Ht--;)dr[Ht]=f6(we[Ht],Ve,kt);return dr}else{if(_.length>0&&(we===e||we===a))for(var Ht=_.length;Ht--;){var go=_[Ht];we===go[0]&&(!Ve||Ve===go[1])&&(!kt||kt===go[2])&&U.unbind(go[0],go[1],go[2])}return U.unbind(we,Ve,kt)}},X8=function(we,Ve,kt){return U.fire(we,Ve,kt)},v6=function(we){if(we&&Ln(we)){var Ve=we.getAttribute("data-mce-contenteditable");return Ve&&Ve!=="inherit"?Ve:we.contentEditable!=="inherit"?we.contentEditable:null}else return null},Y8=function(we){for(var Ve=Be(),kt=null;we&&we!==Ve&&(kt=v6(we),kt===null);we=we.parentNode);return kt},J8=function(){if(_.length>0)for(var we=_.length;we--;){var Ve=_[we];U.unbind(Ve[0],Ve[1],Ve[2])}pn(c,function(kt,Ht){C.unload(Ht),delete c[Ht]}),xo.setDocument&&xo.setDocument()},Q8=function(we,Ve){if(Xf){for(;we;){if(Ve===we)return!0;we=we.parentNode}return!1}else return we===Ve||Ve.contains(we)},Z8=function(we){return"startContainer: "+we.startContainer.nodeName+", startOffset: "+we.startOffset+", endContainer: "+we.endContainer.nodeName+", endOffset: "+we.endOffset},dC={doc:e,settings:t,win:a,files:c,stdMode:m,boxModel:p,styleSheetLoader:C,boundEvents:_,styles:$,schema:H,events:U,isBlock:ae,$:ne,$$:ge,root:null,clone:pe,getRoot:Be,getViewPort:Qe,getRect:Dt,getSize:Rn,getParent:$t,getParents:St,get:ie,getNext:at,getPrev:Xt,select:Ar,is:qt,add:ni,create:hs,createHTML:Bt,createFragment:gn,remove:Fe,setStyle:Nn,getStyle:rt,setStyles:Kt,removeAllAttribs:bt,setAttrib:Ee,setAttribs:uo,getAttrib:ve,getPos:mt,parseStyle:st,serializeStyle:yn,addStyle:_n,loadCSS:Yo,addClass:wu,removeClass:M1,hasClass:ps,toggleClass:zu,show:qs,hide:Fu,isHidden:Mf,uniqueId:Gs,setHTML:Qu,getOuterHTML:Ah,setOuterHTML:ta,decode:Vl,encode:ct,insertAfter:wa,replace:Iu,rename:qm,findCommonAncestor:Gm,toHex:Km,run:so,getAttribs:De,isEmpty:oB,createRng:aB,nodeIndex:Uv,split:K8,bind:l6,unbind:f6,fire:X8,getContentEditable:v6,getContentEditableParent:Y8,destroy:J8,isChildOf:Q8,dumpRng:Z8},d6=Yf($,t,oe(dC));return dC};Ko.DOM=Ko(document),Ko.nodeIndex=Uv;var FC=Ko.DOM,d0=je.each,IC=je.grep,LC=0,m0=1,jd=2,g0=3,nf=function(){function e(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(t,r,a){var c=FC,l,m=function(){c.remove(_),l&&(l.onerror=l.onload=l=null)},p=function(){m(),r()},C=function(){m(),Wt(a)?a():typeof console<"u"&&console.log&&console.log("Failed to load script: "+t)},_=c.uniqueId();l=document.createElement("script"),l.id=_,l.type="text/javascript",l.src=je._addCacheSuffix(t),this.settings.referrerPolicy&&c.setAttrib(l,"referrerpolicy",this.settings.referrerPolicy),l.onload=p,l.onerror=C,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)},e.prototype.isDone=function(t){return this.states[t]===jd},e.prototype.markDone=function(t){this.states[t]=jd},e.prototype.add=function(t,r,a,c){var l=this.states[t];this.queue.push(t),l===void 0&&(this.states[t]=LC),r&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:r,failure:c,scope:a||this}))},e.prototype.load=function(t,r,a,c){return this.add(t,r,a,c)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,r,a){this.loadScripts(this.queue,t,r,a)},e.prototype.loadScripts=function(t,r,a,c){var l=this,m=[],p=function(_,H){d0(l.scriptLoadedCallbacks[H],function($){Wt($[_])&&$[_].call($.scope)}),l.scriptLoadedCallbacks[H]=void 0};l.queueLoadedCallbacks.push({success:r,failure:c,scope:a||this});var C=function(){var _=IC(t);if(t.length=0,d0(_,function($){if(l.states[$]===jd){p("success",$);return}if(l.states[$]===g0){p("failure",$);return}l.states[$]!==m0&&(l.states[$]=m0,l.loading++,l.loadScript($,function(){l.states[$]=jd,l.loading--,p("success",$),C()},function(){l.states[$]=g0,l.loading--,m.push($),p("failure",$),C()}))}),!l.loading){var H=l.queueLoadedCallbacks.slice(0);l.queueLoadedCallbacks.length=0,d0(H,function($){m.length===0?Wt($.success)&&$.success.call($.scope):Wt($.failure)&&$.failure.call($.scope,m)})}};C()},e.ScriptLoader=new e,e}(),Wu=function(e){var t=e,r=function(){return t},a=function(c){t=c};return{get:r,set:a}},HC=function(e){return yt(e)&&Un(e,"raw")},$C=function(e){return hn(e)&&e.length>1},ea={},Jf=Wu("en"),yi=function(){return _r(ea,Jf.get())},Hy=function(){return Yt(ea,function(e){return Jt({},e)})},VC=function(e){e&&Jf.set(e)},lp=function(){return Jf.get()},h0=function(e,t){var r=ea[e];r||(ea[e]=r={}),pn(t,function(a,c){r[c.toLowerCase()]=a})},$y=function(e){var t=yi().getOr({}),r=function(C){return Wt(C)?Object.prototype.toString.call(C):a(C)?"":""+C},a=function(C){return C===""||C===null||C===void 0},c=function(C){var _=r(C);return _r(t,_.toLowerCase()).map(r).getOr(_)},l=function(C){return C.replace(/{context:\w+}$/,"")};if(a(e))return"";if(HC(e))return r(e.raw);if($C(e)){var m=e.slice(1),p=c(e[0]).replace(/\{([0-9]+)\}/g,function(C,_){return Un(m,_)?r(m[_]):C});return l(p)}return l(c(e))},Vy=function(){return yi().bind(function(e){return _r(e,"_dir")}).exists(function(e){return e==="rtl"})},Ol=function(e){return Un(ea,e)},el={getData:Hy,setCode:VC,getCode:lp,add:h0,translate:$y,isRtl:Vy,hasCode:Ol},Wc=function(){var e=[],t={},r={},a=[],c=function(ae,ie){var ge=tn(a,function(ve){return ve.name===ae&&ve.state===ie});tt(ge,function(ve){return ve.callback()})},l=function(ae){if(r[ae])return r[ae].instance},m=function(ae){var ie;return r[ae]&&(ie=r[ae].dependencies),ie||[]},p=function(ae,ie){Wc.languageLoad!==!1&&ne(ae,function(){var ge=el.getCode(),ve=","+(ie||"")+",";!ge||ie&&ve.indexOf(","+ge+",")===-1||nf.ScriptLoader.add(t[ae]+"/langs/"+ge+".js")},"loaded")},C=function(ae,ie,ge){var ve=ie;return e.push(ve),r[ae]={instance:ve,dependencies:ge},c(ae,"added"),ve},_=function(ae){delete t[ae],delete r[ae]},H=function(ae,ie){return typeof ie=="object"?ie:typeof ae=="string"?{prefix:"",resource:ie,suffix:""}:{prefix:ae.prefix,resource:ie,suffix:ae.suffix}},$=function(ae,ie){var ge=t[ae];tt(ie,function(ve){nf.ScriptLoader.add(ge+"/"+ve)})},U=function(ae,ie,ge,ve){var De=m(ae);tt(De,function(Ee){var pe=H(ie,Ee);Z(pe.resource,pe,void 0,void 0)}),ge&&(ve?ge.call(ve):ge.call(nf))},Z=function(ae,ie,ge,ve,De){if(!t[ae]){var Ee=typeof ie=="string"?ie:ie.prefix+ie.resource+ie.suffix;Ee.indexOf("/")!==0&&Ee.indexOf("://")===-1&&(Ee=Wc.baseURL+"/"+Ee),t[ae]=Ee.substring(0,Ee.lastIndexOf("/"));var pe=function(){c(ae,"loaded"),U(ae,ie,ge,ve)};r[ae]?pe():nf.ScriptLoader.add(Ee,pe,ve,De)}},ne=function(ae,ie,ge){ge===void 0&&(ge="added"),Un(r,ae)&&ge==="added"||Un(t,ae)&&ge==="loaded"?ie():a.push({name:ae,state:ge,callback:ie})};return{items:e,urls:t,lookup:r,_listeners:a,get:l,dependencies:m,requireLangPack:p,add:C,remove:_,createUrl:H,addComponents:$,load:Z,waitFor:ne}};Wc.languageLoad=!0,Wc.baseURL="",Wc.PluginManager=Wc(),Wc.ThemeManager=Wc();var fp=function(e){var t=Wu(ee.none()),r=function(){return t.get().each(e)},a=function(){r(),t.set(ee.none())},c=function(){return t.get().isSome()},l=function(){return t.get()},m=function(p){r(),t.set(ee.some(p))};return{clear:a,isSet:c,get:l,set:m}},Qf=function(){var e=fp(en),t=function(r){return e.get().each(r)};return Jt(Jt({},e),{on:t})},po=function(e,t){var r=null,a=function(){Dr(r)||(clearTimeout(r),r=null)},c=function(){for(var l=[],m=0;m<arguments.length;m++)l[m]=arguments[m];Dr(r)&&(r=setTimeout(function(){r=null,e.apply(null,l)},t))};return{cancel:a,throttle:c}},tl=function(e,t){var r=null,a=function(){Dr(r)||(clearTimeout(r),r=null)},c=function(){for(var l=[],m=0;m<arguments.length;m++)l[m]=arguments[m];a(),r=setTimeout(function(){r=null,e.apply(null,l)},t)};return{cancel:a,throttle:c}},p0=function(e,t){var r=V(e,t);return r===void 0||r===""?[]:r.split(" ")},UC=function(e,t,r){var a=p0(e,t),c=a.concat([r]);return O(e,t,c.join(" ")),!0},WC=function(e,t,r){var a=tn(p0(e,t),function(c){return c!==r});return a.length>0?O(e,t,a.join(" ")):ht(e,t),!1},gg=function(e){return e.dom.classList!==void 0},jC=function(e){return p0(e,"class")},Uy=function(e,t){return UC(e,"class",t)},qC=function(e,t){return WC(e,"class",t)},qd=function(e,t){gg(e)?e.dom.classList.add(t):Uy(e,t)},Oc=function(e){var t=gg(e)?e.dom.classList:jC(e);t.length===0&&ht(e,"class")},ju=function(e,t){if(gg(e)){var r=e.dom.classList;r.remove(t)}else qC(e,t);Oc(e)},Gd=function(e,t){return gg(e)&&e.dom.classList.contains(t)},hg=function(e,t){var r=[];return tt(Hu(e),function(a){t(a)&&(r=r.concat([a])),r=r.concat(hg(a,t))}),r},lc=function(e,t){return Wn(t,e)},b0=oe("mce-annotation"),pg=oe("data-mce-annotation"),Wv=oe("data-mce-annotation-uid"),vp=function(e,t){var r=e.selection.getRng(),a=k.fromDom(r.startContainer),c=k.fromDom(e.getBody()),l=t.fold(function(){return"."+b0()},function(_){return"["+pg()+'="'+_+'"]'}),m=Xs(a,r.startOffset).getOr(a),p=Oi(m,l,function(_){return cn(_,c)}),C=function(_,H){return Te(_,H)?ee.some(V(_,H)):ee.none()};return p.bind(function(_){return C(_,""+Wv()).bind(function(H){return C(_,""+pg()).map(function($){var U=KC(e,H);return{uid:H,name:$,elements:U}})})})},GC=function(e){return Mc(e)&&Gd(e,b0())},KC=function(e,t){var r=k.fromDom(e.getBody());return lc(r,"["+Wv()+'="'+t+'"]')},XC=function(e,t){var r=k.fromDom(e.getBody()),a=lc(r,"["+pg()+'="'+t+'"]'),c={};return tt(a,function(l){var m=V(l,Wv()),p=_r(c,m).getOr([]);c[m]=p.concat([l])}),c},a3=function(e,t){var r=Wu({}),a=function(){return{listeners:[],previous:Qf()}},c=function(H,$){l(H,function(U){return $(U),U})},l=function(H,$){var U=r.get(),Z=_r(U,H).getOrThunk(a),ne=$(Z);U[H]=ne,r.set(U)},m=function(H,$,U){c(H,function(Z){tt(Z.listeners,function(ne){return ne(!0,H,{uid:$,nodes:Vt(U,function(ae){return ae.dom})})})})},p=function(H){c(H,function($){tt($.listeners,function(U){return U(!1,H)})})},C=tl(function(){var H=r.get(),$=Ao(Xa(H));tt($,function(U){l(U,function(Z){var ne=Z.previous.get();return vp(e,ee.some(U)).fold(function(){ne.isSome()&&(p(U),Z.previous.clear())},function(ae){var ie=ae.uid,ge=ae.name,ve=ae.elements;zc(ne,ie)||(m(ge,ie,ve),Z.previous.set(ie))}),{previous:Z.previous,listeners:Z.listeners}})})},30);e.on("remove",function(){C.cancel()}),e.on("NodeChange",function(){C.throttle()});var _=function(H,$){l(H,function(U){return{previous:U.previous,listeners:U.listeners.concat([$])}})};return{addListener:_}},Er=function(e,t){var r=function(a){return ee.from(a.attr(pg())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(a){tt(a,function(c){r(c).each(function(l){l.persistent===!1&&c.unwrap()})})})})},zs=function(){var e={},t=function(a,c){e[a]={name:a,settings:c}},r=function(a){return _r(e,a).map(function(c){return c.settings})};return{register:t,lookup:r}},jv=0,YC=function(e){var t=new Date,r=t.getTime(),a=Math.floor(Math.random()*1e9);return jv++,e+"_"+a+jv+String(r)},Fr=function(e,t){tt(t,function(r){qd(e,r)})},JC=function(e,t){var r=t||document,a=r.createElement("div");return a.innerHTML=e,Hu(k.fromDom(a))},Kd=function(e){return Vt(e,k.fromDom)},Wy=function(e){return e.dom.innerHTML},jy=function(e,t){var r=ns(e),a=r.dom,c=k.fromDom(a.createDocumentFragment()),l=JC(t,a);oo(c,l),Es(e),jn(e,c)},qy=function(e,t){return k.fromDom(e.dom.cloneNode(t))},Xd=function(e){return qy(e,!1)},y0=function(e){return qy(e,!0)},Gy=function(e,t,r){r===void 0&&(r=Je);var a=new li(e,t),c=function(l){var m;do m=a[l]();while(m&&!jt(m)&&!r(m));return ee.from(m).filter(jt)};return{current:function(){return ee.from(a.current()).filter(jt)},next:function(){return c("next")},prev:function(){return c("prev")},prev2:function(){return c("prev2")}}},Ky=function(e,t){var r=t||function(m){return e.isBlock(m)||Ua(m)||Co(m)},a=function(m,p,C,_){if(jt(m)){var H=_(m,p,m.data);if(H!==-1)return ee.some({container:m,offset:H})}return C().bind(function($){return a($.container,$.offset,C,_)})},c=function(m,p,C,_){var H=Gy(m,_,r);return a(m,p,function(){return H.prev().map(function($){return{container:$,offset:$.length}})},C).getOrNull()},l=function(m,p,C,_){var H=Gy(m,_,r);return a(m,p,function(){return H.next().map(function($){return{container:$,offset:0}})},C).getOrNull()};return{backwards:c,forwards:l}},Yd=Math.round,rf=function(e){return e?{left:Yd(e.left),top:Yd(e.top),bottom:Yd(e.bottom),right:Yd(e.right),width:Yd(e.width),height:Yd(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},w0=function(e,t){return e=rf(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},dp=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},C0=function(e,t,r){return e>=0&&e<=Math.min(t.height,r.height)/2},Jd=function(e,t){var r=Math.min(t.height/2,e.height/2);return e.bottom-r<t.top?!0:e.top>t.bottom?!1:C0(t.top-e.bottom,e,t)},bg=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:C0(t.bottom-e.top,e,t)},QC=function(e,t,r){return t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom},Fs=function(e,t,r){return Math.min(Math.max(e,t),r)},Qd=function(e){var t=e.startContainer,r=e.startOffset;return t.hasChildNodes()&&e.endOffset===r+1?t.childNodes[r]:null},Na=function(e,t){if(Ln(e)&&e.hasChildNodes()){var r=e.childNodes,a=Fs(t,0,r.length-1);return r[a]}else return e},i3=function(e,t){if(!(t<0&&Ln(e)&&e.hasChildNodes()))return Na(e,t)},u3=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),mp=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&u3.test(e)},fc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){for(var a=0;a<e.length;a++)if(e[a](r))return!0;return!1}},x0=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){for(var a=0;a<e.length;a++)if(!e[a](r))return!1;return!0}},gp=Ln,ZC=du,S0=oc("display","block table"),Xy=oc("float","left right"),yg=x0(gp,ZC,la(Xy)),Tr=la(oc("white-space","pre pre-line pre-wrap")),Is=jt,of=Ua,wg=Ko.nodeIndex,k0=i3,Yy=function(e){return"createRange"in e?e.createRange():Ko.DOM.createRng()},hp=function(e){return e&&/[\r\n\t ]/.test(e)},E0=function(e){return!!e.setStart&&!!e.setEnd},Zf=function(e){var t=e.startContainer,r=e.startOffset;if(hp(e.toString())&&Tr(t.parentNode)&&jt(t)){var a=t.data;if(hp(a[r-1])||hp(a[r+1]))return!0}return!1},c3=function(e){var t=e.ownerDocument,r=Yy(t),a=t.createTextNode(cc),c=e.parentNode;c.insertBefore(a,e),r.setStart(a,0),r.setEnd(a,1);var l=rf(r.getBoundingClientRect());return c.removeChild(a),l},s3=function(e){var t=e.startContainer,r=e.endContainer,a=e.startOffset,c=e.endOffset;if(t===r&&jt(r)&&a===0&&c===1){var l=e.cloneRange();return l.setEndAfter(r),jc(l)}else return null},Pt=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},jc=function(e){var t,r=e.getClientRects();return r.length>0?t=rf(r[0]):t=rf(e.getBoundingClientRect()),!E0(e)&&of(e)&&Pt(t)?c3(e):Pt(t)&&E0(e)?s3(e):t},nl=function(e,t){var r=w0(e,t);return r.width=1,r.right=r.left+1,r},T0=function(e){var t=[],r=function(C){C.height!==0&&(t.length>0&&dp(C,t[t.length-1])||t.push(C))},a=function(C,_){var H=Yy(C.ownerDocument);if(_<C.data.length){if(mp(C.data[_]))return t;if(mp(C.data[_-1])&&(H.setStart(C,_),H.setEnd(C,_+1),!Zf(H)))return r(nl(jc(H),!1)),t}_>0&&(H.setStart(C,_-1),H.setEnd(C,_),Zf(H)||r(nl(jc(H),!1))),_<C.data.length&&(H.setStart(C,_),H.setEnd(C,_+1),Zf(H)||r(nl(jc(H),!0)))},c=e.container(),l=e.offset();if(Is(c))return a(c,l),t;if(gp(c))if(e.isAtEnd()){var m=k0(c,l);Is(m)&&a(m,m.data.length),yg(m)&&!of(m)&&r(nl(jc(m),!1))}else{var m=k0(c,l);if(Is(m)&&a(m,0),yg(m)&&e.isAtEnd())return r(nl(jc(m),!1)),t;var p=k0(e.container(),e.offset()-1);yg(p)&&!of(p)&&(S0(p)||S0(m)||!yg(m))&&r(nl(jc(p),!1)),yg(m)&&r(nl(jc(m),!0))}return t},He=function(e,t,r){var a=function(){return Is(e),t===0},c=function(){return Is(e)?t>=e.data.length:t>=e.childNodes.length},l=function(){var H=Yy(e.ownerDocument);return H.setStart(e,t),H.setEnd(e,t),H},m=function(){return r||(r=T0(He(e,t))),r},p=function(){return m().length>0},C=function(H){return H&&e===H.container()&&t===H.offset()},_=function(H){return k0(e,H?t-1:t)};return{container:oe(e),offset:oe(t),toRange:l,getClientRects:m,isVisible:p,isAtStart:a,isAtEnd:c,isEqual:C,getNode:_}};He.fromRangeStart=function(e){return He(e.startContainer,e.startOffset)},He.fromRangeEnd=function(e){return He(e.endContainer,e.endOffset)},He.after=function(e){return He(e.parentNode,wg(e)+1)},He.before=function(e){return He(e.parentNode,wg(e))},He.isAbove=function(e,t){return $u(Vo(t.getClientRects()),Ta(e.getClientRects()),Jd).getOr(!1)},He.isBelow=function(e,t){return $u(Ta(t.getClientRects()),Vo(e.getClientRects()),bg).getOr(!1)},He.isAtStart=function(e){return e?e.isAtStart():!1},He.isAtEnd=function(e){return e?e.isAtEnd():!1},He.isTextPosition=function(e){return e?jt(e.container()):!1},He.isElementPosition=function(e){return He.isTextPosition(e)===!1};var ev=function(e,t){jt(t)&&t.data.length===0&&e.remove(t)},pp=function(e,t,r){t.insertNode(r),ev(e,r.previousSibling),ev(e,r.nextSibling)},l3=function(e,t,r){var a=ee.from(r.firstChild),c=ee.from(r.lastChild);t.insertNode(r),a.each(function(l){return ev(e,l.previousSibling)}),c.each(function(l){return ev(e,l.nextSibling)})},O0=function(e,t,r){Hf(r)?l3(e,t,r):pp(e,t,r)},qc=jt,Zd=Ja,bp=Ko.nodeIndex,Cg=function(e){var t=e.parentNode;return Zd(t)?Cg(t):t},xg=function(e){return e?ki(e.childNodes,function(t,r){return Zd(r)&&r.nodeName!=="BR"?t=t.concat(xg(r)):t.push(r),t},[]):[]},f3=function(e,t){for(;(e=e.previousSibling)&&qc(e);)t+=e.data.length;return t},Sg=function(e){return function(t){return e===t}},yp=function(e){var t,r;t=xg(Cg(e)),r=or(t,Sg(e),e),t=t.slice(0,r+1);var a=ki(t,function(c,l,m){return qc(l)&&qc(t[m-1])&&c++,c},0);return t=oi(t,us([e.nodeName])),r=or(t,Sg(e),e),r-a},Jy=function(e){var t;return qc(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+yp(e)+"]"},A0=function(e,t,r){var a=[];for(t=t.parentNode;t!==e&&!(r&&r(t));t=t.parentNode)a.push(t);return a},ex=function(e,t){var r,a,c=[],l,m,p;return r=t.container(),a=t.offset(),qc(r)?l=f3(r,a):(m=r.childNodes,a>=m.length?(l="after",a=m.length-1):l="before",r=m[a]),c.push(Jy(r)),p=A0(e,r),p=oi(p,la(Ja)),c=c.concat(ra(p,function(C){return Jy(C)})),c.reverse().join("/")+","+l},v3=function(e,t,r){var a=xg(e);return a=oi(a,function(c,l){return!qc(c)||!qc(a[l-1])}),a=oi(a,us([t])),a[r]},Ru=function(e,t){for(var r=e,a=0,c;qc(r);){if(c=r.data.length,t>=a&&t<=a+c){e=r,t=t-a;break}if(!qc(r.nextSibling)){e=r,t=c;break}a+=c,r=r.nextSibling}return qc(e)&&t>e.data.length&&(t=e.data.length),He(e,t)},vc=function(e,t){var r;if(!t)return null;var a=t.split(","),c=a[0].split("/");r=a.length>1?a[1]:"before";var l=ki(c,function(m,p){var C=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(p);return C?(C[1]==="text()"&&(C[1]="#text"),v3(m,C[1],parseInt(C[2],10))):null},e);return l?qc(l)?Ru(l,parseInt(r,10)):(r==="after"?r=bp(l)+1:r=bp(l),He(l.parentNode,r)):null},Ac=Co,wp=function(e,t,r){var a,c;for(c=e(t.data.slice(0,r)).length,a=t.previousSibling;a&&jt(a);a=a.previousSibling)c+=e(a.data).length;return c},D0=function(e,t,r,a,c){var l=a[c?"startContainer":"endContainer"],m=a[c?"startOffset":"endOffset"],p=[],C,_=0,H=e.getRoot();for(jt(l)?p.push(r?wp(t,l,m):m):(C=l.childNodes,m>=C.length&&C.length&&(_=1,m=Math.max(0,C.length-1)),p.push(e.nodeIndex(C[m],r)+_));l&&l!==H;l=l.parentNode)p.push(e.nodeIndex(l,r));return p},d3=function(e,t,r,a){var c=t.dom,l={};return l.start=D0(c,e,r,a,!0),t.isCollapsed()||(l.end=D0(c,e,r,a,!1)),wC(a)&&(l.isFakeCaret=!0),l},Qy=function(e,t,r){var a=0;return je.each(e.select(t),function(c){if(c.getAttribute("data-mce-bogus")!=="all"){if(c===r)return!1;a++}}),a},tx=function(e,t){var r,a,c,l=t?"start":"end";r=e[l+"Container"],a=e[l+"Offset"],Ln(r)&&r.nodeName==="TR"&&(c=r.childNodes,r=c[Math.min(t?a:a-1,c.length-1)],r&&(a=t?0:r.childNodes.length,e["set"+(t?"Start":"End")](r,a)))},Cp=function(e){return tx(e,!0),tx(e,!1),e},Zy=function(e,t){var r;if(Ln(e)&&(e=Na(e,t),Ac(e)))return e;if(Vu(e)&&(jt(e)&&Ic(e)&&(e=e.parentNode),r=e.previousSibling,Ac(r)||(r=e.nextSibling,Ac(r))))return r},m3=function(e){return Zy(e.startContainer,e.startOffset)||Zy(e.endContainer,e.endOffset)},kg=function(e,t,r){var a=r.getNode(),c=a?a.nodeName:null,l=r.getRng();if(Ac(a)||c==="IMG")return{name:c,index:Qy(r.dom,c,a)};var m=m3(l);return m?(c=m.tagName,{name:c,index:Qy(r.dom,c,m)}):d3(e,r,t,l)},wr=function(e){var t=e.getRng();return{start:ex(e.dom.getRoot(),He.fromRangeStart(t)),end:ex(e.dom.getRoot(),He.fromRangeEnd(t))}},nx=function(e){return{rng:e.getRng()}},xp=function(e,t,r){var a={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return r?e.create("span",a,"&#xFEFF;"):e.create("span",a)},R0=function(e,t){var r=e.dom,a=e.getRng(),c=r.uniqueId(),l=e.isCollapsed(),m=e.getNode(),p=m.nodeName;if(p==="IMG")return{name:p,index:Qy(r,p,m)};var C=Cp(a.cloneRange());if(!l){C.collapse(!1);var _=xp(r,c+"_end",t);O0(r,C,_)}a=Cp(a),a.collapse(!0);var H=xp(r,c+"_start",t);return O0(r,a,H),e.moveToBookmark({id:c,keep:!0}),{id:c}},g3=function(e,t,r){return t===2?kg(Yl,r,e):t===3?wr(e):t?nx(e):R0(e,!1)},rx=Ct(kg,ho,!0),bn=Ko.DOM,_0="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Ur=function(e,t,r){var a=e.getParam(t,r);if(a.indexOf("=")!==-1){var c=e.getParam(t,"","hash");return _r(c,e.id).getOr(r)}else return a},h3=function(e){return e.getParam("iframe_attrs",{})},tv=function(e){return e.getParam("doctype","<!DOCTYPE html>")},rl=function(e){return e.getParam("document_base_url","")},B0=function(e){return Ur(e,"body_id","tinymce")},Gc=function(e){return Ur(e,"body_class","")},em=function(e){return e.getParam("content_security_policy","")},tm=function(e){return e.getParam("br_in_pre",!0)},Ui=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t===!0?"p":t},Al=function(e){return e.getParam("forced_root_block_attrs",{})},Eg=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},nm=function(e){return e.getParam("no_newline_selector","")},ox=function(e){return e.getParam("keep_styles",!0)},nv=function(e){return e.getParam("end_container_on_empty_block",!1)},af=function(e){return je.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},e2=function(e){return je.explode(e.getParam("font_size_classes",""))},ax=function(e){return e.getParam("images_dataimg_filter",zt,"function")},t2=function(e){return e.getParam("automatic_uploads",!0,"boolean")},n2=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},r2=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},N0=function(e){return e.getParam("icons","","string")},o2=function(e){return e.getParam("icons_url","","string")},ix=function(e){return e.getParam("images_upload_url","","string")},ux=function(e){return e.getParam("images_upload_base_path","","string")},Tg=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},cx=function(e){return e.getParam("images_upload_handler",null,"function")},Sp=function(e){return e.getParam("content_css_cors",!1,"boolean")},M0=function(e){return e.getParam("referrer_policy","","string")},rm=function(e){return e.getParam("language","en","string")},iu=function(e){return e.getParam("language_url","","string")},kp=function(e){return e.getParam("indent_use_margin",!1)},Ep=function(e){return e.getParam("indentation","40px","string")},p3=function(e){var t=e.getParam("content_css");return Gt(t)?Vt(t.split(","),It):hn(t)?t:t===!1||e.inline?[]:["default"]},a2=function(e){var t=e.getParam("font_css",[]);return hn(t)?t:Vt(t.split(","),It)},Dl=function(e){return e.getParam("directionality",el.isRtl()?"rtl":void 0)},uf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},sx=function(e){var t=e.getParam("object_resizing");return t===!1||In.iOS?!1:Gt(t)?t:"table,img,figure.image,div,video,iframe"},Tp=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},i2=function(e){return e.getParam("placeholder",bn.getAttrib(e.getElement(),"placeholder"),"string")},P0=function(e){return e.getParam("event_root")},lx=function(e){return e.getParam("service_message")},om=function(e){return e.getParam("theme")},b3=function(e){return e.getParam("validate")},qv=function(e){return e.getParam("inline_boundaries")!==!1},fx=function(e){return e.getParam("formats")},Og=function(e){var t=e.getParam("preview_styles",_0);return Gt(t)?t:""},Ag=function(e){return e.getParam("format_empty_lines",!1,"boolean")},vx=function(e){return e.getParam("custom_ui_selector","","string")},z0=function(e){return e.getParam("theme_url")},dx=function(e){return e.getParam("inline")},u2=function(e){return e.getParam("hidden_input")},rr=function(e){return e.getParam("submit_patch")},F0=function(e){return e.getParam("encoding")==="xml"},mx=function(e){return e.getParam("add_form_submit_trigger")},gx=function(e){return e.getParam("add_unload_trigger")},hx=function(e){return Ui(e)!==""},Dg=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},px=function(e){return e.getParam("disable_nodechange")},bx=function(e){return e.getParam("readonly")},yx=function(e){return e.getParam("content_css_cors")},am=function(e){return e.getParam("plugins","","string")},wx=function(e){return e.getParam("external_plugins")},c2=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},s2=function(e){return e.getParam("visual",!0,"boolean")},l2=function(e){return e.getParam("visual_table_class","mce-item-table","string")},I0=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Cx=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Op=Ln,Ap=jt,Rg=function(e){var t=e.parentNode;t&&t.removeChild(e)},_g=function(e){var t=Yl(e);return{count:e.length-t.length,text:t}},f2=function(e){for(var t;(t=e.data.lastIndexOf(fi))!==-1;)e.deleteData(t,1)},L0=function(e,t){return cf(e),t},y3=function(e,t){var r=_g(e.data.substr(0,t.offset())),a=_g(e.data.substr(t.offset())),c=r.text+a.text;return c.length>0?(f2(e),He(e,t.offset()-r.count)):t},xx=function(e,t){var r=t.container(),a=it(N(r.childNodes),e).map(function(c){return c<t.offset()?He(r,t.offset()-1):t}).getOr(t);return cf(e),a},Sx=function(e,t){return Ap(e)&&t.container()===e?y3(e,t):L0(e,t)},w3=function(e,t){return t.container()===e.parentNode?xx(e,t):L0(e,t)},Zr=function(e,t){return He.isTextPosition(t)?Sx(e,t):w3(e,t)},cf=function(e){Op(e)&&Vu(e)&&(_v(e)?e.removeAttribute("data-mce-caret"):Rg(e)),Ap(e)&&(f2(e),e.data.length===0&&Rg(e))},im=an().browser,v2=Co,kx=Zo,H0=Wa,Ex="*[contentEditable=false],video,audio,embed,object",Ls=function(e,t,r){var a=w0(t.getBoundingClientRect(),r),c,l;if(e.tagName==="BODY"){var m=e.ownerDocument.documentElement;c=e.scrollLeft||m.scrollLeft,l=e.scrollTop||m.scrollTop}else{var p=e.getBoundingClientRect();c=e.scrollLeft-p.left,l=e.scrollTop-p.top}a.left+=c,a.right+=c,a.top+=l,a.bottom+=l,a.width=1;var C=t.offsetWidth-t.clientWidth;return C>0&&(r&&(C*=-1),a.left+=C,a.right+=C),a},Gv=function(e){for(var t=lc(k.fromDom(e),Ex),r=0;r<t.length;r++){var a=t[r].dom,c=a.previousSibling;if($h(c)){var l=c.data;l.length===1?c.parentNode.removeChild(c):c.deleteData(l.length-1,1)}if(c=a.nextSibling,Hh(c)){var l=c.data;l.length===1?c.parentNode.removeChild(c):c.deleteData(0,1)}}},d2=function(e,t,r,a){var c=Qf(),l,m,p=Ui(e),C=p.length>0?p:"p",_=function(ae,ie){var ge;if(H(),H0(ie))return null;if(r(ie)){m=Jl(C,ie,ae);var ve=Ls(t,ie,ae);nr(m).css("top",ve.top);var De=nr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Jt({},ve)).appendTo(t)[0];c.set({caret:De,element:ie,before:ae}),ae&&nr(De).addClass("mce-visual-caret-before"),$(),ge=ie.ownerDocument.createRange(),ge.setStart(m,0),ge.setEnd(m,0)}else return m=Uo(ie,ae),ge=ie.ownerDocument.createRange(),Bg(m.nextSibling)?(ge.setStart(m,0),ge.setEnd(m,0)):(ge.setStart(m,1),ge.setEnd(m,1)),ge;return ge},H=function(){Gv(t),m&&(cf(m),m=null),c.on(function(ae){nr(ae.caret).remove(),c.clear()}),l&&(si.clearInterval(l),l=void 0)},$=function(){l=si.setInterval(function(){a()?nr("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):nr("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},U=function(){c.on(function(ae){var ie=Ls(t,ae.element,ae.before);nr(ae.caret).css(Jt({},ie))})},Z=function(){return si.clearInterval(l)},ne=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:_,hide:H,getCss:ne,reposition:U,destroy:Z}},$0=function(){return im.isIE()||im.isEdge()||im.isFirefox()},Bg=function(e){return v2(e)||kx(e)},um=function(e){return Bg(e)||Ys(e)&&$0()},m2=Co,C3=Zo,g2=oc("display","block table table-cell table-caption list-item"),h2=Vu,dc=Ic,Dp=Ln,Tx=du,cm=function(e){return e>0},sm=function(e){return e<0},Ng=function(e,t){for(var r;r=e(t);)if(!dc(r))return r;return null},Kv=function(e,t,r,a,c){var l=new li(e,a),m=m2(e)||dc(e);if(sm(t)){if(m&&(e=Ng(l.prev.bind(l),!0),r(e)))return e;for(;e=Ng(l.prev.bind(l),c);)if(r(e))return e}if(cm(t)){if(m&&(e=Ng(l.next.bind(l),!0),r(e)))return e;for(;e=Ng(l.next.bind(l),c);)if(r(e))return e}return null},Xv=function(e,t){for(;e&&e!==t;){if(g2(e))return e;e=e.parentNode}return null},sf=function(e,t,r){return Xv(e.container(),r)===Xv(t.container(),r)},p2=function(e,t){if(!t)return null;var r=t.container(),a=t.offset();return Dp(r)?r.childNodes[a+e]:null},b2=function(e,t){var r=t.ownerDocument.createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},y2=function(e,t,r){return Xv(t,e)===Xv(r,e)},Mg=function(e,t,r){for(var a=e?"previousSibling":"nextSibling";r&&r!==t;){var c=r[a];if(h2(c)&&(c=c[a]),m2(c)||C3(c)){if(y2(t,c,r))return c;break}if(Tx(c))break;r=r.parentNode}return null},Rp=Ct(b2,!0),_p=Ct(b2,!1),qu=function(e,t,r){var a,c=Ct(Mg,!0,t),l=Ct(Mg,!1,t),m=r.startContainer,p=r.startOffset;if(Ic(m)){Dp(m)||(m=m.parentNode);var C=m.getAttribute("data-mce-caret");if(C==="before"&&(a=m.nextSibling,um(a)))return Rp(a);if(C==="after"&&(a=m.previousSibling,um(a)))return _p(a)}if(!r.collapsed)return r;if(jt(m)){if(h2(m)){if(e===1){if(a=l(m),a)return Rp(a);if(a=c(m),a)return _p(a)}if(e===-1){if(a=c(m),a)return _p(a);if(a=l(m),a)return Rp(a)}return r}if($h(m)&&p>=m.data.length-1)return e===1&&(a=l(m),a)?Rp(a):r;if(Hh(m)&&p<=1)return e===-1&&(a=c(m),a)?_p(a):r;if(p===m.data.length)return a=l(m),a?Rp(a):r;if(p===0)return a=c(m),a?_p(a):r}return r},Bp=function(e,t){return ee.from(p2(e?0:-1,t)).filter(m2)},Np=function(e,t,r){var a=qu(e,t,r);return e===-1?He.fromRangeStart(a):He.fromRangeEnd(a)},V0=function(e){return ee.from(e.getNode()).map(k.fromDom)},x3=function(e){return ee.from(e.getNode(!0)).map(k.fromDom)},w2=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},U0=function(e,t){var r=sf(e,t);return!r&&Ua(e.getNode())?!0:r},hu;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(hu||(hu={}));var S3=Co,lf=jt,W0=Ln,C2=Ua,Pg=du,Ox=my,j0=Uh,k3=function(e,t){for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r},Sn=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Mp=function(e,t){if(cm(e)){if(Pg(t.previousSibling)&&!lf(t.previousSibling))return He.before(t);if(lf(t))return He(t,0)}if(sm(e)){if(Pg(t.nextSibling)&&!lf(t.nextSibling))return He.after(t);if(lf(t))return He(t,t.data.length)}return sm(e)?C2(t)?He.before(t):He.after(t):He.before(t)},qn=function(e,t){var r=t.nextSibling;return r&&Pg(r)?lf(r)?He(r,0):He.before(r):zg(hu.Forwards,He.after(t),e)},zg=function(e,t,r){var a,c,l,m;if(!W0(r)||!t)return null;if(t.isEqual(He.after(r))&&r.lastChild){if(m=He.after(r.lastChild),sm(e)&&Pg(r.lastChild)&&W0(r.lastChild))return C2(r.lastChild)?He.before(r.lastChild):m}else m=t;var p=m.container(),C=m.offset();if(lf(p)){if(sm(e)&&C>0)return He(p,--C);if(cm(e)&&C<p.length)return He(p,++C);a=p}else{if(sm(e)&&C>0&&(c=Sn(p,C-1),Pg(c)))return!Ox(c)&&(l=Kv(c,e,j0,c),l)?lf(l)?He(l,l.data.length):He.after(l):lf(c)?He(c,c.data.length):He.before(c);if(cm(e)&&C<p.childNodes.length&&(c=Sn(p,C),Pg(c)))return C2(c)?qn(r,c):!Ox(c)&&(l=Kv(c,e,j0,c),l)?lf(l)?He(l,0):He.before(l):lf(c)?He(c,0):He.after(c);a=c||m.getNode()}if((cm(e)&&m.isAtEnd()||sm(e)&&m.isAtStart())&&(a=Kv(a,e,zt,r,!0),j0(a,r)))return Mp(e,a);c=Kv(a,e,j0,r);var _=Oa(tn(k3(p,r),S3));return _&&(!c||!_.contains(c))?(cm(e)?m=He.after(_):m=He.before(_),m):c?Mp(e,c):null},Rl=function(e){return{next:function(t){return zg(hu.Forwards,t,e)},prev:function(t){return zg(hu.Backwards,t,e)}}},Hn=function(e,t,r){var a=e?He.before(r):He.after(r);return Kc(e,t,a)},E3=function(e){return Ua(e)?He.before(e):He.after(e)},Ax=function(e){return He.isTextPosition(e)?e.offset()===0:du(e.getNode())},Br=function(e){if(He.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else return du(e.getNode(!0))},x2=function(e,t){return!He.isTextPosition(e)&&!He.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Dx=function(e){return!He.isTextPosition(e)&&Ua(e.getNode())},q0=function(e,t,r){return e?!x2(t,r)&&!Dx(t)&&Br(t)&&Ax(r):!x2(r,t)&&Ax(t)&&Br(r)},Kc=function(e,t,r){var a=Rl(t);return ee.from(e?a.next(r):a.prev(r))},Pp=function(e,t,r){return Kc(e,t,r).bind(function(a){return sf(r,a,t)&&q0(e,r,a)?Kc(e,t,a):ee.some(a)})},S2=function(e,t,r,a){return Pp(e,t,r).bind(function(c){return a(c)?S2(e,t,c,a):ee.some(c)})},rv=function(e,t){var r=e?t.firstChild:t.lastChild;return jt(r)?ee.some(He(r,e?0:r.data.length)):r?du(r)?ee.some(e?He.before(r):E3(r)):Hn(e,t,r):ee.none()},vs=Ct(Kc,!0),ff=Ct(Kc,!1),mc=Ct(rv,!0),ol=Ct(rv,!1),Fg="_mce_caret",gc=function(e){return Ln(e)&&e.id===Fg},Yv=function(e,t){for(;t&&t!==e;){if(t.id===Fg)return t;t=t.parentNode}return null},T3=function(e){return Gt(e.start)},O3=function(e){return Un(e,"rng")},A3=function(e){return Un(e,"id")},lm=function(e){return Un(e,"name")},ca=function(e){return je.isArray(e.start)},ov=function(e,t){return Ln(t)&&e.isBlock(t)&&!t.innerHTML&&!In.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},_l=function(e,t){var r,a=e.createRng();return r=vc(e.getRoot(),t.start),a.setStart(r.container(),r.offset()),r=vc(e.getRoot(),t.end),a.setEnd(r.container(),r.offset()),a},Ig=function(e,t){var r=e.ownerDocument.createTextNode(fi);e.appendChild(r),t.setStart(r,0),t.setEnd(r,0)},Jv=function(e){return e.hasChildNodes()===!1},hc=function(e,t){return ol(e).fold(Je,function(r){return t.setStart(r.container(),r.offset()),t.setEnd(r.container(),r.offset()),!0})},al=function(e,t,r){return Jv(t)&&Yv(e,t)?(Ig(t,r),!0):!1},Rx=function(e,t,r,a){var c=r[t?"start":"end"],l,m,p,C,_=e.getRoot();if(c){for(p=c[0],m=_,l=c.length-1;l>=1;l--){if(C=m.childNodes,al(_,m,a))return!0;if(c[l]>C.length-1)return al(_,m,a)?!0:hc(m,a);m=C[c[l]]}m.nodeType===3&&(p=Math.min(c[0],m.nodeValue.length)),m.nodeType===1&&(p=Math.min(c[0],m.childNodes.length)),t?a.setStart(m,p):a.setEnd(m,p)}return!0},G0=function(e){return jt(e)&&e.data.length>0},_x=function(e,t,r){var a=e.get(r.id+"_"+t),c,l,m,p,C=r.keep,_,H;if(a){if(c=a.parentNode,t==="start"?(C?a.hasChildNodes()?(c=a.firstChild,l=1):G0(a.nextSibling)?(c=a.nextSibling,l=0):G0(a.previousSibling)?(c=a.previousSibling,l=a.previousSibling.data.length):(c=a.parentNode,l=e.nodeIndex(a)+1):l=e.nodeIndex(a),_=c,H=l):(C?a.hasChildNodes()?(c=a.firstChild,l=1):G0(a.previousSibling)?(c=a.previousSibling,l=a.previousSibling.data.length):(c=a.parentNode,l=e.nodeIndex(a)):l=e.nodeIndex(a),_=c,H=l),!C){for(p=a.previousSibling,m=a.nextSibling,je.each(je.grep(a.childNodes),function($){jt($)&&($.nodeValue=$.nodeValue.replace(/\uFEFF/g,""))});a=e.get(r.id+"_"+t);)e.remove(a,!0);p&&m&&p.nodeType===m.nodeType&&jt(p)&&!In.opera&&(l=p.nodeValue.length,p.appendData(m.nodeValue),e.remove(m),_=p,H=l)}return ee.some(He(_,H))}else return ee.none()},k2=function(e,t){var r=e.createRng();return Rx(e,!0,t,r)&&Rx(e,!1,t,r)?ee.some(r):ee.none()},E2=function(e,t){var r=_x(e,"start",t),a=_x(e,"end",t);return $u(r,a.or(r),function(c,l){var m=e.createRng();return m.setStart(ov(e,c.container()),c.offset()),m.setEnd(ov(e,l.container()),l.offset()),m})},Bx=function(e,t){return ee.from(e.select(t.name)[t.index]).map(function(r){var a=e.createRng();return a.selectNode(r),a})},D3=function(e,t){var r=e.dom;if(t){if(ca(t))return k2(r,t);if(T3(t))return ee.some(_l(r,t));if(A3(t))return E2(r,t);if(lm(t))return Bx(r,t);if(O3(t))return ee.some(t.rng)}return ee.none()},Nx=function(e,t,r){return g3(e,t,r)},Mx=function(e,t){D3(e,t).each(function(r){e.setRng(r)})},Dc=function(e){return Ln(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},T2=function(e){return function(t){return e===t}},fm=T2(cc),vm=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},K0=function(e){return!vm(e)&&!fm(e)},zp=function(e){return!!e.nodeType},Px=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Fp=function(e,t,r){var a=r.startOffset,c=r.startContainer;if(!(c===r.endContainer&&Px(c.childNodes[a]))&&Ln(c)){var l=c.childNodes,m=void 0;a<l.length?(c=l[a],m=new li(c,e.getParent(c,e.isBlock))):(c=l[l.length-1],m=new li(c,e.getParent(c,e.isBlock)),m.next(!0));for(var p=m.current();p;p=m.next())if(jt(p)&&!Y0(p)){r.setStart(p,0),t.setRng(r);return}}},X0=function(e,t,r){if(e){var a=t?"nextSibling":"previousSibling";for(e=r?e:e[a];e;e=e[a])if(Ln(e)||!Y0(e))return e}},Lg=function(e,t){return zp(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},vf=function(e,t,r){return e.schema.isValidChild(t,r)},Y0=function(e,t){if(t===void 0&&(t=!1),Zt(e)&&jt(e)){var r=t?e.data.replace(/ /g,"\xA0"):e.data;return mu(r)}else return!1},zx=function(e){return Zt(e)&&jt(e)&&e.length===0},df=function(e,t){return Wt(e)?e=e(t):Zt(t)&&(e=e.replace(/%(\w+)/g,function(r,a){return t[a]||r})),e},O2=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},A2=function(e,t,r){return(r==="color"||r==="backgroundColor")&&(t=e.toHex(t)),r==="fontWeight"&&t===700&&(t="bold"),r==="fontFamily"&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},av=function(e,t,r){return A2(e,e.getStyle(t,r),r)},D2=function(e,t){var r;return e.getParent(t,function(a){return r=e.getStyle(a,"text-decoration"),r&&r!=="none"}),r},dm=function(e,t,r){return e.getParents(t,r,e.getRoot())},Fx=function(e,t){var r=function(a){var c=function(l){return l.length>1&&l.charAt(0)==="%"};return Ot(["styles","attributes"],function(l){return _r(a,l).exists(function(m){var p=hn(m)?m:Su(m);return Ot(p,c)})})};return Ot(e.formatter.get(t),r)},Ix=function(e,t,r){var a=["inline","block","selector","attributes","styles","classes"],c=function(l){return Jn(l,function(m,p){return Ot(a,function(C){return C===p})})};return Ot(e.formatter.get(t),function(l){var m=c(l);return Ot(e.formatter.get(r),function(p){var C=c(p);return da(m,C)})})},mf=function(e){return gt(e,"block")},Xc=function(e){return gt(e,"selector")},pu=function(e){return gt(e,"inline")},R3=function(e){return Xc(e)&&pu(e)&&zc(_r(e,"mixed"),!0)},R2=function(e){return Xc(e)&&e.expand!==!1&&!pu(e)},Hg=Dc,_2=dm,$g=Y0,Ip=Lg,Vg=function(e){return Ua(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},mm=function(e,t){for(var r=t;r;){if(Ln(r)&&e.getContentEditable(r))return e.getContentEditable(r)==="false"?r:t;r=r.parentNode}return t},J0=function(e,t,r,a){for(var c=t.data,l=r;e?l>=0:l<c.length;e?l--:l++)if(a(c.charAt(l)))return e?l+1:l;return-1},Q0=function(e,t,r){return J0(e,t,r,function(a){return fm(a)||vm(a)})},B2=function(e,t,r){return J0(e,t,r,K0)},Lp=function(e,t,r,a,c,l){var m,p=e.getParent(r,e.isBlock)||t,C=function(H,$,U){var Z=Ky(e),ne=c?Z.backwards:Z.forwards;return ee.from(ne(H,$,function(ae,ie){return Hg(ae.parentNode)?-1:(m=ae,U(c,ae,ie))},p))},_=C(r,a,Q0);return _.bind(function(H){return l?C(H.container,H.offset+(c?-1:0),B2):ee.some(H)}).orThunk(function(){return m?ee.some({container:m,offset:c?0:m.length}):ee.none()})},gf=function(e,t,r,a,c){jt(a)&&Zn(a.data)&&a[c]&&(a=a[c]);for(var l=_2(e,a),m=0;m<l.length;m++)for(var p=0;p<t.length;p++){var C=t[p];if(!(Zt(C.collapsed)&&C.collapsed!==r.collapsed)&&Xc(C)&&e.is(l[m],C.selector))return l[m]}return a},Lx=function(e,t,r,a){var c=r,l=e.dom,m=l.getRoot(),p=t[0];if(mf(p)&&(c=p.wrapper?null:l.getParent(r,p.block,m)),!c){var C=l.getParent(r,"LI,TD,TH");c=l.getParent(jt(r)?r.parentNode:r,function(_){return _!==m&&Ip(e,_)},C)}if(c&&mf(p)&&p.wrapper&&(c=_2(l,c,"ul,ol").reverse()[0]||c),!c)for(c=r;c[a]&&!l.isBlock(c[a])&&(c=c[a],!O2(c,"br")););return c||r},Z0=function(e,t,r,a){var c=r.parentNode;return Zt(r[a])?!1:c===t||Fn(c)||e.isBlock(c)?!0:Z0(e,t,c,a)},Ug=function(e,t,r,a,c){var l=r,m=c?"previousSibling":"nextSibling",p=e.getRoot();if(jt(r)&&!$g(r)&&(c?a>0:a<r.data.length))return r;for(;;){if(!t[0].block_expand&&e.isBlock(l))return l;for(var C=l[m];C;C=C[m]){var _=jt(C)&&!Z0(e,p,C,m);if(!Hg(C)&&!Vg(C)&&!$g(C,_))return l}if(l===p||l.parentNode===p){r=l;break}l=l.parentNode}return r},Hp=function(e){return Hg(e.parentNode)||Hg(e)},Qv=function(e,t,r,a){a===void 0&&(a=!1);var c=t.startContainer,l=t.startOffset,m=t.endContainer,p=t.endOffset,C=e.dom,_=r[0];if(Ln(c)&&c.hasChildNodes()&&(c=Na(c,l),jt(c)&&(l=0)),Ln(m)&&m.hasChildNodes()&&(m=Na(m,t.collapsed?p:p-1),jt(m)&&(p=m.nodeValue.length)),c=mm(C,c),m=mm(C,m),Hp(c)&&(c=Hg(c)?c:c.parentNode,t.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,jt(c)&&(l=t.collapsed?c.length:0)),Hp(m)&&(m=Hg(m)?m:m.parentNode,t.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,jt(m)&&(p=t.collapsed?0:m.length)),t.collapsed){var H=Lp(C,e.getBody(),c,l,!0,a);H.each(function(U){var Z=U.container,ne=U.offset;c=Z,l=ne});var $=Lp(C,e.getBody(),m,p,!1,a);$.each(function(U){var Z=U.container,ne=U.offset;m=Z,p=ne})}return(pu(_)||_.block_expand)&&((!pu(_)||!jt(c)||l===0)&&(c=Ug(C,r,c,l,!0)),(!pu(_)||!jt(m)||p===m.nodeValue.length)&&(m=Ug(C,r,m,p,!1))),R2(_)&&(c=gf(C,r,t,c,"previousSibling"),m=gf(C,r,t,m,"nextSibling")),(mf(_)||Xc(_))&&(c=Lx(e,r,c,"previousSibling"),m=Lx(e,r,m,"nextSibling"),mf(_)&&(C.isBlock(c)||(c=Ug(C,r,c,l,!0)),C.isBlock(m)||(m=Ug(C,r,m,p,!1)))),Ln(c)&&(l=C.nodeIndex(c),c=c.parentNode),Ln(m)&&(p=C.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:l,endContainer:m,endOffset:p}},Wg=function(e,t,r){var a=t.startOffset,c=Na(t.startContainer,a),l=t.endOffset,m=Na(t.endContainer,l-1),p=function(ae){var ie=ae[0];jt(ie)&&ie===c&&a>=ie.data.length&&ae.splice(0,1);var ge=ae[ae.length-1];return l===0&&ae.length>0&&ge===m&&jt(ge)&&ae.splice(ae.length-1,1),ae},C=function(ae,ie,ge){for(var ve=[];ae&&ae!==ge;ae=ae[ie])ve.push(ae);return ve},_=function(ae,ie){return e.getParent(ae,function(ge){return ge.parentNode===ie},ie)},H=function(ae,ie,ge){for(var ve=ge?"nextSibling":"previousSibling",De=ae,Ee=De.parentNode;De&&De!==ie;De=Ee){Ee=De.parentNode;var pe=C(De===ae?De:De[ve],ve);pe.length&&(ge||pe.reverse(),r(p(pe)))}};if(c===m)return r(p([c]));var $=e.findCommonAncestor(c,m);if(e.isChildOf(c,m))return H(c,$,!0);if(e.isChildOf(m,c))return H(m,$);var U=_(c,$)||c,Z=_(m,$)||m;H(c,U,!0);var ne=C(U===c?U:U.nextSibling,"nextSibling",Z===m?Z.nextSibling:Z);ne.length&&r(p(ne)),H(m,Z)},eb=function(e){var t=[];if(e)for(var r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));return t},tb=function(e){return ka(e,function(t){var r=Qd(t);return r?[k.fromDom(r)]:[]})},nb=function(e){return eb(e).length>1},Hx=function(e){return tn(tb(e),Bd)},N2=function(e){return lc(e,"td[data-mce-selected],th[data-mce-selected]")},Zv=function(e,t){var r=N2(t);return r.length>0?r:Hx(e)},ed=function(e){return Zv(eb(e.selection.getSel()),k.fromDom(e.getBody()))},Gu=function(e,t){return Ds(e,"table",t)},jg=function(e){var t=e.startContainer,r=e.startOffset;return jt(t)?r===0?ee.some(k.fromDom(t)):ee.none():ee.from(t.childNodes[r]).map(k.fromDom)},gm=function(e){var t=e.endContainer,r=e.endOffset;return jt(t)?r===t.data.length?ee.some(k.fromDom(t)):ee.none():ee.from(t.childNodes[r-1]).map(k.fromDom)},qg=function(e){return jl(e).fold(oe([e]),function(t){return[e].concat(qg(t))})},pc=function(e){return Ss(e).fold(oe([e]),function(t){return on(t)==="br"?Ff(t).map(function(r){return[e].concat(pc(r))}).getOr([]):[e].concat(pc(t))})},Bl=function(e,t){return $u(jg(t),gm(t),function(r,a){var c=Ut(qg(e),Ct(cn,r)),l=Ut(pc(e),Ct(cn,a));return c.isSome()&&l.isSome()}).getOr(!1)},hf=function(e,t,r,a){var c=r,l=new li(r,c),m=Jn(e.schema.getMoveCaretBeforeOnEnterElements(),function(p,C){return!Et(["td","th","table"],C.toLowerCase())});do{if(jt(r)&&je.trim(r.nodeValue).length!==0){a?t.setStart(r,0):t.setEnd(r,r.nodeValue.length);return}if(m[r.nodeName]){a?t.setStartBefore(r):r.nodeName==="BR"?t.setEndBefore(r):t.setEndAfter(r);return}}while(r=a?l.next():l.prev());c.nodeName==="BODY"&&(a?t.setStart(c,0):t.setEnd(c,c.childNodes.length))},td=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},hm=function(e,t){var r=ed(e);r.length>0?tt(r,function(a){var c=a.dom,l=e.dom.createRng();l.setStartBefore(c),l.setEndAfter(c),t(l,!0)}):t(e.selection.getRng(),!1)},pm=function(e,t,r){var a=R0(e,t);r(a),e.moveToBookmark(a)},M2=function(e,t){var r=function(l){if(!e(l))throw new Error("Can only get "+t+" value of a "+t+" node");return a(l).getOr("")},a=function(l){return e(l)?ee.from(l.dom.nodeValue):ee.none()},c=function(l,m){if(!e(l))throw new Error("Can only set raw "+t+" value of a "+t+" node");l.dom.nodeValue=m};return{get:r,getOption:a,set:c}},rb=M2(fu,"text"),ob=function(e){return rb.get(e)},$p=function(e){return fu(e)&&ob(e)===fi},P2=function(e,t,r,a){return Tu(t).fold(function(){return"skipping"},function(c){return a==="br"||$p(t)?"valid":GC(t)?"existing":gc(t.dom)?"caret":!vf(e,r,a)||!vf(e,on(c),r)?"invalid-child":"valid"})},ab=function(e,t){var r=Qv(e,t,[{inline:"span"}]);t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)},z2=function(e,t,r,a){var c=t.uid,l=c===void 0?YC("mce-annotation"):c,m=Li(t,["uid"]),p=k.fromTag("span",e);qd(p,b0()),O(p,""+Wv(),l),O(p,""+pg(),r);var C=a(l,m),_=C.attributes,H=_===void 0?{}:_,$=C.classes,U=$===void 0?[]:$;return z(p,H),Fr(p,U),p},bm=function(e,t,r,a,c){var l=[],m=z2(e.getDoc(),c,r,a),p=Qf(),C=function(){p.clear()},_=function(){return p.get().getOrThunk(function(){var Z=Xd(m);return l.push(Z),p.set(Z),Z})},H=function(Z){tt(Z,$)},$=function(Z){var ne=P2(e,Z,"span",on(Z));switch(ne){case"invalid-child":{C();var ae=Hu(Z);H(ae),C();break}case"valid":{var ie=_();ks(Z,ie);break}}},U=function(Z){var ne=Vt(Z,k.fromDom);H(ne)};return Wg(e.dom,t,function(Z){C(),U(Z)}),l},ib=function(e,t,r,a){e.undoManager.transact(function(){var c=e.selection,l=c.getRng(),m=ed(e).length>0;if(l.collapsed&&!m&&ab(e,l),c.getRng().collapsed&&!m){var p=z2(e.getDoc(),a,t,r.decorate);jy(p,cc),c.getRng().insertNode(p.dom),c.select(p.dom)}else pm(c,!1,function(){hm(e,function(C){bm(e,C,t,r.decorate,a)})})})},ub=function(e){var t=zs();Er(e,t);var r=a3(e);return{register:function(a,c){t.register(a,c)},annotate:function(a,c){t.lookup(a).each(function(l){ib(e,a,l,c)})},annotationChanged:function(a,c){r.addListener(a,c)},remove:function(a){vp(e,ee.some(a)).each(function(c){var l=c.elements;tt(l,$i)})},getAll:function(a){var c=XC(e,a);return Yt(c,function(l){return Vt(l,function(m){return m.dom})})}}},Gg=function(e){return{getBookmark:Ct(Nx,e),moveToBookmark:Ct(Mx,e)}};Gg.isBookmarkNode=Dc;var nd=function(e,t){for(;t&&t!==e;){if(Js(t)||Co(t))return t;t=t.parentNode}return null},Vp=function(e,t,r){if(r.collapsed)return!1;if(In.browser.isIE()&&r.startOffset===r.endOffset-1&&r.startContainer===r.endContainer){var a=r.startContainer.childNodes[r.startOffset];if(Ln(a))return Ot(a.getClientRects(),function(c){return QC(c,e,t)})}return Ot(r.getClientRects(),function(c){return QC(c,e,t)})},Kg=function(e,t){return e.fire("PreProcess",t)},_3=function(e,t){return e.fire("PostProcess",t)},B3=function(e){return e.fire("remove")},$x=function(e){return e.fire("detach")},N3=function(e,t){return e.fire("SwitchMode",{mode:t})},M3=function(e,t,r,a,c){e.fire("ObjectResizeStart",{target:t,width:r,height:a,origin:c})},Vx=function(e,t,r,a,c){e.fire("ObjectResized",{target:t,width:r,height:a,origin:c})},P3=function(e){return e.fire("PreInit")},cb=function(e){return e.fire("PostRender")},Ux=function(e){return e.fire("Init")},Up=function(e,t){return e.fire("PlaceholderToggle",{state:t})},Xg=function(e,t,r){return e.fire(t,r)},Wx=function(e,t,r,a){return e.fire("FormatApply",{format:t,node:r,vars:a})},F2=function(e,t,r,a){return e.fire("FormatRemove",{format:t,node:r,vars:a})},An={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||An.metaKeyPressed(e)},metaKeyPressed:function(e){return In.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Wp=Co,jx=function(e,t){var r="data-mce-selected",a=t.dom,c=je.each,l,m,p,C,_,H,$,U,Z,ne,ae,ie,ge,ve,De,Ee=t.getDoc(),pe=document,Be=Math.abs,Qe=Math.round,mt=t.getBody(),Nn,Kt,rt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Rn=function(Fe){return Fe&&(Fe.nodeName==="IMG"||t.dom.is(Fe,"figure.image"))},Dt=function(Fe){return Zo(Fe)||a.hasClass(Fe,"mce-preview-object")},qt=function(Fe,bt){if(Fe.type==="longpress"||Fe.type.indexOf("touch")===0){var st=Fe.touches[0];return Rn(Fe.target)&&!Vp(st.clientX,st.clientY,bt)}else return Rn(Fe.target)&&!Vp(Fe.clientX,Fe.clientY,bt)},St=function(Fe){var bt=Fe.target;qt(Fe,t.selection.getRng())&&!Fe.isDefaultPrevented()&&t.selection.select(bt)},$t=function(Fe){return a.is(Fe,"figure.image")?[Fe.querySelector("img")]:a.hasClass(Fe,"mce-preview-object")&&Zt(Fe.firstElementChild)?[Fe,Fe.firstElementChild]:[Fe]},rn=function(Fe){var bt=sx(t);return!bt||Fe.getAttribute("data-mce-resize")==="false"||Fe===t.getBody()?!1:a.hasClass(Fe,"mce-preview-object")?wt(k.fromDom(Fe.firstElementChild),bt):wt(k.fromDom(Fe),bt)},at=function(Fe){return Dt(Fe)?a.create("img",{src:In.transparentSrc}):Fe.cloneNode(!0)},Xt=function(Fe,bt,st){if(Zt(st)){var yn=$t(Fe);tt(yn,function(_n){_n.style[bt]||!t.schema.isValid(_n.nodeName.toLowerCase(),bt)?a.setStyle(_n,bt,st):a.setAttrib(_n,bt,""+st)})}},Ar=function(Fe,bt,st){Xt(Fe,"width",bt),Xt(Fe,"height",st)},so=function(Fe){var bt,st,yn,_n,Yo;bt=Fe.screenX-H,st=Fe.screenY-$,ve=bt*C[2]+ne,De=st*C[3]+ae,ve=ve<5?5:ve,De=De<5?5:De,(Rn(l)||Dt(l))&&Tp(t)!==!1?yn=!An.modifierPressed(Fe):yn=An.modifierPressed(Fe),yn&&(Be(bt)>Be(st)?(De=Qe(ve*ie),ve=Qe(De/ie)):(ve=Qe(De/ie),De=Qe(ve*ie))),Ar(m,ve,De),_n=C.startPos.x+bt,Yo=C.startPos.y+st,_n=_n>0?_n:0,Yo=Yo>0?Yo:0,a.setStyles(p,{left:_n,top:Yo,display:"block"}),p.innerHTML=ve+" &times; "+De,C[2]<0&&m.clientWidth<=ve&&a.setStyle(m,"left",U+(ne-ve)),C[3]<0&&m.clientHeight<=De&&a.setStyle(m,"top",Z+(ae-De)),bt=mt.scrollWidth-Nn,st=mt.scrollHeight-Kt,bt+st!==0&&a.setStyles(p,{left:_n-bt,top:Yo-st}),ge||(M3(t,l,ne,ae,"corner-"+C.name),ge=!0)},uo=function(){var Fe=ge;ge=!1,Fe&&(Xt(l,"width",ve),Xt(l,"height",De)),a.unbind(Ee,"mousemove",so),a.unbind(Ee,"mouseup",uo),pe!==Ee&&(a.unbind(pe,"mousemove",so),a.unbind(pe,"mouseup",uo)),a.remove(m),a.remove(p),a.remove(_),Qu(l),Fe&&(Vx(t,l,ve,De,"corner-"+C.name),a.setAttrib(l,"style",a.getAttrib(l,"style"))),t.nodeChanged()},Qu=function(Fe){ct();var bt=a.getPos(Fe,mt),st=bt.x,yn=bt.y,_n=Fe.getBoundingClientRect(),Yo=_n.width||_n.right-_n.left,zu=_n.height||_n.bottom-_n.top;l!==Fe&&(ni(),l=Fe,ve=De=0);var wu=t.fire("ObjectSelected",{target:Fe}),M1=a.getAttrib(l,r,"1");rn(Fe)&&!wu.isDefaultPrevented()?c(rt,function(ps,qs){var Fu,Mf=function(Gs){var Ah=$t(l)[0];H=Gs.screenX,$=Gs.screenY,ne=Ah.clientWidth,ae=Ah.clientHeight,ie=ae/ne,C=ps,C.name=qs,C.startPos={x:Yo*ps[0]+st,y:zu*ps[1]+yn},Nn=mt.scrollWidth,Kt=mt.scrollHeight,_=a.add(mt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(_,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),m=at(l),a.addClass(m,"mce-clonedresizable"),a.setAttrib(m,"data-mce-bogus","all"),m.contentEditable="false",a.setStyles(m,{left:st,top:yn,margin:0}),Ar(m,Yo,zu),m.removeAttribute(r),mt.appendChild(m),a.bind(Ee,"mousemove",so),a.bind(Ee,"mouseup",uo),pe!==Ee&&(a.bind(pe,"mousemove",so),a.bind(pe,"mouseup",uo)),p=a.add(mt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ne+" &times; "+ae)};Fu=a.get("mceResizeHandle"+qs),Fu&&a.remove(Fu),Fu=a.add(mt,"div",{id:"mceResizeHandle"+qs,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+qs+"-resize; margin:0; padding:0"}),In.ie===11&&(Fu.contentEditable=!1),a.bind(Fu,"mousedown",function(Gs){Gs.stopImmediatePropagation(),Gs.preventDefault(),Mf(Gs)}),ps.elm=Fu,a.setStyles(Fu,{left:Yo*ps[0]+st-Fu.offsetWidth/2,top:zu*ps[1]+yn-Fu.offsetHeight/2})}):ni(),a.getAttrib(l,r)||l.setAttribute(r,M1)},ni=function(){ct(),l&&l.removeAttribute(r),pn(rt,function(Fe,bt){var st=a.get("mceResizeHandle"+bt);st&&(a.unbind(st),a.remove(st))})},hs=function(Fe){var bt,st,yn=function(_n,Yo){if(_n)do if(_n===Yo)return!0;while(_n=_n.parentNode)};if(!(ge||t.removed)){if(c(a.select("img[data-mce-selected],hr[data-mce-selected]"),function(_n){_n.removeAttribute(r)}),st=Fe.type==="mousedown"?Fe.target:e.getNode(),st=a.$(st).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],yn(st,mt)&&(Bt(),bt=e.getStart(!0),yn(bt,st)&&yn(e.getEnd(!0),st))){Qu(st);return}ni()}},Vl=function(Fe){return Wp(nd(t.getBody(),Fe))},ct=function(){pn(rt,function(Fe){Fe.elm&&(a.unbind(Fe.elm),delete Fe.elm)})},Bt=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};t.on("init",function(){if(Bt(),In.browser.isIE()||In.browser.isEdge()){t.on("mousedown click",function(st){var yn=st.target,_n=yn.nodeName;!ge&&/^(TABLE|IMG|HR)$/.test(_n)&&!Vl(yn)&&(st.button!==2&&t.selection.select(yn,_n==="TABLE"),st.type==="mousedown"&&t.nodeChanged())});var Fe=function(st){var yn=function(_n){si.setEditorTimeout(t,function(){return t.selection.select(_n)})};if(Vl(st.target)||Zo(st.target)){st.preventDefault(),yn(st.target);return}/^(TABLE|IMG|HR)$/.test(st.target.nodeName)&&(st.preventDefault(),st.target.tagName==="IMG"&&yn(st.target))};a.bind(mt,"mscontrolselect",Fe),t.on("remove",function(){return a.unbind(mt,"mscontrolselect",Fe)})}var bt=si.throttle(function(st){t.composing||hs(st)});t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",bt),t.on("keyup compositionend",function(st){l&&l.nodeName==="TABLE"&&bt(st)}),t.on("hide blur",ni),t.on("contextmenu longpress",St,!0)}),t.on("remove",ct);var gn=function(){l=m=_=null};return{isResizable:rn,showResizeRect:Qu,hideResizeRect:ni,updateResizeRect:hs,destroy:gn}},jp=function(e){return Js(e)||Co(e)},qp=function(e,t,r){for(;e&&e!==t;){if(r(e))return e;e=e.parentNode}return null},qx=function(e,t,r){var a,c=r.elementFromPoint(e,t),l=r.body.createTextRange();if((!c||c.tagName==="HTML")&&(c=r.body),l.moveToElementText(c),a=je.toArray(l.getClientRects()),a=a.sort(function(m,p){return m=Math.abs(Math.max(m.top-t,m.bottom-t)),p=Math.abs(Math.max(p.top-t,p.bottom-t)),m-p}),a.length>0){t=(a[0].bottom+a[0].top)/2;try{return l.moveToPoint(e,t),l.collapse(!0),l}catch{}}return null},Gx=function(e,t){var r=e&&e.parentElement?e.parentElement():null;return Co(qp(r,t,jp))?null:e},sb=function(e,t,r){var a,c,l=r;if(l.caretPositionFromPoint)c=l.caretPositionFromPoint(e,t),c&&(a=r.createRange(),a.setStart(c.offsetNode,c.offset),a.collapse(!0));else if(l.caretRangeFromPoint)a=l.caretRangeFromPoint(e,t);else if(l.body.createTextRange){a=l.body.createTextRange();try{a.moveToPoint(e,t),a.collapse(!0)}catch{a=qx(e,t,r)}return Gx(a,r.body)}return a},Yg=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Kx=function(e,t,r){for(;e&&e!==t;){if(r(e))return e;e=e.parentNode}return null},I2=function(e,t,r){return Kx(e,t,r)!==null},lb=function(e,t,r){return I2(e,t,function(a){return a.nodeName===r})},pf=function(e){return e&&e.nodeName==="TABLE"},Xx=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},wi=function(e,t){return Vu(e)&&I2(e,t,gc)===!1},Jg=function(e,t,r){for(var a=new li(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=a[r?"prev":"next"]();)if(Ua(t))return!0},ym=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},Gp=function(e,t){for(;t&&t!==e;){if(Co(t))return!0;t=t.parentNode}return!1},rd=function(e,t,r,a,c){var l,m=e.getRoot(),p,C=e.schema.getNonEmptyElements(),_=e.getParent(c.parentNode,e.isBlock)||m;if(a&&Ua(c)&&t&&e.isEmpty(_))return ee.some(He(c.parentNode,e.nodeIndex(c)));for(var H=new li(c,_);p=H[a?"prev":"next"]();){if(e.getContentEditableParent(p)==="false"||wi(p,m))return ee.none();if(jt(p)&&p.nodeValue.length>0)return lb(p,m,"A")===!1?ee.some(He(p,a?p.nodeValue.length:0)):ee.none();if(e.isBlock(p)||C[p.nodeName.toLowerCase()])return ee.none();l=p}return r&&l?ee.some(He(l,0)):ee.none()},wm=function(e,t,r,a){var c,l,m=e.getRoot(),p,C,_=!1;c=a[(r?"start":"end")+"Container"],l=a[(r?"start":"end")+"Offset"];var H=Ln(c)&&l===c.childNodes.length,$=e.schema.getNonEmptyElements();if(C=r,Vu(c))return ee.none();if(Ln(c)&&l>c.childNodes.length-1&&(C=!1),Va(c)&&(c=m,l=0),c===m){if(C&&(p=c.childNodes[l>0?l-1:0],p&&(Vu(p)||$[p.nodeName]||pf(p))))return ee.none();if(c.hasChildNodes()){if(l=Math.min(!C&&l>0?l-1:l,c.childNodes.length-1),c=c.childNodes[l],l=jt(c)&&H?c.data.length:0,!t&&c===m.lastChild&&pf(c)||Gp(m,c)||Vu(c))return ee.none();if(c.hasChildNodes()&&pf(c)===!1){p=c;var U=new li(c,m);do{if(Co(p)||Vu(p)){_=!1;break}if(jt(p)&&p.nodeValue.length>0){l=C?0:p.nodeValue.length,c=p,_=!0;break}if($[p.nodeName.toLowerCase()]&&!Xx(p)){l=e.nodeIndex(p),c=p.parentNode,C||l++,_=!0;break}}while(p=C?U.next():U.prev())}}}return t&&(jt(c)&&l===0&&rd(e,H,t,!0,c).each(function(Z){c=Z.container(),l=Z.offset(),_=!0}),Ln(c)&&(p=c.childNodes[l],p||(p=c.childNodes[l-1]),p&&Ua(p)&&!ym(p,"A")&&!Jg(e,p,!1)&&!Jg(e,p,!0)&&rd(e,H,t,!0,p).each(function(Z){c=Z.container(),l=Z.offset(),_=!0}))),C&&!t&&jt(c)&&l===c.nodeValue.length&&rd(e,H,t,!1,c).each(function(Z){c=Z.container(),l=Z.offset(),_=!0}),_?ee.some(He(c,l)):ee.none()},Qg=function(e,t){var r=t.collapsed,a=t.cloneRange(),c=He.fromRangeStart(t);return wm(e,r,!0,a).each(function(l){(!r||!He.isAbove(c,l))&&a.setStart(l.container(),l.offset())}),r||wm(e,r,!1,a).each(function(l){a.setEnd(l.container(),l.offset())}),r&&a.collapse(!0),Yg(t,a)?ee.none():ee.some(a)},Zg=function(e,t){return e.splitText(t)},bf=function(e){var t=e.startContainer,r=e.startOffset,a=e.endContainer,c=e.endOffset;return t===a&&jt(t)?r>0&&r<t.nodeValue.length&&(a=Zg(t,r),t=a.previousSibling,c>r?(c=c-r,t=a=Zg(a,c).previousSibling,c=a.nodeValue.length,r=0):c=0):(jt(t)&&r>0&&r<t.nodeValue.length&&(t=Zg(t,r),r=0),jt(a)&&c>0&&c<a.nodeValue.length&&(a=Zg(a,c).previousSibling,c=a.nodeValue.length)),{startContainer:t,startOffset:r,endContainer:a,endOffset:c}},Kp=function(e){var t=function(c,l){return Wg(e,c,l)},r=bf,a=function(c){return Qg(e,c).fold(Je,function(l){return c.setStart(l.startContainer,l.startOffset),c.setEnd(l.endContainer,l.endOffset),!0})};return{walk:t,split:r,normalize:a}};Kp.compareRanges=Yg,Kp.getCaretRangeFromPoint=sb,Kp.getSelectedNode=Qd,Kp.getNode=Na;var z3=function(e,t){var r=function(p,C){if(!me(C)&&!C.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+C);var _=p.dom;Sd(_)&&(_.style[e]=C+"px")},a=function(p){var C=t(p);if(C<=0||C===null){var _=sr(p,e);return parseFloat(_)||0}return C},c=a,l=function(p,C){return eo(C,function(_,H){var $=sr(p,H),U=$===void 0?0:parseInt($,10);return isNaN(U)?_:_+U},0)},m=function(p,C,_){var H=l(p,_),$=C>H?C-H:0;return $};return{set:r,get:a,getOuter:c,aggregate:l,max:m}},L2=z3("height",function(e){var t=e.dom;return Se(e)?t.getBoundingClientRect().height:t.offsetHeight}),Yx=function(e){return L2.get(e)},yf=function(e,t){var r=e.view(t);return r.fold(oe([]),function(a){var c=e.owner(a),l=yf(e,c);return[a].concat(l)})},fb=function(e,t){var r=t.owner(e);return yf(t,r)},H2=function(e){var t,r=e.dom===document?ee.none():ee.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return r.map(k.fromDom)},Jx=function(e){return xs(e)},Qx=Object.freeze({__proto__:null,view:H2,owner:Jx}),$2=function(e){var t=k.fromDom(document),r=Lf(t),a=fb(e,Qx),c=Io(e),l=xa(a,function(m,p){var C=Io(p);return{left:m.left+C.left,top:m.top+C.top}},{left:0,top:0});return Ts(l.left+c.left+r.left,l.top+c.top+r.top)},Nl=function(e){return on(e)==="textarea"},wf=function(e,t){var r=e.fire("ScrollIntoView",t);return r.isDefaultPrevented()},V2=function(e,t){e.fire("AfterScrollIntoView",t)},Zx=function(e,t){var r=Hu(e);if(r.length===0||Nl(e))return{element:e,offset:t};if(t<r.length&&!Nl(r[t]))return{element:r[t],offset:0};var a=r[r.length-1];return Nl(a)?{element:e,offset:t}:on(a)==="img"?{element:a,offset:1}:fu(a)?{element:a,offset:ob(a).length}:{element:a,offset:Hu(a).length}},eh=function(e,t){var r=yr(e),a=Yx(e);return{element:e,bottom:r.top+a,height:a,pos:r,cleanup:t}},eS=function(e,t){var r=Zx(e,t),a=k.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+fi+"</span>");return $a(r.element,a),eh(a,function(){return ci(a)})},tS=function(e){return eh(k.fromDom(e),en)},_u=function(e,t,r,a){nS(e,function(c,l){return Xp(e,t,r,a)},r)},Cm=function(e,t,r,a,c){var l={elm:a.element.dom,alignToTop:c};if(!wf(e,l)){var m=Lf(t).top;r(t,m,a,c),V2(e,l)}},Xp=function(e,t,r,a){var c=k.fromDom(e.getBody()),l=k.fromDom(e.getDoc());kd(c);var m=eS(k.fromDom(r.startContainer),r.startOffset);Cm(e,l,t,m,a),m.cleanup()},vb=function(e,t,r,a){var c=k.fromDom(e.getDoc());Cm(e,c,r,tS(t),a)},nS=function(e,t,r){var a=r.startContainer,c=r.startOffset,l=r.endContainer,m=r.endOffset;t(k.fromDom(a),k.fromDom(l));var p=e.dom.createRng();p.setStart(a,c),p.setEnd(l,m),e.selection.setRng(r)},U2=function(e,t,r,a){var c=e.pos;if(r)Ev(c.left,c.top,a);else{var l=c.top-t+e.height;Ev(c.left,l,a)}},W2=function(e,t,r,a,c){var l=r+t,m=a.pos.top,p=a.bottom,C=p-m>=r;if(m<t)U2(a,r,c!==!1,e);else if(m>l){var _=C?c!==!1:c===!0;U2(a,r,_,e)}else p>l&&!C&&U2(a,r,c===!0,e)},j2=function(e,t,r,a){var c=e.dom.defaultView.innerHeight;W2(e,t,c,r,a)},db=function(e,t,r,a){var c=e.dom.defaultView.innerHeight;W2(e,t,c,r,a);var l=$2(r.element),m=as(window);l.top<m.y?Cn(r.element,a!==!1):l.top>m.bottom&&Cn(r.element,a===!0)},od=function(e,t,r){return _u(e,j2,t,r)},th=function(e,t,r){return vb(e,t,j2,r)},q2=function(e,t,r){return _u(e,db,t,r)},F3=function(e,t,r){return vb(e,t,db,r)},nh=function(e,t,r){var a=e.inline?th:F3;a(e,t,r)},xm=function(e,t,r){var a=e.inline?od:q2;a(e,t,r)},G2=function(){return k.fromDom(document)},Yp=function(e){return e.dom.focus()},K2=function(e){var t=bl(e).dom;return e.dom===t.activeElement},mb=function(e){return e===void 0&&(e=G2()),ee.from(e.dom.activeElement).map(k.fromDom)},rh=function(e){return mb(bl(e)).filter(function(t){return e.dom.contains(t.dom)})},X2=function(e,t,r,a){return{start:e,soffset:t,finish:r,foffset:a}},gb={create:X2},Y2=As.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),J2=function(e,t,r,a){return e.fold(t,r,a)},hb=function(e){return e.fold(ho,ho,ho)},pb=Y2.before,Q2=Y2.on,rS=Y2.after,Z2={before:pb,on:Q2,after:rS,cata:J2,getStart:hb},Jp=As.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ew=function(e){return Jp.exact(e.start,e.soffset,e.finish,e.foffset)},oS=function(e){return e.match({domRange:function(t){return k.fromDom(t.startContainer)},relative:function(t,r){return Z2.getStart(t)},exact:function(t,r,a,c){return t}})},bb=Jp.domRange,aS=Jp.relative,tw=Jp.exact,nw=function(e){var t=oS(e);return La(t)},iS=gb.create,rw={domRange:bb,relative:aS,exact:tw,exactFromRange:ew,getWin:nw,range:iS},ow=an().browser,Qp=function(e,t){var r=fu(t)?ob(t).length:Hu(t).length+1;return e>r?r:e<0?0:e},uS=function(e){return rw.range(e.start,Qp(e.soffset,e.start),e.finish,Qp(e.foffset,e.finish))},Zp=function(e,t){return!ql(t.dom)&&(wo(e,t)||cn(e,t))},oh=function(e){return function(t){return Zp(e,t.start)&&Zp(e,t.finish)}},Ci=function(e){return e.inline===!0||ow.isIE()},cS=function(e){return rw.range(k.fromDom(e.startContainer),e.startOffset,k.fromDom(e.endContainer),e.endOffset)},e1=function(e){var t=e.getSelection(),r=!t||t.rangeCount===0?ee.none():ee.from(t.getRangeAt(0));return r.map(cS)},yb=function(e){var t=La(e);return e1(t.dom).filter(oh(e))},wb=function(e,t){return ee.from(t).filter(oh(e)).map(uS)},I3=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),ee.some(t)}catch{return ee.none()}},t1=function(e){var t=Ci(e)?yb(k.fromDom(e.getBody())):ee.none();e.bookmark=t.isSome()?t:e.bookmark},sS=function(e,t){var r=k.fromDom(e.getBody()),a=Ci(e)?ee.from(t):ee.none(),c=a.map(cS).filter(oh(r));e.bookmark=c.isSome()?c:e.bookmark},ah=function(e){var t=e.bookmark?e.bookmark:ee.none();return t.bind(function(r){return wb(k.fromDom(e.getBody()),r)}).bind(I3)},aw=function(e){ah(e).each(function(t){return e.selection.setRng(t)})},iw=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1},lS={isEditorUIElement:iw},fS=function(e){return e.type==="nodechange"&&e.selectionChange},vS=function(e,t){var r=function(){t.throttle()};Ko.DOM.bind(document,"mouseup",r),e.on("remove",function(){Ko.DOM.unbind(document,"mouseup",r)})},dS=function(e){e.on("focusout",function(){t1(e)})},mS=function(e,t){e.on("mouseup touchend",function(r){t.throttle()})},uw=function(e,t){var r=an().browser;r.isIE()?dS(e):mS(e,t),e.on("keyup NodeChange",function(a){fS(a)||t1(e)})},n1=function(e){var t=po(function(){t1(e)},0);e.on("init",function(){e.inline&&vS(e,t),uw(e,t)}),e.on("remove",function(){t.cancel()})},Sm,Cb=Ko.DOM,cw=function(e){return lS.isEditorUIElement(e)},L3=function(e){var t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},r1=function(e,t){var r=vx(e),a=Cb.getParent(t,function(c){return cw(c)||(r?e.dom.is(c,r):!1)});return a!==null},gS=function(e){try{var t=bl(k.fromDom(e.getElement()));return mb(t).fold(function(){return document.body},function(r){return r.dom})}catch{return document.body}},H3=function(e,t){var r=t.editor;n1(r),r.on("focusin",function(){var a=e.focusedEditor;a!==r&&(a&&a.fire("blur",{focusedEditor:r}),e.setActive(r),e.focusedEditor=r,r.fire("focus",{blurredEditor:a}),r.focus(!0))}),r.on("focusout",function(){si.setEditorTimeout(r,function(){var a=e.focusedEditor;!r1(r,gS(r))&&a===r&&(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Sm||(Sm=function(a){var c=e.activeEditor;c&&wd(a).each(function(l){l.ownerDocument===document&&l!==document.body&&!r1(c,l)&&e.focusedEditor===c&&(c.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Cb.bind(document,"focusin",Sm))},sw=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Cb.unbind(document,"focusin",Sm),Sm=null)},o1=function(e){e.on("AddEditor",Ct(H3,e)),e.on("RemoveEditor",Ct(sw,e))},ad=function(e,t){return e.dom.getParent(t,function(r){return e.dom.getContentEditable(r)==="true"})},lw=function(e){return e.collapsed?ee.from(Na(e.startContainer,e.startOffset)).map(k.fromDom):ee.none()},hS=function(e,t){return lw(t).bind(function(r){return Ih(r)?ee.some(r):wo(e,r)===!1?ee.some(e):ee.none()})},pS=function(e,t){hS(k.fromDom(e.getBody()),t).bind(function(r){return mc(r.dom)}).fold(function(){e.selection.normalize()},function(r){return e.selection.setRng(r.toRange())})},km=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Em=function(e){return K2(e)||rh(e).isSome()},bS=function(e){return e.iframeElement&&K2(k.fromDom(e.iframeElement))},bu=function(e){var t=e.getBody();return t&&Em(k.fromDom(t))},yS=function(e){var t=bl(k.fromDom(e.getElement()));return mb(t).filter(function(r){return!L3(r.dom)&&r1(e,r.dom)}).isSome()},Cf=function(e){return e.inline?bu(e):bS(e)},Wr=function(e){return Cf(e)||yS(e)},wS=function(e){var t=e.selection,r=e.getBody(),a=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Cf(e)===!1&&ah(e).each(function(l){e.selection.setRng(l),a=l});var c=ad(e,t.getNode());if(e.$.contains(r,c)){km(c),pS(e,a),ba(e);return}e.inline||(In.opera||km(r),e.getWin().focus()),(In.gecko||e.inline)&&(km(r),pS(e,a)),ba(e)},ba=function(e){return e.editorManager.setActive(e)},fw=function(e,t){e.removed||(t?ba(e):wS(e))},vw=function(e,t,r,a,c){var l=r?t.startContainer:t.endContainer,m=r?t.startOffset:t.endOffset;return ee.from(l).map(k.fromDom).map(function(p){return!a||!t.collapsed?Xs(p,c(p,m)).getOr(p):p}).bind(function(p){return Mc(p)?ee.some(p):Tu(p).filter(Mc)}).map(function(p){return p.dom}).getOr(e)},id=function(e,t,r){return vw(e,t,!0,r,function(a,c){return Math.min(Dh(a),c)})},Bu=function(e,t,r){return vw(e,t,!1,r,function(a,c){return c>0?c-1:c})},ih=function(e,t){for(var r=e;e&&jt(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||r},ud=function(e,t){var r,a,c;if(!t)return e;a=t.startContainer,c=t.endContainer;var l=t.startOffset,m=t.endOffset;return r=t.commonAncestorContainer,!t.collapsed&&(a===c&&m-l<2&&a.hasChildNodes()&&(r=a.childNodes[l]),a.nodeType===3&&c.nodeType===3&&(a.length===l?a=ih(a.nextSibling,!0):a=a.parentNode,m===0?c=ih(c.previousSibling,!1):c=c.parentNode,a&&a===c))?a:r&&r.nodeType===3?r.parentNode:r},xf=function(e,t,r,a){var c,l=[],m=e.getRoot();if(r=e.getParent(r||id(m,t,t.collapsed),e.isBlock),a=e.getParent(a||Bu(m,t,t.collapsed),e.isBlock),r&&r!==m&&l.push(r),r&&a&&r!==a){c=r;for(var p=new li(r,m);(c=p.next())&&c!==a;)e.isBlock(c)&&l.push(c)}return a&&r!==a&&a!==m&&l.push(a),l},a1=function(e,t,r){return ee.from(t).map(function(a){var c=e.nodeIndex(a),l=e.createRng();return l.setStart(a.parentNode,c),l.setEnd(a.parentNode,c+1),r&&(hf(e,l,a,!0),hf(e,l,a,!1)),l})},uh=function(e,t){return Vt(t,function(r){var a=e.fire("GetSelectionRange",{range:r});return a.range!==r?a.range:r})},i1={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},u1=function(e,t,r){var a=r?"lastChild":"firstChild",c=r?"prev":"next";if(e[a])return e[a];if(e!==t){var l=e[c];if(l)return l;for(var m=e.parent;m&&m!==t;m=m.parent)if(l=m[c],l)return l}},CS=function(e){if(!mu(e.value))return!1;var t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},xb=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Rc=function(){function e(t,r){this.name=t,this.type=r,r===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,r){var a=new e(t,i1[t]||1);return r&&pn(r,function(c,l){a.attr(l,c)}),a},e.prototype.replace=function(t){var r=this;return t.parent&&t.remove(),r.insert(t,r),r.remove(),r},e.prototype.attr=function(t,r){var a=this,c;if(typeof t!="string")return t!=null&&pn(t,function(m,p){a.attr(p,m)}),a;if(c=a.attributes){if(r!==void 0){if(r===null){if(t in c.map){delete c.map[t];for(var l=c.length;l--;)if(c[l].name===t)return c.splice(l,1),a}return a}if(t in c.map){for(var l=c.length;l--;)if(c[l].name===t){c[l].value=r;break}}else c.push({name:t,value:r});return c.map[t]=r,a}return c.map[t]}},e.prototype.clone=function(){var t=this,r=new e(t.name,t.type),a;if(a=t.attributes){var c=[];c.map={};for(var l=0,m=a.length;l<m;l++){var p=a[l];p.name!=="id"&&(c[c.length]={name:p.name,value:p.value},c.map[p.name]=p.value)}r.attributes=c}return r.value=t.value,r.shortEnded=t.shortEnded,r},e.prototype.wrap=function(t){var r=this;return r.parent.insert(t,r),t.append(r),r},e.prototype.unwrap=function(){for(var t=this,r=t.firstChild;r;){var a=r.next;t.insert(r,t,!0),r=a}t.remove()},e.prototype.remove=function(){var t=this,r=t.parent,a=t.next,c=t.prev;return r&&(r.firstChild===t?(r.firstChild=a,a&&(a.prev=null)):c.next=a,r.lastChild===t?(r.lastChild=c,c&&(c.next=null)):a.prev=c,t.parent=t.next=t.prev=null),t},e.prototype.append=function(t){var r=this;t.parent&&t.remove();var a=r.lastChild;return a?(a.next=t,t.prev=a,r.lastChild=t):r.lastChild=r.firstChild=t,t.parent=r,t},e.prototype.insert=function(t,r,a){t.parent&&t.remove();var c=r.parent||this;return a?(r===c.firstChild?c.firstChild=t:r.prev.next=t,t.prev=r.prev,t.next=r,r.prev=t):(r===c.lastChild?c.lastChild=t:r.next.prev=t,t.next=r.next,t.prev=r,r.next=t),t.parent=c,t},e.prototype.getAll=function(t){for(var r=this,a=[],c=r.firstChild;c;c=u1(c,r))c.name===t&&a.push(c);return a},e.prototype.children=function(){for(var t=this,r=[],a=t.firstChild;a;a=a.next)r.push(a);return r},e.prototype.empty=function(){var t=this;if(t.firstChild){for(var r=[],a=t.firstChild;a;a=u1(a,t))r.push(a);for(var c=r.length;c--;){var a=r[c];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return t.firstChild=t.lastChild=null,t},e.prototype.isEmpty=function(t,r,a){r===void 0&&(r={});var c=this,l=c.firstChild;if(xb(c))return!1;if(l)do{if(l.type===1){if(l.attr("data-mce-bogus"))continue;if(t[l.name]||xb(l))return!1}if(l.type===8||l.type===3&&!CS(l)||l.type===3&&l.parent&&r[l.parent.name]&&mu(l.value)||a&&a(l))return!1}while(l=u1(l,c));return!0},e.prototype.walk=function(t){return u1(this,null,t)},e}(),xS=function(e){for(var t=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],a={},c=YC("img"),l,m=0,p=0;l=t.exec(e);){var C=l[0],_=c+"_"+p++;a[_]=C,m<l.index&&r.push(e.substr(m,l.index-m)),r.push(_),m=l.index+C.length}var H=new RegExp(c+"_[0-9]+","g");return m===0?{prefix:c,uris:a,html:e,re:H}:(m<e.length&&r.push(e.substr(m)),{prefix:c,uris:a,html:r.join(""),re:H})},ch=function(e,t){return e.replace(t.re,function(r){return _r(t.uris,r).getOr(r)})},SS=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return t?ee.some({type:t[1],data:decodeURIComponent(t[2])}):ee.none()},sh=je.each,dw=je.trim,mw="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),kS={ftp:21,http:80,https:443,mailto:25},gw=["img","video"],Ml=function(e,t){return Zt(e)?!e:Zt(t)?!Et(gw,t):!0},Tm=function(e,t,r){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?Ml(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},_c=function(){function e(t,r){t=dw(t),this.settings=r||{};var a=this.settings.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){c.source=t;return}var l=t.indexOf("//")===0;if(t.indexOf("/")===0&&!l&&(t=(a&&a.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var m=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+c.toAbsPath(m,t);else{var p=/([^#?]*)([#?]?.*)/.exec(t);t=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(m,p[1])+p[2]}}t=t.replace(/@@/g,"(mce_at)");var C=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);sh(mw,function(_,H){var $=C[H];$&&($=$.replace(/\(mce_at\)/g,"@@")),c[_]=$}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),l&&(c.protocol="")}return e.parseDataUri=function(t){var r,a=decodeURIComponent(t).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(r=c[1]),{type:r,data:a[1]}},e.isDomSafe=function(t,r,a){if(a===void 0&&(a={}),a.allow_script_urls)return!0;var c=Zs.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch{c=unescape(c)}return/((java|vb)script|mhtml):/i.test(c)?!1:!Tm(a,c,r)},e.getDocumentBaseUrl=function(t){var r;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?r=t.href:r=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r},e.prototype.setPath=function(t){var r=/^(.*?)\/?(\w+)?$/.exec(t);this.path=r[0],this.directory=r[1],this.file=r[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var r;if(t==="./")return t;var a=new e(t,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();var c=this.getURI(),l=a.getURI();return c===l||c.charAt(c.length-1)==="/"&&c.substr(0,c.length-1)===l?c:(r=this.toRelPath(this.path,a.path),a.query&&(r+="?"+a.query),a.anchor&&(r+="#"+a.anchor),r)},e.prototype.toAbsolute=function(t,r){var a=new e(t,{base_uri:this});return a.getURI(r&&this.isSameOrigin(a))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var r=kS[this.protocol];if(r&&(this.port||r)==(t.port||r))return!0}return!1},e.prototype.toRelPath=function(t,r){var a=0,c="",l,m,p=t.substring(0,t.lastIndexOf("/")).split("/"),C=r.split("/");if(p.length>=C.length){for(l=0,m=p.length;l<m;l++)if(l>=C.length||p[l]!==C[l]){a=l+1;break}}if(p.length<C.length){for(l=0,m=C.length;l<m;l++)if(l>=p.length||p[l]!==C[l]){a=l+1;break}}if(a===1)return r;for(l=0,m=p.length-(a-1);l<m;l++)c+="../";for(l=a-1,m=C.length;l<m;l++)l!==a-1?c+="/"+C[l]:c+=C[l];return c},e.prototype.toAbsPath=function(t,r){var a,c=0,l=[],m,p=/\/$/.test(r)?"/":"",C=t.split("/"),_=r.split("/");for(sh(C,function(H){H&&l.push(H)}),C=l,a=_.length-1,l=[];a>=0;a--)if(!(_[a].length===0||_[a]===".")){if(_[a]===".."){c++;continue}if(c>0){c--;continue}l.push(_[a])}return a=C.length-c,a<=0?m=Fi(l).join("/"):m=C.slice(0,a).join("/")+"/"+Fi(l).join("/"),m.indexOf("/")!==0&&(m="/"+m),p&&m.lastIndexOf("/")!==m.length-1&&(m+=p),m},e.prototype.getURI=function(t){t===void 0&&(t=!1);var r;return(!this.source||t)&&(r="",t||(this.protocol?r+=this.protocol+"://":r+="//",this.userInfo&&(r+=this.userInfo+"@"),this.host&&(r+=this.host),this.port&&(r+=":"+this.port)),this.path&&(r+=this.path),this.query&&(r+="?"+this.query),this.anchor&&(r+="#"+this.anchor),this.source=r),this.source},e}(),hw=je.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),$3=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},lh=Ya(function(){return document.implementation.createHTMLDocument("parser")}),Yc=function(e,t,r){for(var a=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,l=e.getShortEndedElements(),m=1,p=r;m!==0;)for(a.lastIndex=p;;){var C=a.exec(t);if(C===null)return p;if(C[1]==="!"){qe(C[2],"--")?p=pw(t,!1,C.index+3):p=pw(t,!0,C.index+1);break}else{c.lastIndex=a.lastIndex;var _=c.exec(t);if(Dr(_)||_.index!==a.lastIndex)continue;C[1]==="/"?m-=1:Un(l,C[2])||(m+=1),p=a.lastIndex+_[0].length;break}}return p},iv=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},pw=function(e,t,r){r===void 0&&(r=0);var a=e.toLowerCase();if(a.indexOf("[if ",r)!==-1&&iv(a,r)){var c=a.indexOf("[endif]",r);return a.indexOf(">",c)}else if(t){var l=a.indexOf(">",r);return l!==-1?l:a.length}else{var m=/--!?>/g;m.lastIndex=r;var p=m.exec(e);return p?p.index+p[0].length:a.length}},V3=function(e,t){var r=e.exec(t);if(r){var a=r[1],c=r[2];return typeof a=="string"&&a.toLowerCase()==="data-mce-bogus"?c:null}else return null},fh=function(e,t){t===void 0&&(t=Uf()),e=e||{};var r=lh(),a=r.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var c=e.comment?e.comment:en,l=e.cdata?e.cdata:en,m=e.text?e.text:en,p=e.start?e.start:en,C=e.end?e.end:en,_=e.pi?e.pi:en,H=e.doctype?e.doctype:en,$=function(Z,ne){ne===void 0&&(ne="html");for(var ae=Z.html,ie,ge=0,ve,De,Ee=[],pe,Be,Qe,mt,Nn,Kt,rt,Rn,Dt,qt,St,$t,rn,at,Xt,Ar,so,uo=0,Qu=Zs.decode,ni=je.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),hs=ne==="html"?0:1,Vl=function(ta){var wa,Iu;for(wa=Ee.length;wa--&&Ee[wa].name!==ta;);if(wa>=0){for(Iu=Ee.length-1;Iu>=wa;Iu--)ta=Ee[Iu],ta.valid&&C(ta.name);Ee.length=wa}},ct=function(ta,wa){return m(ch(ta,Z),wa)},Bt=function(ta){ta!==""&&(ta.charAt(0)===">"&&(ta=" "+ta),!e.allow_conditional_comments&&ta.substr(0,3).toLowerCase()==="[if"&&(ta=" "+ta),c(ch(ta,Z)))},gn=function(ta){return ch(ta,Z)},Fe=function(ta,wa){var Iu=ta||"",qm=!qe(Iu,"--"),Gm=pw(ae,qm,wa);return ta=ae.substr(wa,Gm-wa),Bt(qm?Iu+ta:ta),Gm+1},bt=function(ta,wa,Iu,qm,Gm){if(wa=wa.toLowerCase(),Iu=gn(wa in zu?wa:Qu(Iu||qm||Gm||"")),wu&&!Nn&&$3(wa)===!1){var Km=St[wa];if(!Km&&$t){for(var oy=$t.length;oy--&&(Km=$t[oy],!Km.pattern.test(wa)););oy===-1&&(Km=null)}if(!Km||Km.validValues&&!(Iu in Km.validValues))return}var oB=wa==="name"||wa==="id";oB&&ta in hw&&(Iu in r||Iu in a)||ni[wa]&&!_c.isDomSafe(Iu,ta,e)||Nn&&(wa in ni||wa.indexOf("on")===0)||(pe.map[wa]=Iu,pe.push({name:wa,value:Iu}))},st=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),yn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,_n=t.getShortEndedElements(),Yo=e.self_closing_elements||t.getSelfClosingElements(),zu=t.getBoolAttrs(),wu=e.validate,M1=e.remove_internals,ps=e.fix_self_closing,qs=t.getSpecialElements(),Fu=ae+">";ie=st.exec(Fu);){var Mf=ie[0];if(ge<ie.index&&ct(Qu(ae.substr(ge,ie.index-ge))),ve=ie[7])ve=ve.toLowerCase(),ve.charAt(0)===":"&&(ve=ve.substr(1)),Vl(ve);else if(ve=ie[8]){if(ie.index+Mf.length>ae.length){ct(Qu(ae.substr(ie.index))),ge=ie.index+Mf.length;continue}ve=ve.toLowerCase(),ve.charAt(0)===":"&&(ve=ve.substr(1)),Kt=ve in _n,ps&&Yo[ve]&&Ee.length>0&&Ee[Ee.length-1].name===ve&&Vl(ve);var Gs=V3(yn,ie[9]);if(Gs!==null){if(Gs==="all"){ge=Yc(t,ae,st.lastIndex),st.lastIndex=ge;continue}Rn=!1}if(!wu||(rt=t.getElementRule(ve))){if(Rn=!0,wu&&(St=rt.attributes,$t=rt.attributePatterns),(qt=ie[9])?(Nn=qt.indexOf("data-mce-type")!==-1,Nn&&M1&&(Rn=!1),pe=[],pe.map={},qt.replace(yn,function(ta,wa,Iu,qm,Gm){return bt(ve,wa,Iu,qm,Gm),""})):(pe=[],pe.map={}),wu&&!Nn){if(rn=rt.attributesRequired,at=rt.attributesDefault,Xt=rt.attributesForced,Ar=rt.removeEmptyAttrs,Ar&&!pe.length&&(Rn=!1),Xt)for(Be=Xt.length;Be--;)Dt=Xt[Be],mt=Dt.name,so=Dt.value,so==="{$uid}"&&(so="mce_"+uo++),pe.map[mt]=so,pe.push({name:mt,value:so});if(at)for(Be=at.length;Be--;)Dt=at[Be],mt=Dt.name,mt in pe.map||(so=Dt.value,so==="{$uid}"&&(so="mce_"+uo++),pe.map[mt]=so,pe.push({name:mt,value:so}));if(rn){for(Be=rn.length;Be--&&!(rn[Be]in pe.map););Be===-1&&(Rn=!1)}if(Dt=pe.map["data-mce-bogus"]){if(Dt==="all"){ge=Yc(t,ae,st.lastIndex),st.lastIndex=ge;continue}Rn=!1}}Rn&&p(ve,pe,Kt)}else Rn=!1;if(De=qs[ve]){De.lastIndex=ge=ie.index+Mf.length,(ie=De.exec(ae))?(Rn&&(Qe=ae.substr(ge,ie.index-ge)),ge=ie.index+ie[0].length):(Qe=ae.substr(ge),ge=ae.length),Rn&&(Qe.length>0&&ct(Qe,!0),C(ve)),st.lastIndex=ge;continue}Kt||(!qt||qt.indexOf("/")!==qt.length-1?Ee.push({name:ve,valid:Rn}):Rn&&C(ve))}else if(ve=ie[1])Bt(ve);else if(ve=ie[2]){var Ah=hs===1||e.preserve_cdata||Ee.length>0&&t.isValidChild(Ee[Ee.length-1].name,"#cdata");if(Ah)l(ve);else{ge=Fe("",ie.index+2),st.lastIndex=ge;continue}}else if(ve=ie[3])H(ve);else if((ve=ie[4])||Mf==="<!"){ge=Fe(ve,ie.index+Mf.length),st.lastIndex=ge;continue}else if(ve=ie[5])if(hs===1)_(ve,ie[6]);else{ge=Fe("?",ie.index+2),st.lastIndex=ge;continue}ge=ie.index+Mf.length}for(ge<ae.length&&ct(Qu(ae.substr(ge))),Be=Ee.length-1;Be>=0;Be--)ve=Ee[Be],ve.valid&&C(ve.name)},U=function(Z,ne){ne===void 0&&(ne="html"),$(xS(Z),ne)};return{parse:U}};fh.findEndTag=Yc;var il=function(e,t){var r=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(r,"")},ES=function(e,t){for(var r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a=e.schema,c=il(e.getTempAttrs(),t),l=a.getShortEndedElements(),m;m=r.exec(c);){var p=r.lastIndex,C=m[0].length,_=void 0;l[m[1]]?_=p:_=fh.findEndTag(a,c,p),c=c.substring(0,p-C)+c.substring(_),r.lastIndex=p-C}return Yl(c)},Za=ES,TS=function(e,t){var r=Ui(e),a=new RegExp("^(<"+r+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+r+`>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(a,"")},OS=function(e,t){return Jt(Jt({},e),{format:t,get:!0,getInner:!0})},AS=function(e,t,r,a){var c=OS(t,r),l=t.no_events?c:e.fire("BeforeGetContent",c),m;return l.format==="raw"?m=je.trim(Za(e.serializer,a.innerHTML)):l.format==="text"?m=e.dom.isEmpty(a)?"":Yl(a.innerText||a.textContent):l.format==="tree"?m=e.serializer.serialize(a,l):m=TS(e,e.serializer.serialize(a,l)),!Et(["text","tree"],l.format)&&!ng(k.fromDom(a))?l.content=je.trim(m):l.content=m,l.no_events?l.content:e.fire("GetContent",l).content},vh=function(e,t,r){return ee.from(e.getBody()).fold(oe(t.format==="tree"?new Rc("body",11):""),function(a){return AS(e,t,r,a)})},uv=je.each,Sb=function(e){var t=function(r,a){if(r.nodeName!==a.nodeName)return!1;var c=function(m){var p={};return uv(e.getAttribs(m),function(C){var _=C.nodeName.toLowerCase();_.indexOf("_")!==0&&_!=="style"&&_.indexOf("data-")!==0&&(p[_]=e.getAttrib(m,_))}),p},l=function(m,p){var C,_;for(_ in m)if(Un(m,_)){if(C=p[_],typeof C>"u"||m[_]!==C)return!1;delete p[_]}for(_ in p)if(Un(p,_))return!1;return!0};return!l(c(r),c(a))||!l(e.parseStyle(e.getAttrib(r,"style")),e.parseStyle(e.getAttrib(a,"style")))?!1:!Dc(r)&&!Dc(a)};return{compare:t}},kb=je.makeMap,bw=function(e){var t=[];e=e||{};var r=e.indent,a=kb(e.indent_before||""),c=kb(e.indent_after||""),l=Zs.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format==="html";return{start:function(p,C,_){var H,$,U,Z;if(r&&a[p]&&t.length>0&&(Z=t[t.length-1],Z.length>0&&Z!==`
`&&t.push(`
`)),t.push("<",p),C)for(H=0,$=C.length;H<$;H++)U=C[H],t.push(" ",U.name,'="',l(U.value,!0),'"');!_||m?t[t.length]=">":t[t.length]=" />",_&&r&&c[p]&&t.length>0&&(Z=t[t.length-1],Z.length>0&&Z!==`
`&&t.push(`
`))},end:function(p){var C;t.push("</",p,">"),r&&c[p]&&t.length>0&&(C=t[t.length-1],C.length>0&&C!==`
`&&t.push(`
`))},text:function(p,C){p.length>0&&(t[t.length]=C?p:l(p))},cdata:function(p){t.push("<![CDATA[",p,"]]>")},comment:function(p){t.push("<!--",p,"-->")},pi:function(p,C){C?t.push("<?",p," ",l(C),"?>"):t.push("<?",p,"?>"),r&&t.push(`
`)},doctype:function(p){t.push("<!DOCTYPE",p,">",r?`
`:"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},cd=function(e,t){t===void 0&&(t=Uf());var r=bw(e);e=e||{},e.validate="validate"in e?e.validate:!0;var a=function(c){var l=e.validate,m={3:function(C){r.text(C.value,C.raw)},8:function(C){r.comment(C.value)},7:function(C){r.pi(C.name,C.value)},10:function(C){r.doctype(C.value)},4:function(C){r.cdata(C.value)},11:function(C){if(C=C.firstChild)do p(C);while(C=C.next)}};r.reset();var p=function(C){var _=m[C.type];if(_)_(C);else{var H=C.name,$=C.shortEnded,U=C.attributes;if(l&&U&&U.length>1){var Z=[];Z.map={};var ne=t.getElementRule(C.name);if(ne){for(var ae=0,ie=ne.attributesOrder.length;ae<ie;ae++){var ge=ne.attributesOrder[ae];if(ge in U.map){var ve=U.map[ge];Z.map[ge]=ve,Z.push({name:ge,value:ve})}}for(var ae=0,ie=U.length;ae<ie;ae++){var ge=U[ae].name;if(!(ge in Z.map)){var ve=U.map[ge];Z.map[ge]=ve,Z.push({name:ge,value:ve})}}U=Z}}if(r.start(C.name,U,$),!$){if(C=C.firstChild)do p(C);while(C=C.next);r.end(H)}}};return c.type===1&&!e.inner?p(c):m[11](c),r.getContent()};return{serialize:a}},ul=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];tt(e,function(t){ul.add(t)})})();var c1=["font","text-decoration","text-emphasis"],Sf=function(e,t){return Xa(e.parseStyle(e.getAttrib(t,"style")))},sd=function(e){return ul.has(e)},cl=function(e,t){return ri(Sf(e,t),function(r){return!sd(r)})},Eb=function(e){return tn(e,function(t){return Ot(c1,function(r){return qe(t,r)})})},Bc=function(e,t,r){var a=Sf(e,t),c=Sf(e,r),l=function(m){var p=e.getStyle(t,m),C=e.getStyle(r,m);return Kn(p)&&Kn(C)&&p!==C};return Ot(a,function(m){var p=function(_){return Ot(_,function(H){return H===m})};if(!p(c)&&p(c1)){var C=Eb(c);return Ot(C,l)}else return l(m)})},ld=function(e,t,r){return ee.from(r.container()).filter(jt).exists(function(a){var c=e?0:-1;return t(a.data.charAt(r.offset()+c))})},Om=Ct(ld,!0,vm),dh=Ct(ld,!1,vm),DS=function(e){var t=e.container();return jt(t)&&(t.data.length===0||Nd(t.data)&&Gg.isBookmarkNode(t.parentNode))},kf=function(e,t){return function(r){return ee.from(p2(e?0:-1,r)).filter(t).isSome()}},Tb=function(e){return _h(e)&&sr(k.fromDom(e),"display")==="block"},yw=function(e){return Co(e)&&!Cd(e)},RS=kf(!0,Tb),fd=kf(!1,Tb),Am=kf(!0,Zo),Dm=kf(!1,Zo),ww=kf(!0,Ys),mh=kf(!1,Ys),Hs=kf(!0,yw),cv=kf(!1,yw),_S=function(e){for(var t=[],r=e.dom;r;)t.push(k.fromDom(r)),r=r.lastChild;return t},Ob=function(e){var t=lc(e,"br"),r=tn(_S(e).slice(-1),Kl);t.length===r.length&&tt(r,ci)},Nc=function(e){Es(e),jn(e,k.fromHtml('<br data-mce-bogus="1">'))},sv=function(e){Ss(e).each(function(t){Ff(t).each(function(r){_s(e)&&Kl(t)&&_s(r)&&ci(t)})})},sl=function(e){return e.slice(0,-1)},Cw=function(e,t,r){return wo(t,e)?sl(Ha(e,function(a){return r(a)||cn(a,t)})):[]},Ab=function(e,t){return Cw(e,t,Je)},Pl=function(e,t){return[e].concat(Ab(e,t))},s1=function(e,t,r){return S2(e,t,r,DS)},xw=function(e,t){return Ut(Pl(k.fromDom(t.container()),e),_s)},zl=function(e,t,r){return s1(e,t.dom,r).forall(function(a){return xw(t,r).fold(function(){return sf(a,r,t.dom)===!1},function(c){return sf(a,r,t.dom)===!1&&wo(c,k.fromDom(a.container()))})})},gh=function(e,t,r){return xw(t,r).fold(function(){return s1(e,t.dom,r).forall(function(a){return sf(a,r,t.dom)===!1})},function(a){return s1(e,a.dom,r).isNone()})},l1=Ct(gh,!1),f1=Ct(gh,!0),Sw=Ct(zl,!1),kw=Ct(zl,!0),Rm=function(e){return V0(e).exists(Kl)},_m=function(e,t,r){var a=tn(Pl(k.fromDom(r.container()),t),_s),c=Vo(a).getOr(t);return Kc(e,c.dom,r).filter(Rm)},Bm=function(e,t){return V0(t).exists(Kl)||_m(!0,e,t).isSome()},lv=function(e,t){return x3(t).exists(Kl)||_m(!1,e,t).isSome()},Ew=Ct(_m,!1),BS=Ct(_m,!0),Db=function(e){return He.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},v1=function(e,t){var r=tn(Pl(k.fromDom(t.container()),e),_s);return Vo(r).getOr(e)},hh=function(e,t){return Db(t)?dh(t):dh(t)||ff(v1(e,t).dom,t).exists(dh)},vd=function(e,t){return Db(t)?Om(t):Om(t)||vs(v1(e,t).dom,t).exists(Om)},Tw=function(e){return Et(["pre","pre-wrap"],e)},ph=function(e){return V0(e).bind(function(t){return Jm(t,Mc)}).exists(function(t){return Tw(sr(t,"white-space"))})},Rb=function(e,t){return ff(e.dom,t).isNone()},_b=function(e,t){return vs(e.dom,t).isNone()},NS=function(e,t){return Rb(e,t)||_b(e,t)||l1(e,t)||f1(e,t)||lv(e,t)||Bm(e,t)},U3=function(e,t){return ph(t)?!1:NS(e,t)||hh(e,t)||vd(e,t)},Bb=function(e,t){return ph(t)?!1:l1(e,t)||Sw(e,t)||lv(e,t)||hh(e,t)},W3=function(e){var t=e.container(),r=e.offset();return jt(t)&&r<t.data.length?He(t,r+1):e},d1=function(e,t){return ph(t)?!1:f1(e,t)||kw(e,t)||Bm(e,t)||vd(e,t)},MS=function(e,t){return Bb(e,t)||d1(e,W3(t))},Ow=function(e,t){return fm(e.charAt(t))},PS=function(e){var t=e.container();return jt(t)&&Xe(t.data,cc)},zS=function(e){var t=e.split("");return Vt(t,function(r,a){return fm(r)&&a>0&&a<t.length-1&&K0(t[a-1])&&K0(t[a+1])?" ":r}).join("")},Aw=function(e,t){var r=t.data,a=He(t,0);return Ow(r,0)&&!MS(e,a)?(t.data=" "+r.slice(1),!0):!1},m1=function(e){var t=e.data,r=zS(t);return r!==t?(e.data=r,!0):!1},bh=function(e,t){var r=t.data,a=He(t,r.length-1);return Ow(r,r.length-1)&&!MS(e,a)?(t.data=r.slice(0,-1)+" ",!0):!1},j3=function(e,t){return ee.some(t).filter(PS).bind(function(r){var a=r.container(),c=Aw(e,a)||m1(a)||bh(e,a);return c?ee.some(r):ee.none()})},Nb=function(e){var t=k.fromDom(e.getBody());e.selection.isCollapsed()&&j3(t,He.fromRangeStart(e.selection.getRng())).each(function(r){e.selection.setRng(r.toRange())})},Dw=function(e,t,r){var a=eo(e,function(c,l){return vm(l)||fm(l)?c.previousCharIsSpace||c.str===""&&t||c.str.length===e.length-1&&r?{previousCharIsSpace:!1,str:c.str+cc}:{previousCharIsSpace:!0,str:c.str+" "}:{previousCharIsSpace:!1,str:c.str+l}},{previousCharIsSpace:!1,str:""});return a.str},Rw=function(e,t,r){if(r!==0){var a=k.fromDom(e),c=Av(a,_s).getOr(a),l=e.data.slice(t,t+r),m=t+r>=e.data.length&&d1(c,He(e,e.data.length)),p=t===0&&Bb(c,He(e,0));e.replaceData(t,r,Dw(l,p,m))}},g1=function(e,t){var r=e.data.slice(t),a=r.length-pt(r).length;Rw(e,t,a)},fv=function(e,t){var r=e.data.slice(0,t),a=r.length-Mn(r).length;Rw(e,t-a,a)},i=function(e,t,r,a){a===void 0&&(a=!0);var c=Mn(e.data).length,l=a?e:t,m=a?t:e;return a?l.appendData(m.data):l.insertData(0,m.data),ci(k.fromDom(m)),r&&g1(l,c),l},s=function(e,t){var r=e.container(),a=e.offset();return He.isTextPosition(e)===!1&&r===t.parentNode&&a>He.before(t).offset()},v=function(e,t){return s(t,e)?He(t.container(),t.offset()-1):t},h=function(e){return jt(e)?He(e,0):He.before(e)},y=function(e){return jt(e)?He(e,e.data.length):He.after(e)},E=function(e){return du(e.previousSibling)?ee.some(y(e.previousSibling)):e.previousSibling?ol(e.previousSibling):ee.none()},B=function(e){return du(e.nextSibling)?ee.some(h(e.nextSibling)):e.nextSibling?mc(e.nextSibling):ee.none()},I=function(e,t){var r=He.before(t.previousSibling?t.previousSibling:t.parentNode);return ff(e,r).fold(function(){return vs(e,He.after(t))},ee.some)},J=function(e,t){return vs(e,He.after(t)).fold(function(){return ff(e,He.before(t))},ee.some)},ce=function(e,t){return E(t).orThunk(function(){return B(t)}).orThunk(function(){return I(e,t)})},be=function(e,t){return B(t).orThunk(function(){return E(t)}).orThunk(function(){return J(e,t)})},We=function(e,t,r){return e?be(t,r):ce(t,r)},ft=function(e,t,r){return We(e,t,r).map(Ct(v,r))},et=function(e,t,r){r.fold(function(){e.focus()},function(a){e.selection.setRng(a.toRange(),t)})},Ue=function(e){return function(t){return t.dom===e}},xt=function(e,t){return t&&Un(e.schema.getBlockElements(),on(t))},_t=function(e){if(vi(e)){var t=k.fromHtml('<br data-mce-bogus="1">');return Es(e),jn(e,t),ee.some(He.before(t.dom))}else return ee.none()},xn=function(e,t,r){var a=Ff(e).filter(fu),c=rs(e).filter(fu);return ci(e),F1(a,c,t,function(l,m,p){var C=l.dom,_=m.dom,H=C.data.length;return i(C,_,r),p.container()===_?He(C,H):p}).orThunk(function(){return r&&(a.each(function(l){return fv(l.dom,l.dom.length)}),c.each(function(l){return g1(l.dom,0)})),t})},Lr=function(e,t){return Un(e.schema.getTextInlineElements(),on(t))},ln=function(e,t,r,a){a===void 0&&(a=!0);var c=ft(t,e.getBody(),r.dom),l=Av(r,Ct(xt,e),Ue(e.getBody())),m=xn(r,c,Lr(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):l.bind(_t).fold(function(){a&&et(e,t,m)},function(p){a&&et(e,t,ee.some(p))})},Pn=function(e){return function(t){return cn(e,t)}},pr=function(e){return lc(e,"td,th")},gr=function(e,t){var r=function(_){return Gu(k.fromDom(_),t)},a=r(e.startContainer),c=r(e.endContainer),l=a.isSome(),m=c.isSome(),p=$u(a,c,cn).getOr(!1),C=!p&&l&&m;return{startTable:a,endTable:c,isStartInTable:l,isEndInTable:m,isSameTable:p,isMultiTable:C}},ei=function(e,t){return{start:e,end:t}},Wi=function(e,t,r){return{rng:e,table:t,cells:r}},ji=As.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Nr=function(e,t){return Oi(k.fromDom(e),"td,th",t)},$n=function(e){return!cn(e.start,e.end)},Cr=function(e,t){return Gu(e.start,t).bind(function(r){return Gu(e.end,t).bind(function(a){return Bh(cn(r,a),r)})})},$o=function(e,t){return!$n(e)&&Cr(e,t).exists(function(r){var a=r.dom.rows;return a.length===1&&a[0].cells.length===1})},ya=function(e,t){var r=Nr(e.startContainer,t),a=Nr(e.endContainer,t);return $u(r,a,ei)},Fl=function(e){return function(t){return Gu(t,e).bind(function(r){return Ta(pr(r)).map(function(a){return ei(t,a)})})}},ll=function(e){return function(t){return Gu(t,e).bind(function(r){return Vo(pr(r)).map(function(a){return ei(a,t)})})}},Ef=function(e){return function(t){return Cr(t,e).map(function(r){return Wi(t,r,pr(r))})}},yu=function(e,t,r,a){if(r.collapsed||!e.forall($n))return ee.none();if(t.isSameTable){var c=e.bind(Ef(a));return ee.some({start:c,end:c})}else{var l=Nr(r.startContainer,a),m=Nr(r.endContainer,a),p=l.bind(Fl(a)).bind(Ef(a)),C=m.bind(ll(a)).bind(Ef(a));return ee.some({start:p,end:C})}},Mb=function(e,t){return To(e,function(r){return cn(r,t)})},vv=function(e){return $u(Mb(e.cells,e.rng.start),Mb(e.cells,e.rng.end),function(t,r){return e.cells.slice(t,r+1)})},dv=function(e,t,r){return e.exists(function(a){return $o(a,r)&&Bl(a.start,t)})},Ku=function(e,t){var r=t.startTable,a=t.endTable,c=e.cloneRange();return r.each(function(l){return c.setStartAfter(l.dom)}),a.each(function(l){return c.setEndBefore(l.dom)}),c},mv=function(e,t,r,a){return yu(e,t,r,a).bind(function(c){var l=c.start,m=c.end;return l.or(m)}).bind(function(c){var l=t.isSameTable,m=vv(c).getOr([]);if(l&&c.cells.length===m.length)return ee.some(ji.fullTable(c.table));if(m.length>0){if(l)return ee.some(ji.partialTable(m,ee.none()));var p=Ku(r,t);return ee.some(ji.partialTable(m,ee.some(Jt(Jt({},t),{rng:p}))))}else return ee.none()})},FS=function(e,t,r,a){return yu(e,t,r,a).bind(function(c){var l=c.start,m=c.end,p=l.bind(vv).getOr([]),C=m.bind(vv).getOr([]);if(p.length>0&&C.length>0){var _=Ku(r,t);return ee.some(ji.multiTable(p,C,_))}else return ee.none()})},Pb=function(e,t){var r=Pn(e),a=ya(t,r),c=gr(t,r);return dv(a,t,r)?a.map(function(l){return ji.singleCellTable(t,l.start)}):c.isMultiTable?FS(a,c,t,r):mv(a,c,t,r)},_w=function(e){var t=ws(e)?Ff(e):Ss(e);return t.bind(_w).orThunk(function(){return ee.some(e)})},Bw=function(e){return tt(e,function(t){ht(t,"contenteditable"),Nc(t)})},IS=function(e,t){return ee.from(e.dom.getParent(t,e.dom.isBlock)).map(k.fromDom)},q3=function(e,t,r){r.each(function(a){t?ci(a):(Nc(a),e.selection.setCursorLocation(a.dom,0))})},h1=function(e,t,r,a){var c=r.cloneRange();a?(c.setStart(r.startContainer,r.startOffset),c.setEndAfter(t.dom.lastChild)):(c.setStartBefore(t.dom.firstChild),c.setEnd(r.endContainer,r.endOffset)),LS(e,c,t,!1)},$s=function(e){var t=ed(e),r=k.fromDom(e.selection.getNode());Wa(r.dom)&&vi(r)?e.selection.setCursorLocation(r.dom,0):e.selection.collapse(!0),t.length>1&&Ot(t,function(a){return cn(a,r)})&&O(r,"data-mce-selected","1")},Tf=function(e,t,r){var a=e.selection.getRng(),c=r.bind(function(l){var m=l.rng,p=l.isStartInTable,C=IS(e,p?m.endContainer:m.startContainer);m.deleteContents(),q3(e,p,C.filter(vi));var _=p?t[0]:t[t.length-1];return h1(e,_,a,p),vi(_)?ee.none():ee.some(p?t.slice(1):t.slice(0,-1))}).getOr(t);return Bw(c),$s(e),!0},YE=function(e,t,r,a){var c=e.selection.getRng(),l=t[0],m=r[r.length-1];h1(e,l,c,!0),h1(e,m,c,!1);var p=vi(l)?t:t.slice(1),C=vi(m)?r:r.slice(0,-1);return Bw(p.concat(C)),a.deleteContents(),$s(e),!0},LS=function(e,t,r,a){a===void 0&&(a=!0),t.deleteContents();var c=_w(r).getOr(r),l=k.fromDom(e.dom.getParent(c.dom,e.dom.isBlock));if(vi(l)&&(Nc(l),a&&e.selection.setCursorLocation(l.dom,0)),!cn(r,l)){var m=zc(Tu(l),r)?[]:kv(l);tt(m.concat(Hu(r)),function(p){!cn(p,l)&&!wo(p,l)&&vi(p)&&ci(p)})}return!0},JE=function(e,t){return ln(e,!1,t),!0},SD=function(e,t,r){return Pb(t,r).map(function(a){return a.fold(Ct(LS,e),Ct(JE,e),Ct(Tf,e),Ct(YE,e))})},kD=function(e,t){return HS(e,t)},ED=function(e,t,r,a){return G3(t,a).fold(function(){return SD(e,t,r)},function(c){return kD(e,c)}).getOr(!1)},TD=function(e,t,r){var a=k.fromDom(e.getBody()),c=e.selection.getRng();return r.length!==0?Tf(e,r,ee.none()):ED(e,a,c,t)},QE=function(e,t){return Ut(Pl(t,e),Bd)},G3=function(e,t){return Ut(Pl(t,e),Sv("caption"))},OD=function(e,t,r,a,c){return Pp(r,e.getBody(),c).bind(function(l){return QE(t,k.fromDom(l.getNode())).map(function(m){return cn(m,a)===!1})})},HS=function(e,t){return Nc(t),e.selection.setCursorLocation(t.dom,0),ee.some(!0)},AD=function(e,t,r,a){return mc(e.dom).bind(function(c){return ol(e.dom).map(function(l){return t?r.isEqual(c)&&a.isEqual(l):r.isEqual(l)&&a.isEqual(c)})}).getOr(!0)},Nw=function(e,t){return HS(e,t)},K3=function(e,t,r){return G3(e,k.fromDom(r.getNode())).map(function(a){return cn(a,t)===!1})},DD=function(e,t,r,a,c){return Pp(r,e.getBody(),c).bind(function(l){return AD(a,r,c,l)?Nw(e,a):K3(t,a,l)}).or(ee.some(!0))},RD=function(e,t,r,a){var c=He.fromRangeStart(e.selection.getRng());return QE(r,a).bind(function(l){return vi(l)?HS(e,l):OD(e,r,t,l,c)}).getOr(!1)},_D=function(e,t,r,a){var c=He.fromRangeStart(e.selection.getRng());return vi(a)?HS(e,a):DD(e,r,t,a,c)},ZE=function(e,t){return e?ww(t):mh(t)},BD=function(e,t){var r=He.fromRangeStart(e.selection.getRng());return ZE(t,r)||Kc(t,e.getBody(),r).exists(function(a){return ZE(t,a)})},ND=function(e,t,r){var a=k.fromDom(e.getBody());return G3(a,r).fold(function(){return RD(e,t,a,r)||BD(e,t)},function(c){return _D(e,t,a,c).getOr(!1)})},$S=function(e,t){var r=k.fromDom(e.selection.getStart(!0)),a=ed(e);return e.selection.isCollapsed()&&a.length===0?ND(e,t,r):TD(e,r,a)},MD=function(e,t,r,a){var c=document.createRange();return c.setStart(e,t),c.setEnd(r,a),c},PD=function(e){var t=He.fromRangeStart(e),r=He.fromRangeEnd(e),a=e.commonAncestorContainer;return Kc(!1,a,r).map(function(c){return!sf(t,r,a)&&sf(t,c,a)?MD(t.container(),t.offset(),c.container(),c.offset()):e}).getOr(e)},X3=function(e){return e.collapsed?e:PD(e)},zD=function(e){return e.firstChild&&e.firstChild===e.lastChild},FD=function(e){return e.name==="br"||e.value===cc},ID=function(e,t){var r=e.getBlockElements();return r[t.name]&&zD(t)&&FD(t.firstChild)},LD=function(e,t){var r=e.getNonEmptyElements();return t&&(t.isEmpty(r)||ID(e,t))},HD=function(e,t){var r=t.firstChild,a=t.lastChild;return r&&r.name==="meta"&&(r=r.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),LD(e,a)&&(a=a.prev),!r||r!==a?!1:r.name==="ul"||r.name==="ol"},$D=function(e){var t=e.firstChild,r=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),r&&r.id==="mce_marker"&&r.parentNode.removeChild(r),e},VD=function(e,t,r){var a=t.serialize(r),c=e.createFragment(a);return $D(c)},UD=function(e){return tn(e.childNodes,function(t){return t.nodeName==="LI"})},WD=function(e){return e.data===cc||Ua(e)},Of=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&WD(e.firstChild)},Y3=function(e){return!e.firstChild||Of(e)},eT=function(e){return e.length>0&&Y3(e[e.length-1])?e.slice(0,-1):e},VS=function(e,t){var r=e.getParent(t,e.isBlock);return r&&r.nodeName==="LI"?r:null},jD=function(e,t){return!!VS(e,t)},zb=function(e,t){var r=t.cloneRange(),a=t.cloneRange();return r.setStartBefore(e),a.setEndAfter(e),[r.cloneContents(),a.cloneContents()]},tT=function(e,t){var r=He.before(e),a=Rl(t),c=a.next(r);return c?c.toRange():null},J3=function(e,t){var r=He.after(e),a=Rl(t),c=a.prev(r);return c?c.toRange():null},nT=function(e,t,r,a){var c=zb(e,a),l=e.parentNode;return l.insertBefore(c[0],e),je.each(t,function(m){l.insertBefore(m,e)}),l.insertBefore(c[1],e),l.removeChild(e),J3(t[t.length-1],r)},Q3=function(e,t,r){var a=e.parentNode;return je.each(t,function(c){a.insertBefore(c,e)}),tT(e,r)},qD=function(e,t,r,a){return a.insertAfter(t.reverse(),e),J3(t[0],r)},Z3=function(e,t,r,a){var c=VD(t,e,a),l=VS(t,r.startContainer),m=eT(UD(c.firstChild)),p=1,C=2,_=t.getRoot(),H=function($){var U=He.fromRangeStart(r),Z=Rl(t.getRoot()),ne=$===p?Z.prev(U):Z.next(U);return ne?VS(t,ne.getNode())!==l:!0};return H(p)?Q3(l,m,_):H(C)?qD(l,m,_,t):nT(l,m,_,r)},GD=function(e,t,r){var a=k.fromDom(e.getRoot());return Bb(a,He.fromRangeStart(t))?r=r.replace(/^ /,"&nbsp;"):r=r.replace(/^&nbsp;/," "),d1(a,He.fromRangeEnd(t))?r=r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r=r.replace(/&nbsp;(<br( \/)?>)?$/," "),r},e4=Wa,yh=function(e,t,r){if(r!==null){var a=e.getParent(t.endContainer,e4);return r===a&&Bl(k.fromDom(r),t)}else return!1},KD=function(e,t,r){if(r.getAttribute("data-mce-bogus")==="all")r.parentNode.insertBefore(e.dom.createFragment(t),r);else{var a=r.firstChild,c=r.lastChild;!a||a===c&&a.nodeName==="BR"?e.dom.setHTML(r,t):e.selection.setContent(t)}},XD=function(e,t){ee.from(e.getParent(t,"td,th")).map(k.fromDom).each(sv)},YD=function(e,t){var r=e.schema.getTextInlineElements(),a=e.dom;if(t){var c=e.getBody(),l=Sb(a);je.each(a.select("*[data-mce-fragment]"),function(m){var p=Zt(r[m.nodeName.toLowerCase()]);if(p&&cl(a,m))for(var C=m.parentNode;Zt(C)&&C!==c;C=C.parentNode){var _=Bc(a,m,C);if(_)break;if(l.compare(C,m)){a.remove(m,!0);break}}})}},US=function(e){for(var t=e;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},t4=function(e){je.each(e.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},n4=function(e){return!!e.getAttribute("data-mce-fragment")},JD=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},Nm=function(e,t){var r,a=e.dom,c=e.selection;if(!!t){c.scrollIntoView(t);var l=nd(e.getBody(),t);if(a.getContentEditable(l)==="false"){a.remove(t),c.select(l);return}var m=a.createRng(),p=t.previousSibling;if(jt(p)){if(m.setStart(p,p.nodeValue.length),!In.ie){var C=t.nextSibling;jt(C)&&(p.appendData(C.data),C.parentNode.removeChild(C))}}else m.setStartBefore(t),m.setEndBefore(t);var _=function($){var U=He.fromRangeStart($),Z=Rl(e.getBody());if(U=Z.next(U),U)return U.toRange()},H=a.getParent(t,a.isBlock);a.remove(t),H&&a.isEmpty(H)&&(e.$(H).empty(),m.setStart(H,0),m.setEnd(H,0),!e4(H)&&!n4(H)&&(r=_(m))?(m=r,a.remove(H)):a.add(H,a.create("br",{"data-mce-bogus":"1"}))),c.setRng(m)}},QD=function(e){var t=e.dom,r=X3(e.selection.getRng());e.selection.setRng(r);var a=t.getParent(r.startContainer,e4);yh(t,r,a)?LS(e,r,k.fromDom(a)):e.getDoc().execCommand("Delete",!1,null)},ZD=function(e,t,r){var a,c,l,m=e.selection,p=e.dom;/^ | $/.test(t)&&(t=GD(p,m.getRng(),t));var C=e.parser,_=r.merge,H=cd({validate:b3(e)},e.schema),$='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',U=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:r.paste});if(U.isDefaultPrevented()){e.fire("SetContent",{content:U.content,format:"html",selection:!0,paste:r.paste});return}t=U.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,$),c=m.getRng();var Z=c.startContainer||(c.parentElement?c.parentElement():null),ne=e.getBody();Z===ne&&m.isCollapsed()&&p.isBlock(ne.firstChild)&&JD(e,ne.firstChild)&&p.isEmpty(ne.firstChild)&&(c=p.createRng(),c.setStart(ne.firstChild,0),c.setEnd(ne.firstChild,0),m.setRng(c)),m.isCollapsed()||QD(e),a=m.getNode();var ae={context:a.nodeName.toLowerCase(),data:r.data,insert:!0},ie=C.parse(t,ae);if(r.paste===!0&&HD(e.schema,ie)&&jD(p,a)){c=Z3(H,p,m.getRng(),ie),m.setRng(c),e.fire("SetContent",U);return}if(US(ie),l=ie.lastChild,l.attr("id")==="mce_marker"){var ge=l;for(l=l.prev;l;l=l.walk(!0))if(l.type===3||!p.isBlock(l.name)){e.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(ge,l,l.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(a),!ae.invalid)t=H.serialize(ie),KD(e,t,a);else{e.selection.setContent($),a=m.getNode();var ve=e.getBody();for(a.nodeType===9?a=l=ve:l=a;l!==ve;)a=l,l=l.parentNode;t=a===ve?ve.innerHTML:p.getOuterHTML(a),t=H.serialize(C.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return H.serialize(ie)}))),a===ve?p.setHTML(ve,t):p.setOuterHTML(a,t)}YD(e,_),Nm(e,p.get("mce_marker")),t4(e.getBody()),XD(p,m.getStart()),e.fire("SetContent",U),e.addVisual()},Mw=function(e,t){t(e),e.firstChild&&Mw(e.firstChild,t),e.next&&Mw(e.next,t)},e5=function(e,t,r){var a={},c={},l=[];r.firstChild&&Mw(r.firstChild,function(C){tt(e,function(_){_.name===C.name&&(a[_.name]?a[_.name].nodes.push(C):a[_.name]={filter:_,nodes:[C]})}),tt(t,function(_){typeof C.attr(_.name)=="string"&&(c[_.name]?c[_.name].nodes.push(C):c[_.name]={filter:_,nodes:[C]})})});for(var m in a)Un(a,m)&&l.push(a[m]);for(var p in c)Un(c,p)&&l.push(c[p]);return l},t5=function(e,t,r){var a=e5(e,t,r);tt(a,function(c){tt(c.filter.callbacks,function(l){l(c.nodes,c.filter.name,{})})})},n5="html",r4=function(e){return e instanceof Rc},r5=function(e){Cf(e)&&mc(e.getBody()).each(function(t){var r=t.getNode(),a=Ys(r)?mc(r).getOr(t):t;e.selection.setRng(a.toRange())})},o4=function(e,t,r){e.dom.setHTML(e.getBody(),t),r!==!0&&r5(e)},rT=function(e,t,r,a){if(r.length===0||/^\s+$/.test(r)){var c='<br data-mce-bogus="1">';t.nodeName==="TABLE"?r="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+c+"</li>");var l=Ui(e);l&&e.schema.isValidChild(t.nodeName.toLowerCase(),l.toLowerCase())?(r=c,r=e.dom.createHTML(l,Al(e),r)):r||(r='<br data-mce-bogus="1">'),o4(e,r,a.no_selection),e.fire("SetContent",a)}else a.format!=="raw"&&(r=cd({validate:e.validate},e.schema).serialize(e.parser.parse(r,{isRootContent:!0,insert:!0}))),a.content=ng(k.fromDom(t))?r:je.trim(r),o4(e,a.content,a.no_selection),a.no_events||e.fire("SetContent",a);return a.content},o5=function(e,t,r,a){t5(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r);var c=cd({validate:e.validate},e.schema).serialize(r);return a.content=ng(k.fromDom(t))?c:je.trim(c),o4(e,a.content,a.no_selection),a.no_events||e.fire("SetContent",a),r},a5=function(e,t){return Jt(Jt({format:n5},e),{set:!0,content:r4(t)?"":t})},i5=function(e,t,r){var a=a5(r,t),c=r.no_events?a:e.fire("BeforeSetContent",a);return r4(t)||(t=c.content),ee.from(e.getBody()).fold(oe(t),function(l){return r4(t)?o5(e,l,t,c):rT(e,l,t,c)})},u5=function(e,t){return Od(e,t).isSome()},a4=function(e){return Wt(e)?e:Je},oT=function(e,t,r){for(var a=e.dom,c=a4(r);a.parentNode;){a=a.parentNode;var l=k.fromDom(a),m=t(l);if(m.isSome())return m;if(c(l))break}return ee.none()},wh=function(e,t,r){var a=t(e),c=a4(r);return a.orThunk(function(){return c(e)?ee.none():oT(e,t,c)})},WS=O2,aT=function(e,t,r){var a=e.formatter.get(r);if(a)for(var c=0;c<a.length;c++){var l=a[c];if(Xc(l)&&l.inherit===!1&&e.dom.is(t,l.selector))return!0}return!1},jS=function(e,t,r,a,c){var l=e.dom.getRoot();return t===l?!1:(t=e.dom.getParent(t,function(m){return aT(e,m,r)?!0:m.parentNode===l||!!uu(e,m,r,a,!0)}),!!uu(e,t,r,a,c))},i4=function(e,t,r){if(WS(t,r.inline)||WS(t,r.block))return!0;if(r.selector)return t.nodeType===1&&e.is(t,r.selector)},iT=function(e,t,r,a,c,l){var m=r[a];if(Wt(r.onmatch))return r.onmatch(t,r,a);if(m){if(Ft(m.length)){for(var p in m)if(Un(m,p)){var C=a==="attributes"?e.getAttrib(t,p):av(e,t,p),_=df(m[p],l),H=Fn(C)||Zn(C);if(H&&Fn(_))continue;if(c&&H&&!r.exact||(!c||r.exact)&&!WS(C,A2(e,_,p)))return!1}}else for(var $=0;$<m.length;$++)if(a==="attributes"?e.getAttrib(t,m[$]):av(e,t,m[$]))return!0}return!0},uu=function(e,t,r,a,c){var l=e.formatter.get(r),m=e.dom;if(l&&t)for(var p=0;p<l.length;p++){var C=l[p];if(i4(e.dom,t,C)&&iT(m,t,C,"attributes",c,a)&&iT(m,t,C,"styles",c,a)){var _=C.classes;if(_){for(var H=0;H<_.length;H++)if(!e.dom.hasClass(t,df(_[H],a)))return}return C}}},Nu=function(e,t,r,a,c){if(a)return jS(e,a,t,r,c);if(a=e.selection.getNode(),jS(e,a,t,r,c))return!0;var l=e.selection.getStart();return!!(l!==a&&jS(e,l,t,r,c))},c5=function(e,t,r){var a=[],c={},l=e.selection.getStart();return e.dom.getParent(l,function(m){for(var p=0;p<t.length;p++){var C=t[p];!c[C]&&uu(e,m,C,r)&&(c[C]=!0,a.push(C))}},e.dom.getRoot()),a},s5=function(e,t){var r=function(c){return cn(c,k.fromDom(e.getBody()))},a=function(c,l){return uu(e,c.dom,l)?ee.some(l):ee.none()};return ee.from(e.selection.getStart(!0)).bind(function(c){return wh(k.fromDom(c),function(l){return va(t,function(m){return a(l,m)})},r)}).getOrNull()},l5=function(e,t){var r=e.formatter.get(t),a=e.dom;if(r)for(var c=e.selection.getStart(),l=dm(a,c),m=r.length-1;m>=0;m--){var p=r[m];if(!Xc(p)||Zt(p.defaultBlock))return!0;for(var C=l.length-1;C>=0;C--)if(a.is(l[C],p.selector))return!0}return!1},ds=function(e,t,r){return eo(r,function(a,c){var l=Fx(e,c);return e.formatter.matchNode(t,c,{},l)?a.concat([c]):a},[])},p1=fi,uT="_mce_caret",Fb=function(e,t){return e.importNode(t,!0)},f5=function(e){for(var t=[];e;){if(e.nodeType===3&&e.nodeValue!==p1||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},Pw=function(e){return f5(e).length>0},u4=function(e){if(e){var t=new li(e,e);for(e=t.current();e;e=t.next())if(jt(e))return e}return null},c4=function(e){var t=k.fromTag("span");return z(t,{id:uT,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&jn(t,k.fromText(p1)),t},v5=function(e){var t=u4(e);return t&&t.nodeValue.charAt(0)===p1&&t.deleteData(0,1),t},s4=function(e,t,r){r===void 0&&(r=!0);var a=e.dom,c=e.selection;if(Pw(t))ln(e,!1,k.fromDom(t),r);else{var l=c.getRng(),m=a.getParent(t,a.isBlock),p=l.startContainer,C=l.startOffset,_=l.endContainer,H=l.endOffset,$=v5(t);a.remove(t,!0),p===$&&C>0&&l.setStart($,C-1),_===$&&H>0&&l.setEnd($,H-1),m&&a.isEmpty(m)&&Nc(k.fromDom(m)),c.setRng(l)}},l4=function(e,t,r){r===void 0&&(r=!0);var a=e.dom,c=e.selection;if(t)s4(e,t,r);else if(t=Yv(e.getBody(),c.getStart()),!t)for(;t=a.get(uT);)s4(e,t,!1)},f4=function(e,t,r){var a=e.dom,c=a.getParent(r,Ct(Lg,e));c&&a.isEmpty(c)?r.parentNode.replaceChild(t,r):(Ob(k.fromDom(r)),a.isEmpty(r)?r.parentNode.replaceChild(t,r):a.insertAfter(t,r))},cT=function(e,t){return e.appendChild(t),t},v4=function(e,t){var r=xa(e,function(a,c){return cT(a,c.cloneNode(!1))},t);return cT(r,r.ownerDocument.createTextNode(p1))},sT=function(e,t,r,a,c,l){var m=e.formatter,p=e.dom,C=tn(Xa(m.get()),function(U){return U!==a&&!Xe(U,"removeformat")}),_=ds(e,r,C),H=tn(_,function(U){return!Ix(e,U,a)});if(H.length>0){var $=r.cloneNode(!1);return p.add(t,$),m.remove(a,c,$,l),p.remove($),ee.some($)}else return ee.none()},qS=function(e,t,r){var a,c,l=e.selection,m=l.getRng(),p=m.startOffset,C=m.startContainer,_=C.nodeValue;a=Yv(e.getBody(),l.getStart()),a&&(c=u4(a));var H=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(_&&p>0&&p<_.length&&H.test(_.charAt(p))&&H.test(_.charAt(p-1))){var $=l.getBookmark();m.collapse(!0);var U=Qv(e,m,e.formatter.get(t));U=bf(U),e.formatter.apply(t,r,U),l.moveToBookmark($)}else(!a||c.nodeValue!==p1)&&(a=Fb(e.getDoc(),c4(!0).dom),c=a.firstChild,m.insertNode(a),p=1),e.formatter.apply(t,r,a),l.setCursorLocation(c,p)},lT=function(e,t,r,a){var c=e.dom,l=e.selection,m,p,C,_=[],H=l.getRng(),$=H.startContainer,U=H.startOffset;for(p=$,$.nodeType===3&&(U!==$.nodeValue.length&&(m=!0),p=p.parentNode);p;){if(uu(e,p,t,r,a)){C=p;break}p.nextSibling&&(m=!0),_.push(p),p=p.parentNode}if(!!C)if(m){var Z=l.getBookmark();H.collapse(!0);var ne=Qv(e,H,e.formatter.get(t),!0);ne=bf(ne),e.formatter.remove(t,r,ne,a),l.moveToBookmark(Z)}else{var ae=Yv(e.getBody(),C),ie=c4(!1).dom;f4(e,ie,ae!==null?ae:C);var ge=sT(e,ie,C,t,r,a),ve=v4(_.concat(ge.toArray()),ie);s4(e,ae,!1),l.setCursorLocation(ve,1),c.isEmpty(C)&&c.remove(C)}},d5=function(e,t){var r=e.selection,a=e.getBody();l4(e,null,!1),(t===8||t===46)&&r.isCollapsed()&&r.getStart().innerHTML===p1&&l4(e,Yv(a,r.getStart())),(t===37||t===39)&&l4(e,Yv(a,r.getStart()))},d4=function(e){e.on("mouseup keydown",function(t){d5(e,t.keyCode)})},fT=function(e,t){var r=c4(!1),a=v4(t,r.dom);return $a(k.fromDom(e),r),ci(k.fromDom(e)),He(a,0)},m4=function(e,t){var r=e.schema.getTextInlineElements();return Un(r,on(t))&&!gc(t.dom)&&!Ja(t.dom)},m5=function(e){return gc(e.dom)&&Pw(e.dom)},Bi={},g4=oi,vT=Fa,dT=function(e,t){var r=Bi[e];r||(Bi[e]=[]),Bi[e].push(t)},mT=function(e,t){vT(Bi[e],function(r){r(t)})};dT("pre",function(e){var t=e.selection.getRng(),r,a=function(m){return l(m.previousSibling)&&oa(r,m.previousSibling)!==-1},c=function(m,p){nr(p).remove(),nr(m).append("<br><br>").append(p.childNodes)},l=us(["pre"]);t.collapsed||(r=e.selection.getSelectedBlocks(),vT(g4(g4(r,l),a),function(m){c(m.previousSibling,m)}))});var GS=je.each,KS=function(e){return Ln(e)&&!Dc(e)&&!gc(e)&&!Ja(e)},h4=function(e,t){for(var r=e;r;r=r[t]){if(jt(r)&&Kn(r.data))return e;if(Ln(r)&&!Dc(r))return r}return e},p4=function(e,t,r){var a=Sb(e);if(t&&r&&(t=h4(t,"previousSibling"),r=h4(r,"nextSibling"),a.compare(t,r))){for(var c=t.nextSibling;c&&c!==r;){var l=c;c=c.nextSibling,t.appendChild(l)}return e.remove(r),je.each(je.grep(r.childNodes),function(m){t.appendChild(m)}),t}return r},gT=function(e,t,r,a){if(a&&t.merge_siblings!==!1){var c=p4(e,X0(a),a);p4(e,c,X0(c,!0))}},hT=function(e,t,r){if(t.clear_child_styles){var a=t.links?"*:not(a)":"*";GS(e.select(a,r),function(c){KS(c)&&GS(t.styles,function(l,m){e.setStyle(c,m,"")})})}},b4=function(e,t,r){GS(e.childNodes,function(a){KS(a)&&(t(a)&&r(a),a.hasChildNodes()&&b4(a,t,r))})},g5=function(e,t){t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},pT=function(e,t){return function(r){return!!(r&&av(e,r,t))}},bT=function(e,t,r){return function(a){e.setStyle(a,t,r),a.getAttribute("style")===""&&a.removeAttribute("style"),g5(e,a)}},Ib=As.generate([{keep:[]},{rename:["name"]},{removed:[]}]),yT=/^(src|href|style)$/,XS=je.each,Lb=O2,h5=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},YS=function(e,t,r){return e.isChildOf(t,r)&&t!==r&&!e.isBlock(r)},wT=function(e,t,r){var a=t[r?"startContainer":"endContainer"],c=t[r?"startOffset":"endOffset"];if(Ln(a)){var l=a.childNodes.length-1;!r&&c&&c--,a=a.childNodes[c>l?l:c]}return jt(a)&&r&&c>=a.nodeValue.length&&(a=new li(a,e.getBody()).next()||a),jt(a)&&!r&&c===0&&(a=new li(a,e.getBody()).prev()||a),a},JS=function(e,t){var r=t?"firstChild":"lastChild";if(h5(e)&&e[r]){var a=e[r];return e.nodeName==="TR"&&a[r]||a}return e},QS=function(e,t,r,a){var c=e.create(r,a);return t.parentNode.insertBefore(c,t),c.appendChild(t),c},CT=function(e,t,r,a,c){var l=k.fromDom(t),m=k.fromDom(e.create(a,c)),p=r?zo(l):hi(l);return oo(m,p),r?($a(l,m),pi(m,l)):(If(l,m),jn(m,l)),m.dom},p5=function(e,t,r){if(pu(r)&&Lb(t,r.inline)||mf(r)&&Lb(t,r.block))return!0;if(Xc(r))return Ln(t)&&e.is(t,r.selector)},xT=function(e,t){return t.links&&e.nodeName==="A"},zw=function(e,t,r,a){var c=X0(t,r,a);return Fn(c)||c.nodeName==="BR"||e.isBlock(c)},b5=function(e,t,r){var a=t.parentNode,c,l=e.dom,m=Ui(e);mf(r)&&(m?a===l.getRoot()&&(!r.list_block||!Lb(t,r.list_block))&&tt(N(t.childNodes),function(p){vf(e,m,p.nodeName.toLowerCase())?c?c.appendChild(p):(c=QS(l,p,m),l.setAttribs(c,e.settings.forced_root_block_attrs)):c=null}):l.isBlock(t)&&!l.isBlock(a)&&(!zw(l,t,!1)&&!zw(l,t.firstChild,!0,!0)&&t.insertBefore(l.create("br"),t.firstChild),!zw(l,t,!0)&&!zw(l,t.lastChild,!1,!0)&&t.appendChild(l.create("br")))),!(R3(r)&&!Lb(r.inline,t))&&l.remove(t,!0)},ST=function(e,t,r,a,c){var l,m=e.dom;if(!p5(m,a,t)&&!xT(a,t))return Ib.keep();var p=a;if(pu(t)&&t.remove==="all"&&hn(t.preserve_attributes)){var C=tn(m.getAttribs(p),function(U){return Et(t.preserve_attributes,U.name.toLowerCase())});if(m.removeAllAttribs(p),tt(C,function(U){return m.setAttrib(p,U.name,U.value)}),C.length>0)return Ib.rename("span")}if(t.remove!=="all"){XS(t.styles,function(U,Z){U=A2(m,df(U,r),Z+""),me(Z)&&(Z=U,c=null),(t.remove_similar||!c||Lb(av(m,c,Z),U))&&m.setStyle(p,Z,""),l=!0}),l&&m.getAttrib(p,"style")===""&&(p.removeAttribute("style"),p.removeAttribute("data-mce-style")),XS(t.attributes,function(U,Z){var ne;if(U=df(U,r),me(Z)&&(Z=U,c=null),t.remove_similar||!c||Lb(m.getAttrib(c,Z),U)){if(Z==="class"&&(U=m.getAttrib(p,Z),U&&(ne="",tt(U.split(/\s+/),function(ae){/mce\-\w+/.test(ae)&&(ne+=(ne?" ":"")+ae)}),ne))){m.setAttrib(p,Z,ne);return}if(yT.test(Z)&&p.removeAttribute("data-mce-"+Z),Z==="style"&&us(["li"])(p)&&m.getStyle(p,"list-style-type")==="none"){p.removeAttribute(Z),m.setStyle(p,"list-style-type","none");return}Z==="class"&&p.removeAttribute("className"),p.removeAttribute(Z)}}),XS(t.classes,function(U){U=df(U,r),(!c||m.hasClass(c,U))&&m.removeClass(p,U)});for(var _=m.getAttribs(p),H=0;H<_.length;H++){var $=_[H].nodeName;if($.indexOf("_")!==0&&$.indexOf("data-")!==0)return Ib.keep()}}return t.remove!=="none"?(b5(e,p,t),Ib.removed()):Ib.keep()},b1=function(e,t,r,a,c){return ST(e,t,r,a,c).fold(Je,function(l){return e.dom.rename(a,l),!0},zt)},kT=function(e,t,r,a,c){var l;return tt(dm(e.dom,t.parentNode).reverse(),function(m){if(!l&&m.id!=="_start"&&m.id!=="_end"){var p=uu(e,m,r,a,c);p&&p.split!==!1&&(l=m)}}),l},ET=function(e,t,r,a){return ST(e,t,r,a,a).fold(oe(a),function(c){var l=e.dom.createFragment();return l.appendChild(a),e.dom.rename(a,c)},oe(null))},y5=function(e,t,r,a,c,l,m,p){var C,_,H,$=e.dom;if(r){for(var U=r.parentNode,Z=a.parentNode;Z&&Z!==U;Z=Z.parentNode){C=$.clone(Z,!1);for(var ne=0;ne<t.length&&(C=ET(e,t[ne],p,C),C!==null);ne++);C&&(_&&C.appendChild(_),H||(H=C),_=C)}l&&(!m.mixed||!$.isBlock(r))&&(a=$.split(r,a)),_&&(c.parentNode.insertBefore(_,c),H.appendChild(c),pu(m)&&gT($,m,p,_))}return a},y4=function(e,t,r,a,c){var l=e.formatter.get(t),m=l[0],p=!0,C=e.dom,_=e.selection,H=function(ve){var De=kT(e,ve,t,r,c);return y5(e,l,De,ve,ve,!0,m,r)},$=function(ve){return Dc(ve)&&Ln(ve)&&(ve.id==="_start"||ve.id==="_end")},U=function(ve){return Ot(l,function(De){return b1(e,De,r,ve,ve)})},Z=function(ve){var De=!0,Ee=!1;Ln(ve)&&C.getContentEditable(ve)&&(De=p,p=C.getContentEditable(ve)==="true",Ee=!0);var pe=N(ve.childNodes);if(p&&!Ee){var Be=U(ve),Qe=Be||Ot(l,function(rt){return i4(C,ve,rt)}),mt=ve.parentNode;!Qe&&Zt(mt)&&R2(m)&&U(mt)}if(m.deep&&pe.length){for(var Nn=0;Nn<pe.length;Nn++)Z(pe[Nn]);Ee&&(p=De)}var Kt=["underline","line-through","overline"];tt(Kt,function(rt){Ln(ve)&&e.dom.getStyle(ve,"text-decoration")===rt&&ve.parentNode&&D2(C,ve.parentNode)===rt&&b1(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:rt}},null,ve)})},ne=function(ve){var De=C.get(ve?"_start":"_end"),Ee=De[ve?"firstChild":"lastChild"];return $(Ee)&&(Ee=Ee[ve?"firstChild":"lastChild"]),jt(Ee)&&Ee.data.length===0&&(Ee=ve?De.previousSibling||De.nextSibling:De.nextSibling||De.previousSibling),C.remove(De,!0),Ee},ae=function(ve){var De,Ee,pe=Qv(e,ve,l,ve.collapsed);if(m.split){if(pe=bf(pe),De=wT(e,pe,!0),Ee=wT(e,pe),De!==Ee){if(De=JS(De,!0),Ee=JS(Ee,!1),YS(C,De,Ee)){var Be=ee.from(De.firstChild).getOr(De);H(CT(C,Be,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ne(!0);return}if(YS(C,Ee,De)){var Be=ee.from(Ee.lastChild).getOr(Ee);H(CT(C,Be,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ne(!1);return}De=QS(C,De,"span",{id:"_start","data-mce-type":"bookmark"}),Ee=QS(C,Ee,"span",{id:"_end","data-mce-type":"bookmark"});var Qe=C.createRng();Qe.setStartAfter(De),Qe.setEndBefore(Ee),Wg(C,Qe,function(mt){tt(mt,function(Nn){!Dc(Nn)&&!Dc(Nn.parentNode)&&H(Nn)})}),H(De),H(Ee),De=ne(!0),Ee=ne()}else De=Ee=H(De);pe.startContainer=De.parentNode?De.parentNode:De,pe.startOffset=C.nodeIndex(De),pe.endContainer=Ee.parentNode?Ee.parentNode:Ee,pe.endOffset=C.nodeIndex(Ee)+1}Wg(C,pe,function(mt){tt(mt,Z)})};if(a){if(zp(a)){var ie=C.createRng();ie.setStartBefore(a),ie.setEndAfter(a),ae(ie)}else ae(a);F2(e,t,a,r);return}if(C.getContentEditable(_.getNode())==="false"){a=_.getNode();for(var ge=0;ge<l.length&&!(l[ge].ceFalseOverride&&b1(e,l[ge],r,a,a));ge++);F2(e,t,a,r);return}!_.isCollapsed()||!pu(m)||ed(e).length?(pm(_,!0,function(){hm(e,ae)}),pu(m)&&Nu(e,t,r,_.getStart())&&Fp(C,_,_.getRng()),e.nodeChanged()):lT(e,t,r,c),F2(e,t,a,r)},ZS=je.each,TT=function(e,t,r,a){var c=function(l){if(l.nodeType===1&&l.parentNode&&l.parentNode.nodeType===1){var m=D2(e,l.parentNode);e.getStyle(l,"color")&&m?e.setStyle(l,"text-decoration",m):e.getStyle(l,"text-decoration")===m&&e.setStyle(l,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(je.walk(a,c,"childNodes"),c(a))},OT=function(e,t,r,a){t.styles&&t.styles.backgroundColor&&b4(a,pT(e,"fontSize"),bT(e,"backgroundColor",df(t.styles.backgroundColor,r)))},w4=function(e,t,r,a){pu(t)&&(t.inline==="sub"||t.inline==="sup")&&(b4(a,pT(e,"fontSize"),bT(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",a),!0))},C4=function(e,t,r,a){ZS(t,function(c){pu(c)&&ZS(e.dom.select(c.inline,a),function(l){!KS(l)||b1(e,c,r,l,c.exact?l:null)}),hT(e.dom,c,a)})},AT=function(e,t,r,a,c){uu(e,c.parentNode,r,a)&&b1(e,t,a,c)||t.merge_with_parents&&e.dom.getParent(c.parentNode,function(l){if(uu(e,l,r,a))return b1(e,t,a,c),!0})},Fw=je.each,DT=function(e){return Ln(e)&&!Dc(e)&&!gc(e)&&!Ja(e)},RT=function(e,t,r,a){if(Ag(e)&&pu(t)){var c=OC(e.schema),l=u5(k.fromDom(r),function(m){return gc(m.dom)});return gt(c,a)&&vi(k.fromDom(r.parentNode),!1)&&!l}else return!1},y1=function(e,t,r,a){var c=e.formatter.get(t),l=c[0],m=!a&&e.selection.isCollapsed(),p=e.dom,C=e.selection,_=function(De,Ee){if(Ee===void 0&&(Ee=l),Wt(Ee.onformat)&&Ee.onformat(De,Ee,r,a),Fw(Ee.styles,function(Be,Qe){p.setStyle(De,Qe,df(Be,r))}),Ee.styles){var pe=p.getAttrib(De,"style");pe&&p.setAttrib(De,"data-mce-style",pe)}Fw(Ee.attributes,function(Be,Qe){p.setAttrib(De,Qe,df(Be,r))}),Fw(Ee.classes,function(Be){Be=df(Be,r),p.hasClass(De,Be)||p.addClass(De,Be)})},H=function(De,Ee){var pe=!1;return Fw(De,function(Be){if(!Xc(Be))return!1;if(!(Zt(Be.collapsed)&&Be.collapsed!==m)&&p.is(Ee,Be.selector)&&!gc(Ee))return _(Ee,Be),pe=!0,!1}),pe},$=function(De){if(Gt(De)){var Ee=p.create(De);return _(Ee),Ee}else return null},U=function(De,Ee,pe){var Be=[],Qe=!0,mt=l.inline||l.block,Nn=$(mt);Wg(De,Ee,function(Kt){var rt,Rn=function(Dt){var qt=!1,St=Qe,$t=Dt.nodeName.toLowerCase(),rn=Dt.parentNode,at=rn.nodeName.toLowerCase();if(Ln(Dt)&&De.getContentEditable(Dt)&&(St=Qe,Qe=De.getContentEditable(Dt)==="true",qt=!0),Ua(Dt)&&!RT(e,l,Dt,at)){rt=null,mf(l)&&De.remove(Dt);return}if(mf(l)&&l.wrapper&&uu(e,Dt,t,r)){rt=null;return}if(Qe&&!qt&&mf(l)&&!l.wrapper&&Lg(e,$t)&&vf(e,at,mt)){var Xt=De.rename(Dt,mt);_(Xt),Be.push(Xt),rt=null;return}if(Xc(l)){var Ar=H(c,Dt);if(!Ar&&Zt(rn)&&R2(l)&&(Ar=H(c,rn)),!pu(l)||Ar){rt=null;return}}Qe&&!qt&&vf(e,mt,$t)&&vf(e,at,mt)&&!(!pe&&jt(Dt)&&Nd(Dt.data))&&!gc(Dt)&&(!pu(l)||!De.isBlock(Dt))?(rt||(rt=De.clone(Nn,!1),Dt.parentNode.insertBefore(rt,Dt),Be.push(rt)),rt.appendChild(Dt)):(rt=null,tt(N(Dt.childNodes),Rn),qt&&(Qe=St),rt=null)};tt(Kt,Rn)}),l.links===!0&&tt(Be,function(Kt){var rt=function(Rn){Rn.nodeName==="A"&&_(Rn,l),tt(N(Rn.childNodes),rt)};rt(Kt)}),tt(Be,function(Kt){var rt=function(qt){var St=0;return tt(qt.childNodes,function($t){!zx($t)&&!Dc($t)&&St++}),St},Rn=function(qt){var St=Ut(qt.childNodes,DT).filter(function($t){return i4(De,$t,l)});return St.map(function($t){var rn=De.clone($t,!1);return _(rn),De.replace(rn,qt,!0),De.remove($t,!0),rn}).getOr(qt)},Dt=rt(Kt);if((Be.length>1||!De.isBlock(Kt))&&Dt===0){De.remove(Kt,!0);return}(pu(l)||mf(l)&&l.wrapper)&&(!l.exact&&Dt===1&&(Kt=Rn(Kt)),C4(e,c,r,Kt),AT(e,l,t,r,Kt),OT(De,l,r,Kt),TT(De,l,r,Kt),w4(De,l,r,Kt),gT(De,l,r,Kt))})};if(p.getContentEditable(C.getNode())==="false"){a=C.getNode();for(var Z=0,ne=c.length;Z<ne;Z++){var ae=c[Z];if(ae.ceFalseOverride&&Xc(ae)&&p.is(a,ae.selector)){_(a,ae);break}}Wx(e,t,a,r);return}if(l){if(a)if(zp(a)){if(!H(c,a)){var ie=p.createRng();ie.setStartBefore(a),ie.setEndAfter(a),U(p,Qv(e,ie,c),!0)}}else U(p,a,!0);else if(!m||!pu(l)||ed(e).length){var ge=C.getNode(),ve=c[0];!e.settings.forced_root_block&&ve.defaultBlock&&!p.getParent(ge,p.isBlock)&&y1(e,ve.defaultBlock),C.setRng(X3(C.getRng())),pm(C,!0,function(){hm(e,function(De,Ee){var pe=Ee?De:Qv(e,De,c);U(p,pe,!1)})}),Fp(p,C,C.getRng()),e.nodeChanged()}else qS(e,t,r);mT(t,e)}Wx(e,t,a,r)},Mm=function(e){return Un(e,"vars")},Hb=function(e,t){e.set({}),t.on("NodeChange",function(r){S4(t,r.element,e.get())}),t.on("FormatApply FormatRemove",function(r){var a=ee.from(r.node).map(function(c){return zp(c)?c:c.startContainer}).bind(function(c){return Ln(c)?ee.some(c):ee.from(c.parentElement)}).getOrThunk(function(){return ek(t)});S4(t,a,e.get())})},ek=function(e){return e.selection.getStart()},tk=function(e,t,r,a,c){var l=function(p){var C=e.formatter.matchNode(p,r,c!=null?c:{},a);return!Ft(C)},m=function(p){return aT(e,p,r)?!0:a?!1:Zt(e.formatter.matchNode(p,r,c,!0))};return mn(t,l,m)},x4=function(e,t){var r=t!=null?t:ek(e);return tn(dm(e.dom,r),function(a){return Ln(a)&&!Ja(a)})},S4=function(e,t,r){var a=x4(e,t);pn(r,function(c,l){var m=function(p){var C=tk(e,a,l,p.similar,Mm(p)?p.vars:void 0),_=C.isSome();if(p.state.get()!==_){p.state.set(_);var H=C.getOr(t);Mm(p)?p.callback(_,{node:H,format:l,parents:a}):tt(p.callbacks,function($){return $(_,{node:H,format:l,parents:a})})}};tt([c.withSimilar,c.withoutSimilar],m),tt(c.withVars,m)})},_T=function(e,t,r,a,c,l){var m=t.get();tt(r.split(","),function(p){var C=_r(m,p).getOrThunk(function(){var $={withSimilar:{state:Wu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Wu(!1),similar:!1,callbacks:[]},withVars:[]};return m[p]=$,$}),_=function(){var $=x4(e);return tk(e,$,p,c,l).isSome()};if(Ft(l)){var H=c?C.withSimilar:C.withoutSimilar;H.callbacks.push(a),H.callbacks.length===1&&H.state.set(_())}else C.withVars.push({state:Wu(_()),similar:c,vars:l,callback:a})}),t.set(m)},BT=function(e,t,r){var a=e.get();tt(t.split(","),function(c){return _r(a,c).each(function(l){a[c]={withSimilar:Jt(Jt({},l.withSimilar),{callbacks:tn(l.withSimilar.callbacks,function(m){return m!==r})}),withoutSimilar:Jt(Jt({},l.withoutSimilar),{callbacks:tn(l.withoutSimilar.callbacks,function(m){return m!==r})}),withVars:tn(l.withVars,function(m){return m.callback!==r})}})}),e.set(a)},NT=function(e,t,r,a,c,l){return t.get()===null&&Hb(t,e),_T(e,t,r,a,c,l),{unbind:function(){return BT(t,r,a)}}},MT=function(e,t,r,a){var c=e.formatter.get(t);Nu(e,t,r,a)&&(!("toggle"in c[0])||c[0].toggle)?y4(e,t,r,a):y1(e,t,r,a)},nk=function(e,t){var r=t||document,a=r.createDocumentFragment();return tt(e,function(c){a.appendChild(c.dom)}),k.fromDom(a)},k4=function(e,t,r){return{element:e,width:t,rows:r}},PT=function(e,t){return{element:e,cells:t}},w5=function(e,t){return{x:e,y:t}},Pm=function(e,t){var r=parseInt(V(e,t),10);return isNaN(r)?1:r},zT=function(e,t,r,a,c){for(var l=Pm(c,"rowspan"),m=Pm(c,"colspan"),p=e.rows,C=r;C<r+l;C++){p[C]||(p[C]=PT(y0(a),[]));for(var _=t;_<t+m;_++){var H=p[C].cells;H[_]=C===r&&_===t?c:Xd(c)}}},C5=function(e,t,r){var a=e.rows,c=a[r]?a[r].cells:[];return!!c[t]},E4=function(e,t,r){for(;C5(e,t,r);)t++;return t},T4=function(e){return eo(e,function(t,r){return r.cells.length>t?r.cells.length:t},0)},Iw=function(e,t){for(var r=e.rows,a=0;a<r.length;a++)for(var c=r[a].cells,l=0;l<c.length;l++)if(cn(c[l],t))return ee.some(w5(l,a));return ee.none()},O4=function(e,t,r,a,c){for(var l=[],m=e.rows,p=r;p<=c;p++){var C=m[p].cells,_=t<a?C.slice(t,a+1):C.slice(a,t+1);l.push(PT(m[p].element,_))}return l},FT=function(e,t,r){var a=t.x,c=t.y,l=r.x,m=r.y,p=c<m?O4(e,a,c,l,m):O4(e,a,m,l,c);return k4(e.element,T4(p),p)},IT=function(e,t){var r=Xd(e.element),a=k.fromTag("tbody");return oo(a,t),jn(r,a),r},A4=function(e){return Vt(e.rows,function(t){var r=Vt(t.cells,function(c){var l=y0(c);return ht(l,"colspan"),ht(l,"rowspan"),l}),a=Xd(t.element);return oo(a,r),a})},LT=function(e){var t=k4(Xd(e),0,[]);return tt(lc(e,"tr"),function(r,a){tt(lc(r,"td,th"),function(c,l){zT(t,E4(t,l,a),a,r,c)})}),k4(t.element,T4(t.rows),t.rows)},HT=function(e){return IT(e,A4(e))},$T=function(e,t,r){return Iw(e,t).bind(function(a){return Iw(e,r).map(function(c){return FT(e,a,c)})})},VT=function(e){return Ut(e,function(t){return on(t)==="ul"||on(t)==="ol"})},UT=function(e,t){return Ut(e,function(r){return on(r)==="li"&&Bl(r,t)}).fold(oe([]),function(r){return VT(e).map(function(a){var c=k.fromTag(on(a)),l=Jn(ia(a),function(m,p){return qe(p,"list-style")});return Pe(c,l),[k.fromTag("li"),c]}).getOr([])})},rk=function(e,t){var r=eo(t,function(a,c){return jn(c,a),c},e);return t.length>0?nk([r]):r},WT=function(e){return Xl(e)?Tu(e).filter(Cl).fold(oe([]),function(t){return[e,t]}):Cl(e)?[e]:[]},jT=function(e,t){var r=k.fromDom(t.commonAncestorContainer),a=Pl(r,e),c=tn(a,function(p){return Ec(p)||sy(p)}),l=UT(a,t),m=c.concat(l.length?l:WT(r));return Vt(m,Xd)},ok=function(){return nk([])},D4=function(e,t){return rk(k.fromDom(t.cloneContents()),jT(e,t))},qT=function(e,t){return Ds(t,"table",Ct(cn,e))},GT=function(e,t){return qT(e,t[0]).bind(function(r){var a=t[0],c=t[t.length-1],l=LT(r);return $T(l,a,c).map(function(m){return nk([HT(m)])})}).getOrThunk(ok)},KT=function(e,t){return t.length>0&&t[0].collapsed?ok():D4(e,t[0])},XT=function(e,t){var r=Zv(t,e);return r.length>0?GT(e,r):KT(e,t)},ak=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},w1=function(e,t){return t>=0&&t<e.length&&vm(e.charAt(t))},R4=function(e,t){var r=Yl(e.innerText);return t?ak(r):r},Il=function(e){return e.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},$b=function(e){return ee.from(e.selection.getRng()).map(function(t){var r=ee.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),c=Il(r),l=In.browser.isIE()&&c!=="pre",m=e.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),p=R4(m,l),C=Yl(m.textContent);if(e.dom.remove(m),w1(C,0)||w1(C,C.length-1)){var _=r.getOr(a),H=R4(_,l),$=H.indexOf(p);if($===-1)return p;var U=w1(H,$-1),Z=w1(H,$+p.length);return(U?" ":"")+p+(Z?" ":"")}else return p}).getOr("")},Lw=function(e,t){var r=e.selection.getRng(),a=e.dom.create("body"),c=e.selection.getSel(),l=uh(e,eb(c)),m=t.contextual?XT(k.fromDom(e.getBody()),l).dom:r.cloneContents();return m&&a.appendChild(m),e.selection.serializer.serialize(a,t)},YT=function(e,t){return Jt(Jt({},e),{format:t,get:!0,selection:!0})},x5=function(e,t,r){r===void 0&&(r={});var a=YT(r,t),c=e.fire("BeforeGetContent",a);if(c.isDefaultPrevented())return e.fire("GetContent",c),c.content;if(c.format==="text")return $b(e);c.getInner=!0;var l=Lw(e,c);return c.format==="tree"?l:(c.content=e.selection.isCollapsed()?"":l,e.fire("GetContent",c),c.content)},Hw=0,_4=1,C1=2,ik=function(e,t){var r=e.length+t.length+2,a=new Array(r),c=new Array(r),l=function(H,$,U){return{start:H,end:$,diag:U}},m=function(H,$,U,Z,ne){var ae=C(H,$,U,Z);if(ae===null||ae.start===$&&ae.diag===$-Z||ae.end===H&&ae.diag===H-U)for(var ie=H,ge=U;ie<$||ge<Z;)ie<$&&ge<Z&&e[ie]===t[ge]?(ne.push([Hw,e[ie]]),++ie,++ge):$-H>Z-U?(ne.push([C1,e[ie]]),++ie):(ne.push([_4,t[ge]]),++ge);else{m(H,ae.start,U,ae.start-ae.diag,ne);for(var ve=ae.start;ve<ae.end;++ve)ne.push([Hw,e[ve]]);m(ae.end,$,ae.end-ae.diag,Z,ne)}},p=function(H,$,U,Z){for(var ne=H;ne-$<Z&&ne<U&&e[ne]===t[ne-$];)++ne;return l(H,ne,$)},C=function(H,$,U,Z){var ne=$-H,ae=Z-U;if(ne===0||ae===0)return null;var ie=ne-ae,ge=ae+ne,ve=(ge%2===0?ge:ge+1)/2;a[1+ve]=H,c[1+ve]=$+1;var De,Ee,pe,Be,Qe;for(De=0;De<=ve;++De){for(Ee=-De;Ee<=De;Ee+=2){for(pe=Ee+ve,Ee===-De||Ee!==De&&a[pe-1]<a[pe+1]?a[pe]=a[pe+1]:a[pe]=a[pe-1]+1,Be=a[pe],Qe=Be-H+U-Ee;Be<$&&Qe<Z&&e[Be]===t[Qe];)a[pe]=++Be,++Qe;if(ie%2!==0&&ie-De<=Ee&&Ee<=ie+De&&c[pe-ie]<=a[pe])return p(c[pe-ie],Ee+H-U,$,Z)}for(Ee=ie-De;Ee<=ie+De;Ee+=2){for(pe=Ee+ve-ie,Ee===ie-De||Ee!==ie+De&&c[pe+1]<=c[pe-1]?c[pe]=c[pe+1]-1:c[pe]=c[pe-1],Be=c[pe]-1,Qe=Be-H+U-Ee;Be>=H&&Qe>=U&&e[Be]===t[Qe];)c[pe]=Be--,Qe--;if(ie%2===0&&-De<=Ee&&Ee<=De&&c[pe]<=a[pe+ie])return p(c[pe],Ee+H-U,$,Z)}}},_=[];return m(0,e.length,0,t.length,_),_},B4=function(e){return Ln(e)?e.outerHTML:jt(e)?Zs.encodeRaw(e.data,!1):xd(e)?"<!--"+e.data+"-->":""},JT=function(e){var t,r=document.createElement("div"),a=document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)a.appendChild(t);return a},QT=function(e,t,r){var a=JT(t);if(e.hasChildNodes()&&r<e.childNodes.length){var c=e.childNodes[r];c.parentNode.insertBefore(a,c)}else e.appendChild(a)},S5=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var r=e.childNodes[t];r.parentNode.removeChild(r)}},k5=function(e,t){var r=0;tt(e,function(a){a[0]===Hw?r++:a[0]===_4?(QT(t,a[1],r),r++):a[0]===C1&&S5(t,r)})},E5=function(e){return tn(Vt(N(e.childNodes),B4),function(t){return t.length>0})},ZT=function(e,t){var r=Vt(N(t.childNodes),B4);return k5(ik(r,e),t),t},eO=Ya(function(){return document.implementation.createHTMLDocument("undo")}),N4=function(e){return e.indexOf("</iframe>")!==-1},T5=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},O5=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},M4=function(e){var t=E5(e.getBody()),r=ka(t,function(c){var l=ES(e.serializer,c);return l.length>0?[l]:[]}),a=r.join("");return N4(a)?T5(r):O5(a)},zm=function(e,t,r){var a=r?t.beforeBookmark:t.bookmark;t.type==="fragmented"?ZT(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:Zt(a)&&ca(a)?!a.isFakeCaret:!0}),e.selection.moveToBookmark(a)},P4=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},tO=function(e){var t=k.fromTag("body",eO());return jy(t,P4(e)),tt(lc(t,"*[data-mce-bogus]"),$i),Wy(t)},nO=function(e,t){return P4(e)===P4(t)},A5=function(e,t){return tO(e)===tO(t)},uk=function(e,t){return!e||!t?!1:nO(e,t)?!0:A5(e,t)},$w=function(e){return e.get()===0},Vw=function(e,t,r){$w(r)&&(e.typing=t)},z4=function(e,t){e.typing&&(Vw(e,!1,t),e.add())},rO=function(e){e.typing&&(e.typing=!1,e.add())},D5=function(e,t,r){$w(t)&&r.set(rx(e.selection))},R5=function(e,t,r,a,c,l,m){var p=M4(e);if(l=l||{},l=je.extend(l,p),$w(a)===!1||e.removed)return null;var C=t.data[r.get()];if(e.fire("BeforeAddUndo",{level:l,lastLevel:C,originalEvent:m}).isDefaultPrevented()||C&&uk(C,l))return null;t.data[r.get()]&&c.get().each(function(U){t.data[r.get()].beforeBookmark=U});var _=Dg(e);if(_&&t.data.length>_){for(var H=0;H<t.data.length-1;H++)t.data[H]=t.data[H+1];t.data.length--,r.set(t.data.length)}l.bookmark=rx(e.selection),r.get()<t.data.length-1&&(t.data.length=r.get()+1),t.data.push(l),r.set(t.data.length-1);var $={level:l,lastLevel:C,originalEvent:m};return r.get()>0?(e.setDirty(!0),e.fire("AddUndo",$),e.fire("change",$)):e.fire("AddUndo",$),l},_5=function(e,t,r){t.data=[],r.set(0),t.typing=!1,e.fire("ClearUndos")},B5=function(e,t,r,a,c){if(t.transact(a)){var l=t.data[r.get()].bookmark,m=t.data[r.get()-1];zm(e,m,!0),t.transact(c)&&(t.data[r.get()-1].beforeBookmark=l)}},ck=function(e,t,r){var a;return t.get()<r.length-1&&(t.set(t.get()+1),a=r[t.get()],zm(e,a,!1),e.setDirty(!0),e.fire("Redo",{level:a})),a},ms=function(e,t,r,a){var c;return t.typing&&(t.add(),t.typing=!1,Vw(t,!1,r)),a.get()>0&&(a.set(a.get()-1),c=t.data[a.get()],zm(e,c,!0),e.setDirty(!0),e.fire("Undo",{level:c})),c},x1=function(e){e.clear(),e.add()},N5=function(e,t,r){return r.get()>0||t.typing&&t.data[0]&&!uk(M4(e),t.data[0])},M5=function(e,t){return t.get()<e.data.length-1&&!e.typing},oO=function(e,t,r){return z4(e,t),e.beforeChange(),e.ignore(r),e.add()},Vb=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},P5=function(e,t){var r=e.dom,a=Zt(t)?t:e.getBody();Ft(e.hasVisual)&&(e.hasVisual=s2(e)),tt(r.select("table,a",a),function(c){switch(c.nodeName){case"TABLE":var l=l2(e),m=r.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?r.addClass(c,l):r.removeClass(c,l);break;case"A":if(!r.getAttrib(c,"href")){var p=r.getAttrib(c,"name")||c.id,C=I0(e);p&&e.hasVisual?r.addClass(c,C):r.removeClass(c,C)}break}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},Af=function(e){return{undoManager:{beforeChange:function(t,r){return D5(e,t,r)},add:function(t,r,a,c,l,m){return R5(e,t,r,a,c,l,m)},undo:function(t,r,a){return ms(e,t,r,a)},redo:function(t,r){return ck(e,t,r)},clear:function(t,r){return _5(e,t,r)},reset:function(t){return x1(t)},hasUndo:function(t,r){return N5(e,t,r)},hasRedo:function(t,r){return M5(t,r)},transact:function(t,r,a){return oO(t,r,a)},ignore:function(t,r){return Vb(t,r)},extra:function(t,r,a,c){return B5(e,t,r,a,c)}},formatter:{match:function(t,r,a,c){return Nu(e,t,r,a,c)},matchAll:function(t,r){return c5(e,t,r)},matchNode:function(t,r,a,c){return uu(e,t,r,a,c)},canApply:function(t){return l5(e,t)},closest:function(t){return s5(e,t)},apply:function(t,r,a){return y1(e,t,r,a)},remove:function(t,r,a,c){return y4(e,t,r,a,c)},toggle:function(t,r,a){return MT(e,t,r,a)},formatChanged:function(t,r,a,c,l){return NT(e,t,r,a,c,l)}},editor:{getContent:function(t,r){return vh(e,t,r)},setContent:function(t,r){return i5(e,t,r)},insertContent:function(t,r){return ZD(e,t,r)},addVisual:function(t){return P5(e,t)}},selection:{getContent:function(t,r){return x5(e,t,r)}},raw:{getModel:function(){return ee.none()}}}},aO=function(e){var t=function(p){return yt(p)?p:{}},r=e.undoManager,a=e.formatter,c=e.editor,l=e.selection,m=e.raw;return{undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:function(p,C,_){return r.transact(_)},ignore:function(p,C){return r.ignore(C)},extra:function(p,C,_,H){return r.extra(_,H)}},formatter:{match:function(p,C,_,H){return a.match(p,t(C),H)},matchAll:a.matchAll,matchNode:a.matchNode,canApply:function(p){return a.canApply(p)},closest:function(p){return a.closest(p)},apply:function(p,C,_){return a.apply(p,t(C))},remove:function(p,C,_,H){return a.remove(p,t(C))},toggle:function(p,C,_){return a.toggle(p,t(C))},formatChanged:function(p,C,_,H,$){return a.formatChanged(C,_,H,$)}},editor:{getContent:function(p,C){return c.getContent(p)},setContent:function(p,C){return c.setContent(p,C)},insertContent:function(p,C){return c.insertContent(p)},addVisual:c.addVisual},selection:{getContent:function(p,C){return l.getContent(C)}},raw:{getModel:function(){return ee.some(m.getRawModel())}}}},z5=function(){var e=oe(null),t=oe("");return{undoManager:{beforeChange:en,add:e,undo:e,redo:e,clear:en,reset:en,hasUndo:Je,hasRedo:Je,transact:e,ignore:en,extra:en},formatter:{match:Je,matchAll:oe([]),matchNode:oe(void 0),canApply:Je,closest:t,apply:en,remove:en,toggle:en,formatChanged:oe({unbind:en})},editor:{getContent:t,setContent:t,insertContent:en,addVisual:en},selection:{getContent:t},raw:{getModel:oe(ee.none())}}},gv=function(e){return Un(e.plugins,"rtc")},F4=function(e){return _r(e.plugins,"rtc").bind(function(t){return ee.from(t.setup)})},F5=function(e){var t=e;return F4(e).fold(function(){return t.rtcInstance=Af(e),ee.none()},function(r){return t.rtcInstance=z5(),ee.some(function(){return r().then(function(a){return t.rtcInstance=aO(a),a.rtc.isRemote})})})},I4=function(e){return e.rtcInstance?e.rtcInstance:Af(e)},So=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},L4=function(e,t,r){So(e).undoManager.beforeChange(t,r)},dd=function(e,t,r,a,c,l,m){return So(e).undoManager.add(t,r,a,c,l,m)},iO=function(e,t,r,a){return So(e).undoManager.undo(t,r,a)},uO=function(e,t,r){return So(e).undoManager.redo(t,r)},I5=function(e,t,r){So(e).undoManager.clear(t,r)},L5=function(e,t){So(e).undoManager.reset(t)},H5=function(e,t,r){return So(e).undoManager.hasUndo(t,r)},$5=function(e,t,r){return So(e).undoManager.hasRedo(t,r)},V5=function(e,t,r,a){return So(e).undoManager.transact(t,r,a)},H4=function(e,t,r){So(e).undoManager.ignore(t,r)},U5=function(e,t,r,a,c){So(e).undoManager.extra(t,r,a,c)},W5=function(e,t,r,a,c){return So(e).formatter.match(t,r,a,c)},hv=function(e,t,r){return So(e).formatter.matchAll(t,r)},cO=function(e,t,r,a,c){return So(e).formatter.matchNode(t,r,a,c)},j5=function(e,t){return So(e).formatter.canApply(t)},q5=function(e,t){return So(e).formatter.closest(t)},md=function(e,t,r,a){So(e).formatter.apply(t,r,a)},G5=function(e,t,r,a,c){So(e).formatter.remove(t,r,a,c)},$4=function(e,t,r,a){So(e).formatter.toggle(t,r,a)},V4=function(e,t,r,a,c,l){return So(e).formatter.formatChanged(t,r,a,c,l)},K5=function(e,t,r){return I4(e).editor.getContent(t,r)},Fm=function(e,t,r){return I4(e).editor.setContent(t,r)},sO=function(e,t,r){return I4(e).editor.insertContent(t,r)},X5=function(e,t,r){return So(e).selection.getContent(t,r)},Y5=function(e,t){return So(e).editor.addVisual(t)},U4=function(e,t){t===void 0&&(t={});var r=t.format?t.format:"html";return X5(e,r,t)},lO=function(e){return e.dom.length===0?(ci(e),ee.none()):ee.some(e)},J5=function(e,t){return e.filter(function(r){return Gg.isBookmarkNode(r.dom)}).bind(t?rs:Ff)},S1=function(e,t,r,a){var c=e.dom,l=t.dom,m=a?c.length:l.length;a?(i(c,l,!1,!a),r.setStart(l,m)):(i(l,c,!1,!a),r.setEnd(l,m))},Q5=function(e,t){Tu(e).each(function(r){var a=e.dom;t&&Bb(r,He(a,0))?g1(a,0):!t&&d1(r,He(a,a.length))&&fv(a,a.length)})},fO=function(e,t,r,a){e.bind(function(c){var l=a?fv:g1;return l(c.dom,a?c.dom.length:0),t.filter(fu).map(function(m){return S1(c,m,r,a)})}).orThunk(function(){var c=J5(t,a).or(t).filter(fu);return c.map(function(l){return Q5(l,a)})})},sk=function(e,t){var r=ee.from(t.firstChild).map(k.fromDom),a=ee.from(t.lastChild).map(k.fromDom);e.deleteContents(),e.insertNode(t);var c=r.bind(Ff).filter(fu).bind(lO),l=a.bind(rs).filter(fu).bind(lO);fO(c,r,e,!0),fO(l,a,e,!1),e.collapse(!1)},vO=function(e,t){return Jt(Jt({format:"html"},e),{set:!0,selection:!0,content:t})},Z5=function(e,t){if(t.format!=="raw"){var r=e.selection.getRng(),a=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},l=e.parser.parse(t.content,Jt(Jt({isRootContent:!0,forced_root_block:!1},c),t));return cd({validate:e.validate},e.schema).serialize(l)}else return t.content},eR=function(e,t,r){r===void 0&&(r={});var a=vO(r,t),c=a;if(!a.no_events){var l=e.fire("BeforeSetContent",a);if(l.isDefaultPrevented()){e.fire("SetContent",l);return}else c=l}c.content=Z5(e,c);var m=e.selection.getRng();sk(m,m.createContextualFragment(c.content)),e.selection.setRng(m),xm(e,m),c.no_events||e.fire("SetContent",c)},lk=function(e,t,r){if(e&&Un(e,t)){var a=tn(e[t],function(c){return c!==r});a.length===0?delete e[t]:e[t]=a}};function tR(e,t){var r,a,c=function(m,p){return Ut(p,function(C){return e.is(C,m)})},l=function(m){return e.getParents(m,null,e.getRoot())};return{selectorChangedWithUnbind:function(m,p){return r||(r={},a={},t.on("NodeChange",function(C){var _=C.element,H=l(_),$={};je.each(r,function(U,Z){c(Z,H).each(function(ne){a[Z]||(tt(U,function(ae){ae(!0,{node:ne,selector:Z,parents:H})}),a[Z]=U),$[Z]=U})}),je.each(a,function(U,Z){$[Z]||(delete a[Z],je.each(U,function(ne){ne(!1,{node:_,selector:Z,parents:H})}))})})),r[m]||(r[m]=[]),r[m].push(p),c(m,l(t.selection.getStart())).each(function(){a[m]=r[m]}),{unbind:function(){lk(r,m,p),lk(a,m,p)}}}}}var dO=function(e){return!!e.select},mO=function(e){return!!(e&&e.ownerDocument)&&wo(k.fromDom(e.ownerDocument),k.fromDom(e))},nR=function(e){return e?dO(e)?!0:mO(e.startContainer)&&mO(e.endContainer):!1},gO=function(e,t,r,a){var c,l,m=tR(e,a).selectorChangedWithUnbind,p=function(at,Xt){var Ar=e.createRng();Zt(at)&&Zt(Xt)?(Ar.setStart(at,Xt),Ar.setEnd(at,Xt),De(Ar),ie(!1)):(hf(e,Ar,a.getBody(),!0),De(Ar))},C=function(at){return U4(a,at)},_=function(at,Xt){return eR(a,at,Xt)},H=function(at){return id(a.getBody(),ve(),at)},$=function(at){return Bu(a.getBody(),ve(),at)},U=function(at,Xt){return $t.getBookmark(at,Xt)},Z=function(at){return $t.moveToBookmark(at)},ne=function(at,Xt){return a1(e,at,Xt).each(De),at},ae=function(){var at=ve(),Xt=ge();return!at||at.item?!1:at.compareEndPoints?at.compareEndPoints("StartToEnd",at)===0:!Xt||at.collapsed},ie=function(at){var Xt=ve();Xt.collapse(!!at),De(Xt)},ge=function(){return t.getSelection?t.getSelection():t.document.selection},ve=function(){var at,Xt,Ar,so=function(ni,hs,Vl){try{return hs.compareBoundaryPoints(ni,Vl)}catch{return-1}},uo=t.document;if(a.bookmark!==void 0&&Cf(a)===!1){var Qu=ah(a);if(Qu.isSome())return Qu.map(function(ni){return uh(a,[ni])[0]}).getOr(uo.createRange())}try{(at=ge())&&!ql(at.anchorNode)&&(at.rangeCount>0?Xt=at.getRangeAt(0):Xt=at.createRange?at.createRange():uo.createRange(),Xt=uh(a,[Xt])[0])}catch{}return Xt||(Xt=uo.createRange?uo.createRange():uo.body.createTextRange()),Xt.setStart&&Xt.startContainer.nodeType===9&&Xt.collapsed&&(Ar=e.getRoot(),Xt.setStart(Ar,0),Xt.setEnd(Ar,0)),c&&l&&(so(Xt.START_TO_START,Xt,c)===0&&so(Xt.END_TO_END,Xt,c)===0?Xt=l:(c=null,l=null)),Xt},De=function(at,Xt){var Ar;if(!!nR(at)){var so=dO(at)?at:null;if(so){l=null;try{so.select()}catch{}return}var uo=ge(),Qu=a.fire("SetSelectionRange",{range:at,forward:Xt});if(at=Qu.range,uo){l=at;try{uo.removeAllRanges(),uo.addRange(at)}catch{}Xt===!1&&uo.extend&&(uo.collapse(at.endContainer,at.endOffset),uo.extend(at.startContainer,at.startOffset)),c=uo.rangeCount>0?uo.getRangeAt(0):null}!at.collapsed&&at.startContainer===at.endContainer&&uo.setBaseAndExtent&&!In.ie&&at.endOffset-at.startOffset<2&&at.startContainer.hasChildNodes()&&(Ar=at.startContainer.childNodes[at.startOffset],Ar&&Ar.tagName==="IMG"&&(uo.setBaseAndExtent(at.startContainer,at.startOffset,at.endContainer,at.endOffset),(uo.anchorNode!==at.startContainer||uo.focusNode!==at.endContainer)&&uo.setBaseAndExtent(Ar,0,Ar,1))),a.fire("AfterSetSelectionRange",{range:at,forward:Xt})}},Ee=function(at){return _(e.getOuterHTML(at)),at},pe=function(){return ud(a.getBody(),ve())},Be=function(at,Xt){return xf(e,ve(),at,Xt)},Qe=function(){var at=ge(),Xt=at==null?void 0:at.anchorNode,Ar=at==null?void 0:at.focusNode;if(!at||!Xt||!Ar||ql(Xt)||ql(Ar))return!0;var so=e.createRng();so.setStart(Xt,at.anchorOffset),so.collapse(!0);var uo=e.createRng();return uo.setStart(Ar,at.focusOffset),uo.collapse(!0),so.compareBoundaryPoints(so.START_TO_START,uo)<=0},mt=function(){var at=ve(),Xt=ge();if(!nb(Xt)&&td(a)){var Ar=Qg(e,at);return Ar.each(function(so){De(so,Qe())}),Ar.getOr(at)}return at},Nn=function(at,Xt){return m(at,Xt),St},Kt=function(){for(var at,Xt=e.getRoot();Xt&&Xt.nodeName!=="BODY";){if(Xt.scrollHeight>Xt.clientHeight){at=Xt;break}Xt=Xt.parentNode}return at},rt=function(at,Xt){Zt(at)?nh(a,at,Xt):xm(a,ve(),Xt)},Rn=function(at,Xt){return De(sb(at,Xt,a.getDoc()))},Dt=function(){var at=ve();return at.collapsed?He.fromRangeStart(at).getClientRects()[0]:at.getBoundingClientRect()},qt=function(){t=c=l=null,rn.destroy()},St={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:r,editor:a,collapse:ie,setCursorLocation:p,getContent:C,setContent:_,getBookmark:U,moveToBookmark:Z,select:ne,isCollapsed:ae,isForward:Qe,setNode:Ee,getNode:pe,getSel:ge,setRng:De,getRng:ve,getStart:H,getEnd:$,getSelectedBlocks:Be,normalize:mt,selectorChanged:Nn,selectorChangedWithUnbind:m,getScrollContainer:Kt,scrollIntoView:rt,placeCaretAt:Rn,getBoundingClientRect:Dt,destroy:qt},$t=Gg(St),rn=jx(St,a);return St.bookmarkManager=$t,St.controlSelection=rn,St},rR=function(e,t){tt(t,function(r){e.attr(r,null)})},oR=function(e,t,r){e.addNodeFilter("font",function(a){tt(a,function(c){var l=t.parse(c.attr("style")),m=c.attr("color"),p=c.attr("face"),C=c.attr("size");m&&(l.color=m),p&&(l["font-family"]=p),C&&(l["font-size"]=r[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",t.serialize(l)),rR(c,["color","face","size"])})})},ti=function(e,t){e.addNodeFilter("strike",function(r){tt(r,function(a){var c=t.parse(a.attr("style"));c["text-decoration"]="line-through",a.name="span",a.attr("style",t.serialize(c))})})},hO=function(e,t){var r=Sl();t.convert_fonts_to_spans&&oR(e,r,je.explode(t.font_size_legacy_values)),ti(e,r)},aR=function(e,t){t.inline_styles&&hO(e,t)},iR=function(e){return new Qa(function(t,r){var a=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="blob",c.onload=function(){c.status===200?t(c.response):a()},c.onerror=a,c.send()}catch{a()}})},Uw=function(e){var t,r=decodeURIComponent(e).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(t=a[1]),{type:t,data:r[1]}},W4=function(e,t){var r;try{r=atob(t)}catch{return ee.none()}for(var a=new Uint8Array(r.length),c=0;c<a.length;c++)a[c]=r.charCodeAt(c);return ee.some(new Blob([a],{type:e}))},pO=function(e){return new Qa(function(t){var r=Uw(e),a=r.type,c=r.data;W4(a,c).fold(function(){return t(new Blob([]))},t)})},j4=function(e){return e.indexOf("blob:")===0?iR(e):e.indexOf("data:")===0?pO(e):null},bO=function(e){return new Qa(function(t){var r=new FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)})},yO=0,fk=function(e){return(e||"blobid")+yO++},wO=function(e,t,r,a){var c,l;if(t.src.indexOf("blob:")===0){l=e.getByUri(t.src),l?r({image:t,blobInfo:l}):j4(t.src).then(function(_){bO(_).then(function(H){c=Uw(H).data,l=e.create(fk(),_,c),e.add(l),r({image:t,blobInfo:l})})},function(_){a(_)});return}var m=Uw(t.src),p=m.data,C=m.type;c=p,l=e.getByData(c,C),l?r({image:t,blobInfo:l}):j4(t.src).then(function(_){l=e.create(fk(),_,c),e.add(l),r({image:t,blobInfo:l})},function(_){a(_)})},uR=function(e){return e?N(e.getElementsByTagName("img")):[]},cR=function(e,t){var r={},a=function(c,l){l||(l=zt);var m=tn(uR(c),function(C){var _=C.src;return!In.fileApi||C.hasAttribute("data-mce-bogus")||C.hasAttribute("data-mce-placeholder")||!_||_===In.transparentSrc?!1:_.indexOf("blob:")===0?!e.isUploaded(_)&&l(C):_.indexOf("data:")===0?l(C):!1}),p=Vt(m,function(C){if(r[C.src]!==void 0)return new Qa(function(H){r[C.src].then(function($){if(typeof $=="string")return $;H({image:C,blobInfo:$.blobInfo})})});var _=new Qa(function(H,$){wO(t,C,H,$)}).then(function(H){return delete r[H.image.src],H}).catch(function(H){return delete r[C.src],H});return r[C.src]=_,_});return Qa.all(p)};return{findAll:a}},vk=function(e,t,r,a){var c=e.padd_empty_with_br||t.insert;c&&r[a.name]?a.empty().append(new Rc("br",1)).shortEnded=!0:a.empty().append(new Rc("#text",3)).value=cc},q4=function(e){return G4(e,"#text")&&e.firstChild.value===cc},G4=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Ww=function(e,t){var r=e.getElementRule(t.name);return r&&r.paddEmpty},Ub=function(e,t,r,a){return a.isEmpty(t,r,function(c){return Ww(e,c)})},K4=function(e,t){return e&&(Un(t,e.name)||e.name==="br")},X4=function(e){return Zt(e.attr("data-mce-bogus"))},dk=function(e){return e.attr("src")===In.transparentSrc||Zt(e.attr("data-mce-placeholder"))},CO=function(e,t){if(t.images_dataimg_filter){var r=new Image;return r.src=e.attr("src"),pn(e.attributes.map,function(a,c){r.setAttribute(c,a)}),t.images_dataimg_filter(r)}else return!0},sR=function(e,t){var r=t.blob_cache,a=function(c){var l=c.attr("src");dk(c)||X4(c)||SS(l).filter(function(){return CO(c,t)}).bind(function(m){var p=m.type,C=m.data;return ee.from(r.getByData(C,p)).orThunk(function(){return W4(p,C).map(function(_){var H=r.create(fk(),_,C);return r.add(H),H})})}).each(function(m){c.attr("src",m.blobUri())})};r&&e.addAttributeFilter("src",function(c){return tt(c,a)})},xO=function(e,t){var r=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(a,c,l){var m,p=a.length,C,_=je.extend({},r.getBlockElements()),H=r.getNonEmptyElements(),$,U,Z,ne,ae=r.getWhiteSpaceElements(),ie,ge;for(_.body=1,m=0;m<p;m++)if(C=a[m],$=C.parent,_[C.parent.name]&&C===$.lastChild){for(Z=C.prev;Z;){if(ne=Z.name,ne!=="span"||Z.attr("data-mce-type")!=="bookmark"){ne==="br"&&(C=null);break}Z=Z.prev}C&&(C.remove(),Ub(r,H,ae,$)&&(ie=r.getElementRule($.name),ie&&(ie.removeEmpty?$.remove():ie.paddEmpty&&vk(t,l,_,$))))}else{for(U=C;$&&$.firstChild===U&&$.lastChild===U&&(U=$,!_[$.name]);)$=$.parent;U===$&&t.padd_empty_with_br!==!0&&(ge=new Rc("#text",3),ge.value=cc,C.replace(ge))}}),e.addAttributeFilter("href",function(a){var c=a.length,l=function(C){var _=C.split(" ").filter(function(H){return H.length>0});return _.concat(["noopener"]).sort().join(" ")},m=function(C){var _=C?je.trim(C):"";return/\b(noopener)\b/g.test(_)?_:l(_)};if(!t.allow_unsafe_link_target)for(;c--;){var p=a[c];p.name==="a"&&p.attr("target")==="_blank"&&p.attr("rel",m(p.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(a){for(var c=a.length,l,m,p,C;c--;)if(C=a[c],C.name==="a"&&C.firstChild&&!C.attr("href")){p=C.parent,l=C.lastChild;do m=l.prev,p.insert(l,C),l=m;while(l)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(a){for(var c=a.length,l,m;c--;)if(l=a[c],m=l.parent,m.name==="ul"||m.name==="ol")if(l.prev&&l.prev.name==="li")l.prev.append(l);else{var p=new Rc("li",1);p.attr("style","list-style-type: none"),l.wrap(p)}}),t.validate&&r.getValidClasses()&&e.addAttributeFilter("class",function(a){for(var c=r.getValidClasses(),l=a.length;l--;){for(var m=a[l],p=m.attr("class").split(" "),C="",_=0;_<p.length;_++){var H=p[_],$=!1,U=c["*"];U&&U[H]&&($=!0),U=c[m.name],!$&&U&&U[H]&&($=!0),$&&(C&&(C+=" "),C+=H)}C.length||(C=null),m.attr("class",C)}}),sR(e,t)},Y4=je.makeMap,J4=je.each,mk=je.explode,SO=je.extend,gk=function(e,t){t===void 0&&(t=Uf());var r={},a=[],c={},l={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var m=function(ne){for(var ae=Y4("tr,td,th,tbody,thead,tfoot,table"),ie=t.getNonEmptyElements(),ge=t.getWhiteSpaceElements(),ve=t.getTextBlockElements(),De=t.getSpecialElements(),Ee=function($t,rn){if(rn===void 0&&(rn=$t.parent),De[$t.name])$t.empty().remove();else{for(var at=$t.children(),Xt=0,Ar=at;Xt<Ar.length;Xt++){var so=Ar[Xt];t.isValidChild(rn.name,so.name)||Ee(so,rn)}$t.unwrap()}},pe=0;pe<ne.length;pe++){var Be=ne[pe],Qe=void 0,mt=void 0,Nn=void 0;if(!(!Be.parent||Be.fixed)){if(ve[Be.name]&&Be.parent.name==="li"){for(var Kt=Be.next;Kt&&ve[Kt.name];){Kt.name="li",Kt.fixed=!0,Be.parent.insert(Kt,Be.parent);Kt=Kt.next}Be.unwrap();continue}var rt=[Be];for(Qe=Be.parent;Qe&&!t.isValidChild(Qe.name,Be.name)&&!ae[Qe.name];Qe=Qe.parent)rt.push(Qe);if(Qe&&rt.length>1)if(t.isValidChild(Qe.name,Be.name)){rt.reverse(),mt=p(rt[0].clone());for(var Rn=mt,Dt=0;Dt<rt.length-1;Dt++){t.isValidChild(Rn.name,rt[Dt].name)?(Nn=p(rt[Dt].clone()),Rn.append(Nn)):Nn=Rn;for(var qt=rt[Dt].firstChild;qt&&qt!==rt[Dt+1];){var St=qt.next;Nn.append(qt),qt=St}Rn=Nn}Ub(t,ie,ge,mt)?Qe.insert(Be,rt[0],!0):(Qe.insert(mt,rt[0],!0),Qe.insert(Be,mt)),Qe=rt[0],(Ub(t,ie,ge,Qe)||G4(Qe,"br"))&&Qe.empty().remove()}else Ee(Be);else if(Be.parent){if(Be.name==="li"){var Kt=Be.prev;if(Kt&&(Kt.name==="ul"||Kt.name==="ol")){Kt.append(Be);continue}if(Kt=Be.next,Kt&&(Kt.name==="ul"||Kt.name==="ol")){Kt.insert(Be,Kt.firstChild,!0);continue}Be.wrap(p(new Rc("ul",1)));continue}t.isValidChild(Be.parent.name,"div")&&t.isValidChild("div",Be.name)?Be.wrap(p(new Rc("div",1))):Ee(Be)}}}},p=function(ne){var ae=ne.name;if(ae in r){var ie=c[ae];ie?ie.push(ne):c[ae]=[ne]}for(var ge=a.length;ge--;){var ve=a[ge].name;if(ve in ne.attributes.map){var ie=l[ve];ie?ie.push(ne):l[ve]=[ne]}}return ne},C=function(ne,ae){J4(mk(ne),function(ie){var ge=r[ie];ge||(r[ie]=ge=[]),ge.push(ae)})},_=function(){var ne=[];for(var ae in r)Un(r,ae)&&ne.push({name:ae,callbacks:r[ae]});return ne},H=function(ne,ae){J4(mk(ne),function(ie){var ge;for(ge=0;ge<a.length;ge++)if(a[ge].name===ie){a[ge].callbacks.push(ae);return}a.push({name:ie,callbacks:[ae]})})},$=function(){return[].concat(a)},U=function(ne,ae){var ie,ge,ve,De,Ee,pe,Be,Qe=[],mt,Nn=function(Fe){return Fe===!1?"":Fe===!0?"p":Fe};ae=ae||{},c={},l={};var Kt=SO(Y4("script,style,head,html,body,title,meta,param"),t.getBlockElements()),rt=OC(t),Rn=t.getNonEmptyElements(),Dt=t.children,qt=e.validate,St="forced_root_block"in ae?ae.forced_root_block:e.forced_root_block,$t=Nn(St),rn=t.getWhiteSpaceElements(),at=/^[ \t\r\n]+/,Xt=/[ \t\r\n]+$/,Ar=/[ \t\r\n]+/g,so=/^[ \t\r\n]+$/,uo=Un(rn,ae.context)||Un(rn,e.root_name),Qu=function(){var Fe=gn.firstChild,bt=null,st=function(_n){_n&&(Fe=_n.firstChild,Fe&&Fe.type===3&&(Fe.value=Fe.value.replace(at,"")),Fe=_n.lastChild,Fe&&Fe.type===3&&(Fe.value=Fe.value.replace(Xt,"")))};if(!!t.isValidChild(gn.name,$t.toLowerCase())){for(;Fe;){var yn=Fe.next;Fe.type===3||Fe.type===1&&Fe.name!=="p"&&!Kt[Fe.name]&&!Fe.attr("data-mce-type")?(bt||(bt=ni($t,1),bt.attr(e.forced_root_block_attrs),gn.insert(bt,Fe)),bt.append(Fe)):(st(bt),bt=null),Fe=yn}st(bt)}},ni=function(Fe,bt){var st=new Rc(Fe,bt),yn;return Fe in r&&(yn=c[Fe],yn?yn.push(st):c[Fe]=[st]),st},hs=function(Fe){for(var bt=t.getBlockElements(),st=Fe.prev;st&&st.type===3;){var yn=st.value.replace(Xt,"");if(yn.length>0){st.value=yn;return}var _n=st.next;if(_n){if(_n.type===3&&_n.value.length){st=st.prev;continue}if(!bt[_n.name]&&_n.name!=="script"&&_n.name!=="style"){st=st.prev;continue}}var Yo=st.prev;st.remove(),st=Yo}},Vl=function(Fe){var bt={};for(var st in Fe)st!=="li"&&st!=="p"&&(bt[st]=Fe[st]);return bt},ct=function(Fe){for(var bt=Fe;Zt(bt);){if(bt.name in rt)return Ub(t,Rn,rn,bt);bt=bt.parent}return!1},Bt=fh({validate:qt,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Vl(t.getSelfClosingElements()),cdata:function(Fe){mt.append(ni("#cdata",4)).value=Fe},text:function(Fe,bt){var st;uo||(Fe=Fe.replace(Ar," "),K4(mt.lastChild,Kt)&&(Fe=Fe.replace(at,""))),Fe.length!==0&&(st=ni("#text",3),st.raw=!!bt,mt.append(st).value=Fe)},comment:function(Fe){mt.append(ni("#comment",8)).value=Fe},pi:function(Fe,bt){mt.append(ni(Fe,7)).value=bt,hs(mt)},doctype:function(Fe){var bt=mt.append(ni("#doctype",10));bt.value=Fe,hs(mt)},start:function(Fe,bt,st){var yn=qt?t.getElementRule(Fe):{};if(yn){var _n=ni(yn.outputName||Fe,1);_n.attributes=bt,_n.shortEnded=st,mt.append(_n);var Yo=Dt[mt.name];Yo&&Dt[_n.name]&&!Yo[_n.name]&&Qe.push(_n);for(var zu=a.length;zu--;){var wu=a[zu].name;wu in bt.map&&(pe=l[wu],pe?pe.push(_n):l[wu]=[_n])}Kt[Fe]&&hs(_n),st||(mt=_n),!uo&&rn[Fe]&&(uo=!0)}},end:function(Fe){var bt,st,yn,_n=qt?t.getElementRule(Fe):{};if(_n){if(Kt[Fe]&&!uo){if(bt=mt.firstChild,bt&&bt.type===3)if(st=bt.value.replace(at,""),st.length>0)bt.value=st,bt=bt.next;else for(yn=bt.next,bt.remove(),bt=yn;bt&&bt.type===3;)st=bt.value,yn=bt.next,(st.length===0||so.test(st))&&(bt.remove(),bt=yn),bt=yn;if(bt=mt.lastChild,bt&&bt.type===3)if(st=bt.value.replace(Xt,""),st.length>0)bt.value=st,bt=bt.prev;else for(yn=bt.prev,bt.remove(),bt=yn;bt&&bt.type===3;)st=bt.value,yn=bt.prev,(st.length===0||so.test(st))&&(bt.remove(),bt=yn),bt=yn}uo&&rn[Fe]&&(uo=!1);var Yo=Ub(t,Rn,rn,mt),zu=mt.parent;_n.paddInEmptyBlock&&Yo&&ct(mt)?vk(e,ae,Kt,mt):_n.removeEmpty&&Yo?Kt[mt.name]?mt.empty().remove():mt.unwrap():_n.paddEmpty&&(q4(mt)||Yo)&&vk(e,ae,Kt,mt),mt=zu}}},t),gn=mt=new Rc(ae.context||e.root_name,11);if(Bt.parse(ne,ae.format),qt&&Qe.length&&(ae.context?ae.invalid=!0:m(Qe)),$t&&(gn.name==="body"||ae.isRootContent)&&Qu(),!ae.invalid){for(Be in c)if(!!Un(c,Be)){for(pe=r[Be],ie=c[Be],De=ie.length;De--;)ie[De].parent||ie.splice(De,1);for(ge=0,ve=pe.length;ge<ve;ge++)pe[ge](ie,Be,ae)}for(ge=0,ve=a.length;ge<ve;ge++)if(pe=a[ge],pe.name in l){for(ie=l[pe.name],De=ie.length;De--;)ie[De].parent||ie.splice(De,1);for(De=0,Ee=pe.callbacks.length;De<Ee;De++)pe.callbacks[De](ie,pe.name,ae)}}return gn},Z={schema:t,addAttributeFilter:H,getAttributeFilters:$,addNodeFilter:C,getNodeFilters:_,filterNode:p,parse:U};return xO(Z,e),aR(Z,e),Z},lR=function(e,t,r){e.addAttributeFilter("data-mce-tabindex",function(a,c){for(var l=a.length;l--;){var m=a[l];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",function(a,c){for(var l="data-mce-"+c,m=t.url_converter,p=t.url_converter_scope,C=a.length;C--;){var _=a[C],H=_.attr(l);H!==void 0?(_.attr(c,H.length>0?H:null),_.attr(l,null)):(H=_.attr(c),c==="style"?H=r.serializeStyle(r.parseStyle(H),_.name):m&&(H=m.call(p,H,c,_.name)),_.attr(c,H.length>0?H:null))}}),e.addAttributeFilter("class",function(a){for(var c=a.length;c--;){var l=a[c],m=l.attr("class");m&&(m=l.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),l.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",function(a,c,l){for(var m=a.length;m--;){var p=a[m];if(p.attr("data-mce-type")==="bookmark"&&!l.cleanup){var C=ee.from(p.firstChild).exists(function(_){return!Nd(_.value)});C?p.unwrap():p.remove()}}}),e.addNodeFilter("noscript",function(a){for(var c=a.length;c--;){var l=a[c].firstChild;l&&(l.value=Zs.decode(l.value))}}),e.addNodeFilter("script,style",function(a,c){for(var l=function(H){return H.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},m=a.length;m--;){var p=a[m],C=p.firstChild?p.firstChild.value:"";if(c==="script"){var _=p.attr("type");_&&p.attr("type",_==="mce-no/type"?null:_.replace(/^mce\-/,"")),t.element_format==="xhtml"&&C.length>0&&(p.firstChild.value=`// <![CDATA[
`+l(C)+`
// ]]>`)}else t.element_format==="xhtml"&&C.length>0&&(p.firstChild.value=`<!--
`+l(C)+`
-->`)}}),e.addNodeFilter("#comment",function(a){for(var c=a.length;c--;){var l=a[c];t.preserve_cdata&&l.value.indexOf("[CDATA[")===0?(l.name="#cdata",l.type=4,l.value=r.decode(l.value.replace(/^\[CDATA\[|\]\]$/g,""))):l.value.indexOf("mce:protected ")===0&&(l.name="#text",l.type=3,l.raw=!0,l.value=unescape(l.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(a,c){for(var l=a.length;l--;){var m=a[l];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(a){tt(a,function(c){c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(a,c){for(var l=a.length;l--;)a[l].attr(c,null)})},Q4=function(e){var t=function(c){return c&&c.name==="br"},r=e.lastChild;if(t(r)){var a=r.prev;t(a)&&(r.remove(),a.remove())}},fR=function(e,t,r){var a,c=e.dom,l=t.cloneNode(!0),m=document.implementation;if(m.createHTMLDocument){var p=m.createHTMLDocument("");je.each(l.nodeName==="BODY"?l.childNodes:[l],function(C){p.body.appendChild(p.importNode(C,!0))}),l.nodeName!=="BODY"?l=p.body.firstChild:l=p.body,a=c.doc,c.doc=p}return Kg(e,Jt(Jt({},r),{node:l})),a&&(c.doc=a),l},vR=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},dR=function(e,t,r){return vR(e,r)?fR(e,t,r):t},hk=function(e,t,r){je.inArray(t,r)===-1&&(e.addAttributeFilter(r,function(a,c){for(var l=a.length;l--;)a[l].attr(c,null)}),t.push(r))},Z4=function(e,t,r){if(!t.no_events&&e){var a=_3(e,Jt(Jt({},t),{content:r}));return a.content}else return r},kO=function(e,t,r){var a=Yl(r.getInner?t.innerHTML:e.getOuterHTML(t));return r.selection||ng(k.fromDom(t))?a:je.trim(a)},eE=function(e,t,r){var a=r.selection?Jt({forced_root_block:!1},r):r,c=e.parse(t,a);return Q4(c),c},mR=function(e,t,r){var a=cd(e,t);return a.serialize(r)},gR=function(e,t,r,a,c){var l=mR(t,r,a);return Z4(e,c,l)},hR=function(e,t){var r=["data-mce-selected"],a=t&&t.dom?t.dom:Ko.DOM,c=t&&t.schema?t.schema:Uf(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var l=gk(e,c);lR(l,e,a);var m=function(p,C){C===void 0&&(C={});var _=Jt({format:"html"},C),H=dR(t,p,_),$=kO(a,H,_),U=eE(l,$,_);return _.format==="tree"?U:gR(t,e,c,U,_)};return{schema:c,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:m,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Ct(hk,l,r),getTempAttrs:oe(r),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters}},EO=function(e,t){var r=hR(e,t);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters}},pR="html",Vs=function(e,t){t===void 0&&(t={});var r=t.format?t.format:pR;return K5(e,t,r)},tE=function(e,t,r){return r===void 0&&(r={}),Fm(e,t,r)},pk=Ko.DOM,bk=function(e){pk.setStyle(e.id,"display",e.orgDisplay)},jw=function(e){return ee.from(e).each(function(t){return t.destroy()})},TO=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},OO=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),pk.unbind(t,"submit reset",e.formEventDelegate))},bR=function(e){if(!e.removed){var t=e._selectionOverrides,r=e.editorUpload,a=e.getBody(),c=e.getElement();a&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&c&&pk.remove(c.nextSibling),B3(e),e.editorManager.remove(e),!e.inline&&a&&bk(e),$x(e),pk.remove(e.getContainer()),jw(t),jw(r),e.destroy()}},Wb=function(e,t){var r=e.selection,a=e.dom;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),jw(r),jw(a)),OO(e),TO(e),e.destroyed=!0}},AO=function(e,t){var r=yt(e)&&yt(t);return r?nE(e,t):t},yk=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length===0)throw new Error("Can't merge zero objects");for(var a={},c=0;c<t.length;c++){var l=t[c];for(var m in l)Un(l,m)&&(a[m]=e(a[m],l[m]))}return a}},nE=yk(AO),yR="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),wR="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),CR="imagetools,toc".split(","),DO=function(e){var t=tn(yR,function(a){return Un(e,a)}),r=e.forced_root_block;return(r===!1||r==="")&&t.push("forced_root_block (false only)"),Ao(t)},xR=function(e){var t=je.makeMap(e.plugins," "),r=function(c){return Un(t,c)},a=Aa(Aa([],tn(wR,r),!0),ka(CR,function(c){return r(c)?[c+" (moving to premium)"]:[]}),!0);return Ao(a)},RO=function(e,t){var r=DO(e),a=xR(t),c=a.length>0,l=r.length>0,m=t.theme==="mobile";if(c||l||m){var p=`
- `,C=m?`

Themes:`+p+"mobile":"",_=c?`

Plugins:`+p+a.join(p):"",H=l?`

Settings:`+p+r.join(p):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+C+_+H)}},_O=function(e,t){return{sections:oe(e),settings:oe(t)}},wk=an().deviceType,BO=wk.isTouch(),Ck=wk.isPhone(),rE=wk.isTablet(),oE=["lists","autolink","autosave"],NO={table_grid:!1,object_resizing:!1,resize:!1},qw=function(e){var t=hn(e)?e.join(" "):e,r=Vt(Gt(t)?t.split(" "):[],It);return tn(r,function(a){return a.length>0})},xk=function(e){return tn(e,Ct(Et,oE))},MO=function(e,t){var r=Ii(t,function(a,c){return Et(e,c)});return _O(r.t,r.f)},aE=function(e,t,r){r===void 0&&(r={});var a=e.sections(),c=_r(a,t).getOr({});return je.extend({},r,c)},Sk=function(e,t){return Un(e.sections(),t)},kk=function(e,t,r){var a=e.sections();return Sk(e,t)&&a[t].theme===r},SR=function(e,t){return Sk(e,t)?e.sections()[t]:{}},PO=function(e,t){return _r(e,"toolbar_mode").orThunk(function(){return _r(e,"toolbar_drawer").map(function(r){return r===!1?"wrap":r})}).getOr(t)},Gw=function(e,t,r,a,c){var l={id:t,theme:"silver",toolbar_mode:PO(e,"floating"),plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c};return Jt(Jt({},l),a?NO:{})},zO=function(e,t){var r={resize:!1,toolbar_mode:PO(e,"scrolling"),toolbar_sticky:!1},a={menubar:!1};return Jt(Jt(Jt({},NO),r),t?a:{})},kR=function(e,t){var r=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?je.extend({},e.external_plugins,r):r},FO=function(e,t){return[].concat(qw(e)).concat(qw(t))},ER=function(e,t,r,a){return e&&kk(t,"mobile","mobile")?xk(a):e&&Sk(t,"mobile")?a:r},IO=function(e,t,r,a){var c=qw(r.forced_plugins),l=qw(a.plugins),m=SR(t,"mobile"),p=m.plugins?qw(m.plugins):l,C=ER(e,t,l,p),_=FO(c,C);if(In.browser.isIE()&&Et(_,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return je.extend(a,{plugins:_.join(" ")})},LO=function(e,t){return e&&Sk(t,"mobile")},HO=function(e,t,r,a,c){var l=e?{mobile:zO(c.mobile||{},t)}:{},m=MO(["mobile"],nE(l,c)),p=je.extend(r,a,m.settings(),LO(e,m)?aE(m,"mobile"):{},{validate:!0,external_plugins:kR(a,m.settings())});return IO(e,m,a,p)},$O=function(e,t,r,a,c){var l=Gw(c,t,r,BO,e),m=HO(Ck||rE,Ck,l,a,c);return m.deprecation_warnings!==!1&&RO(c,m),m},Ch=function(e,t,r){return ee.from(t.settings[r]).filter(e)},VO=function(e){var t={};return typeof e=="string"?tt(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(r){var a=r.split("=");a.length>1?t[je.trim(a[0])]=je.trim(a[1]):t[je.trim(a[0])]=je.trim(a[0])}):t=e,t},TR=function(e){return function(t){return hn(t)&&ri(t,e)}},Ek=function(e,t,r,a){var c=t in e.settings?e.settings[t]:r;return a==="hash"?VO(c):a==="string"?Ch(Gt,e,t).getOr(r):a==="number"?Ch(me,e,t).getOr(r):a==="boolean"?Ch(tr,e,t).getOr(r):a==="object"?Ch(yt,e,t).getOr(r):a==="array"?Ch(hn,e,t).getOr(r):a==="string[]"?Ch(TR(Gt),e,t).getOr(r):a==="function"?Ch(Wt,e,t).getOr(r):c},Tk=function(){var e={},t=function(c,l){e[c]=l},r=function(c){return e[c]?e[c]:{icons:{}}},a=function(c){return Un(e,c)};return{add:t,get:r,has:a}},Df=Tk(),Kw=function(e,t){var r=t.dom;return r[e]},k1=function(e,t){return parseInt(sr(t,e),10)},UO=Ct(Kw,"clientWidth"),WO=Ct(Kw,"clientHeight"),iE=Ct(k1,"margin-top"),jO=Ct(k1,"margin-left"),OR=function(e){return e.dom.getBoundingClientRect()},qO=function(e,t,r){var a=UO(e),c=WO(e);return t>=0&&r>=0&&t<=a&&r<=c},GO=function(e,t,r,a){var c=OR(t),l=e?c.left+t.dom.clientLeft+jO(t):0,m=e?c.top+t.dom.clientTop+iE(t):0,p=r-l,C=a-m;return{x:p,y:C}},KO=function(e,t,r){var a=k.fromDom(e.getBody()),c=e.inline?a:zf(a),l=GO(e.inline,c,t,r);return qO(c,l.x,l.y)},XO=function(e){return ee.from(e).map(k.fromDom)},YO=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return XO(t).map(Se).getOr(!1)},uE=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},cE=function(e){var t=[],r=function(){var U=e.theme;return U&&U.getNotificationManagerImpl?U.getNotificationManagerImpl():uE()},a=function(){return ee.from(t[0])},c=function(U,Z){return U.type===Z.type&&U.text===Z.text&&!U.progressBar&&!U.timeout&&!Z.progressBar&&!Z.timeout},l=function(){t.length>0&&r().reposition(t)},m=function(U){t.push(U)},p=function(U){To(t,function(Z){return Z===U}).each(function(Z){t.splice(Z,1)})},C=function(U,Z){if(Z===void 0&&(Z=!0),!(e.removed||!YO(e)))return Z&&e.fire("BeforeOpenNotification",{notification:U}),Ut(t,function(ne){return c(r().getArgs(ne),U)}).getOrThunk(function(){e.editorManager.setActive(e);var ne=r().open(U,function(){p(ne),l(),a().fold(function(){return e.focus()},function(ae){return Yp(k.fromDom(ae.getEl()))})});return m(ne),l(),e.fire("OpenNotification",{notification:Jt({},ne)}),ne})},_=function(){a().each(function(U){r().close(U),p(U),l()})},H=oe(t),$=function(U){U.on("SkinLoaded",function(){var Z=lx(U);Z&&C({text:Z,type:"warning",timeout:0},!1),l()}),U.on("show ResizeEditor ResizeWindow NodeChange",function(){si.requestAnimationFrame(l)}),U.on("remove",function(){tt(t.slice(),function(Z){r().close(Z)})})};return $(e),{open:C,close:_,getNotifications:H}},Ll=Wc.PluginManager,Im=Wc.ThemeManager;function JO(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var sE=function(e){var t=[],r=function(){var ae=e.theme;return ae&&ae.getWindowManagerImpl?ae.getWindowManagerImpl():JO()},a=function(ae,ie){return function(){for(var ge=[],ve=0;ve<arguments.length;ve++)ge[ve]=arguments[ve];return ie?ie.apply(ae,ge):void 0}},c=function(ae){e.fire("OpenWindow",{dialog:ae})},l=function(ae){e.fire("CloseWindow",{dialog:ae})},m=function(ae){t.push(ae),c(ae)},p=function(ae){l(ae),t=tn(t,function(ie){return ie!==ae}),t.length===0&&e.focus()},C=function(){return ee.from(t[t.length-1])},_=function(ae){e.editorManager.setActive(e),t1(e);var ie=ae();return m(ie),ie},H=function(ae,ie){return _(function(){return r().open(ae,ie,p)})},$=function(ae){return _(function(){return r().openUrl(ae,p)})},U=function(ae,ie,ge){var ve=r();ve.alert(ae,a(ge||ve,ie))},Z=function(ae,ie,ge){var ve=r();ve.confirm(ae,a(ge||ve,ie))},ne=function(){C().each(function(ae){r().close(ae),p(ae)})};return e.on("remove",function(){tt(t,function(ae){r().close(ae)})}),{open:H,openUrl:$,alert:U,confirm:Z,close:ne}},lE=function(e,t){e.notificationManager.open({type:"error",text:t})},Xw=function(e,t){e._skinLoaded?lE(e,t):e.on("SkinLoaded",function(){lE(e,t)})},AR=function(e,t){Xw(e,el.translate(["Failed to upload image: {0}",t]))},Lm=function(e,t,r){Xg(e,t,{message:r}),console.error(r)},xh=function(e,t,r){return r?"Failed to load "+e+": "+r+" from url "+t:"Failed to load "+e+" url: "+t},fE=function(e,t,r){Lm(e,"PluginLoadError",xh("plugin",t,r))},QO=function(e,t,r){Lm(e,"IconsLoadError",xh("icons",t,r))},DR=function(e,t,r){Lm(e,"LanguageLoadError",xh("language",t,r))},RR=function(e,t,r){var a=el.translate(["Failed to initialize plugin: {0}",t]);Xg(e,"PluginLoadError",{message:a}),jb(a,r),Xw(e,a)},jb=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var a=window.console;a&&(a.error?a.error.apply(a,Aa([e],t,!1)):a.log.apply(a,Aa([e],t,!1)))},ZO=function(e){return/^[a-z0-9\-]+$/i.test(e)},vE=function(e){return Hm(e,p3(e))},Ok=function(e){return Hm(e,a2(e))},Hm=function(e,t){var r=e.editorManager.baseURL+"/skins/content",a=e.editorManager.suffix,c="content"+a+".css",l=e.inline===!0;return Vt(t,function(m){return ZO(m)&&!l?r+"/"+m+"/"+c:e.documentBaseURI.toAbsolute(m)})},E1=function(e){e.contentCSS=e.contentCSS.concat(vE(e),Ok(e))},eA=function(){var e=1,t=2,r={},a=function(U,Z){return{status:U,resultUri:Z}},c=function(U){return U in r},l=function(U){var Z=r[U];return Z?Z.resultUri:null},m=function(U){return c(U)?r[U].status===e:!1},p=function(U){return c(U)?r[U].status===t:!1},C=function(U){r[U]=a(e,null)},_=function(U,Z){r[U]=a(t,Z)},H=function(U){delete r[U]},$=function(){r={}};return{hasBlobUri:c,getResultUri:l,isPending:m,isUploaded:p,markPending:C,markUploaded:_,removeFailed:H,destroy:$}},_R=0,BR=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},Ak=function(e){return e+_R+++BR()},NR=function(){var e=[],t=function($){var U={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return U[$.toLowerCase()]||"dat"},r=function($,U,Z,ne,ae){if(Gt($)){var ie=$;return a({id:ie,name:ne,filename:ae,blob:U,base64:Z})}else{if(yt($))return a($);throw new Error("Unknown input type")}},a=function($){if(!$.blob||!$.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var U=$.id||Ak("blobid"),Z=$.name||U,ne=$.blob;return{id:oe(U),name:oe(Z),filename:oe($.filename||Z+"."+t(ne.type)),blob:oe(ne),base64:oe($.base64),blobUri:oe($.blobUri||URL.createObjectURL(ne)),uri:oe($.uri)}},c=function($){m($.id())||e.push($)},l=function($){return Ut(e,$).getOrUndefined()},m=function($){return l(function(U){return U.id()===$})},p=function($){return l(function(U){return U.blobUri()===$})},C=function($,U){return l(function(Z){return Z.base64()===$&&Z.blob().type===U})},_=function($){e=tn(e,function(U){return U.blobUri()===$?(URL.revokeObjectURL(U.blobUri()),!1):!0})},H=function(){tt(e,function($){URL.revokeObjectURL($.blobUri())}),e=[]};return{create:r,add:c,get:m,getByUri:p,getByData:C,findFirst:l,removeByUri:_,destroy:H}},dE=function(e,t){var r={},a=function(ne,ae){return ne?ne.replace(/\/$/,"")+"/"+ae.replace(/^\//,""):ae},c=function(ne,ae,ie,ge){var ve=new XMLHttpRequest;ve.open("POST",t.url),ve.withCredentials=t.credentials,ve.upload.onprogress=function(Ee){ge(Ee.loaded/Ee.total*100)},ve.onerror=function(){ie("Image upload failed due to a XHR Transport error. Code: "+ve.status)},ve.onload=function(){if(ve.status<200||ve.status>=300){ie("HTTP Error: "+ve.status);return}var Ee=JSON.parse(ve.responseText);if(!Ee||typeof Ee.location!="string"){ie("Invalid JSON: "+ve.responseText);return}ae(a(t.basePath,Ee.location))};var De=new FormData;De.append("file",ne.blob(),ne.filename()),ve.send(De)},l=function(){return new Qa(function(ne){ne([])})},m=function(ne,ae){return{url:ae,blobInfo:ne,status:!0}},p=function(ne,ae,ie){return{url:"",blobInfo:ne,status:!1,error:{message:ae,options:ie}}},C=function(ne,ae){je.each(r[ne],function(ie){ie(ae)}),delete r[ne]},_=function(ne,ae,ie){return e.markPending(ne.blobUri()),new Qa(function(ge){var ve,De;try{var Ee=function(){ve&&(ve.close(),De=en)},pe=function(Qe){Ee(),e.markUploaded(ne.blobUri(),Qe),C(ne.blobUri(),m(ne,Qe)),ge(m(ne,Qe))},Be=function(Qe,mt){var Nn=mt||{};Ee(),e.removeFailed(ne.blobUri()),C(ne.blobUri(),p(ne,Qe,Nn)),ge(p(ne,Qe,Nn))};De=function(Qe){Qe<0||Qe>100||ee.from(ve).orThunk(function(){return ee.from(ie).map(ot)}).each(function(mt){ve=mt,mt.progressBar.value(Qe)})},ae(ne,pe,Be,De)}catch(Qe){ge(p(ne,Qe.message,{}))}})},H=function(ne){return ne===c},$=function(ne){var ae=ne.blobUri();return new Qa(function(ie){r[ae]=r[ae]||[],r[ae].push(ie)})},U=function(ne,ae){return ne=je.grep(ne,function(ie){return!e.isUploaded(ie.blobUri())}),Qa.all(je.map(ne,function(ie){return e.isPending(ie.blobUri())?$(ie):_(ie,t.handler,ae)}))},Z=function(ne,ae){return!t.url&&H(t.handler)?l():U(ne,ae)};return Wt(t.handler)===!1&&(t.handler=c),{upload:Z}},tA=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},nA=function(e,t){return dE(t,{url:ix(e),basePath:ux(e),credentials:Tg(e),handler:cx(e)})},rA=function(e){var t=eA(),r=nA(e,t);return{upload:function(a,c){return c===void 0&&(c=!0),r.upload(a,c?tA(e):void 0)}}},MR=function(e){var t=Wu(null);e.on("change AddUndo",function(a){t.set(Jt({},a.level))});var r=function(){var a=e.undoManager.data;Ta(a).filter(function(c){return!uk(t.get(),c)}).each(function(c){e.setDirty(!0),e.fire("change",{level:c,lastLevel:Ea(a,a.length-2).getOrNull()})})};return{fireIfChanged:r}},PR=function(e){var t=NR(),r,a,c=eA(),l=[],m=MR(e),p=function(Ee){return function(pe){return e.selection?Ee(pe):[]}},C=function(Ee){return Ee+(Ee.indexOf("?")===-1?"?":"&")+new Date().getTime()},_=function(Ee,pe,Be){var Qe=0;do Qe=Ee.indexOf(pe,Qe),Qe!==-1&&(Ee=Ee.substring(0,Qe)+Be+Ee.substr(Qe+pe.length),Qe+=Be.length-pe.length+1);while(Qe!==-1);return Ee},H=function(Ee,pe,Be){var Qe='src="'+Be+'"'+(Be===In.transparentSrc?' data-mce-placeholder="1"':"");return Ee=_(Ee,'src="'+pe+'"',Qe),Ee=_(Ee,'data-mce-src="'+pe+'"','data-mce-src="'+Be+'"'),Ee},$=function(Ee,pe){tt(e.undoManager.data,function(Be){Be.type==="fragmented"?Be.fragments=Vt(Be.fragments,function(Qe){return H(Qe,Ee,pe)}):Be.content=H(Be.content,Ee,pe)})},U=function(Ee,pe){var Be=e.convertURL(pe,"src");$(Ee.src,pe),e.$(Ee).attr({src:n2(e)?C(pe):pe,"data-mce-src":Be})},Z=function(Ee){return r||(r=nA(e,c)),ge().then(p(function(pe){var Be=Vt(pe,function(Qe){return Qe.blobInfo});return r.upload(Be,tA(e)).then(p(function(Qe){var mt=[],Nn=Vt(Qe,function(Kt,rt){var Rn=pe[rt].blobInfo,Dt=pe[rt].image;return Kt.status&&r2(e)?(t.removeByUri(Dt.src),gv(e)||U(Dt,Kt.url)):Kt.error&&(Kt.error.options.remove&&($(Dt.getAttribute("src"),In.transparentSrc),mt.push(Dt)),AR(e,Kt.error.message)),{element:Dt,status:Kt.status,uploadUri:Kt.url,blobInfo:Rn}});return Nn.length>0&&m.fireIfChanged(),mt.length>0&&(gv(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){tt(mt,function(Kt){e.dom.remove(Kt),t.removeByUri(Kt.src)})})),Ee&&Ee(Nn),Nn}))}))},ne=function(Ee){if(t2(e))return Z(Ee)},ae=function(Ee){if(ri(l,function(Be){return Be(Ee)})===!1)return!1;if(Ee.getAttribute("src").indexOf("data:")===0){var pe=ax(e);return pe(Ee)}return!0},ie=function(Ee){l.push(Ee)},ge=function(){return a||(a=cR(c,t)),a.findAll(e.getBody(),ae).then(p(function(Ee){return Ee=tn(Ee,function(pe){return typeof pe=="string"?(Xw(e,pe),!1):!0}),gv(e)||tt(Ee,function(pe){$(pe.image.src,pe.blobInfo.blobUri()),pe.image.src=pe.blobInfo.blobUri(),pe.image.removeAttribute("data-mce-src")}),Ee}))},ve=function(){t.destroy(),c.destroy(),a=r=null},De=function(Ee){return Ee.replace(/src="(blob:[^"]+)"/g,function(pe,Be){var Qe=c.getResultUri(Be);if(Qe)return'src="'+Qe+'"';var mt=t.getByUri(Be);if(mt||(mt=eo(e.editorManager.get(),function(Kt,rt){return Kt||rt.editorUpload&&rt.editorUpload.blobCache.getByUri(Be)},null)),mt){var Nn=mt.blob();return'src="data:'+Nn.type+";base64,"+mt.base64()+'"'}return pe})};return e.on("SetContent",function(){t2(e)?ne():ge()}),e.on("RawSaveContent",function(Ee){Ee.content=De(Ee.content)}),e.on("GetContent",function(Ee){Ee.source_view||Ee.format==="raw"||Ee.format==="tree"||(Ee.content=De(Ee.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Ee){tt(Ee,function(pe){var Be=pe.attr("src");if(!t.getByUri(Be)){var Qe=c.getResultUri(Be);Qe&&pe.attr("src",Qe)}})})}),{blobCache:t,addFilter:ie,uploadImages:Z,uploadImagesAuto:ne,scanForImages:ge,destroy:ve}},T1=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(r,a,c){return Ln(r)&&r.hasAttribute("href")},onformat:function(r,a,c){je.each(c,function(l,m){e.setAttrib(r,m,l)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(r){var a;return(a=r==null?void 0:r.customValue)!==null&&a!==void 0?a:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return je.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(r){t[r]={block:r,remove:"all"}}),t},oA=function(e){var t={},r=function(m){return Zt(m)?t[m]:t},a=function(m){return Un(t,m)},c=function(m,p){m&&(Gt(m)?(hn(p)||(p=[p]),tt(p,function(C){Ft(C.deep)&&(C.deep=!Xc(C)),Ft(C.split)&&(C.split=!Xc(C)||pu(C)),Ft(C.remove)&&Xc(C)&&!pu(C)&&(C.remove="none"),Xc(C)&&pu(C)&&(C.mixed=!0,C.block_expand=!0),Gt(C.classes)&&(C.classes=C.classes.split(/\s+/))}),t[m]=p):pn(m,function(C,_){c(_,C)}))},l=function(m){return m&&t[m]&&delete t[m],t};return c(T1(e.dom)),c(fx(e)),{get:r,has:a,register:c,unregister:l}},O1=je.each,Jc=Ko.DOM,aA=function(e,t){var r,a,c,l=t&&t.schema||Uf({}),m=function(H,$){$.classes.length&&Jc.addClass(H,$.classes.join(" ")),Jc.setAttribs(H,$.attrs)},p=function(H){a=typeof H=="string"?{name:H,classes:[],attrs:{}}:H;var $=Jc.create(a.name);return m($,a),$},C=function(H,$){var U=typeof H!="string"?H.nodeName.toLowerCase():H,Z=l.getElementRule(U),ne=Z&&Z.parentsRequired;return ne&&ne.length?$&&je.inArray(ne,$)!==-1?$:ne[0]:!1},_=function(H,$,U){var Z,ne,ae=$.length>0&&$[0],ie=ae&&ae.name,ge=C(H,ie);if(ge)ie===ge?(ne=$[0],$=$.slice(1)):ne=ge;else if(ae)ne=$[0],$=$.slice(1);else if(!U)return H;return ne&&(Z=p(ne),Z.appendChild(H)),U&&(Z||(Z=Jc.create("div"),Z.appendChild(H)),je.each(U,function(ve){var De=p(ve);Z.insertBefore(De,H)})),_(Z,$,ne&&ne.siblings)};return e&&e.length?(a=e[0],r=p(a),c=Jc.create("div"),c.appendChild(_(r,e.slice(1),a.siblings)),c):""},mE=function(e){var t,r={classes:[],attrs:{}};return e=r.selector=je.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,c,l,m,p){switch(c){case"#":r.attrs.id=l;break;case".":r.classes.push(l);break;case":":je.inArray("checked disabled enabled read-only required".split(" "),l)!==-1&&(r.attrs[l]=l);break}if(m==="["){var C=p.match(/([\w\-]+)(?:\=\"([^\"]+))?/);C&&(r.attrs[C[1]]=C[2])}return""})),r.name=t||"div",r},zR=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),je.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var r=je.map(t.split(/(?:~\+|~|\+)/),mE),a=r.pop();return r.length&&(a.siblings=r),a}).reverse())},iA=function(e,t){var r,a,c="",l,m=Og(e);if(m==="")return"";var p=function($){return $.replace(/%(\w+)/g,"")};if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var C=_r(t,"preview");if(zc(C,!1))return"";m=C.getOr(m)}r=t.block||t.inline||"span";var _=zR(t.selector);_.length?(_[0].name||(_[0].name=r),r=t.selector,a=aA(_,e)):a=aA([r],e);var H=Jc.select(r,a)[0]||a.firstChild;return O1(t.styles,function($,U){var Z=p($);Z&&Jc.setStyle(H,U,Z)}),O1(t.attributes,function($,U){var Z=p($);Z&&Jc.setAttrib(H,U,Z)}),O1(t.classes,function($){var U=p($);Jc.hasClass(H,U)||Jc.addClass(H,U)}),e.fire("PreviewFormats"),Jc.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a),l=Jc.getStyle(e.getBody(),"fontSize",!0),l=/px$/.test(l)?parseInt(l,10):0,O1(m.split(" "),function($){var U=Jc.getStyle(H,$,!0);if(!($==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(U)&&(U=Jc.getStyle(e.getBody(),$,!0),Jc.toHex(U).toLowerCase()==="#ffffff"))&&!($==="color"&&Jc.toHex(U).toLowerCase()==="#000000")){if($==="font-size"&&/em|%$/.test(U)){if(l===0)return;var Z=parseFloat(U)/(/%$/.test(U)?100:1);U=Z*l+"px"}$==="border"&&U&&(c+="padding:0 2px;"),c+=$+":"+U+";"}}),e.fire("AfterPreviewFormats"),Jc.remove(a),c},uA=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},gE=function(e){var t=oA(e),r=Wu(null);return uA(e),d4(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(a,c,l){md(e,a,c,l)},remove:function(a,c,l,m){G5(e,a,c,l,m)},toggle:function(a,c,l){$4(e,a,c,l)},match:function(a,c,l,m){return W5(e,a,c,l,m)},closest:function(a){return q5(e,a)},matchAll:function(a,c){return hv(e,a,c)},matchNode:function(a,c,l,m){return cO(e,a,c,l,m)},canApply:function(a){return j5(e,a)},formatChanged:function(a,c,l,m){return V4(e,r,a,c,l,m)},getCssText:Ct(iA,e)}},Yw=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},hE=function(e,t,r){var a=Wu(!1),c=function(C){Vw(t,!1,r),t.add({},C)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(C){var _=C.command;Yw(_)||(z4(t,r),t.beforeChange())}),e.on("ExecCommand",function(C){var _=C.command;Yw(_)||c(C)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",function(C){var _=C.keyCode;C.isDefaultPrevented()||((_>=33&&_<=36||_>=37&&_<=40||_===45||C.ctrlKey)&&(c(),e.nodeChanged()),(_===46||_===8)&&e.nodeChanged(),a.get()&&t.typing&&uk(M4(e),t.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),a.set(!1),e.nodeChanged()))}),e.on("keydown",function(C){var _=C.keyCode;if(!C.isDefaultPrevented()){if(_>=33&&_<=36||_>=37&&_<=40||_===45){t.typing&&c(C);return}var H=C.ctrlKey&&!C.altKey||C.metaKey;(_<16||_>20)&&_!==224&&_!==91&&!t.typing&&!H&&(t.beforeChange(),Vw(t,!0,r),t.add({},C),a.set(!0))}}),e.on("mousedown",function(C){t.typing&&c(C)});var l=function(C){return C.inputType==="insertReplacementText"},m=function(C){return C.inputType==="insertText"&&C.data===null},p=function(C){return C.inputType==="insertFromPaste"||C.inputType==="insertFromDrop"};e.on("input",function(C){C.inputType&&(l(C)||m(C)||p(C))&&c(C)}),e.on("AddUndo Undo Redo ClearUndos",function(C){C.isDefaultPrevented()||e.nodeChanged()})},FR=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},pE=function(e){var t=Qf(),r=Wu(0),a=Wu(0),c={data:[],typing:!1,beforeChange:function(){L4(e,r,t)},add:function(l,m){return dd(e,c,a,r,t,l,m)},undo:function(){return iO(e,c,r,a)},redo:function(){return uO(e,a,c.data)},clear:function(){I5(e,c,a)},reset:function(){L5(e,c)},hasUndo:function(){return H5(e,c,a)},hasRedo:function(){return $5(e,c,a)},transact:function(l){return V5(e,c,r,l)},ignore:function(l){H4(e,r,l)},extra:function(l,m){U5(e,c,a,l,m)}};return gv(e)||hE(e,c,r),FR(e),c},bE=[9,27,An.HOME,An.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,An.DOWN,An.UP,An.LEFT,An.RIGHT].concat(In.browser.isFirefox()?[224]:[]),cA="data-mce-placeholder",Dk=function(e){return e.type==="keydown"||e.type==="keyup"},sA=function(e){var t=e.keyCode;return t===An.BACKSPACE||t===An.DELETE},qi=function(e){if(Dk(e)){var t=e.keyCode;return!sA(e)&&(An.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Et(bE,t))}else return!1},IR=function(e){return Dk(e)&&!(sA(e)||e.type==="keyup"&&e.keyCode===229)},LR=function(e,t,r){if(vi(k.fromDom(t),!1)){var a=r==="",c=t.firstElementChild;return c?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:a?!e.isBlock(c):r===c.nodeName.toLowerCase():!0}else return!1},lA=function(e){var t=e.dom,r=Ui(e),a=i2(e),c=function(l,m){if(!qi(l)){var p=e.getBody(),C=IR(l)?!1:LR(t,p,r),_=t.getAttrib(p,cA)!=="";(_!==C||m)&&(t.setAttrib(p,cA,C?a:null),t.setAttrib(p,"aria-placeholder",C?a:null),Up(e,C),e.on(C?"keydown":"keyup",c),e.off(C?"keyup":"keydown",c))}};a&&e.on("init",function(l){c(l,!0),e.on("change SetContent ExecCommand",c),e.on("paste",function(m){return si.setEditorTimeout(e,function(){return c(m)})})})},fA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,yE=function(e){return fA.test(e)},A1=function(e,t){return wt(k.fromDom(t),uf(e))},HR=function(e){return Ko.DOM.getStyle(e,"direction",!0)==="rtl"||yE(e.textContent)},$R=function(e,t,r){return tn(Ko.DOM.getParents(r.container(),"*",t),e)},Sh=function(e,t,r){var a=$R(e,t,r);return ee.from(a[a.length-1])},VR=function(e,t,r){var a=Xv(t,e),c=Xv(r,e);return a&&a===c},UR=function(e){return ua(e)||Bs(e)},Hl=function(e,t){if(!t)return t;var r=t.container(),a=t.offset();return e?Md(r)?jt(r.nextSibling)?He(r.nextSibling,0):He.after(r):ua(t)?He(r,a+1):t:Md(r)?jt(r.previousSibling)?He(r.previousSibling,r.previousSibling.data.length):He.before(r):Bs(t)?He(r,a-1):t},vA=Ct(Hl,!0),Rk=Ct(Hl,!1),Rf=function(e){return function(t){return cn(e,k.fromDom(t.dom.parentNode))}},WR=function(e){return _d(e)||Xl(e)},_k=function(e,t){return wo(e,t)?Jm(t,WR,Rf(e)):ee.none()},jR=function(e){var t=e.getBody(),r=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(r,0)},dA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),jR(e))},qR=function(e,t,r){return $u(mc(r),ol(r),function(a,c){var l=Hl(!0,a),m=Hl(!1,c),p=Hl(!1,t);return e?vs(r,p).exists(function(C){return C.isEqual(m)&&t.isEqual(l)}):ff(r,p).exists(function(C){return C.isEqual(l)&&t.isEqual(m)})}).getOr(!0)},GR=function(e,t){return{block:e,position:t}},KR=function(e,t){return{from:e,to:t}},wE=function(e,t){var r=k.fromDom(e),a=k.fromDom(t.container());return _k(r,a).map(function(c){return GR(c,t)})},XR=function(e){return cn(e.from.block,e.to.block)===!1},YR=function(e){return Tu(e.from.block).bind(function(t){return Tu(e.to.block).filter(function(r){return cn(t,r)})}).isSome()},JR=function(e){return Co(e.from.block.dom)===!1&&Co(e.to.block.dom)===!1},QR=function(e,t,r){return Ua(r.position.getNode())&&vi(r.block)===!1?rv(!1,r.block.dom).bind(function(a){return a.isEqual(r.position)?Kc(t,e,a).bind(function(c){return wE(e,c)}):ee.some(r)}).getOr(r):r},ZR=function(e,t,r){var a=wE(e,He.fromRangeStart(r)),c=a.bind(function(l){return Kc(t,e,l.position).bind(function(m){return wE(e,m).map(function(p){return QR(e,t,p)})})});return $u(a,c,KR).filter(function(l){return XR(l)&&YR(l)&&JR(l)})},e_=function(e,t,r){return r.collapsed?ZR(e,t,r):ee.none()},t_=function(e){var t=Hu(e);return To(t,_s).fold(oe(t),function(r){return t.slice(0,r)})},mA=function(e){var t=t_(e);return tt(t,ci),t},gA=function(e,t){var r=Pl(t,e);return Ut(r.reverse(),function(a){return vi(a)}).each(ci)},n_=function(e){return tn(hi(e),function(t){return!vi(t)}).length===0},r_=function(e,t,r,a){if(vi(r))return Nc(r),mc(r.dom);n_(a)&&vi(t)&&$a(a,k.fromTag("br"));var c=ff(r.dom,He.before(a.dom));return tt(mA(t),function(l){$a(a,l)}),gA(e,t),c},o_=function(e,t,r){if(vi(r))return ci(r),vi(t)&&Nc(t),mc(t.dom);var a=ol(r.dom);return tt(mA(t),function(c){jn(r,c)}),gA(e,t),a},a_=function(e,t){var r=Pl(t,e);return ee.from(r[r.length-1])},i_=function(e,t){return wo(t,e)?a_(t,e):ee.none()},hA=function(e,t){rv(e,t.dom).map(function(r){return r.getNode()}).map(k.fromDom).filter(Kl).each(ci)},pA=function(e,t,r){return hA(!0,t),hA(!1,r),i_(t,r).fold(Ct(o_,e,t,r),Ct(r_,e,t,r))},bA=function(e,t,r,a){return t?pA(e,a,r):pA(e,r,a)},Jw=function(e,t){var r=k.fromDom(e.getBody()),a=e_(r.dom,t,e.selection.getRng()).bind(function(c){return bA(r,t,c.from.block,c.to.block)});return a.each(function(c){e.selection.setRng(c.toRange())}),a.isSome()},u_=function(e,t){var r=t.getRng();return $u(_k(e,k.fromDom(r.startContainer)),_k(e,k.fromDom(r.endContainer)),function(a,c){return cn(a,c)===!1?(r.deleteContents(),bA(e,!0,a,c).each(function(l){t.setRng(l.toRange())}),!0):!1}).getOr(!1)},yA=function(e,t){var r=k.fromDom(t),a=Ct(cn,e);return Av(r,Bd,a).isSome()},c_=function(e,t){return yA(e,t.startContainer)||yA(e,t.endContainer)},s_=function(e,t){var r=ff(e.dom,He.fromRangeStart(t)).isNone(),a=vs(e.dom,He.fromRangeEnd(t)).isNone();return!c_(e,t)&&r&&a},l_=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},f_=function(e){var t=k.fromDom(e.getBody()),r=e.selection.getRng();return s_(t,r)?l_(e):u_(t,e.selection)},Bk=function(e,t){return e.selection.isCollapsed()?!1:f_(e)},v_=Js,wA=Co,$m=function(e,t,r,a,c){return ee.from(t._selectionOverrides.showCaret(e,r,a,c))},d_=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},qb=function(e,t){var r=e.fire("BeforeObjectSelected",{target:t});return r.isDefaultPrevented()?ee.none():ee.some(d_(t))},CA=function(e,t,r){var a=qu(1,e.getBody(),t),c=He.fromRangeStart(a),l=c.getNode();if(Bg(l))return $m(1,e,l,!c.isAtEnd(),!1);var m=c.getNode(!0);if(Bg(m))return $m(1,e,m,!1,!1);var p=e.dom.getParent(c.getNode(),function(C){return wA(C)||v_(C)});return Bg(p)?$m(1,e,p,!1,r):ee.none()},CE=function(e,t,r){return t.collapsed?CA(e,t,r).getOr(t):t},m_=function(e){return Hs(e)||Am(e)},g_=function(e){return cv(e)||Dm(e)},h_=function(e,t){jt(t)&&t.data.length===0&&e.remove(t)},Nk=function(e,t,r,a,c,l){return $m(a,e,l.getNode(!c),c,!0).each(function(m){if(t.collapsed){var p=t.cloneRange();c?p.setEnd(m.startContainer,m.startOffset):p.setStart(m.endContainer,m.endOffset),p.deleteContents()}else t.deleteContents();e.selection.setRng(m)}),h_(e.dom,r),!0},p_=function(e,t){var r=e.selection.getRng();if(!jt(r.commonAncestorContainer))return!1;var a=t?hu.Forwards:hu.Backwards,c=Rl(e.getBody()),l=Ct(w2,t?c.next:c.prev),m=t?m_:g_,p=Np(a,e.getBody(),r),C=Hl(t,l(p));if(!C||!U0(p,C))return!1;if(m(C))return Nk(e,r,p.getNode(),a,t,C);var _=l(C);return _&&m(_)&&U0(C,_)?Nk(e,r,p.getNode(),a,t,_):!1},Qw=function(e,t){return p_(e,t)},b_=function(e){return Bd(k.fromDom(e))||Xl(k.fromDom(e))},fl=As.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),y_=function(e,t){var r=t.getNode(e===!1),a=e?"after":"before";return Ln(r)&&r.getAttribute("data-mce-caret")===a},w_=function(e,t,r,a){var c=function(l){return Ec(k.fromDom(l))&&!sf(r,a,e)};return Bp(!t,r).fold(function(){return Bp(t,a).fold(Je,c)},c)},xA=function(e,t,r,a){var c=a.getNode(t===!1);return _k(k.fromDom(e),k.fromDom(r.getNode())).map(function(l){return vi(l)?fl.remove(l.dom):fl.moveToElement(c)}).orThunk(function(){return ee.some(fl.moveToElement(c))})},SA=function(e,t,r){return Kc(t,e,r).bind(function(a){return b_(a.getNode())||w_(e,t,r,a)?ee.none():t&&Co(a.getNode())||t===!1&&Co(a.getNode(!0))?xA(e,t,r,a):t&&cv(r)||t===!1&&Hs(r)?ee.some(fl.moveToPosition(a)):ee.none()})},C_=function(e,t){return e&&Co(t.nextSibling)?ee.some(fl.moveToElement(t.nextSibling)):e===!1&&Co(t.previousSibling)?ee.some(fl.moveToElement(t.previousSibling)):ee.none()},x_=function(e,t,r){return r.fold(function(a){return ee.some(fl.remove(a))},function(a){return ee.some(fl.moveToElement(a))},function(a){return sf(t,a,e)?ee.none():ee.some(fl.moveToPosition(a))})},xE=function(e,t,r){return y_(t,r)?C_(t,r.getNode(t===!1)).fold(function(){return SA(e,t,r)},ee.some):SA(e,t,r).bind(function(a){return x_(e,r,a)})},S_=function(e,t,r){var a=qu(t?1:-1,e,r),c=He.fromRangeStart(a),l=k.fromDom(e);return t===!1&&cv(c)?ee.some(fl.remove(c.getNode(!0))):t&&Hs(c)?ee.some(fl.remove(c.getNode())):t===!1&&Hs(c)&&lv(l,c)?Ew(l,c).map(function(m){return fl.remove(m.getNode())}):t&&cv(c)&&Bm(l,c)?BS(l,c).map(function(m){return fl.remove(m.getNode())}):xE(e,t,c)},Zw=function(e,t){return function(r){return e._selectionOverrides.hideFakeCaret(),ln(e,t,k.fromDom(r)),!0}},k_=function(e,t){return function(r){var a=t?He.before(r):He.after(r);return e.selection.setRng(a.toRange()),!0}},E_=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},kA=function(e,t){return ee.from(nd(e.getBody(),t))},EA=function(e,t){var r=e.selection.getNode();return kA(e,r).filter(Co).fold(function(){return S_(e.getBody(),t,e.selection.getRng()).exists(function(a){return a.fold(Zw(e,t),k_(e,t),E_(e))})},zt)},T_=function(e){tt(lc(e,".mce-offscreen-selection"),ci)},O_=function(e,t){var r=e.selection.getNode();if(Co(r)&&!Wa(r)){var a=kA(e,r.parentNode).filter(Co);return a.fold(function(){return T_(k.fromDom(e.getBody())),ln(e,t,k.fromDom(e.selection.getNode())),dA(e),!0},zt)}return!1},TA=function(e){var t=e.dom,r=e.selection,a=nd(e.getBody(),r.getNode());if(Js(a)&&t.isBlock(a)&&t.isEmpty(a)){var c=t.create("br",{"data-mce-bogus":"1"});t.setHTML(a,""),a.appendChild(c),r.setRng(He.before(c).toRange())}return!0},Vm=function(e,t){return e.selection.isCollapsed()?EA(e,t):O_(e,t)},OA=function(e,t){var r=He.fromRangeStart(e.selection.getRng());return Kc(t,e.getBody(),r).filter(function(a){return t?RS(a):fd(a)}).bind(function(a){return ee.from(p2(t?0:-1,a))}).exists(function(a){return e.selection.select(a),!0})},eC=function(e,t){return e.selection.isCollapsed()?OA(e,t):!1},kh=jt,SE=function(e){return kh(e)&&e.data[0]===fi},kE=function(e){return kh(e)&&e.data[e.data.length-1]===fi},EE=function(e){return e.ownerDocument.createTextNode(fi)},AA=function(e){if(kh(e.previousSibling))return kE(e.previousSibling)||e.previousSibling.appendData(fi),e.previousSibling;if(kh(e))return SE(e)||e.insertData(0,fi),e;var t=EE(e);return e.parentNode.insertBefore(t,e),t},Gb=function(e){if(kh(e.nextSibling))return SE(e.nextSibling)||e.nextSibling.insertData(0,fi),e.nextSibling;if(kh(e))return kE(e)||e.appendData(fi),e;var t=EE(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},tC=function(e,t){return e?AA(t):Gb(t)},DA=Ct(tC,!0),pv=Ct(tC,!1),Mk=function(e,t){return jt(e.container())?tC(t,e.container()):tC(t,e.getNode())},TE=function(e,t){var r=t.get();return r&&e.container()===r&&Md(r)},OE=function(e,t){return t.fold(function(r){cf(e.get());var a=DA(r);return e.set(a),ee.some(He(a,a.length-1))},function(r){return mc(r).map(function(a){if(TE(a,e))return He(e.get(),1);cf(e.get());var c=Mk(a,!0);return e.set(c),He(c,1)})},function(r){return ol(r).map(function(a){if(TE(a,e))return He(e.get(),e.get().length-1);cf(e.get());var c=Mk(a,!1);return e.set(c),He(c,c.length-1)})},function(r){cf(e.get());var a=pv(r);return e.set(a),ee.some(He(a,1))})},AE=function(e,t){for(var r=0;r<e.length;r++){var a=e[r].apply(null,t);if(a.isSome())return a}return ee.none()},Qc=As.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),RA=function(e,t){var r=Xv(t,e);return r||e},A_=function(e,t,r){var a=vA(r),c=RA(t,a.container());return Sh(e,c,a).fold(function(){return vs(c,a).bind(Ct(Sh,e,c)).map(function(l){return Qc.before(l)})},ee.none)},D_=function(e,t){return Yv(e,t)===null},DE=function(e,t,r){return Sh(e,t,r).filter(Ct(D_,t))},_A=function(e,t,r){var a=Rk(r);return DE(e,t,a).bind(function(c){var l=ff(c,a);return l.isNone()?ee.some(Qc.start(c)):ee.none()})},Us=function(e,t,r){var a=vA(r);return DE(e,t,a).bind(function(c){var l=vs(c,a);return l.isNone()?ee.some(Qc.end(c)):ee.none()})},gd=function(e,t,r){var a=Rk(r),c=RA(t,a.container());return Sh(e,c,a).fold(function(){return ff(c,a).bind(Ct(Sh,e,c)).map(function(l){return Qc.after(l)})},ee.none)},BA=function(e){return HR(Pk(e))===!1},hd=function(e,t,r){var a=AE([A_,_A,Us,gd],[e,t,r]);return a.filter(BA)},Pk=function(e){return e.fold(ho,ho,ho,ho)},Kb=function(e){return e.fold(oe("before"),oe("start"),oe("end"),oe("after"))},D1=function(e){return e.fold(Qc.before,Qc.before,Qc.after,Qc.after)},RE=function(e){return e.fold(Qc.start,Qc.start,Qc.end,Qc.end)},Eh=function(e,t){return Kb(e)===Kb(t)&&Pk(e)===Pk(t)},R_=function(e,t,r,a,c,l){return $u(Sh(t,r,a),Sh(t,r,c),function(m,p){return m!==p&&VR(r,m,p)?Qc.after(e?m:p):l}).getOr(l)},__=function(e,t){return e.fold(zt,function(r){return!Eh(r,t)})},Ws=function(e,t,r,a,c){var l=Hl(e,c),m=Kc(e,r,l).map(Ct(Hl,e)),p=m.fold(function(){return a.map(D1)},function(C){return hd(t,r,C).map(Ct(R_,e,t,r,l,C)).filter(Ct(__,a))});return p.filter(BA)},_E=function(e,t){return e?t.fold(On(ee.some,Qc.start),ee.none,On(ee.some,Qc.after),ee.none):t.fold(ee.none,On(ee.some,Qc.before),ee.none,On(ee.some,Qc.end))},$l=function(e,t,r,a){var c=Hl(e,a),l=hd(t,r,c);return hd(t,r,c).bind(Ct(_E,e)).orThunk(function(){return Ws(e,t,r,l,a)})};Ct($l,!1),Ct($l,!0);var _o=function(e){return Wt(e.selection.getSel().modify)},Th=function(e,t,r){var a=e?1:-1;return t.setRng(He(r.container(),r.offset()+a).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},zk=function(e,t){var r=t.selection.getRng(),a=e?He.fromRangeEnd(r):He.fromRangeStart(r);return _o(t)?e&&ua(a)?Th(!0,t.selection,a):!e&&Bs(a)?Th(!1,t.selection,a):!1:!1},bv;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(bv||(bv={}));var Xb=function(e,t){return e===hu.Backwards?Fi(t):t},BE=function(e,t,r){return e===hu.Forwards?t.next(r):t.prev(r)},B_=function(e,t,r,a){return Ua(a.getNode(t===hu.Forwards))?bv.Br:sf(r,a)===!1?bv.Block:bv.Wrap},Fk=function(e,t,r,a){for(var c=Rl(r),l=a,m=[];l;){var p=BE(t,c,l);if(!p)break;if(Ua(p.getNode(!1)))return t===hu.Forwards?{positions:Xb(t,m).concat([p]),breakType:bv.Br,breakAt:ee.some(p)}:{positions:Xb(t,m),breakType:bv.Br,breakAt:ee.some(p)};if(!p.isVisible()){l=p;continue}if(e(l,p)){var C=B_(r,t,l,p);return{positions:Xb(t,m),breakType:C,breakAt:ee.some(p)}}m.push(p),l=p}return{positions:Xb(t,m),breakType:bv.Eol,breakAt:ee.none()}},NA=function(e,t,r,a){return t(r,a).breakAt.map(function(c){var l=t(r,c).positions;return e===hu.Backwards?l.concat(c):[c].concat(l)}).getOr([])},Ik=function(e,t){return eo(e,function(r,a){return r.fold(function(){return ee.some(a)},function(c){return $u(Vo(c.getClientRects()),Vo(a.getClientRects()),function(l,m){var p=Math.abs(t-l.left),C=Math.abs(t-m.left);return C<=p?a:c}).or(r)})},ee.none())},NE=function(e,t){return Vo(t.getClientRects()).bind(function(r){return Ik(e,r.left)})},R1=Ct(Fk,He.isAbove,-1),Yb=Ct(Fk,He.isBelow,1),Lk=Ct(NA,-1,R1),N_=Ct(NA,1,Yb),M_=function(e,t){return R1(e,t).breakAt.isNone()},P_=function(e,t){return Yb(e,t).breakAt.isNone()},z_=function(e){return mc(e).map(function(t){return[t].concat(Yb(e,t).positions)}).getOr([])},F_=function(e){return ol(e).map(function(t){return R1(e,t).positions.concat(t)}).getOr([])},I_=function(e){var t=function(a){return Vt(a,function(c){var l=rf(c);return l.node=e,l})};if(Ln(e))return t(e.getClientRects());if(jt(e)){var r=e.ownerDocument.createRange();return r.setStart(e,0),r.setEnd(e,e.data.length),t(r.getClientRects())}},ME=function(e){return ka(e,I_)},_1;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(_1||(_1={}));var MA=function(e,t,r,a){for(;a=Kv(a,e,Uh,t);)if(r(a))return},PE=function(e,t,r,a,c,l){var m=0,p=[],C=function($){var U=ME([$]);e===-1&&(U=U.reverse());for(var Z=0;Z<U.length;Z++){var ne=U[Z];if(!r(ne,_)){if(p.length>0&&t(ne,Oa(p))&&m++,ne.line=m,c(ne))return!0;p.push(ne)}}},_=Oa(l.getClientRects());if(!_)return p;var H=l.getNode();return C(H),MA(e,a,C,H),p},PA=function(e,t){return t.line>e},zA=function(e,t){return t.line===e},FA=Ct(PE,_1.Up,Jd,bg),IA=Ct(PE,_1.Down,bg,Jd),zE=function(e,t,r,a){var c=Rl(t),l,m,p,C,_=[],H=0,$=function(ae){return Oa(ae.getClientRects())};e===1?(l=c.next,m=bg,p=Jd,C=He.after(a)):(l=c.prev,m=Jd,p=bg,C=He.before(a));var U=$(C);do if(!!C.isVisible()){var Z=$(C);if(!p(Z,U)){_.length>0&&m(Z,Oa(_))&&H++;var ne=rf(Z);if(ne.position=C,ne.line=H,r(ne))return _;_.push(ne)}}while(C=l(C));return _},FE=function(e){return function(t){return PA(e,t)}},Hk=function(e){return function(t){return zA(e,t)}},LA=Co,IE=Kv,$k=function(e,t){return Math.abs(e.left-t)},Vk=function(e,t){return Math.abs(e.right-t)},LE=function(e,t){return e>=t.left&&e<=t.right},HA=function(e,t){return e>=t.top&&e<=t.bottom},$A=function(e){return gt(e,"node")},nC=function(e,t,r){return r===void 0&&(r=zt),ki(e,function(a,c){if(LE(t,c))return r(c)?c:a;if(LE(t,a))return r(a)?a:c;var l=Math.min($k(a,t),Vk(a,t)),m=Math.min($k(c,t),Vk(c,t));return m===l&&$A(c)&&LA(c.node)||m<l?c:a})},VA=function(e,t,r,a,c){var l=IE(a,e,Uh,t,!c);do if(!l||r(l))return;while(l=IE(l,e,Uh,t))},UA=function(e,t,r){r===void 0&&(r=!0);var a=[],c=function(l,m){var p=tn(ME([m]),function(C){return!l(C,t)});return a=a.concat(p),p.length===0};return a.push(t),VA(_1.Up,e,Ct(c,Jd),t.node,r),VA(_1.Down,e,Ct(c,bg),t.node,r),a},WA=function(e){return tn(N(e.getElementsByTagName("*")),um)},HE=function(e,t){return{node:e.node,before:$k(e,t)<Vk(e,t)}},jA=function(e,t,r){var a=ME(WA(e)),c=tn(a,Ct(HA,r)),l=function(C){return!Ys(C.node)&&!Zo(C.node)},m=nC(c,t,l);if(m){var p=l(m);if(m=nC(UA(e,m,p),t,l),m&&um(m.node))return HE(m,t)}return null},pd=function(e,t){e.selection.setRng(t),xm(e,e.selection.getRng())},$E=function(e,t,r){return ee.some(CE(e,t,r))},qA=function(e,t,r,a,c,l){var m=t===hu.Forwards,p=Rl(e.getBody()),C=Ct(w2,m?p.next:p.prev),_=m?a:c;if(!r.collapsed){var H=Qd(r);if(l(H))return $m(t,e,H,t===hu.Backwards,!1)}var $=Np(t,e.getBody(),r);if(_($))return qb(e,$.getNode(!m));var U=Hl(m,C($)),Z=wC(r);if(!U)return Z?ee.some(r):ee.none();if(_(U))return $m(t,e,U.getNode(!m),m,!1);var ne=C(U);return ne&&_(ne)&&U0(U,ne)?$m(t,e,ne.getNode(!m),m,!1):Z?$E(e,U.toRange(),!1):ee.none()},GA=function(e,t,r,a,c,l){var m=Np(t,e.getBody(),r),p=Oa(m.getClientRects()),C=t===_1.Down;if(!p)return ee.none();var _=C?IA:FA,H=_(e.getBody(),FE(1),m),$=tn(H,Hk(1)),U=p.left,Z=nC($,U);if(Z&&l(Z.node)){var ne=Math.abs(U-Z.left),ae=Math.abs(U-Z.right);return $m(t,e,Z.node,ne<ae,!1)}var ie;if(a(m)?ie=m.getNode():c(m)?ie=m.getNode(!0):ie=Qd(r),ie){var ge=zE(t,e.getBody(),FE(1),ie),ve=nC(tn(ge,Hk(1)),U);if(ve||(ve=Oa(tn(ge,Hk(0))),ve))return $E(e,ve.position.toRange(),!1)}return $.length===0?VE(e,C).filter(C?c:a).map(function(De){return CE(e,De.toRange(),!1)}):ee.none()},VE=function(e,t){var r=e.selection.getRng(),a=e.getBody();if(t){var c=He.fromRangeEnd(r),l=Yb(a,c);return Ta(l.positions)}else{var c=He.fromRangeStart(r),l=R1(a,c);return Vo(l.positions)}},KA=function(e,t,r){return VE(e,t).filter(r).exists(function(a){return e.selection.setRng(a.toRange()),!0})},rC=function(e,t){var r=e.dom.createRng();r.setStart(t.container(),t.offset()),r.setEnd(t.container(),t.offset()),e.selection.setRng(r)},XA=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Uk=function(e,t,r){return OE(t,r).map(function(a){return rC(e,a),r})},L_=function(e,t,r){var a=e.getBody(),c=He.fromRangeStart(e.selection.getRng()),l=Ct(A1,e),m=$l(r,l,a,c);return m.bind(function(p){return Uk(e,t,p)})},n=function(e,t,r){var a=Vt(lc(k.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(m){return m.dom}),c=tn(a,e),l=tn(r,e);tt(Oo(c,l),Ct(XA,!1)),tt(Oo(l,c),Ct(XA,!0))},o=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var r=He.fromRangeStart(e.selection.getRng());He.isTextPosition(r)&&UR(r)===!1&&(rC(e,Zr(t.get(),r)),t.set(null))}},u=function(e,t,r,a){if(t.selection.isCollapsed()){var c=tn(a,e);tt(c,function(l){var m=He.fromRangeStart(t.selection.getRng());hd(e,t.getBody(),m).bind(function(p){return Uk(t,r,p)})})}},f=function(e,t,r){return qv(e)?L_(e,t,r).isSome():!1},d=function(e,t,r){return qv(t)?zk(e,t):!1},g=function(e){var t=Wu(null),r=Ct(A1,e);return e.on("NodeChange",function(a){qv(e)&&!(In.browser.isIE()&&a.initial)&&(n(r,e.dom,a.parents),o(e,t),u(r,e,t,a.parents))}),t},b=Ct(d,!0),x=Ct(d,!1),S=function(e,t,r){if(qv(e)){var a=VE(e,t).getOrThunk(function(){var c=e.selection.getRng();return t?He.fromRangeEnd(c):He.fromRangeStart(c)});return hd(Ct(A1,e),e.getBody(),a).exists(function(c){var l=D1(c);return OE(r,l).exists(function(m){return rC(e,m),!0})})}else return!1},T=function(e,t){var r=document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},A=function(e){return $u(mc(e),ol(e),function(t,r){var a=Hl(!0,t),c=Hl(!1,r);return vs(e,a).forall(function(l){return l.isEqual(c)})}).getOr(!0)},R=function(e,t){return function(r){return OE(t,r).exists(function(a){return rC(e,a),!0})}},M=function(e,t,r,a){var c=e.getBody(),l=Ct(A1,e);e.undoManager.ignore(function(){e.selection.setRng(T(r,a)),e.execCommand("Delete"),hd(l,c,He.fromRangeStart(e.selection.getRng())).map(RE).map(R(e,t))}),e.nodeChanged()},F=function(e,t){var r=Xv(t,e);return r||e},q=function(e,t,r,a){var c=F(e.getBody(),a.container()),l=Ct(A1,e),m=hd(l,c,a);return m.bind(function(p){return r?p.fold(oe(ee.some(RE(p))),ee.none,oe(ee.some(D1(p))),ee.none):p.fold(ee.none,oe(ee.some(D1(p))),ee.none,oe(ee.some(RE(p))))}).map(R(e,t)).getOrThunk(function(){var p=Pp(r,c,a),C=p.bind(function(_){return hd(l,c,_)});return $u(m,C,function(){return Sh(l,c,a).exists(function(_){return A(_)?(ln(e,r,k.fromDom(_)),!0):!1})}).orThunk(function(){return C.bind(function(_){return p.map(function(H){return r?M(e,t,a,H):M(e,t,H,a),!0})})}).getOr(!1)})},j=function(e,t,r){if(e.selection.isCollapsed()&&qv(e)){var a=He.fromRangeStart(e.selection.getRng());return q(e,t,r,a)}return!1},G=function(e,t){var r=Pl(t,e);return To(r,_s).fold(oe(r),function(a){return r.slice(0,a)})},K=function(e){return Dh(e)===1},Q=function(e,t,r,a){var c=Ct(m4,t),l=Vt(tn(a,c),function(p){return p.dom});if(l.length===0)ln(t,e,r);else{var m=fT(r.dom,l);t.selection.setRng(m.toRange())}},L=function(e,t){var r=k.fromDom(e.getBody()),a=k.fromDom(e.selection.getStart()),c=tn(G(r,a),K);return Ta(c).exists(function(l){var m=He.fromRangeStart(e.selection.getRng());return qR(t,m,l.dom)&&!m5(l)?(Q(t,e,l,c),!0):!1})},Y=function(e,t){return e.selection.isCollapsed()?L(e,t):!1},ue=function(e,t,r){return e._selectionOverrides.hideFakeCaret(),ln(e,t,k.fromDom(r)),!0},de=function(e,t){var r=t?Am:Dm,a=t?hu.Forwards:hu.Backwards,c=Np(a,e.getBody(),e.selection.getRng());return r(c)?ue(e,t,c.getNode(!t)):ee.from(Hl(t,c)).filter(function(l){return r(l)&&U0(c,l)}).exists(function(l){return ue(e,t,l.getNode(!t))})},Re=function(e,t){var r=e.selection.getNode();return Zo(r)?ue(e,t,r):!1},xe=function(e,t){return e.selection.isCollapsed()?de(e,t):Re(e,t)},ze=function(e){return Jm(e,function(t){return Js(t.dom)||Co(t.dom)}).exists(function(t){return Js(t.dom)})},Ke=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Ie=function(e,t){var r=e||Rd(t)?"margin":"padding",a=sr(t,"direction")==="rtl"?"-right":"-left";return r+a},Ze=function(e,t,r,a,c,l){var m=Ie(r,k.fromDom(l));if(t==="outdent"){var p=Math.max(0,Ke(l.style[m])-a);e.setStyle(l,m,p?p+c:"")}else{var p=Ke(l.style[m])+a+c;e.setStyle(l,m,p)}},vt=function(e,t){return ri(t,function(r){var a=Ie(kp(e),r),c=Ti(r,a).map(Ke).getOr(0),l=e.dom.getContentEditable(r.dom);return l!=="false"&&c>0})},Lt=function(e){var t=xr(e);return!e.mode.isReadOnly()&&(t.length>1||vt(e,t))},fn=function(e){return Cl(e)||Xl(e)},Gn=function(e){return Tu(e).exists(fn)},xr=function(e){return tn(Kd(e.selection.getSelectedBlocks()),function(t){return!fn(t)&&!Gn(t)&&ze(t)})},jr=function(e,t){var r=e.dom,a=e.selection,c=e.formatter,l=Ep(e),m=/[a-z%]+$/i.exec(l)[0],p=parseInt(l,10),C=kp(e),_=Ui(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&_===""&&!r.getParent(a.getNode(),r.isBlock)&&c.apply("div"),tt(xr(e),function(H){Ze(r,t,C,p,m,H.dom)})},ao=function(e,t){if(e.selection.isCollapsed()&&Lt(e)){var r=e.dom,a=e.selection.getRng(),c=He.fromRangeStart(a),l=r.getParent(a.startContainer,r.isBlock);if(l!==null&&l1(k.fromDom(l),c))return jr(e,"outdent"),!0}return!1},hr=function(e,t){e.getDoc().execCommand(t,!1,null)},Yr=function(e,t){if(!ao(e)){if(Vm(e,!1))return;if(Qw(e,!1))return;if(j(e,t,!1))return;if(Jw(e,!1))return;if($S(e))return;if(eC(e,!1))return;if(xe(e,!1))return;if(Bk(e))return;if(Y(e,!1))return;hr(e,"Delete"),dA(e)}},no=function(e,t){if(!Vm(e,!0)){if(Qw(e,!0))return;if(j(e,t,!0))return;if(Jw(e,!0))return;if($S(e))return;if(eC(e,!0))return;if(xe(e,!0))return;if(Bk(e))return;if(Y(e,!0))return;hr(e,"ForwardDelete")}},ko=function(e,t){e.addCommand("delete",function(){Yr(e,t)}),e.addCommand("forwardDelete",function(){no(e,t)})},Or=5,Wo=400,Ni=function(e){return e.touches===void 0||e.touches.length!==1?ee.none():ee.some(e.touches[0])},Xu=function(e,t){var r=Math.abs(e.clientX-t.x),a=Math.abs(e.clientY-t.y);return r>Or||a>Or},bc=function(e){var t=Qf(),r=Wu(!1),a=tl(function(c){e.fire("longpress",Jt(Jt({},c),{type:"longpress"})),r.set(!0)},Wo);e.on("touchstart",function(c){Ni(c).each(function(l){a.cancel();var m={x:l.clientX,y:l.clientY,target:c.target};a.throttle(c),r.set(!1),t.set(m)})},!0),e.on("touchmove",function(c){a.cancel(),Ni(c).each(function(l){t.on(function(m){Xu(l,m)&&(t.clear(),r.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(c){a.cancel(),c.type!=="touchcancel"&&t.get().filter(function(l){return l.target.isEqualNode(c.target)}).each(function(){r.get()?c.preventDefault():e.fire("tap",Jt(Jt({},c),{type:"tap"}))})},!0)},Bo=function(e,t){return Un(e,t.nodeName)},gs=function(e,t){return jt(t)?!0:Ln(t)?!Bo(e,t)&&!Dc(t):!1},Ma=function(e,t,r){return Ot(Ab(k.fromDom(r),k.fromDom(t)),function(a){return Bo(e,a.dom)})},io=function(e,t){if(jt(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Bo(e,t.nextSibling)))return!0}return!1},At=function(e){var t=e.dom,r=e.selection,a=e.schema,c=a.getBlockElements(),l=r.getStart(),m=e.getBody(),p,C,_,H=Ui(e);if(!(!l||!Ln(l)||!H)){var $=m.nodeName.toLowerCase();if(!(!a.isValidChild($,H.toLowerCase())||Ma(c,m,l))){var U=r.getRng(),Z=U.startContainer,ne=U.startOffset,ae=U.endContainer,ie=U.endOffset,ge=Cf(e);for(l=m.firstChild;l;)if(gs(c,l)){if(io(c,l)){C=l,l=l.nextSibling,t.remove(C);continue}p||(p=t.create(H,Al(e)),l.parentNode.insertBefore(p,l),_=!0),C=l,l=l.nextSibling,p.appendChild(C)}else p=null,l=l.nextSibling;_&&ge&&(U.setStart(Z,ne),U.setEnd(ae,ie),r.setRng(U),e.nodeChanged())}}},Xn=function(e){Ui(e)&&e.on("NodeChange",Ct(At,e))},co=function(e){return U1(k.fromDom(e.getBody()),"*[data-mce-caret]").map(function(t){return t.dom}).getOrNull()},No=function(e){e.selection.setRng(e.selection.getRng())},Xo=function(e,t){t.hasAttribute("data-mce-caret")&&(vy(t),No(e),e.selection.scrollIntoView(t))},yc=function(e,t){var r=co(e);if(!!r){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),Xo(e,r);return}_v(r)&&(Xo(e,r),e.undoManager.add())}},xi=function(e){e.on("keyup compositionstart",Ct(yc,e))},Si=Co,Mu=function(e,t,r){return qA(t,e,r,Hs,cv,Si)},cu=function(e,t,r){var a=function(l){return Hs(l)||ww(l)},c=function(l){return cv(l)||mh(l)};return GA(t,e,r,a,c,Si)},Gi=function(e){var t=e.dom.create(Ui(e));return(!In.ie||In.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},Mi=function(e,t,r){var a=Rl(e.getBody()),c=Ct(w2,t===1?a.next:a.prev);if(r.collapsed&&hx(e)){var l=e.dom.getParent(r.startContainer,"PRE");if(!l)return;var m=c(He.fromRangeStart(r));if(!m){var p=Gi(e);t===1?e.$(l).after(p):e.$(l).before(p),e.selection.select(p,!0),e.selection.collapse()}}},Pi=function(e,t){var r=t?hu.Forwards:hu.Backwards,a=e.selection.getRng();return Mu(r,e,a).orThunk(function(){return Mi(e,r,a),ee.none()})},vl=function(e,t){var r=t?1:-1,a=e.selection.getRng();return cu(r,e,a).orThunk(function(){return Mi(e,r,a),ee.none()})},vr=function(e,t){return Pi(e,t).exists(function(r){return pd(e,r),!0})},wc=function(e,t){return vl(e,t).exists(function(r){return pd(e,r),!0})},Yu=function(e,t){var r=t?cv:Hs;return KA(e,t,r)},_f=function(e){return Et(["figcaption"],on(e))},yv=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},wv=function(e,t,r){r?jn(e,t):pi(e,t)},Um=function(e,t){var r=k.fromTag("br");return wv(e,r,t),yv(r)},B1=function(e,t,r,a){var c=k.fromTag(r),l=k.fromTag("br");return z(c,a),jn(c,l),wv(e,c,t),yv(l)},N1=function(e,t,r,a){return t===""?Um(e,a):B1(e,a,t,r)},oC=function(e,t){var r=Ct(cn,t);return Jm(k.fromDom(e.container()),_s,r).filter(_f)},bd=function(e,t,r){return t?P_(e.dom,r):M_(e.dom,r)},Jb=function(e,t){var r=k.fromDom(e.getBody()),a=He.fromRangeStart(e.selection.getRng()),c=Ui(e),l=Al(e);return oC(a,r).exists(function(){if(bd(r,t,a)){var m=N1(r,c,l,t);return e.selection.setRng(m),!0}else return!1})},Bf=function(e,t){return e.selection.isCollapsed()?Jb(e,t):!1},Cv=function(e){return Vt(e,function(t){return Jt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:en},t)})},Wk=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},Qb=function(e,t){return ka(Cv(e),function(r){return Wk(r,t)?[r]:[]})},Sr=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(null,t)}},Zb=function(e,t){return Ut(Qb(e,t),function(r){return r.action()})},aC=function(e,t){var r=t?hu.Forwards:hu.Backwards,a=e.selection.getRng();return qA(e,r,a,Am,Dm,Zo).exists(function(c){return pd(e,c),!0})},jk=function(e,t){var r=t?1:-1,a=e.selection.getRng();return GA(e,r,a,Am,Dm,Zo).exists(function(c){return pd(e,c),!0})},Wm=function(e,t){var r=t?Dm:Am;return KA(e,t,r)},YA=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}},JA=function(e,t){return ka(t,function(r){var a=YA(rf(r.getBoundingClientRect()),-1);return[{x:a.left,y:e(a),cell:r},{x:a.right,y:e(a),cell:r}]})},QA=function(e,t,r){return eo(e,function(a,c){return a.fold(function(){return ee.some(c)},function(l){var m=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-r)),p=Math.sqrt(Math.abs(c.x-t)+Math.abs(c.y-r));return ee.some(p<m?c:l)})},ee.none())},ey=function(e,t,r,a,c){var l=lc(k.fromDom(r),"td,th,caption").map(function(p){return p.dom}),m=tn(JA(e,l),function(p){return t(p,c)});return QA(m,a,c).map(function(p){return p.cell})},jm=function(e){return e.bottom},ZA=function(e){return e.top},eD=function(e,t){return e.y<t},tD=function(e,t){return e.y>t},nD=Ct(ey,jm,eD),Ne=Ct(ey,ZA,tD),ar=function(e,t){return Vo(t.getClientRects()).bind(function(r){return nD(e,r.left,r.top)}).bind(function(r){return NE(F_(r),t)})},Yn=function(e,t){return Ta(t.getClientRects()).bind(function(r){return Ne(e,r.left,r.top)}).bind(function(r){return NE(z_(r),t)})},Ju=function(e,t,r){return r.breakAt.exists(function(a){return e(t,a).breakAt.isSome()})},su=function(e){return e.breakType===bv.Wrap&&e.positions.length===0},Pu=function(e){return e.breakType===bv.Br&&e.positions.length===1},Zc=function(e,t,r){var a=e(t,r);return su(a)||!Ua(r.getNode())&&Pu(a)?!Ju(e,t,a):a.breakAt.isNone()},Ki=Ct(Zc,R1),dl=Ct(Zc,Yb),js=function(e,t,r){var a=He.fromRangeStart(t);return rv(!e,r).exists(function(c){return c.isEqual(a)})},H_=function(e,t,r,a){var c=e.selection.getRng(),l=t?1:-1;return $0()&&js(t,c,r)?($m(l,e,r,!t,!1).each(function(m){pd(e,m)}),!0):!1},UE=function(e,t,r){return ar(t,r).orThunk(function(){return Vo(r.getClientRects()).bind(function(a){return Ik(Lk(e,He.before(t)),a.left)})}).getOr(He.before(t))},ty=function(e,t,r){return Yn(t,r).orThunk(function(){return Vo(r.getClientRects()).bind(function(a){return Ik(N_(e,He.after(t)),a.left)})}).getOr(He.after(t))},rD=function(e,t){var r=t.getNode(e);return Ln(r)&&r.nodeName==="TABLE"?ee.some(r):ee.none()},g6=function(e,t,r,a){var c=Ui(t);c?t.undoManager.transact(function(){var l=k.fromTag(c);z(l,Al(t)),jn(l,k.fromTag("br")),e?If(k.fromDom(r),l):$a(k.fromDom(r),l);var m=t.dom.createRng();m.setStart(l.dom,0),m.setEnd(l.dom,0),pd(t,m)}):pd(t,a.toRange())},iB=function(e,t,r){var a=rD(!!t,r),c=t===!1;a.fold(function(){return pd(e,r.toRange())},function(l){return rv(c,e.getBody()).filter(function(m){return m.isEqual(r)}).fold(function(){return pd(e,r.toRange())},function(m){return g6(t,e,l,r)})})},h6=function(e,t,r,a){var c=e.selection.getRng(),l=He.fromRangeStart(c),m=e.getBody();if(!t&&Ki(a,l)){var p=UE(m,r,l);return iB(e,t,p),!0}else if(t&&dl(a,l)){var p=ty(m,r,l);return iB(e,t,p),!0}else return!1},uB=function(e,t,r){return ee.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(a){return ee.from(e.dom.getParent(a,"table")).map(function(c){return r(e,t,c,a)})}).getOr(!1)},cB=function(e,t){return uB(e,t,H_)},sB=function(e,t){return uB(e,t,h6)},p6=function(e,t,r){var a=an().os;Zb([{keyCode:An.RIGHT,action:Sr(vr,e,!0)},{keyCode:An.LEFT,action:Sr(vr,e,!1)},{keyCode:An.UP,action:Sr(wc,e,!1)},{keyCode:An.DOWN,action:Sr(wc,e,!0)},{keyCode:An.RIGHT,action:Sr(cB,e,!0)},{keyCode:An.LEFT,action:Sr(cB,e,!1)},{keyCode:An.UP,action:Sr(sB,e,!1)},{keyCode:An.DOWN,action:Sr(sB,e,!0)},{keyCode:An.RIGHT,action:Sr(aC,e,!0)},{keyCode:An.LEFT,action:Sr(aC,e,!1)},{keyCode:An.UP,action:Sr(jk,e,!1)},{keyCode:An.DOWN,action:Sr(jk,e,!0)},{keyCode:An.RIGHT,action:Sr(f,e,t,!0)},{keyCode:An.LEFT,action:Sr(f,e,t,!1)},{keyCode:An.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:Sr(b,e,t)},{keyCode:An.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:Sr(x,e,t)},{keyCode:An.UP,action:Sr(Bf,e,!1)},{keyCode:An.DOWN,action:Sr(Bf,e,!0)}],r).each(function(c){r.preventDefault()})},b6=function(e,t){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&p6(e,t,r)})},y6=function(e,t,r){Zb([{keyCode:An.BACKSPACE,action:Sr(ao,e,!1)},{keyCode:An.BACKSPACE,action:Sr(Vm,e,!1)},{keyCode:An.DELETE,action:Sr(Vm,e,!0)},{keyCode:An.BACKSPACE,action:Sr(Qw,e,!1)},{keyCode:An.DELETE,action:Sr(Qw,e,!0)},{keyCode:An.BACKSPACE,action:Sr(j,e,t,!1)},{keyCode:An.DELETE,action:Sr(j,e,t,!0)},{keyCode:An.BACKSPACE,action:Sr($S,e,!1)},{keyCode:An.DELETE,action:Sr($S,e,!0)},{keyCode:An.BACKSPACE,action:Sr(eC,e,!1)},{keyCode:An.DELETE,action:Sr(eC,e,!0)},{keyCode:An.BACKSPACE,action:Sr(xe,e,!1)},{keyCode:An.DELETE,action:Sr(xe,e,!0)},{keyCode:An.BACKSPACE,action:Sr(Bk,e,!1)},{keyCode:An.DELETE,action:Sr(Bk,e,!0)},{keyCode:An.BACKSPACE,action:Sr(Jw,e,!1)},{keyCode:An.DELETE,action:Sr(Jw,e,!0)},{keyCode:An.BACKSPACE,action:Sr(Y,e,!1)},{keyCode:An.DELETE,action:Sr(Y,e,!0)}],r).each(function(a){r.preventDefault()})},w6=function(e,t){Zb([{keyCode:An.BACKSPACE,action:Sr(TA,e)},{keyCode:An.DELETE,action:Sr(TA,e)}],t)},C6=function(e,t){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&y6(e,t,r)}),e.on("keyup",function(r){r.isDefaultPrevented()===!1&&w6(e,r)})},x6=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},WE=function(e,t){var r,a=t,c=e.dom,l=e.schema.getMoveCaretBeforeOnEnterElements();if(!!t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var m=x6(t.firstChild);m&&/^(UL|OL|DL)$/.test(m.nodeName)&&t.insertBefore(c.doc.createTextNode(cc),t.firstChild)}var p=c.createRng();if(t.normalize(),t.hasChildNodes()){for(var C=new li(t,t);r=C.current();){if(jt(r)){p.setStart(r,0),p.setEnd(r,0);break}if(l[r.nodeName.toLowerCase()]){p.setStartBefore(r),p.setEndBefore(r);break}a=r,r=C.next()}r||(p.setStart(a,0),p.setEnd(a,0))}else Ua(t)?t.nextSibling&&c.isBlock(t.nextSibling)?(p.setStartBefore(t),p.setEndBefore(t)):(p.setStartAfter(t),p.setEndAfter(t)):(p.setStart(t,0),p.setEnd(t,0));e.selection.setRng(p),xm(e,p)}},S6=function(e,t){var r=e.getRoot(),a,c;for(a=t;a!==r&&e.getContentEditable(a)!=="false";)e.getContentEditable(a)==="true"&&(c=a),a=a.parentNode;return a!==r?c:r},$_=function(e){return ee.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},k6=function(e){return $_(e).fold(oe(""),function(t){return t.nodeName.toUpperCase()})},E6=function(e){return $_(e).filter(function(t){return Xl(k.fromDom(t))}).isSome()},T6=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},O6=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},lB=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},fB=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},A6=function(e){return fB(e)&&fB(e.parentNode)},oD=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},aD=function(e,t,r){for(var a=e[r?"firstChild":"lastChild"];a&&!Ln(a);)a=a[r?"nextSibling":"previousSibling"];return a===t},D6=function(e,t,r,a,c){var l=e.dom,m=e.selection.getRng();if(r!==e.getBody()){A6(r)&&(c="LI");var p=c?t(c):l.create("BR");if(aD(r,a,!0)&&aD(r,a,!1))if(lB(r,"LI")){var C=oD(r);l.insertAfter(p,C),O6(r)?l.remove(C):l.remove(r)}else l.replace(p,r);else if(aD(r,a,!0))lB(r,"LI")?(l.insertAfter(p,oD(r)),p.appendChild(l.doc.createTextNode(" ")),p.appendChild(r)):r.parentNode.insertBefore(p,r),l.remove(a);else if(aD(r,a,!1))l.insertAfter(p,oD(r)),l.remove(a);else{r=oD(r);var _=m.cloneRange();_.setStartAfter(a),_.setEndAfter(r);var H=_.extractContents();c==="LI"&&T6(H,"LI")?(p=H.firstChild,l.insertAfter(H,r)):(l.insertAfter(H,r),l.insertAfter(p,r)),l.remove(a)}WE(e,p)}},R6=function(e){tt(hg(k.fromDom(e),fu),function(t){var r=t.dom;r.nodeValue=Yl(r.nodeValue)})},_6=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)},B6=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},V_=function(e){e.innerHTML='<br data-mce-bogus="1">'},U_=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},vB=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"},N6=function(e,t,r){var a=r,c=[],l;if(!!a){for(;a=a.firstChild;){if(e.isBlock(a))return;Ln(a)&&!t[a.nodeName.toLowerCase()]&&c.push(a)}for(l=c.length;l--;)a=c[l],(!a.hasChildNodes()||a.firstChild===a.lastChild&&a.firstChild.nodeValue===""||_6(e,a))&&e.remove(a)}},W_=function(e,t,r){return jt(t)===!1?r:e?r===1&&t.data.charAt(r-1)===fi?0:r:r===t.data.length-1&&t.data.charAt(r)===fi?t.data.length:r},M6=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,W_(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,W_(!1,e.endContainer,e.endOffset)),t},P6=function(e){do jt(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},dB=function(e,t){var r=e.getRoot(),a,c;for(a=t;a!==r&&e.getContentEditable(a)!=="false";)e.getContentEditable(a)==="true"&&(c=a),a=a.parentNode;return a!==r?c:r},z6=function(e,t,r){var a=e.dom;ee.from(r.style).map(a.parseStyle).each(function(C){var _=ia(k.fromDom(t)),H=Jt(Jt({},_),C);a.setStyles(t,H)});var c=ee.from(r.class).map(function(C){return C.split(/\s+/)}),l=ee.from(t.className).map(function(C){return tn(C.split(/\s+/),function(_){return _!==""})});$u(c,l,function(C,_){var H=tn(_,function(U){return!Et(C,U)}),$=Aa(Aa([],C,!0),H,!0);a.setAttrib(t,"class",$.join(" "))});var m=["style","class"],p=Jn(r,function(C,_){return!Et(m,_)});a.setAttribs(t,p)},jE=function(e,t){var r=Ui(e);if(r&&r.toLowerCase()===t.tagName.toLowerCase()){var a=Al(e);z6(e,t,a)}},F6=function(e,t,r,a,c){var l,m,p,C,_,H,$=t||"P",U=e.dom,Z=dB(U,a);if(m=U.getParent(a,U.isBlock),!m||!vB(U,m)){if(m=m||Z,m===e.getBody()||B6(m)?H=m.nodeName.toLowerCase():H=m.parentNode.nodeName.toLowerCase(),!m.hasChildNodes())return l=U.create($),jE(e,l),m.appendChild(l),r.setStart(l,0),r.setEnd(l,0),l;for(C=a;C.parentNode!==m;)C=C.parentNode;for(;C&&!U.isBlock(C);)p=C,C=C.previousSibling;if(p&&e.schema.isValidChild(H,$.toLowerCase())){for(l=U.create($),jE(e,l),p.parentNode.insertBefore(l,p),C=p;C&&!U.isBlock(C);)_=C.nextSibling,l.appendChild(C),C=_;r.setStart(a,c),r.setEnd(a,c)}}return a},I6=function(e,t){t.normalize();var r=t.lastChild;(!r||/^(left|right)$/gi.test(e.getStyle(r,"float",!0)))&&e.add(t,"br")},L6=function(e,t){var r,a,c,l,m,p,C,_,H,$,U=e.dom,Z=e.schema,ne=Z.getNonEmptyElements(),ae=e.selection.getRng(),ie=function(Qe){var mt=a,Nn,Kt,rt,Rn=Z.getTextInlineElements();if(Qe||_==="TABLE"||_==="HR"?Nn=U.create(Qe||H):Nn=l.cloneNode(!1),rt=Nn,ox(e)===!1)U.setAttrib(Nn,"style",null),U.setAttrib(Nn,"class",null);else do if(Rn[mt.nodeName]){if(gc(mt)||Dc(mt))continue;Kt=mt.cloneNode(!1),U.setAttrib(Kt,"id",""),Nn.hasChildNodes()?(Kt.appendChild(Nn.firstChild),Nn.appendChild(Kt)):(rt=Kt,Nn.appendChild(Kt))}while((mt=mt.parentNode)&&mt!==pe);return jE(e,Nn),V_(rt),Nn},ge=function(Qe){var mt,Nn,Kt=W_(Qe,a,c);if(jt(a)&&(Qe?Kt>0:Kt<a.nodeValue.length))return!1;if(a.parentNode===l&&$&&!Qe||Qe&&Ln(a)&&a===l.firstChild)return!0;if(U_(a,"TABLE")||U_(a,"HR"))return $&&!Qe||!$&&Qe;var rt=new li(a,l);for(jt(a)&&(Qe&&Kt===0?rt.prev():!Qe&&Kt===a.nodeValue.length&&rt.next());mt=rt.current();){if(Ln(mt)){if(!mt.getAttribute("data-mce-bogus")&&(Nn=mt.nodeName.toLowerCase(),ne[Nn]&&Nn!=="br"))return!1}else if(jt(mt)&&!mu(mt.nodeValue))return!1;Qe?rt.prev():rt.next()}return!0},ve=function(){/^(H[1-6]|PRE|FIGURE)$/.test(_)&&Be!=="HGROUP"?m=ie(H):m=ie(),nv(e)&&vB(U,C)&&U.isEmpty(l)?m=U.split(C,l):U.insertAfter(m,l),WE(e,m)};Qg(U,ae).each(function(Qe){ae.setStart(Qe.startContainer,Qe.startOffset),ae.setEnd(Qe.endContainer,Qe.endOffset)}),a=ae.startContainer,c=ae.startOffset,H=Ui(e);var De=!!(t&&t.shiftKey),Ee=!!(t&&t.ctrlKey);Ln(a)&&a.hasChildNodes()&&($=c>a.childNodes.length-1,a=a.childNodes[Math.min(c,a.childNodes.length-1)]||a,$&&jt(a)?c=a.nodeValue.length:c=0);var pe=dB(U,a);if(!!pe){(H&&!De||!H&&De)&&(a=F6(e,H,ae,a,c)),l=U.getParent(a,U.isBlock),C=l?U.getParent(l.parentNode,U.isBlock):null,_=l?l.nodeName.toUpperCase():"";var Be=C?C.nodeName.toUpperCase():"";if(Be==="LI"&&!Ee&&(l=C,C=C.parentNode,_=Be),/^(LI|DT|DD)$/.test(_)&&U.isEmpty(l)){D6(e,ie,C,l,H);return}H&&l===e.getBody()||(H=H||"P",Ic(l)?(m=vy(l),U.isEmpty(l)&&V_(l),jE(e,m),WE(e,m)):ge()?ve():ge(!0)?(m=l.parentNode.insertBefore(ie(),l),WE(e,U_(l,"HR")?m:l)):(r=M6(ae).cloneRange(),r.setEndAfter(l),p=r.extractContents(),R6(p),P6(p),m=p.firstChild,U.insertAfter(p,l),N6(U,ne,m),I6(U,l),U.isEmpty(l)&&V_(l),m.normalize(),U.isEmpty(m)?(U.remove(m),ve()):(jE(e,m),WE(e,m))),U.setAttrib(m,"id",""),e.fire("NewBlock",{newBlock:m}))}},H6=function(e,t,r){for(var a=new li(t,r),c,l=e.getNonEmptyElements();c=a.next();)if(l[c.nodeName.toLowerCase()]||c.length>0)return!0},mB=function(e,t,r){var a=e.dom.createRng();r?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)),e.selection.setRng(a),xm(e,a)},$6=function(e,t){var r=e.selection,a=e.dom,c=r.getRng(),l,m;Qg(a,c).each(function(ne){c.setStart(ne.startContainer,ne.startOffset),c.setEnd(ne.endContainer,ne.endOffset)});var p=c.startOffset,C=c.startContainer;if(C.nodeType===1&&C.hasChildNodes()){var _=p>C.childNodes.length-1;C=C.childNodes[Math.min(p,C.childNodes.length-1)]||C,_&&C.nodeType===3?p=C.nodeValue.length:p=0}var H=a.getParent(C,a.isBlock),$=H?a.getParent(H.parentNode,a.isBlock):null,U=$?$.nodeName.toUpperCase():"",Z=!!(t&&t.ctrlKey);U==="LI"&&!Z&&(H=$),C&&C.nodeType===3&&p>=C.nodeValue.length&&(H6(e.schema,C,H)||(l=a.create("br"),c.insertNode(l),c.setStartAfter(l),c.setEndAfter(l),m=!0)),l=a.create("br"),O0(a,c,l),mB(e,l,m),e.undoManager.add()},V6=function(e,t){var r=k.fromTag("br");$a(k.fromDom(t),r),e.undoManager.add()},U6=function(e,t){j6(e.getBody(),t)||If(k.fromDom(t),k.fromTag("br"));var r=k.fromTag("br");If(k.fromDom(t),r),mB(e,r.dom,!1),e.undoManager.add()},W6=function(e){return Ua(e.getNode())},j6=function(e,t){return W6(He.after(t))?!0:vs(e,He.after(t)).map(function(r){return Ua(r.getNode())}).getOr(!1)},gB=function(e){return e&&e.nodeName==="A"&&"href"in e},q6=function(e){return e.fold(Je,gB,gB,Je)},G6=function(e){var t=Ct(A1,e),r=He.fromRangeStart(e.selection.getRng());return hd(t,e.getBody(),r).filter(q6)},K6=function(e,t){t.fold(en,Ct(V6,e),Ct(U6,e),en)},hB=function(e,t){var r=G6(e);r.isSome()?r.each(Ct(K6,e)):$6(e,t)},pB=function(e,t){return $_(e).filter(function(r){return t.length>0&&wt(k.fromDom(r),t)}).isSome()},X6=function(e){return pB(e,Eg(e))},Y6=function(e){return pB(e,nm(e))},Nf=As.generate([{br:[]},{block:[]},{none:[]}]),J6=function(e,t){return Y6(e)},j_=function(e){return function(t,r){var a=Ui(t)==="";return a===e}},bB=function(e){return function(t,r){return E6(t)===e}},yB=function(e,t){return function(r,a){var c=k6(r)===e.toUpperCase();return c===t}},iD=function(e){return yB("pre",e)},Q6=function(){return yB("summary",!0)},uD=function(e){return function(t,r){return tm(t)===e}},Z6=function(e,t){return X6(e)},qE=function(e,t){return t},wB=function(e){var t=Ui(e),r=S6(e.dom,e.selection.getStart());return r&&e.schema.isValidChild(r.nodeName,t||"P")},xv=function(e,t){return function(r,a){var c=eo(e,function(l,m){return l&&m(r,a)},!0);return c?ee.some(t):ee.none()}},eN=function(e,t){return AE([xv([J6],Nf.none()),xv([Q6()],Nf.br()),xv([iD(!0),uD(!1),qE],Nf.br()),xv([iD(!0),uD(!1)],Nf.block()),xv([iD(!0),uD(!0),qE],Nf.block()),xv([iD(!0),uD(!0)],Nf.br()),xv([bB(!0),qE],Nf.br()),xv([bB(!0)],Nf.block()),xv([j_(!0),qE,wB],Nf.block()),xv([j_(!0)],Nf.br()),xv([Z6],Nf.br()),xv([j_(!1),qE],Nf.br()),xv([wB],Nf.block())],[e,!!(t&&t.shiftKey)]).getOr(Nf.none())},CB=function(e,t){eN(e,t).fold(function(){hB(e,t)},function(){L6(e,t)},en)},tN=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),rO(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),CB(e,t)}))},nN=function(e){e.on("keydown",function(t){t.keyCode===An.ENTER&&tN(e,t)})},rN=function(e,t,r){Zb([{keyCode:An.END,action:Sr(Yu,e,!0)},{keyCode:An.HOME,action:Sr(Yu,e,!1)},{keyCode:An.END,action:Sr(Wm,e,!0)},{keyCode:An.HOME,action:Sr(Wm,e,!1)},{keyCode:An.END,action:Sr(S,e,!0,t)},{keyCode:An.HOME,action:Sr(S,e,!1,t)}],r).each(function(a){r.preventDefault()})},oN=function(e,t){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&rN(e,t,r)})},aN=an().browser,iN=function(e){var t=po(function(){e.composing||Nb(e)},0);aN.isIE()&&(e.on("keypress",function(r){t.throttle()}),e.on("remove",function(r){t.cancel()}))},uN=function(e){iN(e),e.on("input",function(t){t.isComposing===!1&&Nb(e)})},cN=an(),sN=function(e,t,r){Zb([{keyCode:An.PAGE_UP,action:Sr(S,e,!1,t)},{keyCode:An.PAGE_DOWN,action:Sr(S,e,!0,t)}],r)},xB=function(e){return e.stopImmediatePropagation()},SB=function(e){return e.keyCode===An.PAGE_UP||e.keyCode===An.PAGE_DOWN},kB=function(e,t,r){r&&!e.get()?t.on("NodeChange",xB,!0):!r&&e.get()&&t.off("NodeChange",xB),e.set(r)},lN=function(e,t){if(!cN.os.isOSX()){var r=Wu(!1);e.on("keydown",function(a){SB(a)&&kB(r,e,!0)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&sN(e,t,a),SB(a)&&r.get()&&(kB(r,e,!1),e.nodeChanged())})}},EB=function(e,t){var r=t.container(),a=t.offset();return jt(r)?(r.insertData(a,e),ee.some(He(r,a+e.length))):V0(t).map(function(c){var l=k.fromText(e);return t.isAtEnd()?If(c,l):$a(c,l),He(l.dom,e.length)})},fN=Ct(EB,cc),vN=Ct(EB," "),dN=function(e){return function(t){return t.fold(function(r){return ff(e.dom,He.before(r))},function(r){return mc(r)},function(r){return ol(r)},function(r){return vs(e.dom,He.after(r))})}},mN=function(e,t){return function(r){return U3(e,r)?fN(t):vN(t)}},gN=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},hN=function(e){var t=He.fromRangeStart(e.selection.getRng()),r=k.fromDom(e.getBody());if(e.selection.isCollapsed()){var a=Ct(A1,e),c=He.fromRangeStart(e.selection.getRng());return hd(a,e.getBody(),c).bind(dN(r)).bind(mN(r,t)).exists(gN(e))}else return!1},pN=function(e,t){Zb([{keyCode:An.SPACEBAR,action:Sr(hN,e)}],t).each(function(r){t.preventDefault()})},bN=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&pN(e,t)})},yN=function(e){var t=g(e);return xi(e),b6(e,t),C6(e,t),nN(e),bN(e),uN(e),oN(e,t),lN(e,t),t},wN=function(e){return gv(e)?Wu(null):yN(e)},CN=function(){function e(t){this.lastPath=[],this.editor=t;var r,a=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(c){var l=t.selection.getRng(),m={startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset};(c.type==="nodechange"||!Yg(m,r))&&t.fire("SelectionChange"),r=m}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var c=t.selection.getStart(!0);!c||!In.range&&t.selection.isCollapsed()||td(t)&&!a.isSameElementPath(c)&&t.dom.isChildOf(c,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(c){!c.isDefaultPrevented()&&td(t)&&(t.selection.getNode().nodeName==="IMG"?si.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return e.prototype.nodeChanged=function(t){var r=this.editor.selection,a,c,l;this.editor.initialized&&r&&!px(this.editor)&&!this.editor.mode.isReadOnly()&&(l=this.editor.getBody(),a=r.getStart(!0)||l,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,l))&&(a=l),c=[],this.editor.dom.getParent(a,function(m){if(m===l)return!0;c.push(m)}),t=t||{},t.element=a,t.parents=c,this.editor.fire("NodeChange",t))},e.prototype.isSameElementPath=function(t){var r,a=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(a.length===this.lastPath.length){for(r=a.length;r>=0&&a[r]===this.lastPath[r];r--);if(r===-1)return this.lastPath=a,!0}return this.lastPath=a,!1},e}(),xN=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},SN=function(e){e.parser.addNodeFilter("details",function(t){tt(t,function(r){r.attr("data-mce-open",r.attr("open")),r.attr("open","open")})}),e.serializer.addNodeFilter("details",function(t){tt(t,function(r){var a=r.attr("data-mce-open");r.attr("open",Gt(a)?a:null),r.attr("data-mce-open",null)})})},kN=function(e){xN(e),SN(e)},TB=function(e){return Ln(e)&&_d(k.fromDom(e))},EN=function(e){var t=e.selection.getRng(),r=He.fromRangeStart(t),a=He.fromRangeEnd(t);if(He.isElementPosition(r)){var c=r.container();TB(c)&&mc(c).each(function(l){return t.setStart(l.container(),l.offset())})}if(He.isElementPosition(a)){var c=r.container();TB(c)&&ol(c).each(function(m){return t.setEnd(m.container(),m.offset())})}e.selection.setRng(X3(t))},TN=function(e){e.on("click",function(t){t.detail>=3&&EN(e)})},OB=function(e){var t=e.getBoundingClientRect(),r=e.ownerDocument,a=r.documentElement,c=r.defaultView;return{top:t.top+c.pageYOffset-a.clientTop,left:t.left+c.pageXOffset-a.clientLeft}},ON=function(e){return e.inline?OB(e.getBody()):{left:0,top:0}},AN=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},DN=function(e){var t=e.getBody(),r=e.getDoc().documentElement,a={left:t.scrollLeft,top:t.scrollTop},c={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop};return e.inline?a:c},RN=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var r=OB(e.getContentAreaContainer()),a=DN(e);return{left:t.pageX-r.left+a.left,top:t.pageY-r.top+a.top}}return{left:t.pageX,top:t.pageY}},_N=function(e,t,r){return{pageX:r.left-e.left+t.left,pageY:r.top-e.top+t.top}},BN=function(e,t){return _N(ON(e),AN(e),RN(e,t))},cD=Co,NN=Js,MN=function(e,t){return cD(t)&&t!==e},PN=function(e,t,r){return t===r||e.dom.isChildOf(t,r)?!1:!cD(t)},zN=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},FN=function(e,t,r,a){var c=e.dom,l=t.cloneNode(!0);c.setStyles(l,{width:r,height:a}),c.setAttrib(l,"data-mce-selected",null);var m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:a}),c.setStyles(l,{margin:0,boxSizing:"border-box"}),m.appendChild(l),m},IN=function(e,t){e.parentNode!==t&&t.appendChild(e)},LN=function(e,t,r,a,c,l){var m=0,p=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+r>c&&(m=t.pageX+r-c),t.pageY+a>l&&(p=t.pageY+a-l),e.style.width=r-m+"px",e.style.height=a-p+"px"},AB=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},HN=function(e){return e.button===0},$N=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},VN=function(e,t){return function(r){if(HN(r)){var a=Ut(t.dom.getParents(r.target),fc(cD,NN)).getOr(null);if(MN(t.getBody(),a)){var c=t.dom.getPos(a),l=t.getBody(),m=t.getDoc().documentElement;e.set({element:a,dragging:!1,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?l.scrollWidth:m.offsetWidth)-2,maxY:(t.inline?l.scrollHeight:m.offsetHeight)-2,relX:r.pageX-c.x,relY:r.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:FN(t,a,a.offsetWidth,a.offsetHeight)})}}}},UN=function(e,t){var r=si.throttle(function(a,c){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(a,c)},0);return t.on("remove",r.stop),function(a){return e.on(function(c){var l=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&l>10){var m=t.fire("dragstart",{target:c.element});if(m.isDefaultPrevented())return;c.dragging=!0,t.focus()}if(c.dragging){var p=$N(c,BN(t,a));IN(c.ghost,t.getBody()),LN(c.ghost,p,c.width,c.height,c.maxX,c.maxY),r(a.clientX,a.clientY)}})}},WN=function(e){var t=e.getSel().getRangeAt(0),r=t.startContainer;return r.nodeType===3?r.parentNode:r},jN=function(e,t){return function(r){e.on(function(a){if(a.dragging){if(PN(t,WN(t.selection),a.element)){var c=zN(a.element),l=t.fire("drop",{clientX:r.clientX,clientY:r.clientY});l.isDefaultPrevented()||t.undoManager.transact(function(){AB(a.element),t.insertContent(t.dom.getOuterHTML(c)),t._selectionOverrides.hideFakeCaret()})}t.fire("dragend")}}),DB(e)}},qN=function(e,t){return function(){e.on(function(r){r.dragging&&t.fire("dragend")}),DB(e)}},DB=function(e){e.on(function(t){AB(t.ghost)}),e.clear()},GN=function(e){var t=Qf(),r=Ko.DOM,a=document,c=VN(t,e),l=UN(t,e),m=jN(t,e),p=qN(t,e);e.on("mousedown",c),e.on("mousemove",l),e.on("mouseup",m),r.bind(a,"mousemove",l),r.bind(a,"mouseup",p),e.on("remove",function(){r.unbind(a,"mousemove",l),r.unbind(a,"mouseup",p)}),e.on("keydown",function(C){C.keyCode===An.ESC&&p()})},KN=function(e){e.on("drop",function(t){var r=typeof t.clientX<"u"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(cD(r)||e.dom.getContentEditableParent(r)==="false")&&t.preventDefault()})},XN=function(e){var t=function(c){if(!c.isDefaultPrevented()){var l=c.dataTransfer;l&&(Et(l.types,"Files")||l.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Xw(e,"Dropped file type is not supported"))}},r=function(c){r1(e,c.target)&&t(c)},a=function(){var c=Ko.DOM,l=e.dom,m=document,p=e.inline?e.getBody():e.getDoc(),C=["drop","dragover"];tt(C,function(_){c.bind(m,_,r),l.bind(p,_,t)}),e.on("remove",function(){tt(C,function(_){c.unbind(m,_,r),l.unbind(p,_,t)})})};e.on("init",function(){si.setEditorTimeout(e,a,0)})},YN=function(e){GN(e),KN(e),c2(e)&&XN(e)},JN=function(e){var t=po(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var r=e.selection.getRng();if(r.collapsed){var a=CE(e,r,!1);e.selection.setRng(a)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},QN=function(e){e.on("init",function(){e.on("focusin",function(t){var r=t.target;if(Zo(r)){var a=nd(e.getBody(),r),c=Co(a)?a:r;e.selection.getNode()!==c&&qb(e,c).each(function(l){return e.selection.setRng(l)})}})})},RB=Js,iC=Co,sD=function(e,t){return nd(e.getBody(),t)},ZN=function(e){var t=e.selection,r=e.dom,a=r.isBlock,c=e.getBody(),l=d2(e,c,a,function(){return Cf(e)}),m="sel-"+r.uniqueId(),p="data-mce-selected",C,_=function(rt){return r.hasClass(rt,"mce-offscreen-selection")},H=function(rt){return rt!==c&&(iC(rt)||Zo(rt))&&r.isChildOf(rt,c)},$=function(rt){return Hs(rt)||cv(rt)||Am(rt)||Dm(rt)},U=function(){var rt=r.get(m);return rt&&rt.getElementsByTagName("*")[0]},Z=function(rt){rt&&t.setRng(rt)},ne=t.getRng,ae=function(rt,Rn,Dt,qt){qt===void 0&&(qt=!0);var St=e.fire("ShowCaret",{target:Rn,direction:rt,before:Dt});return St.isDefaultPrevented()?null:(qt&&t.scrollIntoView(Rn,rt===-1),l.show(Dt,Rn))},ie=function(rt){rt.hasAttribute("data-mce-caret")&&(vy(rt),Z(ne()),t.scrollIntoView(rt))},ge=function(){e.on("mouseup",function(St){var $t=ne();$t.collapsed&&KO(e,St.clientX,St.clientY)&&CA(e,$t,!1).each(Z)}),e.on("click",function(St){var $t=sD(e,St.target);$t&&(iC($t)&&(St.preventDefault(),e.focus()),RB($t)&&r.isChildOf($t,t.getNode())&&mt())}),e.on("blur NewBlock",mt),e.on("ResizeWindow FullscreenStateChanged",l.reposition);var rt=function(St){var $t=St.firstChild;if(Fn($t))return!1;var rn=He.before($t);if(Ua(rn.getNode())&&St.childNodes.length===1)return!$(rn);var at=Rl(St),Xt=at.next(rn);return Xt&&!$(Xt)},Rn=function(St,$t){var rn=r.getParent(St,a),at=r.getParent($t,a);return rn===at},Dt=function(St,$t){var rn=r.getParent(St,a),at=r.getParent($t,a);return Fn(rn)?!1:St!==at&&r.isChildOf(rn,at)&&iC(sD(e,rn))===!1?!0:!r.isChildOf(at,rn)&&!Rn(rn,at)&&rt(rn)};e.on("tap",function(St){var $t=St.target,rn=sD(e,$t);iC(rn)?(St.preventDefault(),qb(e,rn).each(Qe)):H($t)&&qb(e,$t).each(Qe)},!0),e.on("mousedown",function(St){var $t=St.target;if(!($t!==c&&$t.nodeName!=="HTML"&&!r.isChildOf($t,c))&&KO(e,St.clientX,St.clientY)!==!1){var rn=sD(e,$t);if(rn)iC(rn)?(St.preventDefault(),qb(e,rn).each(Qe)):(mt(),!(RB(rn)&&St.shiftKey)&&!Vp(St.clientX,St.clientY,t.getRng())&&(Kt(),t.placeCaretAt(St.clientX,St.clientY)));else if(H($t))qb(e,$t).each(Qe);else if(um($t)===!1){mt(),Kt();var at=jA(c,St.clientX,St.clientY);if(at&&!Dt($t,at.node)){St.preventDefault();var Xt=ae(1,at.node,at.before,!1);Z(Xt),e.getBody().focus()}}}}),e.on("keypress",function(St){An.modifierPressed(St)||iC(t.getNode())&&St.preventDefault()}),e.on("GetSelectionRange",function(St){var $t=St.range;if(C){if(!C.parentNode){C=null;return}$t=$t.cloneRange(),$t.selectNode(C),St.range=$t}}),e.on("SetSelectionRange",function(St){St.range=Ee(St.range);var $t=Qe(St.range,St.forward);$t&&(St.range=$t)});var qt=function(St){return St.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(St){var $t=St.range,rn=$t.startContainer.parentNode;!De($t)&&!qt(rn)&&Kt(),_(rn)||mt()}),e.on("copy",function(St){var $t=St.clipboardData;if(!St.isDefaultPrevented()&&St.clipboardData&&!In.ie){var rn=U();rn&&(St.preventDefault(),$t.clearData(),$t.setData("text/html",rn.outerHTML),$t.setData("text/plain",rn.outerText||rn.innerText))}}),YN(e),JN(e),QN(e)},ve=function(rt){return Vu(rt)||Hh(rt)||$h(rt)},De=function(rt){return ve(rt.startContainer)||ve(rt.endContainer)},Ee=function(rt){var Rn=e.schema.getShortEndedElements(),Dt=r.createRng(),qt=rt.startContainer,St=rt.startOffset,$t=rt.endContainer,rn=rt.endOffset;return Un(Rn,qt.nodeName.toLowerCase())?St===0?Dt.setStartBefore(qt):Dt.setStartAfter(qt):Dt.setStart(qt,St),Un(Rn,$t.nodeName.toLowerCase())?rn===0?Dt.setEndBefore($t):Dt.setEndAfter($t):Dt.setEnd($t,rn),Dt},pe=function(rt,Rn,Dt){var qt=e.$,St=U1(k.fromDom(e.getBody()),"#"+m).fold(function(){return qt([])},function(at){return qt([at.dom])});St.length===0&&(St=qt('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",m),St.appendTo(e.getBody()));var $t=r.createRng();Rn===Dt&&In.ie?(St.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Rn),$t.setStartAfter(St[0].firstChild.firstChild),$t.setEndAfter(Rn)):(St.empty().append(cc).append(Rn).append(cc),$t.setStart(St[0].firstChild,1),$t.setEnd(St[0].lastChild,0)),St.css({top:r.getPos(rt,e.getBody()).y}),St[0].focus();var rn=t.getSel();return rn.removeAllRanges(),rn.addRange($t),$t},Be=function(rt){var Rn=rt.cloneNode(!0),Dt=e.fire("ObjectSelected",{target:rt,targetClone:Rn});if(Dt.isDefaultPrevented())return null;var qt=pe(rt,Dt.targetClone,Rn),St=k.fromDom(rt);return tt(lc(k.fromDom(e.getBody()),"*[data-mce-selected]"),function($t){cn(St,$t)||ht($t,p)}),r.getAttrib(rt,p)||rt.setAttribute(p,"1"),C=rt,Kt(),qt},Qe=function(rt,Rn){if(!rt)return null;if(rt.collapsed){if(!De(rt)){var Dt=Rn?1:-1,qt=Np(Dt,c,rt),St=qt.getNode(!Rn);if(um(St))return ae(Dt,St,Rn?!qt.isAtEnd():!1,!1);var $t=qt.getNode(Rn);if(um($t))return ae(Dt,$t,Rn?!1:!qt.isAtEnd(),!1)}return null}var rn=rt.startContainer,at=rt.startOffset,Xt=rt.endOffset;if(rn.nodeType===3&&at===0&&iC(rn.parentNode)&&(rn=rn.parentNode,at=r.nodeIndex(rn),rn=rn.parentNode),rn.nodeType!==1)return null;if(Xt===at+1&&rn===rt.endContainer){var Ar=rn.childNodes[at];if(H(Ar))return Be(Ar)}return null},mt=function(){C&&C.removeAttribute(p),U1(k.fromDom(e.getBody()),"#"+m).each(ci),C=null},Nn=function(){l.destroy(),C=null},Kt=function(){l.hide()};return In.ceFalse&&!gv(e)&&ge(),{showCaret:ae,showBlockCaretContainer:ie,hideFakeCaret:Kt,destroy:Nn}},eM=function(e){var t=je.each,r=An.BACKSPACE,a=An.DELETE,c=e.dom,l=e.selection,m=e.parser,p=In.gecko,C=In.ie,_=In.webkit,H="data:text/mce-internal,",$=C?"Text":"URL",U=function(ct,Bt){try{e.getDoc().execCommand(ct,!1,Bt)}catch{}},Z=function(ct){return ct.isDefaultPrevented()},ne=function(ct){var Bt,gn;ct.dataTransfer&&(e.selection.isCollapsed()&&ct.target.tagName==="IMG"&&l.select(ct.target),Bt=e.selection.getContent(),Bt.length>0&&(gn=H+escape(e.id)+","+escape(Bt),ct.dataTransfer.setData($,gn)))},ae=function(ct){var Bt;return ct.dataTransfer&&(Bt=ct.dataTransfer.getData($),Bt&&Bt.indexOf(H)>=0)?(Bt=Bt.substr(H.length).split(","),{id:unescape(Bt[0]),html:unescape(Bt[1])}):null},ie=function(ct,Bt){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:ct,internal:Bt}):e.execCommand("mceInsertContent",!1,ct)},ge=function(){var ct=function(gn){var Fe=c.create("body"),bt=gn.cloneContents();return Fe.appendChild(bt),l.serializer.serialize(Fe,{format:"html"})},Bt=function(gn){var Fe=ct(gn),bt=c.createRng();bt.selectNode(e.getBody());var st=ct(bt);return Fe===st};e.on("keydown",function(gn){var Fe=gn.keyCode,bt,st;if(!Z(gn)&&(Fe===a||Fe===r)){if(bt=e.selection.isCollapsed(),st=e.getBody(),bt&&!c.isEmpty(st)||!bt&&!Bt(e.selection.getRng()))return;gn.preventDefault(),e.setContent(""),st.firstChild&&c.isBlock(st.firstChild)?e.selection.setCursorLocation(st.firstChild,0):e.selection.setCursorLocation(st,0),e.nodeChanged()}})},ve=function(){e.shortcuts.add("meta+a",null,"SelectAll")},De=function(){e.inline||c.bind(e.getDoc(),"mousedown mouseup",function(ct){var Bt;if(ct.target===e.getDoc().documentElement)if(Bt=l.getRng(),e.getBody().focus(),ct.type==="mousedown"){if(Vu(Bt.startContainer))return;l.placeCaretAt(ct.clientX,ct.clientY)}else l.setRng(Bt)})},Ee=function(){e.on("keydown",function(ct){if(!Z(ct)&&ct.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&l.getRng().startOffset===0){var Bt=l.getNode(),gn=Bt.previousSibling;if(Bt.nodeName==="HR"){c.remove(Bt),ct.preventDefault();return}gn&&gn.nodeName&&gn.nodeName.toLowerCase()==="hr"&&(c.remove(gn),ct.preventDefault())}}})},pe=function(){Range.prototype.getClientRects||e.on("mousedown",function(ct){if(!Z(ct)&&ct.target.nodeName==="HTML"){var Bt=e.getBody();Bt.blur(),si.setEditorTimeout(e,function(){Bt.focus()})}})},Be=function(){e.on("click",function(ct){var Bt=ct.target;/^(IMG|HR)$/.test(Bt.nodeName)&&c.getContentEditableParent(Bt)!=="false"&&(ct.preventDefault(),e.selection.select(Bt),e.nodeChanged()),Bt.nodeName==="A"&&c.hasClass(Bt,"mce-item-anchor")&&(ct.preventDefault(),l.select(Bt))})},Qe=function(){var ct=function(){var gn=c.getAttribs(l.getStart().cloneNode(!1));return function(){var Fe=l.getStart();Fe!==e.getBody()&&(c.setAttrib(Fe,"style",null),t(gn,function(bt){Fe.setAttributeNode(bt.cloneNode(!0))}))}},Bt=function(){return!l.isCollapsed()&&c.getParent(l.getStart(),c.isBlock)!==c.getParent(l.getEnd(),c.isBlock)};e.on("keypress",function(gn){var Fe;if(!Z(gn)&&(gn.keyCode===8||gn.keyCode===46)&&Bt())return Fe=ct(),e.getDoc().execCommand("delete",!1,null),Fe(),gn.preventDefault(),!1}),c.bind(e.getDoc(),"cut",function(gn){var Fe;!Z(gn)&&Bt()&&(Fe=ct(),si.setEditorTimeout(e,function(){Fe()}))})},mt=function(){e.on("keydown",function(ct){if(!Z(ct)&&ct.keyCode===r&&l.isCollapsed()&&l.getRng().startOffset===0){var Bt=l.getNode().previousSibling;if(Bt&&Bt.nodeName&&Bt.nodeName.toLowerCase()==="table")return ct.preventDefault(),!1}})},Nn=function(){e.on("keydown",function(ct){var Bt,gn;if(!(Z(ct)||ct.keyCode!==An.BACKSPACE)){Bt=l.getRng();var Fe=Bt.startContainer,bt=Bt.startOffset,st=c.getRoot();if(gn=Fe,!(!Bt.collapsed||bt!==0)){for(;gn&&gn.parentNode&&gn.parentNode.firstChild===gn&&gn.parentNode!==st;)gn=gn.parentNode;gn.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,gn),Bt=c.createRng(),Bt.setStart(Fe,0),Bt.setEnd(Fe,0),l.setRng(Bt))}}})},Kt=function(){var ct=function(){U("StyleWithCSS",!1),U("enableInlineTableEditing",!1),sx(e)||U("enableObjectResizing",!1)};bx(e)||e.on("BeforeExecCommand mousedown",ct)},rt=function(){var ct=function(){t(c.select("a"),function(Bt){var gn=Bt.parentNode,Fe=c.getRoot();if(gn.lastChild===Bt){for(;gn&&!c.isBlock(gn);){if(gn.parentNode.lastChild!==gn||gn===Fe)return;gn=gn.parentNode}c.add(gn,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Bt){(Bt.type==="setcontent"||Bt.command==="mceInsertLink")&&ct()})},Rn=function(){Ui(e)&&e.on("init",function(){U("DefaultParagraphSeparator",Ui(e))})},Dt=function(){e.on("keyup focusin mouseup",function(ct){An.modifierPressed(ct)||l.normalize()},!0)},qt=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},St=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},$t=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(ct){var Bt;if(ct.target.nodeName==="HTML"){if(In.ie>11){e.getBody().focus();return}Bt=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Bt),e.selection.normalize(),e.nodeChanged()}}))},rn=function(){In.mac&&e.on("keydown",function(ct){if(An.metaKeyPressed(ct)&&!ct.shiftKey&&(ct.keyCode===37||ct.keyCode===39)){ct.preventDefault();var Bt=e.selection.getSel();Bt.modify("move",ct.keyCode===37?"backward":"forward","lineboundary")}})},at=function(){U("AutoUrlDetect",!1)},Xt=function(){e.on("click",function(ct){var Bt=ct.target;do if(Bt.tagName==="A"){ct.preventDefault();return}while(Bt=Bt.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ar=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(ct){ct.preventDefault()})})},so=function(){m.addNodeFilter("br",function(ct){for(var Bt=ct.length;Bt--;)ct[Bt].attr("class")==="Apple-interchange-newline"&&ct[Bt].remove()})},uo=function(){e.on("dragstart",function(ct){ne(ct)}),e.on("drop",function(ct){if(!Z(ct)){var Bt=ae(ct);if(Bt&&Bt.id!==e.id){ct.preventDefault();var gn=sb(ct.x,ct.y,e.getDoc());l.setRng(gn),ie(Bt.html,!0)}}})},Qu=en,ni=function(){if(!p||e.removed)return!1;var ct=e.selection.getSel();return!ct||!ct.rangeCount||ct.rangeCount===0},hs=function(){_&&(De(),Be(),Ar(),ve(),In.iOS&&(St(),$t(),Xt())),p&&(pe(),Kt(),qt(),rn())},Vl=function(){Nn(),ge(),In.windowsPhone||Dt(),_&&(De(),Be(),Rn(),Ar(),mt(),so(),In.iOS?(St(),$t(),Xt()):ve()),In.ie>=11&&($t(),mt()),In.ie&&(ve(),at(),uo()),p&&(Ee(),pe(),Qe(),Kt(),rt(),qt(),rn(),mt())};return gv(e)?hs():Vl(),{refreshContentEditable:Qu,isHidden:ni}},q_=Ko.DOM,tM=function(e,t){var r=k.fromDom(e.getBody()),a=$e(bl(r)),c=k.fromTag("style");O(c,"type","text/css"),jn(c,k.fromText(t)),jn(a,c),e.on("remove",function(){ci(c)})},nM=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},G_=function(e){return Jn(e,function(t){return Ft(t)===!1})},_B=function(e){var t=e.settings;return G_({block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements,padd_empty_block_inline_children:t.format_empty_lines})},BB=function(e){var t=e.settings,r=e.editorUpload.blobCache;return G_({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:nM(e),validate:!0,blob_cache:r,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})},rM=function(e){var t=e.settings;return Jt(Jt(Jt({},BB(e)),_B(e)),G_({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before}))},oM=function(e){var t=gk(BB(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(r,a){for(var c=r.length,l,m,p=e.dom,C="data-mce-"+a;c--;)if(l=r[c],m=l.attr(a),m&&!l.attr(C)){if(m.indexOf("data:")===0||m.indexOf("blob:")===0)continue;a==="style"?(m=p.serializeStyle(p.parseStyle(m),l.name),m.length||(m=null),l.attr(C,m),l.attr(a,m)):a==="tabindex"?(l.attr(C,m),l.attr(a,null)):l.attr(C,e.convertURL(m,a,l.name))}}),t.addNodeFilter("script",function(r){for(var a=r.length;a--;){var c=r[a],l=c.attr("type")||"no/type";l.indexOf("mce-")!==0&&c.attr("type","mce-"+l)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(r){for(var a=r.length;a--;){var c=r[a];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(r){for(var a=r.length,c=e.schema.getNonEmptyElements();a--;){var l=r[a];l.isEmpty(c)&&l.getAll("br").length===0&&(l.append(new Rc("br",1)).shortEnded=!0)}}),t},aM=function(e){e.settings.auto_focus&&si.setEditorTimeout(e,function(){var t;e.settings.auto_focus===!0?t=e:t=e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},iM=function(e){var t=e.dom.getRoot();!e.inline&&(!td(e)||e.selection.getStart(!0)===t)&&mc(t).each(function(r){var a=r.getNode(),c=Ys(a)?mc(a).getOr(r):r;In.browser.isIE()?sS(e,c.toRange()):e.selection.setRng(c.toRange())})},uM=function(e){e.bindPendingEventDelegates(),e.initialized=!0,Ux(e),e.focus(!0),iM(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),aM(e)},NB=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},cM=function(e,t,r){var a=[new Qa(function(c,l){return NB(e).loadAll(t,c,l)})];return e.inline?a:a.concat([new Qa(function(c,l){return e.ui.styleSheetLoader.loadAll(r,c,l)})])},MB=function(e){var t=NB(e),r=a2(e),a=e.contentCSS,c=function(){t.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(r)},l=function(){e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){var m="";je.each(e.contentStyles,function(C){m+=C+`\r
`}),e.dom.addStyle(m)}var p=Qa.all(cM(e,a,r)).then(l).catch(l);return e.settings.content_style&&tM(e,e.settings.content_style),p},sM=function(e){var t=e.settings,r=e.getDoc(),a=e.getBody();P3(e),!t.browser_spellcheck&&!t.gecko_spellcheck&&(r.body.spellcheck=!1,q_.setAttrib(a,"spellcheck","false")),e.quirks=eM(e),cb(e);var c=Dl(e);c!==void 0&&(a.dir=c),t.protect&&e.on("BeforeSetContent",function(l){je.each(t.protect,function(m){l.content=l.content.replace(m,function(p){return"<!--mce:protected "+escape(p)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(l){e.composing=l.type==="compositionstart"})},lM=function(e){gv(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},K_=function(e){e.removed!==!0&&(lM(e),uM(e))},X_=function(e,t){var r=e.settings,a=e.getElement(),c=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline&&(c.open(),c.write(e.iframeHTML),c.close()),e.inline&&(q_.addClass(a,"mce-content-body"),e.contentDocument=c=document,e.contentWindow=window,e.bodyElement=a,e.contentAreaContainer=a);var l=e.getBody();l.disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&q_.getStyle(l,"position",!0)==="static"&&(l.style.position="relative"),l.contentEditable=e.getParam("content_editable_state",!0)),l.disabled=!1,e.editorUpload=PR(e),e.schema=Uf(_B(e)),e.dom=Ko(c,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Sp(e),referrerPolicy:M0(e),onSetAttrib:function(C){e.fire("SetAttrib",C)}}),e.parser=oM(e),e.serializer=EO(rM(e),e),e.selection=gO(e.dom,e.getWin(),e.serializer,e),e.annotator=ub(e),e.formatter=gE(e),e.undoManager=pE(e),e._nodeChangeDispatcher=new CN(e),e._selectionOverrides=ZN(e),bc(e),kN(e),gv(e)||TN(e);var m=wN(e);ko(e,m),Xn(e),lA(e);var p=F5(e);sM(e),p.fold(function(){MB(e).then(function(){return K_(e)})},function(C){e.setProgressState(!0),MB(e).then(function(){C().then(function(_){e.setProgressState(!1),K_(e)},function(_){e.notificationManager.open({type:"error",text:String(_)}),K_(e)})})})},GE=Ko.DOM,fM=function(e,t){if(document.domain!==window.location.hostname&&In.browser.isIE()){var r=Ak("mce");e[r]=function(){X_(e)};var a='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return GE.setAttrib(t,"src",a),!0}return!1},vM=function(e,t,r,a){var c=k.fromTag("iframe");return z(c,a),z(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),qd(c,"tox-edit-area__iframe"),c},dM=function(e){var t=tv(e)+"<html><head>";rl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var r=B0(e),a=Gc(e),c=e.translate(Cx(e));return em(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+em(e)+'" />'),t+="</head>"+('<body id="'+r+'" class="mce-content-body '+a+'" data-id="'+e.id+'" aria-label="'+c+'">')+"<br></body></html>",t},mM=function(e,t){var r=e.translate("Rich Text Area"),a=vM(e.id,r,t.height,h3(e)).dom;a.onload=function(){a.onload=null,e.fire("load")};var c=fM(e,a);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=a,e.iframeHTML=dM(e),GE.add(t.iframeContainer,a),c},gM=function(e,t){var r=mM(e,t);t.editorContainer&&(GE.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=GE.isHidden(t.editorContainer)),e.getElement().style.display="none",GE.setAttrib(e.id,"aria-hidden","true"),r||X_(e)},PB=Ko.DOM,zB=function(e,t,r){var a=Ll.get(r),c=Ll.urls[r]||e.documentBaseUrl.replace(/\/$/,"");if(r=je.trim(r),a&&je.inArray(t,r)===-1){if(je.each(Ll.dependencies(r),function(m){zB(e,t,m)}),e.plugins[r])return;try{var l=new a(e,c,e.$);e.plugins[r]=l,l.init&&(l.init(e,c),t.push(r))}catch(m){RR(e,r,m)}}},FB=function(e){return e.replace(/^\-/,"")},hM=function(e){var t=[];je.each(am(e).split(/[ ,]/),function(r){zB(e,t,FB(r))})},pM=function(e){var t=je.trim(N0(e)),r=e.ui.registry.getAll().icons,a=Jt(Jt({},Df.get("default").icons),Df.get(t).icons);pn(a,function(c,l){Un(r,l)||e.ui.registry.addIcon(l,c)})},bM=function(e){var t=om(e);if(Gt(t)){e.settings.theme=FB(t);var r=Im.get(t);e.theme=new r(e,Im.urls[t]),e.theme.init&&e.theme.init(e,Im.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},yM=function(e){return e.theme.renderUI()},wM=function(e){var t=e.getElement(),r=om(e),a=r(e,t);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||e.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||e.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:t.offsetHeight,a},IB=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},CM=function(e){var t=PB.create("div");return PB.insertAfter(t,e),IB(t)},xM=function(e){var t=e.getElement();return e.inline?IB(null):CM(t)},SM=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Gt(om(e))?yM(e):Wt(om(e))?wM(e):xM(e)},kM=function(e,t){var r={show:ee.from(t.show).getOr(en),hide:ee.from(t.hide).getOr(en),disable:ee.from(t.disable).getOr(en),isDisabled:ee.from(t.isDisabled).getOr(Je),enable:function(){e.mode.isReadOnly()||ee.from(t.enable).map(Eo)}};e.ui=Jt(Jt({},e.ui),r)},LB=function(e){e.fire("ScriptsLoaded"),pM(e),bM(e),hM(e);var t=SM(e);kM(e,ee.from(t.api).getOr({}));var r={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=r.editorContainer?r.editorContainer:null,E1(e),e.inline?X_(e):gM(e,r)},uC=Ko.DOM,HB=function(e){return e.charAt(0)==="-"},EM=function(e,t){var r=rm(t),a=iu(t);if(el.hasCode(r)===!1&&r!=="en"){var c=a!==""?a:t.editorManager.baseURL+"/langs/"+r+".js";e.add(c,en,void 0,function(){DR(t,c,r)})}},TM=function(e,t,r,a){var c=om(t);if(Gt(c)){if(!HB(c)&&!Un(Im.urls,c)){var l=z0(t);l?Im.load(c,t.documentBaseURI.toAbsolute(l)):Im.load(c,"themes/"+c+"/theme"+r+".js")}e.loadQueue(function(){Im.waitFor(c,a)})}else a()},OM=function(e){return ee.from(o2(e)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:ee.none()}})},$B=function(e,t,r){return ee.from(t).filter(function(a){return a.length>0&&!Df.has(a)}).map(function(a){return{url:e.editorManager.baseURL+"/icons/"+a+"/icons"+r+".js",name:ee.some(a)}})},AM=function(e,t,r){var a=$B(t,"default",r),c=OM(t).orThunk(function(){return $B(t,N0(t),"")});tt(Qn([a,c]),function(l){e.add(l.url,en,void 0,function(){QO(t,l.url,l.name.getOrUndefined())})})},DM=function(e,t){je.each(wx(e),function(r,a){Ll.load(a,r,en,void 0,function(){fE(e,r,a)}),e.settings.plugins+=" "+a}),je.each(am(e).split(/[ ,]/),function(r){if(r=je.trim(r),r&&!Ll.urls[r])if(HB(r)){r=r.substr(1,r.length);var a=Ll.dependencies(r);je.each(a,function(l){var m={prefix:"plugins/",resource:l,suffix:"/plugin"+t+".js"},p=Ll.createUrl(m,l);Ll.load(p.resource,p,en,void 0,function(){fE(e,p.prefix+p.resource+p.suffix,p.resource)})})}else{var c={prefix:"plugins/",resource:r,suffix:"/plugin"+t+".js"};Ll.load(r,c,en,void 0,function(){fE(e,c.prefix+c.resource+c.suffix,r)})}})},RM=function(e,t){var r=nf.ScriptLoader;TM(r,e,t,function(){EM(r,e),AM(r,e,t),DM(e,t),r.loadQueue(function(){e.removed||LB(e)},e,function(){e.removed||LB(e)})})},_M=function(e,t){return Zm.forElement(e,{contentCssCors:yx(t),referrerPolicy:M0(t)})},BM=function(e){var t=e.id;el.setCode(rm(e));var r=function(){uC.unbind(window,"ready",r),e.render()};if(!Pv.Event.domLoaded){uC.bind(window,"ready",r);return}if(!!e.getElement()&&!!In.contentEditable){var a=k.fromDom(e.getElement()),c=sn(a);e.on("remove",function(){En(a.dom.attributes,function(m){return ht(a,m.name)}),z(a,c)}),e.ui.styleSheetLoader=_M(a,e),dx(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var l=e.getElement().form||uC.getParent(t,"form");l&&(e.formElement=l,u2(e)&&!Os(e.getElement())&&(uC.insertAfter(uC.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(m){e.fire(m.type,m)},uC.bind(l,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),rr(e)&&!l.submit.nodeType&&!l.submit.length&&!l._mceOldSubmit&&(l._mceOldSubmit=l.submit,l.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),l._mceOldSubmit(l)})),e.windowManager=sE(e),e.notificationManager=cE(e),F0(e)&&e.on("GetContent",function(m){m.save&&(m.content=uC.encode(m.content))}),mx(e)&&e.on("submit",function(){e.initialized&&e.save()}),gx(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),RM(e,e.suffix)}},NM=function(e,t){return Y5(e,t)},MM={"font-size":"size","font-family":"face"},PM=function(e,t,r){var a=function(l){return Ti(l,e).orThunk(function(){return on(l)==="font"?_r(MM,e).bind(function(m){return se(l,m)}):ee.none()})},c=function(l){return cn(k.fromDom(t),l)};return wh(k.fromDom(r),function(l){return a(l)},c)},zM=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},FM=function(e,t){return ee.from(Ko.DOM.getStyle(t,e,!0))},VB=function(e){return function(t,r){return ee.from(r).map(k.fromDom).filter(Mc).bind(function(a){return PM(e,t,a.dom).or(FM(e,a.dom))}).getOr("")}},IM=VB("font-size"),LM=On(zM,VB("font-family")),HM=function(e){return mc(e.getBody()).map(function(t){var r=t.container();return jt(r)?r.parentNode:r})},$M=function(e){return ee.from(e.selection.getRng()).bind(function(t){var r=e.getBody(),a=t.startContainer===r&&t.startOffset===0;return a?ee.none():ee.from(e.selection.getStart(!0))})},VM=function(e,t){return $M(e).orThunk(Ct(HM,e)).map(k.fromDom).filter(Mc).bind(t)},Y_=function(e,t){return VM(e,Ca(ee.some,t))},UB=function(e,t){if(/^[0-9.]+$/.test(t)){var r=parseInt(t,10);if(r>=1&&r<=7){var a=af(e),c=e2(e);return c?c[r-1]||t:a[r-1]||t}else return t}else return t},UM=function(e){var t=e.split(/\s*,\s*/);return Vt(t,function(r){return r.indexOf(" ")!==-1&&!(qe(r,'"')||qe(r,"'"))?"'"+r+"'":r}).join(",")},WM=function(e,t){var r=UB(e,t);e.formatter.toggle("fontname",{value:UM(r)}),e.nodeChanged()},jM=function(e){return Y_(e,function(t){return LM(e.getBody(),t.dom)}).getOr("")},qM=function(e,t){e.formatter.toggle("fontsize",{value:UB(e,t)}),e.nodeChanged()},GM=function(e){return Y_(e,function(t){return IM(e.getBody(),t.dom)}).getOr("")},KM=function(e){return Y_(e,function(t){var r=k.fromDom(e.getBody()),a=wh(t,function(l){return Ti(l,"line-height")},Ct(cn,r)),c=function(){var l=parseFloat(sr(t,"line-height")),m=parseFloat(sr(t,"font-size"));return String(l/m)};return a.getOrThunk(c)}).getOr("")},XM=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},YM=function(e){if(typeof e!="string"){var t=je.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},JM=function(e,t){var r=YM(t);sO(e,r.content,r.details)},lD=je.each,QM=je.map,ZM=je.inArray,WB=function(){function e(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return e.prototype.execCommand=function(t,r,a,c){var l,m=!1,p=this;if(!p.editor.removed){if(t.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)&&(!c||!c.skip_focus)?p.editor.focus():aw(p.editor)),c=p.editor.fire("BeforeExecCommand",{command:t,ui:r,value:a}),c.isDefaultPrevented())return!1;var C=t.toLowerCase();if(l=p.commands.exec[C])return l(C,r,a),p.editor.fire("ExecCommand",{command:t,ui:r,value:a}),!0;if(lD(this.editor.plugins,function(_){if(_.execCommand&&_.execCommand(t,r,a))return p.editor.fire("ExecCommand",{command:t,ui:r,value:a}),m=!0,!1}),m)return m;if(p.editor.theme&&p.editor.theme.execCommand&&p.editor.theme.execCommand(t,r,a))return p.editor.fire("ExecCommand",{command:t,ui:r,value:a}),!0;try{m=p.editor.getDoc().execCommand(t,r,a)}catch{}return m?(p.editor.fire("ExecCommand",{command:t,ui:r,value:a}),!0):!1}},e.prototype.queryCommandState=function(t){var r;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),r=this.commands.state[t])return r(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},e.prototype.queryCommandValue=function(t){var r;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),r=this.commands.value[t])return r(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},e.prototype.addCommands=function(t,r){r===void 0&&(r="exec");var a=this;lD(t,function(c,l){lD(l.toLowerCase().split(","),function(m){a.commands[r][m]=c})})},e.prototype.addCommand=function(t,r,a){var c=this;t=t.toLowerCase(),this.commands.exec[t]=function(l,m,p,C){return r.call(a||c.editor,m,p,C)}},e.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},e.prototype.addQueryStateHandler=function(t,r,a){var c=this;t=t.toLowerCase(),this.commands.state[t]=function(){return r.call(a||c.editor)}},e.prototype.addQueryValueHandler=function(t,r,a){var c=this;t=t.toLowerCase(),this.commands.value[t]=function(){return r.call(a||c.editor)}},e.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},e.prototype.execNativeCommand=function(t,r,a){return r===void 0&&(r=!1),a===void 0&&(a=null),this.editor.getDoc().execCommand(t,r,a)},e.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},e.prototype.toggleFormat=function(t,r){this.editor.formatter.toggle(t,r),this.editor.nodeChanged()},e.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(t){var r=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":en,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(c,l,m){fw(t,m)},"Cut,Copy,Paste":function(c){var l=t.getDoc(),m;try{r.execNativeCommand(c)}catch{m=!0}if(c==="paste"&&!l.queryCommandEnabled(c)&&(m=!0),m||!l.queryCommandSupported(c)){var p=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");In.mac&&(p=p.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:p,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var c=t.dom.getParent(t.selection.getStart(),"a");c&&t.dom.remove(c,!0);return}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var l=c.substring(7);l==="full"&&(l="justify"),lD("left,center,right,justify".split(","),function(m){l!==m&&t.formatter.remove("align"+m)}),l!=="none"&&r.toggleFormat("align"+l)},"InsertUnorderedList,InsertOrderedList":function(c){var l;r.execNativeCommand(c);var m=t.dom.getParent(t.selection.getNode(),"ol,ul");m&&(l=m.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(l.nodeName)&&(r.storeSelection(),t.dom.split(l,m),r.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){r.toggleFormat(c)},"ForeColor,HiliteColor":function(c,l,m){r.toggleFormat(c,{value:m})},FontName:function(c,l,m){WM(t,m)},FontSize:function(c,l,m){qM(t,m)},LineHeight:function(c,l,m){XM(t,m)},Lang:function(c,l,m){r.toggleFormat(c,{value:m.code,customValue:m.customCode})},RemoveFormat:function(c){t.formatter.remove(c)},mceBlockQuote:function(){r.toggleFormat("blockquote")},FormatBlock:function(c,l,m){return r.toggleFormat(m||"p")},mceCleanup:function(){var c=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(c)},mceRemoveNode:function(c,l,m){var p=m||t.selection.getNode();p!==t.getBody()&&(r.storeSelection(),t.dom.remove(p,!0),r.restoreSelection())},mceSelectNodeDepth:function(c,l,m){var p=0;t.dom.getParent(t.selection.getNode(),function(C){if(C.nodeType===1&&p++===m)return t.selection.select(C),!1},t.getBody())},mceSelectNode:function(c,l,m){t.selection.select(m)},mceInsertContent:function(c,l,m){JM(t,m)},mceInsertRawHTML:function(c,l,m){t.selection.setContent("tiny_mce_marker");var p=t.getContent();t.setContent(p.replace(/tiny_mce_marker/g,function(){return m}))},mceInsertNewLine:function(c,l,m){CB(t,m)},mceToggleFormat:function(c,l,m){r.toggleFormat(m)},mceSetContent:function(c,l,m){t.setContent(m)},"Indent,Outdent":function(c){jr(t,c)},mceRepaint:en,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(c,l,m){t.execCommand("mceInsertContent",!1,m.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(c,l,m){typeof m=="string"&&(m={href:m});var p=t.dom.getParent(t.selection.getNode(),"a");m.href=m.href.replace(/ /g,"%20"),(!p||!m.href)&&t.formatter.remove("link"),m.href&&t.formatter.apply("link",m,p)},selectAll:function(){var c=t.dom.getParent(t.selection.getStart(),Js);if(c){var l=t.dom.createRng();l.selectNodeContents(c),t.selection.setRng(l)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(c,l,m){return hB(t,m),!0}});var a=function(c){return function(){var l=t.selection,m=l.isCollapsed()?[t.dom.getParent(l.getNode(),t.dom.isBlock)]:l.getSelectedBlocks(),p=QM(m,function(C){return!!t.formatter.matchNode(C,c)});return ZM(p,!0)!==-1}};r.addCommands({JustifyLeft:a("alignleft"),JustifyCenter:a("aligncenter"),JustifyRight:a("alignright"),JustifyFull:a("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){return r.isFormatMatch(c)},mceBlockQuote:function(){return r.isFormatMatch("blockquote")},Outdent:function(){return Lt(t)},"InsertUnorderedList,InsertOrderedList":function(c){var l=t.dom.getParent(t.selection.getNode(),"ul,ol");return l&&(c==="insertunorderedlist"&&l.tagName==="UL"||c==="insertorderedlist"&&l.tagName==="OL")}},"state"),r.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),r.addQueryValueHandler("FontName",function(){return jM(t)},this),r.addQueryValueHandler("FontSize",function(){return GM(t)},this),r.addQueryValueHandler("LineHeight",function(){return KM(t)},this)},e}(),cC="data-mce-contenteditable",e8=function(e,t,r){Gd(e,t)&&r===!1?ju(e,t):r&&qd(e,t)},J_=function(e,t,r){try{e.getDoc().execCommand(t,!1,String(r))}catch{}},fD=function(e,t){e.dom.contentEditable=t?"true":"false"},t8=function(e){tt(lc(e,'*[contenteditable="true"]'),function(t){O(t,cC,"true"),fD(t,!1)})},n8=function(e){tt(lc(e,"*["+cC+'="true"]'),function(t){ht(t,cC),fD(t,!0)})},r8=function(e){ee.from(e.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},o8=function(e){e.selection.setRng(e.selection.getRng())},a8=function(e,t){var r=k.fromDom(e.getBody());e8(r,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),r8(e),e.readonly=!0,fD(r,!1),t8(r)):(e.readonly=!1,fD(r,!0),n8(r),J_(e,"StyleWithCSS",!1),J_(e,"enableInlineTableEditing",!1),J_(e,"enableObjectResizing",!1),Wr(e)&&e.focus(),o8(e),e.nodeChanged())},sC=function(e){return e.readonly},jB=function(e){e.parser.addAttributeFilter("contenteditable",function(t){sC(e)&&tt(t,function(r){r.attr(cC,r.attr("contenteditable")),r.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(cC,function(t){sC(e)&&tt(t,function(r){r.attr("contenteditable",r.attr(cC))})}),e.serializer.addTempAttr(cC)},i8=function(e){e.serializer?jB(e):e.on("PreInit",function(){jB(e)})},u8=function(e){return e.type==="click"},c8=function(e,t){var r=function(a){return cn(a,k.fromDom(e.getBody()))};return Oi(t,"a",r).bind(function(a){return se(a,"href")})},s8=function(e,t){if(u8(t)&&!An.metaKeyPressed(t)){var r=k.fromDom(t.target);c8(e,r).each(function(a){if(t.preventDefault(),/^#/.test(a)){var c=e.dom.select(a+',[name="'+_e(a,"#")+'"]');c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},l8=function(e){e.on("ShowCaret",function(t){sC(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){sC(e)&&t.preventDefault()})},f8=je.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Q_=function(){function e(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Je}return e.isNative=function(t){return!!f8[t.toLowerCase()]},e.prototype.fire=function(t,r){var a=t.toLowerCase(),c=Cy(a,r||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);var l=this.bindings[a];if(l)for(var m=0,p=l.length;m<p;m++){var C=l[m];if(!C.removed){if(C.once&&this.off(a,C.func),c.isImmediatePropagationStopped())return c;if(C.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c},e.prototype.on=function(t,r,a,c){if(r===!1&&(r=Je),r){var l={func:r,removed:!1};c&&je.extend(l,c);for(var m=t.toLowerCase().split(" "),p=m.length;p--;){var C=m[p],_=this.bindings[C];_||(_=[],this.toggleEvent(C,!0)),a?_=Aa([l],_,!0):_=Aa(Aa([],_,!0),[l],!1),this.bindings[C]=_}}return this},e.prototype.off=function(t,r){var a=this;if(t)for(var c=t.toLowerCase().split(" "),l=c.length;l--;){var m=c[l],p=this.bindings[m];if(!m)return pn(this.bindings,function(_,H){a.toggleEvent(H,!1),delete a.bindings[H]}),this;if(p){if(!r)p.length=0;else{var C=Vn(p,function(_){return _.func===r});p=C.fail,this.bindings[m]=p,tt(C.pass,function(_){_.removed=!0})}p.length||(this.toggleEvent(t,!1),delete this.bindings[m])}}else pn(this.bindings,function(_,H){a.toggleEvent(H,!1)}),this.bindings={};return this},e.prototype.once=function(t,r,a){return this.on(t,r,a,{once:!0})},e.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},e}(),KE=function(e){return e._eventDispatcher||(e._eventDispatcher=new Q_({scope:e,toggleEvent:function(t,r){Q_.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}})),e._eventDispatcher},vD={fire:function(e,t,r){var a=this;if(a.removed&&e!=="remove"&&e!=="detach")return t;var c=KE(a).fire(e,t);if(r!==!1&&a.parent)for(var l=a.parent();l&&!c.isPropagationStopped();)l.fire(e,c,!1),l=l.parent();return c},on:function(e,t,r){return KE(this).on(e,t,r)},off:function(e,t){return KE(this).off(e,t)},once:function(e,t){return KE(this).once(e,t)},hasEventListeners:function(e){return KE(this).has(e)}},dD=Ko.DOM,lC,mD=function(e,t){if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var r=P0(e);return r?(e.eventRoot||(e.eventRoot=dD.select(r)[0]),e.eventRoot):e.getBody()},v8=function(e){return!e.hidden&&!sC(e)},qB=function(e,t,r){v8(e)?e.fire(t,r):sC(e)&&s8(e,r)},GB=function(e,t){var r;if(e.delegates||(e.delegates={}),!(e.delegates[t]||e.removed)){var a=mD(e,t);if(P0(e)){if(lC||(lC={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||lC&&(pn(lC,function(c,l){e.dom.unbind(mD(e,l))}),lC=null)})),lC[t])return;r=function(c){for(var l=c.target,m=e.editorManager.get(),p=m.length;p--;){var C=m[p].getBody();(C===l||dD.isChildOf(l,C))&&qB(m[p],t,c)}},lC[t]=r,dD.bind(a,t,r)}else r=function(c){qB(e,t,c)},dD.bind(a,t,r),e.delegates[t]=r}},KB=Jt(Jt({},vD),{bindPendingEventDelegates:function(){var e=this;je.each(e._pendingNativeEvents,function(t){GB(e,t)})},toggleNativeEvent:function(e,t){var r=this;e==="focus"||e==="blur"||r.removed||(t?r.initialized?GB(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]:r.initialized&&(r.dom.unbind(mD(r,e),e,r.delegates[e]),delete r.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),r=e.dom;e.delegates&&(pn(e.delegates,function(a,c){e.dom.unbind(mD(e,c),c,a)}),delete e.delegates),!e.inline&&t&&r&&(t.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(t),r.unbind(e.getContainer()))}}),d8=["design","readonly"],XB=function(e,t,r,a){var c=r[t.get()],l=r[a];try{l.activate()}catch(m){console.error("problem while activating editor mode "+a+":",m);return}c.deactivate(),c.editorReadOnly!==l.editorReadOnly&&a8(e,l.editorReadOnly),t.set(a),N3(e,a)},m8=function(e,t,r,a){if(a!==r.get()){if(!Un(t,a))throw new Error("Editor mode '"+a+"' is invalid");e.initialized?XB(e,r,t,a):e.on("init",function(){return XB(e,r,t,a)})}},g8=function(e,t,r){var a;if(Et(d8,t))throw new Error("Cannot override default mode "+t);return Jt(Jt({},e),(a={},a[t]=Jt(Jt({},r),{deactivate:function(){try{r.deactivate()}catch(c){console.error("problem while deactivating editor mode "+t+":",c)}}}),a))},h8=function(e){var t=Wu("design"),r=Wu({design:{activate:en,deactivate:en,editorReadOnly:!1},readonly:{activate:en,deactivate:en,editorReadOnly:!0}});return i8(e),l8(e),{isReadOnly:function(){return sC(e)},set:function(a){return m8(e,r.get(),t,a)},get:function(){return t.get()},register:function(a,c){r.set(g8(r.get(),a,c))}}},Z_=je.each,eB=je.explode,p8={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},YB=je.makeMap("alt,ctrl,shift,meta,access"),b8=function(e){var t,r={};Z_(eB(e.toLowerCase(),"+"),function(c){c in YB?r[c]=!0:/^[0-9]{2,}$/.test(c)?r.keyCode=parseInt(c,10):(r.charCode=c.charCodeAt(0),r.keyCode=p8[c]||c.toUpperCase().charCodeAt(0))});var a=[r.keyCode];for(t in YB)r[t]?a.push(t):r[t]=!1;return r.id=a.join(","),r.access&&(r.alt=!0,In.mac?r.ctrl=!0:r.shift=!0),r.meta&&(In.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},JB=function(){function e(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var r=this;t.on("keyup keypress keydown",function(a){(r.hasModifier(a)||r.isFunctionKey(a))&&!a.isDefaultPrevented()&&(Z_(r.shortcuts,function(c){if(r.matchShortcut(a,c))return r.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&r.executeShortcutAction(c),!0}),r.matchShortcut(a,r.pendingPatterns[0])&&(r.pendingPatterns.length===1&&a.type==="keydown"&&r.executeShortcutAction(r.pendingPatterns[0]),r.pendingPatterns.shift()))})}return e.prototype.add=function(t,r,a,c){var l=this,m=l.normalizeCommandFunc(a);return Z_(eB(je.trim(t)),function(p){var C=l.createShortcut(p,r,m,c);l.shortcuts[C.id]=C}),!0},e.prototype.remove=function(t){var r=this.createShortcut(t);return this.shortcuts[r.id]?(delete this.shortcuts[r.id],!0):!1},e.prototype.normalizeCommandFunc=function(t){var r=this,a=t;return typeof a=="string"?function(){r.editor.execCommand(a,!1,null)}:je.isArray(a)?function(){r.editor.execCommand(a[0],a[1],a[2])}:a},e.prototype.createShortcut=function(t,r,a,c){var l=je.map(eB(t,">"),b8);return l[l.length-1]=je.extend(l[l.length-1],{func:a,scope:c||this.editor}),je.extend(l[0],{desc:this.editor.translate(r),subpatterns:l.slice(1)})},e.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},e.prototype.isFunctionKey=function(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123},e.prototype.matchShortcut=function(t,r){return!r||r.ctrl!==t.ctrlKey||r.meta!==t.metaKey||r.alt!==t.altKey||r.shift!==t.shiftKey?!1:t.keyCode===r.keyCode||t.charCode&&t.charCode===r.charCode?(t.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},e}(),y8=function(){var e={},t={},r={},a={},c={},l={},m={},p=function(_,H){return function($,U){return _[$.toLowerCase()]=Jt(Jt({},U),{type:H})}},C=function(_,H){return a[_.toLowerCase()]=H};return{addButton:p(e,"button"),addGroupToolbarButton:p(e,"grouptoolbarbutton"),addToggleButton:p(e,"togglebutton"),addMenuButton:p(e,"menubutton"),addSplitButton:p(e,"splitbutton"),addMenuItem:p(t,"menuitem"),addNestedMenuItem:p(t,"nestedmenuitem"),addToggleMenuItem:p(t,"togglemenuitem"),addAutocompleter:p(r,"autocompleter"),addContextMenu:p(c,"contextmenu"),addContextToolbar:p(l,"contexttoolbar"),addContextForm:p(l,"contextform"),addSidebar:p(m,"sidebar"),addIcon:C,getAll:function(){return{buttons:e,menuItems:t,icons:a,popups:r,contextMenus:c,contextToolbars:l,sidebars:m}}}},w8=function(){var e=y8();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},fC=Ko.DOM,QB=je.extend,C8=je.each,ZB=je.resolve,x8=In.ie,gD=function(){function e(t,r,a){var c=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,QB(this,KB),this.settings=$O(this,t,this.documentBaseUrl,a.defaultSettings,r),this.settings.suffix&&(a.suffix=this.settings.suffix),this.suffix=a.suffix,this.settings.base_url&&a._setBaseUrl(this.settings.base_url),this.baseUri=a.baseURI,this.settings.referrer_policy&&(nf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ko.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Wc.languageLoad=this.settings.language_load,Wc.baseURL=a.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new _c(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new JB(this),this.editorCommands=new WB(this),this.settings.cache_suffix&&(In.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:w8(),styleSheetLoader:void 0,show:en,hide:en,enable:en,disable:en,isDisabled:Je};var l=this,m=h8(l);this.mode=m,this.setMode=m.set,a.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=nr.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})}return e.prototype.render=function(){BM(this)},e.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},e.prototype.hasFocus=function(){return Cf(this)},e.prototype.execCallback=function(t){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var c=this,l=c.settings[t],m;if(!!l)return c.callbackLookup&&(m=c.callbackLookup[t])&&(l=m.func,m=m.scope),typeof l=="string"&&(m=l.replace(/\.\w+$/,""),m=m?ZB(m):0,l=ZB(l),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[t]={func:l,scope:m}),l.apply(m||c,r)},e.prototype.translate=function(t){return el.translate(t)},e.prototype.getParam=function(t,r,a){return Ek(this,t,r,a)},e.prototype.hasPlugin=function(t,r){var a=Et(am(this).split(/[ ,]/),t);return a?r?Ll.get(t)!==void 0:!0:!1},e.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},e.prototype.addCommand=function(t,r,a){this.editorCommands.addCommand(t,r,a)},e.prototype.addQueryStateHandler=function(t,r,a){this.editorCommands.addQueryStateHandler(t,r,a)},e.prototype.addQueryValueHandler=function(t,r,a){this.editorCommands.addQueryValueHandler(t,r,a)},e.prototype.addShortcut=function(t,r,a,c){this.shortcuts.add(t,r,a,c)},e.prototype.execCommand=function(t,r,a,c){return this.editorCommands.execCommand(t,r,a,c)},e.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},e.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},e.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},e.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(fC.show(t.getContainer()),fC.hide(t.id)),t.load(),t.fire("show"))},e.prototype.hide=function(){var t=this,r=t.getDoc();t.hidden||(x8&&r&&!t.inline&&r.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(fC.hide(t.getContainer()),fC.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(t,r){this.fire("ProgressState",{state:t,time:r})},e.prototype.load=function(t){var r=this,a=r.getElement(),c;if(r.removed)return"";if(a){t=t||{},t.load=!0;var l=Os(a)?a.value:a.innerHTML;return c=r.setContent(l,t),t.element=a,t.no_events||r.fire("LoadContent",t),t.element=a=null,c}},e.prototype.save=function(t){var r=this,a=r.getElement(),c,l;if(!(!a||!r.initialized||r.removed))return t=t||{},t.save=!0,t.element=a,c=t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),t.format==="raw"&&r.fire("RawSaveContent",t),c=t.content,Os(a)?a.value=c:((t.is_removing||!r.inline)&&(a.innerHTML=c),(l=fC.getParent(r.id,"form"))&&C8(l.elements,function(m){if(m.name===r.id)return m.value=c,!1})),t.element=a=null,t.set_dirty!==!1&&r.setDirty(!1),c},e.prototype.setContent=function(t,r){return tE(this,t,r)},e.prototype.getContent=function(t){return Vs(this,t)},e.prototype.insertContent=function(t,r){r&&(t=QB({content:t},r)),this.execCommand("mceInsertContent",!1,t)},e.prototype.resetContent=function(t){t===void 0?tE(this,this.startContent,{format:"raw"}):tE(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(t){var r=!this.isNotDirty;this.isNotDirty=!t,t&&t!==r&&this.fire("dirty")},e.prototype.getContainer=function(){var t=this;return t.container||(t.container=fC.get(t.editorContainer||t.id+"_parent")),t.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=fC.get(this.id)),this.targetElm},e.prototype.getWin=function(){var t=this,r;return t.contentWindow||(r=t.iframeElement,r&&(t.contentWindow=r.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var t=this,r;return t.contentDocument||(r=t.getWin(),r&&(t.contentDocument=r.document)),t.contentDocument},e.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},e.prototype.convertURL=function(t,r,a){var c=this,l=c.settings;return l.urlconverter_callback?c.execCallback("urlconverter_callback",t,a,!0,r):!l.convert_urls||a&&a.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:l.relative_urls?c.documentBaseURI.toRelative(t):(t=c.documentBaseURI.toAbsolute(t,l.remove_script_host),t)},e.prototype.addVisual=function(t){NM(this,t)},e.prototype.remove=function(){bR(this)},e.prototype.destroy=function(t){Wb(this,t)},e.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),yd=Ko.DOM,S8=je.explode,Oh=je.each,k8=je.extend,E8=0,e6=!1,hD,ny=[],ml=[],T8=function(e){return e!=="length"},t6=function(e){var t=e.type;Oh(ry.get(),function(r){switch(t){case"scroll":r.fire("ScrollWindow",e);break;case"resize":r.fire("ResizeWindow",e);break}})},n6=function(e){e!==e6&&(e?nr(window).on("resize scroll",t6):nr(window).off("resize scroll",t6),e6=e)},r6=function(e){var t=ml;delete ny[e.id];for(var r=0;r<ny.length;r++)if(ny[r]===e){ny.splice(r,1);break}return ml=tn(ml,function(a){return e!==a}),ry.activeEditor===e&&(ry.activeEditor=ml.length>0?ml[0]:null),ry.focusedEditor===e&&(ry.focusedEditor=null),t.length!==ml.length},O8=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(r6(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},A8=document.compatMode!=="CSS1Compat",ry=Jt(Jt({},vD),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:nr,majorVersion:"5",minorVersion:"10.7",releaseDate:"2022-12-06",editors:ny,i18n:el,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,t,r,a="";r=_c.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));var c=window.tinymce||window.tinyMCEPreInit;if(c)t=c.base||c.baseURL,a=c.suffix;else{for(var l=document.getElementsByTagName("script"),m=0;m<l.length;m++){var p=l[m].src||"";if(p!==""){var C=p.substring(p.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(p)){C.indexOf(".min")!==-1&&(a=".min"),t=p.substring(0,p.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var p=document.currentScript.src;p.indexOf(".min")!==-1&&(a=".min"),t=p.substring(0,p.lastIndexOf("/"))}}e.baseURL=new _c(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new _c(e.baseURL),e.suffix=a,o1(e)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var r=e.suffix;e.suffix&&(this.suffix=r),this.defaultSettings=e;var a=e.plugin_base_urls;a!==void 0&&pn(a,function(c,l){Wc.PluginManager.urls[l]=c})},init:function(e){var t=this,r,a=je.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function($,U){return $.inline&&U.tagName.toLowerCase()in a},l=function($){var U=$.id;return U||(U=_r($,"name").filter(function(Z){return!yd.get(Z)}).getOrThunk(yd.uniqueId),$.setAttribute("id",U)),U},m=function($){var U=e[$];if(!!U)return U.apply(t,[])},p=function($,U){return U.constructor===RegExp?U.test($.className):yd.hasClass($,U)},C=function($){var U=[];if(In.browser.isIE()&&In.browser.version.major<11)return jb("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(A8)return jb("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if($.types)return Oh($.types,function(ne){U=U.concat(yd.select(ne.selector))}),U;if($.selector)return yd.select($.selector);if($.target)return[$.target];switch($.mode){case"exact":var Z=$.elements||"";Z.length>0&&Oh(S8(Z),function(ne){var ae=yd.get(ne);ae?U.push(ae):Oh(document.forms,function(ie){Oh(ie.elements,function(ge){ge.name===ne&&(ne="mce_editor_"+E8++,yd.setAttrib(ge,"id",ne),U.push(ge))})})});break;case"textareas":case"specific_textareas":Oh(yd.select("textarea"),function(ne){$.editor_deselector&&p(ne,$.editor_deselector)||(!$.editor_selector||p(ne,$.editor_selector))&&U.push(ne)});break}return U},_=function($){r=$},H=function(){var $=0,U=[],Z,ne=function(ae,ie,ge){var ve=new gD(ae,ie,t);U.push(ve),ve.on("init",function(){++$===Z.length&&_(U)}),ve.targetElm=ve.targetElm||ge,ve.render()};if(yd.unbind(window,"ready",H),m("onpageload"),Z=nr.unique(C(e)),e.types){Oh(e.types,function(ae){je.each(Z,function(ie){return yd.is(ie,ae.selector)?(ne(l(ie),k8({},e,ae),ie),!1):!0})});return}je.each(Z,function(ae){O8(t.get(ae.id))}),Z=je.grep(Z,function(ae){return!t.get(ae.id)}),Z.length===0?_([]):Oh(Z,function(ae){c(e,ae)?jb("Could not initialize inline editor on invalid inline target element",ae):ne(l(ae),e,ae)})};return t.settings=e,yd.bind(window,"ready",H),new Qa(function($){r?$(r):_=function(U){$(U)}})},get:function(e){return arguments.length===0?ml.slice(0):Gt(e)?Ut(ml,function(t){return t.id===e}).getOr(null):me(e)&&ml[e]?ml[e]:null},add:function(e){var t=this,r=ny[e.id];return r===e||(t.get(e.id)===null&&(T8(e.id)&&(ny[e.id]=e),ny.push(e),ml.push(e)),n6(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),hD||(hD=function(a){var c=t.fire("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",hD))),e},createEditor:function(e,t){return this.add(new gD(e,t,this))},remove:function(e){var t=this,r,a;if(!e){for(r=ml.length-1;r>=0;r--)t.remove(ml[r]);return}if(Gt(e)){Oh(yd.select(e),function(c){a=t.get(c.id),a&&t.remove(a)});return}return a=e,Dr(t.get(a.id))?null:(r6(a)&&t.fire("RemoveEditor",{editor:a}),ml.length===0&&window.removeEventListener("beforeunload",hD),a.remove(),n6(ml.length>0),a)},execCommand:function(e,t,r){var a=this,c=a.get(r);switch(e){case"mceAddEditor":return a.get(r)||new gD(r,a.settings,a).render(),!0;case"mceRemoveEditor":return c&&c.remove(),!0;case"mceToggleEditor":return c?(c.isHidden()?c.show():c.hide(),!0):(a.execCommand("mceAddEditor",!1,r),!0)}return a.activeEditor?a.activeEditor.execCommand(e,t,r):!1},triggerSave:function(){Oh(ml,function(e){e.save()})},addI18n:function(e,t){el.add(e,t)},translate:function(e){return el.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new _c(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new _c(this.baseURL)}});ry.setup();var o6=Math.min,qk=Math.max,pD=Math.round,a6=function(e,t,r){var a=t.x,c=t.y,l=e.w,m=e.h,p=t.w,C=t.h,_=(r||"").split("");return _[0]==="b"&&(c+=C),_[1]==="r"&&(a+=p),_[0]==="c"&&(c+=pD(C/2)),_[1]==="c"&&(a+=pD(p/2)),_[3]==="b"&&(c-=m),_[4]==="r"&&(a-=l),_[3]==="c"&&(c-=pD(m/2)),_[4]==="c"&&(a-=pD(l/2)),Gk(a,c,l,m)},D8=function(e,t,r,a){var c,l;for(l=0;l<a.length;l++)if(c=a6(e,t,a[l]),c.x>=r.x&&c.x+c.w<=r.w+r.x&&c.y>=r.y&&c.y+c.h<=r.h+r.y)return a[l];return null},R8=function(e,t,r){return Gk(e.x-t,e.y-r,e.w+t*2,e.h+r*2)},_8=function(e,t){var r=qk(e.x,t.x),a=qk(e.y,t.y),c=o6(e.x+e.w,t.x+t.w),l=o6(e.y+e.h,t.y+t.h);return c-r<0||l-a<0?null:Gk(r,a,c-r,l-a)},B8=function(e,t,r){var a=e.x,c=e.y,l=e.x+e.w,m=e.y+e.h,p=t.x+t.w,C=t.y+t.h,_=qk(0,t.x-a),H=qk(0,t.y-c),$=qk(0,l-p),U=qk(0,m-C);return a+=_,c+=H,r&&(l+=_,m+=H,a-=$,c-=U),l-=$,m-=U,Gk(a,c,l-a,m-c)},Gk=function(e,t,r,a){return{x:e,y:t,w:r,h:a}},N8=function(e){return Gk(e.left,e.top,e.width,e.height)},M8={inflate:R8,relativePosition:a6,findBestRelativePosition:D8,intersect:_8,clamp:B8,create:Gk,fromClientRect:N8},P8=function(e,t,r){r===void 0&&(r=1e3);var a=!1,c=null,l=function(_){return function(){for(var H=[],$=0;$<arguments.length;$++)H[$]=arguments[$];a||(a=!0,c!==null&&(clearTimeout(c),c=null),_.apply(null,H))}},m=l(e),p=l(t),C=function(){for(var _=[],H=0;H<arguments.length;H++)_[H]=arguments[H];!a&&c===null&&(c=setTimeout(function(){return p.apply(null,_)},r))};return{start:C,resolve:m,reject:p}},z8=function(){var e={},t={},r=function(c,l){var m='Script at URL "'+l+'" failed to load',p='Script at URL "'+l+"\" did not call `tinymce.Resource.add('"+c+"', data)` within 1 second";if(e[c]!==void 0)return e[c];var C=new Qa(function(_,H){var $=P8(_,H);t[c]=$.resolve,nf.ScriptLoader.loadScript(l,function(){return $.start(p)},function(){return $.reject(m)})});return e[c]=C,C},a=function(c,l){t[c]!==void 0&&(t[c](l),delete t[c]),e[c]=Qa.resolve(l)};return{load:r,add:a}},F8=z8(),bD=je.each,I8=je.extend,i6,tB,u6=function(){};u6.extend=i6=function(e){var t=this,r=t.prototype,a=function(){var p,C,_,H=this;if(!tB&&(H.init&&H.init.apply(H,arguments),C=H.Mixins,C))for(p=C.length;p--;)_=C[p],_.init&&_.init.apply(H,arguments)},c=function(){return this},l=function(p,C){return function(){var _=this,H=_._super;_._super=r[p];var $=C.apply(_,arguments);return _._super=H,$}};tB=!0;var m=new t;return tB=!1,e.Mixins&&(bD(e.Mixins,function(p){for(var C in p)C!=="init"&&(e[C]=p[C])}),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&bD(e.Methods.split(","),function(p){e[p]=c}),e.Properties&&bD(e.Properties.split(","),function(p){var C="_"+p;e[p]=function(_){var H=this;return _!==void 0?(H[C]=_,H):H[C]}}),e.Statics&&bD(e.Statics,function(p,C){a[C]=p}),e.Defaults&&r.Defaults&&(e.Defaults=I8({},r.Defaults,e.Defaults)),pn(e,function(p,C){typeof p=="function"&&r[C]?m[C]=l(C,p):m[C]=p}),a.prototype=m,a.constructor=a,a.extend=i6,a};var yD=Math.min,wD=Math.max,vC=Math.round,L8=function(e){var t={},r=0,a=0,c=0,l=function($,U,Z){var ne,ae,ie;ne=0,ae=0,ie=0,$=$/255,U=U/255,Z=Z/255;var ge=yD($,yD(U,Z)),ve=wD($,wD(U,Z));if(ge===ve)return ie=ge,{h:0,s:0,v:ie*100};var De=$===ge?U-Z:Z===ge?$-U:Z-$;return ne=$===ge?3:Z===ge?1:5,ne=60*(ne-De/(ve-ge)),ae=(ve-ge)/ve,ie=ve,{h:vC(ne),s:vC(ae*100),v:vC(ie*100)}},m=function($,U,Z){if($=(parseInt($,10)||0)%360,U=parseInt(U,10)/100,Z=parseInt(Z,10)/100,U=wD(0,yD(U,1)),Z=wD(0,yD(Z,1)),U===0){r=a=c=vC(255*Z);return}var ne=$/60,ae=Z*U,ie=ae*(1-Math.abs(ne%2-1)),ge=Z-ae;switch(Math.floor(ne)){case 0:r=ae,a=ie,c=0;break;case 1:r=ie,a=ae,c=0;break;case 2:r=0,a=ae,c=ie;break;case 3:r=0,a=ie,c=ae;break;case 4:r=ie,a=0,c=ae;break;case 5:r=ae,a=0,c=ie;break;default:r=a=c=0}r=vC(255*(r+ge)),a=vC(255*(a+ge)),c=vC(255*(c+ge))},p=function(){var $=function(U){return U=parseInt(U,10).toString(16),U.length>1?U:"0"+U};return"#"+$(r)+$(a)+$(c)},C=function(){return{r,g:a,b:c}},_=function(){return l(r,a,c)},H=function($){var U;return typeof $=="object"?"r"in $?(r=$.r,a=$.g,c=$.b):"v"in $&&m($.h,$.s,$.v):(U=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec($))?(r=parseInt(U[1],10),a=parseInt(U[2],10),c=parseInt(U[3],10)):(U=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec($))?(r=parseInt(U[1],16),a=parseInt(U[2],16),c=parseInt(U[3],16)):(U=/#([0-F])([0-F])([0-F])/gi.exec($))&&(r=parseInt(U[1]+U[1],16),a=parseInt(U[2]+U[2],16),c=parseInt(U[3]+U[3],16)),r=r<0?0:r>255?255:r,a=a<0?0:a>255?255:a,c=c<0?0:c>255?255:c,t};return e&&H(e),t.toRgb=C,t.toHsv=_,t.toHex=p,t.parse=H,t},H8=function(e){var t=JSON.stringify(e);return Gt(t)?t.replace(/[\u0080-\uFFFF]/g,function(r){var a=r.charCodeAt(0).toString(16);return"\\u"+"0000".substring(a.length)+a}):t},nB={serialize:H8,parse:function(e){try{return JSON.parse(e)}catch{}}},$8={callbacks:{},count:0,send:function(e){var t=this,r=Ko.DOM,a=e.count!==void 0?e.count:t.count,c="tinymce_jsonp_"+a;t.callbacks[a]=function(l){r.remove(c),delete t.callbacks[a],e.callback(l)},r.add(r.doc.body,"script",{id:c,src:e.url,type:"text/javascript"}),t.count++}},CD=Jt(Jt({},vD),{send:function(e){var t,r=0,a=function(){!e.async||t.readyState===4||r++>1e4?(e.success&&r<1e4&&t.status===200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):si.setTimeout(a,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",CD.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&je.each(e.requestheaders,function(c){t.setRequestHeader(c.key,c.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=CD.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return a();si.setTimeout(a,10)}}),c6=je.extend,V8=function(){function e(t){this.settings=c6({},t),this.count=0}return e.sendRPC=function(t){return new e().send(t)},e.prototype.send=function(t){var r=t.error,a=t.success,c=c6(this.settings,t);c.success=function(l,m){l=nB.parse(l),typeof l>"u"&&(l={error:"JSON Parse error."}),l.error?r.call(c.error_scope||c.scope,l.error,m):a.call(c.success_scope||c.scope,l.result)},c.error=function(l,m){r&&r.call(c.error_scope||c.scope,l,m)},c.data=nB.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),c.content_type="application/json",CD.send(c)},e}(),U8=function(){return function(){var e={},t=[],r={getItem:function(a){var c=e[a];return c||null},setItem:function(a,c){t.push(a),e[a]=String(c)},key:function(a){return t[a]},removeItem:function(a){t=t.filter(function(c){return c===a}),delete e[a]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(r,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),r}()},XE;try{var rB="__storage_test__";XE=window.localStorage,XE.setItem(rB,rB),XE.removeItem(rB)}catch{XE=U8()}var W8=XE,j8={geom:{Rect:M8},util:{Promise:Qa,Delay:si,Tools:je,VK:An,URI:_c,Class:u6,EventDispatcher:Q_,Observable:vD,I18n:el,XHR:CD,JSON:nB,JSONRequest:V8,JSONP:$8,LocalStorage:W8,Color:L8,ImageUploader:rA},dom:{EventUtils:Pv,Sizzle:xo,DomQuery:nr,TreeWalker:li,TextSeeker:Ky,DOMUtils:Ko,ScriptLoader:nf,RangeUtils:Kp,Serializer:EO,StyleSheetLoader:$f,ControlSelection:jx,BookmarkManager:Gg,Selection:gO,Event:Pv.Event},html:{Styles:Sl,Entities:Zs,Node:Rc,Schema:Uf,SaxParser:fh,DomParser:gk,Writer:bw,Serializer:cd},Env:In,AddOnManager:Wc,Annotator:ub,Formatter:gE,UndoManager:pE,EditorCommands:WB,WindowManager:sE,NotificationManager:cE,EditorObservable:KB,Shortcuts:JB,Editor:gD,FocusManager:lS,EditorManager:ry,DOM:Ko.DOM,ScriptLoader:nf.ScriptLoader,PluginManager:Ll,ThemeManager:Im,IconManager:Df,Resource:F8,trim:je.trim,isArray:je.isArray,is:je.is,toArray:je.toArray,makeMap:je.makeMap,each:je.each,map:je.map,grep:je.grep,inArray:je.inArray,extend:je.extend,create:je.create,walk:je.walk,createNS:je.createNS,resolve:je.resolve,explode:je.explode,_addCacheSuffix:je._addCacheSuffix,isOpera:In.opera,isWebKit:In.webkit,isIE:In.ie,isGecko:In.gecko,isMac:In.mac},s6=je.extend(ry,j8),q8=function(e){try{Jo.exports=e}catch{}},G8=function(e){window.tinymce=e,window.tinyMCE=e};G8(s6),q8(s6)})()})(m6);const t7=m6.exports;(function(){function Jo(n){return function(o){return f=typeof(u=o),(u===null?"null":f=="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":f=="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":f)===n;var u,f}}function lr(n){return function(o){return typeof o===n}}function ro(n){return function(o){return n===o}}function sa(n){return n==null}function jo(n,o){if(Mr(n)){for(var u=0,f=n.length;u<f;++u)if(!o(n[u]))return;return 1}}function dt(){}function qr(n,o){return function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return n(o.apply(null,u))}}function ke(n){return function(){return n}}function Nt(n){return n}function zi(n,o){return n===o}var fr=Jo("string"),kn=Jo("object"),Mr=Jo("array"),qo=ro(null),lt=lr("boolean"),mr=ro(void 0),Gt=function(n){return!sa(n)},yt=lr("function"),hn=lr("number");function Dr(n){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var g=o.concat(f);return n.apply(null,g)}}function tr(n){return function(o){return!n(o)}}function Ft(n){return function(){throw new Error(n)}}var Fn=ke(!1),Zt=ke(!0),Wt=tinymce.util.Tools.resolve("tinymce.ThemeManager"),me=function(){return(me=Object.assign||function(n){for(var o,u=1,f=arguments.length;u<f;u++)for(var d in o=arguments[u])Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d]);return n}).apply(this,arguments)};function en(n,o){var u={};for(d in n)Object.prototype.hasOwnProperty.call(n,d)&&o.indexOf(d)<0&&(u[d]=n[d]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,d=Object.getOwnPropertySymbols(n);f<d.length;f++)o.indexOf(d[f])<0&&Object.prototype.propertyIsEnumerable.call(n,d[f])&&(u[d[f]]=n[d[f]]);return u}function On(n,o,u){if(u||arguments.length===2)for(var f,d=0,g=o.length;d<g;d++)!f&&d in o||((f=f||Array.prototype.slice.call(o,0,d))[d]=o[d]);return n.concat(f||Array.prototype.slice.call(o))}function Ca(){return oe}var oe={fold:function(n,o){return n()},isSome:Fn,isNone:Zt,getOr:Nt,getOrThunk:ho,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:ke(null),getOrUndefined:ke(void 0),or:Nt,orThunk:ho,map:Ca,each:dt,bind:Ca,exists:Fn,forall:Zt,filter:function(){return oe},toArray:function(){return[]},toString:ke("none()")};function ho(n){return n()}function Ka(n,o){return Xa.call(n,o)}function Ct(n,o){for(var u=0,f=n.length;u<f;u++)if(o(n[u],u))return!0;return!1}function la(n,o){for(var u=[],f=0;f<n;f++)u.push(o(f));return u}function Hr(n,o){for(var u=[],f=0;f<n.length;f+=o){var d=va.call(n,f,f+o);u.push(d)}return u}function ot(n,o){for(var u=n.length,f=new Array(u),d=0;d<u;d++){var g=n[d];f[d]=o(g,d)}return f}function Eo(n,o){for(var u=[],f=[],d=0,g=n.length;d<g;d++){var b=n[d];(o(b,d)?u:f).push(b)}return{pass:u,fail:f}}function Je(n,o){for(var u=[],f=0,d=n.length;f<d;f++){var g=n[f];o(g,f)&&u.push(g)}return u}function zt(n,o,u){return function(f){for(var d,g=f.length-1;0<=g;g--)d=f[g],u=o(u,d,g)}(n),u}function Jr(n,o,u){return Yt(n,function(f,d){u=o(u,f,d)}),u}function Rr(n,o){return function(u,f,d){for(var g=0,b=u.length;g<b;g++){var x=u[g];if(f(x,g))return N.some(x);if(d(x,g))break}return N.none()}(n,o,Fn)}function Gr(n,o){for(var u=0,f=n.length;u<f;u++)if(o(n[u],u))return N.some(u);return N.none()}function br(n){for(var o=[],u=0,f=n.length;u<f;++u){if(!Mr(n[u]))throw new Error("Arr.flatten item "+u+" was not an array, input: "+n);lo.apply(o,n[u])}return o}function ee(n,o){return br(ot(n,o))}function Go(n,o){for(var u=0,f=n.length;u<f;++u)if(o(n[u],u)!==!0)return!1;return!0}function Mo(n){var o=va.call(n,0);return o.reverse(),o}function Kr(n,o){return Je(n,function(u){return!pn(o,u)})}function Pa(n,o){for(var u={},f=0,d=n.length;f<d;f++){var g=n[f];u[String(g)]=o(g,f)}return u}function it(n){return[n]}function Et(n,o){var u=va.call(n,0);return u.sort(o),u}function Ot(n,o){return 0<=o&&o<n.length?N.some(n[o]):N.none()}function Vt(n){return Ot(n,0)}function tt(n){return Ot(n,n.length-1)}function En(n,o){for(var u=0;u<n.length;u++){var f=o(n[u],u);if(f.isSome())return f}return N.none()}function Vn(n,o){for(var u=Pr(n),f=0,d=u.length;f<d;f++){var g=u[f];o(n[g],g)}}function tn(n,o){return Ii(n,function(u,f){return{k:f,v:o(u,f)}})}function xa(n,o){var u=[];return Vn(n,function(f,d){u.push(o(f,d))}),u}function eo(n,o){for(var u=Pr(n),f=0,d=u.length;f<d;f++){var g=u[f],b=n[g];if(o(b,g,n))return N.some(b)}return N.none()}function mn(n){return xa(n,Nt)}function Ut(n,o){return Jn(n,o)?N.from(n[o]):N.none()}function To(n,o){return Jn(n,o)&&n[o]!==void 0&&n[o]!==null}function Sa(n,o,u){return u===void 0&&(u=zi),n.exists(function(f){return u(f,o)})}function ka(n){for(var o=[],u=function(d){o.push(d)},f=0;f<n.length;f++)n[f].each(u);return o}function ri(n,o){return n?N.some(o):N.none()}function Fi(n,o,u){return o===""||n.length>=o.length&&n.substr(u,u+o.length)===o}function Oo(n,o){return n.indexOf(o)!==-1}function fa(n){return 0<n.length}function Ao(n){return n.style!==void 0&&yt(n.style.getPropertyValue)}function Ea(n){if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}}var Vo,Ta=function(n){function o(){return d}function u(g){return g(n)}var f=ke(n),d={fold:function(g,b){return b(n)},isSome:Zt,isNone:Fn,getOr:f,getOrThunk:f,getOrDie:f,getOrNull:f,getOrUndefined:f,or:o,orThunk:o,map:function(g){return Ta(g(n))},each:function(g){g(n)},bind:u,exists:u,forall:u,filter:function(g){return g(n)?d:oe},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return d},N={some:Ta,none:Ca,from:function(n){return n==null?oe:Ta(n)}},va=Array.prototype.slice,Xa=Array.prototype.indexOf,lo=Array.prototype.push,pn=function(n,o){return-1<Ka(n,o)},Yt=function(n,o){for(var u=0,f=n.length;u<f;u++)o(n[u],u)},za=yt(Array.from)?Array.from:function(n){return va.call(n)},Pr=Object.keys,Cu=Object.hasOwnProperty,Ii=function(n,o){var u={};return Vn(n,function(f,d){var g=o(f,d);u[g.k]=g.v}),u},Jn=function(n,o){return Cu.call(n,o)},xu=function(n,o,u){return n.isSome()&&o.isSome()?N.some(u(n.getOrDie(),o.getOrDie())):N.none()},Su=function(n,o){return Fi(n,o,0)},_r=function(n,o){return Fi(n,o,n.length-o.length)},Un=(Vo=/^\s+|\s+$/g,function(n){return n.replace(Vo,"")}),gt={fromHtml:function(n,o){var u=(o||document).createElement("div");if(u.innerHTML=n,!u.hasChildNodes()||1<u.childNodes.length)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return Ea(u.childNodes[0])},fromTag:function(n,o){var u=(o||document).createElement(n);return Ea(u)},fromText:function(n,o){var u=(o||document).createTextNode(n);return Ea(u)},fromDom:Ea,fromPoint:function(n,o,u){return N.from(n.dom.elementFromPoint(o,u)).map(Ea)}};function da(n){return n.dom.nodeName.toLowerCase()}function na(n){return function(o){return o.dom.nodeType===n}}function Po(n){var o,u=!1;return function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return u||(u=!0,o=n.apply(null,f)),o}}function Fa(n,o){var u=String(o).toLowerCase();return Rr(n,function(f){return f.search(u)})}function ra(n){return function(o){return Oo(o,n)}}function oi(n){return window.matchMedia(n).matches}function oa(n,o){var u=n.dom;if(u.nodeType!==1)return!1;var f=u;if(f.matches!==void 0)return f.matches(o);if(f.msMatchesSelector!==void 0)return f.msMatchesSelector(o);if(f.webkitMatchesSelector!==void 0)return f.webkitMatchesSelector(o);if(f.mozMatchesSelector!==void 0)return f.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")}function ki(n){return n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11||n.childElementCount===0}function or(n,o){return n.dom===o.dom}function Oa(n,o){return Ia().browser.isIE()?(u=n.dom,f=o.dom,d=Node.DOCUMENT_POSITION_CONTAINED_BY,(u.compareDocumentPosition(f)&d)!=0):(g=n.dom)!==(b=o.dom)&&g.contains(b);var u,f,d,g,b}function Jt(n){return gt.fromDom(n.dom.ownerDocument)}function Li(n){return er(n)?n:Jt(n)}function Aa(n){return gt.fromDom(Li(n).dom.documentElement)}function Ya(n){return gt.fromDom(Li(n).dom.defaultView)}function Xr(n){return N.from(n.dom.parentNode).map(gt.fromDom)}function ku(n){return N.from(n.dom.offsetParent).map(gt.fromDom)}function ma(n){return ot(n.dom.childNodes,gt.fromDom)}function ai(n,o){var u=n.dom.childNodes;return N.from(u[o]).map(gt.fromDom)}function Lu(n,o){return{element:n,offset:o}}function le(n,o){var u=ma(n);return 0<u.length&&o<u.length?Lu(u[o],0):Lu(n,o)}function ye(n){return bo(n)&&Gt(n.dom.host)}function Oe(n){return ye(n)?n:gt.fromDom(Li(n).dom.body)}function Me(n){return gt.fromDom(n.dom.host)}function Rt(n,o,u){if(!(fr(u)||lt(u)||hn(u)))throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",u,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(o,u+"")}function nt(n,o,u){Rt(n.dom,o,u)}function re(n,o){var u=n.dom;Vn(o,function(f,d){Rt(u,d,f)})}function fe(n,o){var u=n.dom.getAttribute(o);return u===null?void 0:u}function _e(n,o){return N.from(fe(n,o))}function Xe(n,o){var u=n.dom;return!(!u||!u.hasAttribute)&&u.hasAttribute(o)}function qe(n,o){n.dom.removeAttribute(o)}function Mt(n,o,u){if(!fr(u))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",u,":: Element ",n),new Error("CSS value must be a string: "+u);Ao(n)&&n.style.setProperty(o,u)}function It(n,o){Ao(n)&&n.style.removeProperty(o)}function pt(n,o,u){Mt(n.dom,o,u)}function Mn(n,o){var u=n.dom;Vn(o,function(f,d){Mt(u,d,f)})}function Kn(n,o){var u=n.dom;Vn(o,function(f,d){f.fold(function(){It(u,d)},function(g){Mt(u,d,g)})})}function Zn(n,o){var u=n.dom,f=window.getComputedStyle(u).getPropertyValue(o);return f!==""||ui(n)?f:w(u,o)}function Bn(n,o){var u=n.dom,f=w(u,o);return N.from(f).filter(function(d){return 0<d.length})}function fo(n,o,u){var f=gt.fromTag(n);return pt(f,o,u),Bn(f,o).isSome()}function Le(n,o){It(n.dom,o),Sa(_e(n,"style").map(Un),"")&&qe(n,"style")}function Dn(n){return n.dom.offsetWidth}function to(n,o){function u(d){var g=o(d);if(g<=0||g===null){var b=Zn(d,n);return parseFloat(b)||0}return g}function f(d,g){return Jr(g,function(b,x){var S=Zn(d,x),T=S===void 0?0:parseInt(S,10);return isNaN(T)?b:b+T},0)}return{set:function(d,g){if(!hn(g)&&!g.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+g);var b=d.dom;Ao(b)&&(b.style[n]=g+"px")},get:u,getOuter:u,aggregate:f,max:function(d,g,b){var x=f(d,b);return x<g?g-x:0}}}function $r(n){return D.get(n)}function ii(n){return D.getOuter(n)}function ir(n,o){return n!==void 0?n:o!==void 0?o:0}function Xi(n){var o=n.dom.ownerDocument,u=o.body,f=o.defaultView,d=o.documentElement;if(u===n.dom)return te(u.offsetLeft,u.offsetTop);var g=ir(f==null?void 0:f.pageYOffset,d.scrollTop),b=ir(f==null?void 0:f.pageXOffset,d.scrollLeft),x=ir(d.clientTop,u.clientTop),S=ir(d.clientLeft,u.clientLeft);return Ce(n).translate(b-S,g-x)}function Qo(n){return Ye.get(n)}function ga(n){return Ye.getOuter(n)}function Cc(n){function o(){return n.stopPropagation()}function u(){return n.preventDefault()}var f=qr(u,o);return{target:gt.fromDom(function(d){if(je()&&Gt(d.target)){var g=gt.fromDom(d.target);if(ur(g)&&pl(g)&&d.composed&&d.composedPath){var b=d.composedPath();if(b)return Vt(b)}}return N.from(d.target)}(n).getOr(n.target)),x:n.clientX,y:n.clientY,stop:o,prevent:u,kill:f,raw:n}}function di(n,o,u,f,d){var g,b,x=(g=u,b=f,function(S){g(S)&&b(Cc(S))});return n.dom.addEventListener(o,x,d),{unbind:Dr(nn,n,o,x,d)}}function mi(n,o){Xr(n).each(function(u){u.dom.insertBefore(o.dom,n.dom)})}function vo(n,o){N.from(n.dom.nextSibling).map(gt.fromDom).fold(function(){Xr(n).each(function(u){vn(u,o)})},function(u){mi(u,o)})}function es(n,o){ai(n,0).fold(function(){vn(n,o)},function(u){n.dom.insertBefore(o.dom,u.dom)})}function Zu(n,o){Yt(o,function(u){vn(n,u)})}function ec(n){n.dom.textContent="",Yt(ma(n),function(o){wt(o)})}function bs(n){var o,u=ma(n);0<u.length&&(o=n,Yt(u,function(f){mi(o,f)})),wt(n)}function aa(n){var o=n!==void 0?n.dom:document,u=o.body.scrollLeft||o.documentElement.scrollLeft,f=o.body.scrollTop||o.documentElement.scrollTop;return te(u,f)}function Yi(n,o,u){var f=(u!==void 0?u.dom:document).defaultView;f&&f.scrollTo(n,o)}function ts(n,o,u,f){return{x:n,y:o,width:u,height:f,right:n+u,bottom:o+f}}function Ji(n){var o=n===void 0?window:n,u=o.document,f=aa(gt.fromDom(u)),d=o===void 0?window:o;return(Ia().browser.isFirefox()?N.none():N.from(d.visualViewport)).fold(function(){var g=o.document.documentElement,b=g.clientWidth,x=g.clientHeight;return ts(f.left,f.top,b,x)},function(g){return ts(Math.max(g.pageLeft,f.left),Math.max(g.pageTop,f.top),g.width,g.height)})}function Ei(n){var o,u=aa(gt.fromDom(document)),f=(o=Wn).owner(n),d=Qt(o,f);return N.some(d).fold(Dr(Xi,n),function(g){var b=Ce(n),x=zt(g,function(S,T){var A=Ce(T);return{left:S.left+A.left,top:S.top+A.top}},{left:0,top:0});return te(x.left+b.left+u.left,x.top+b.top+u.top)})}function X(n){var o=Ei(n),u=ga(n),f=ii(n);return dn(o.left,o.top,u,f)}typeof window<"u"||Function("return this;")();function he(){return yo(0,0)}function Ae(n){function o(d){return function(){return u===d}}var u=n.current,f=n.version;return{current:u,version:f,isEdge:o("Edge"),isChrome:o("Chrome"),isIE:o("IE"),isOpera:o("Opera"),isFirefox:o(In),isSafari:o("Safari")}}function Ge(n){function o(d){return function(){return u===d}}var u=n.current,f=n.version;return{current:u,version:f,isWindows:o(zr),isiOS:o("iOS"),isAndroid:o(hl),isOSX:o("OSX"),isLinux:o("Linux"),isSolaris:o(Ks),isFreeBSD:o(Ul),isChromeOS:o(tc)}}var ut,an,ur=na(1),kr=na(3),er=na(9),bo=na(11),yo=function(n,o){return{major:n,minor:o}},Qi={nu:yo,detect:function(n,o){var u,f,d=String(o).toLowerCase();return n.length===0?he():(f=function(b,x){for(var S=0;S<b.length;S++){var T=b[S];if(T.test(x))return T}}(n,u=d))?yo(g(1),g(2)):{major:0,minor:0};function g(b){return Number(u.replace(f,"$"+b))}},unknown:he},Da=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Eu={browsers:ke([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return Oo(n,"edge/")&&Oo(n,"chrome")&&Oo(n,"safari")&&Oo(n,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Da],search:function(n){return Oo(n,"chrome")&&!Oo(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return Oo(n,"msie")||Oo(n,"trident")}},{name:"Opera",versionRegexes:[Da,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ra("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ra("firefox")},{name:"Safari",versionRegexes:[Da,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(Oo(n,"safari")||Oo(n,"mobile/"))&&Oo(n,"applewebkit")}}]),oses:ke([{name:"Windows",search:ra("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return Oo(n,"iphone")||Oo(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ra("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ra("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ra("linux"),versionRegexes:[]},{name:"Solaris",search:ra("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ra("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ra("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},In="Firefox",xc=function(){return Ae({current:void 0,version:Qi.unknown()})},gl=Ae,zr="Windows",hl="Android",Ks="Solaris",Ul="FreeBSD",tc="ChromeOS",lu=function(){return Ge({current:void 0,version:Qi.unknown()})},Pf=Ge,Ia=Po(function(){return n=navigator.userAgent,o=N.from(navigator.userAgentData),u=oi,j=Eu.browsers(),G=Eu.oses(),K=o.bind(function(L){return Y=j,En(L.brands,function(ue){var de=ue.brand.toLowerCase();return Rr(Y,function(Re){var xe;return de===((xe=Re.brand)===null||xe===void 0?void 0:xe.toLowerCase())}).map(function(Re){return{current:Re.name,version:Qi.nu(parseInt(ue.version,10),0)}})});var Y}).orThunk(function(){return Fa(j,L=n).map(function(Y){var ue=Qi.detect(Y.versionRegexes,L);return{current:Y.name,version:ue}});var L}).fold(xc,gl),Q=Fa(G,f=n).map(function(L){var Y=Qi.detect(L.versionRegexes,f);return{current:L.name,version:Y}}).fold(lu,Pf),{browser:K,os:Q,deviceType:(g=K,b=n,x=u,S=(d=Q).isiOS()&&/ipad/i.test(b)===!0,T=d.isiOS()&&!S,R=(A=d.isiOS()||d.isAndroid())||x("(pointer:coarse)"),M=S||!T&&A&&x("(min-device-width:768px)"),F=T||A&&!M,q=g.isSafari()&&d.isiOS()&&/safari/i.test(b)===!1,{isiPad:ke(S),isiPhone:ke(T),isTablet:ke(M),isPhone:ke(F),isTouch:ke(R),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:ke(q),isDesktop:ke(!F&&!M&&!q)})};var n,o,u,f,d,g,b,x,S,T,A,R,M,F,q,j,G,K,Q}),Zi=Xr,ys=yt(Element.prototype.attachShadow)&&yt(Node.prototype.getRootNode),je=ke(ys),Hi=ys?function(n){return gt.fromDom(n.dom.getRootNode())}:Li,nc=function(n){var o=Hi(n);return ye(o)?N.some(o):N.none()},pl=function(n){return Gt(n.dom.shadowRoot)},ui=function(n){var o=kr(n)?n.dom.parentNode:n.dom;if(o==null||o.ownerDocument===null)return!1;var u,f,d=o.ownerDocument;return nc(gt.fromDom(o)).fold(function(){return d.body.contains(o)},(u=ui,f=Me,function(g){return u(f(g))}))},P=function(){return k(gt.fromDom(document))},k=function(n){var o=n.dom.body;if(o==null)throw new Error("Body is not available yet");return gt.fromDom(o)},w=function(n,o){return Ao(n)?n.style.getPropertyValue(o):""},D=to("height",function(n){var o=n.dom;return ui(n)?o.getBoundingClientRect().height:o.offsetHeight}),W=function(n,o){return{left:n,top:o,translate:function(u,f){return W(n+u,o+f)}}},te=W,Ce=function(n){var o,u=n.dom,f=u.ownerDocument.body;return f===u?te(f.offsetLeft,f.offsetTop):ui(n)?(o=u.getBoundingClientRect(),te(o.left,o.top)):te(0,0)},Ye=to("width",function(n){return n.dom.offsetWidth}),nn=function(n,o,u,f){n.dom.removeEventListener(o,u,f)},vn=function(n,o){n.dom.appendChild(o.dom)},wt=function(n){var o=n.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},Qt=function(n,o){return n.view(o).fold(ke([]),function(u){var f=n.owner(u),d=Qt(n,f);return[u].concat(d)})},Wn=Object.freeze({__proto__:null,view:function(n){var o;return(n.dom===document?N.none():N.from((o=n.dom.defaultView)===null||o===void 0?void 0:o.frameElement)).map(gt.fromDom)},owner:Jt}),dn=function(n,o,u,f){return{x:n,y:o,width:u,height:f,right:n+u,bottom:o+f}},cn=function(n){var o=Xi(n),u=ga(n),f=ii(n);return dn(o.left,o.top,u,f)},Vr=function(){return Ji(window)},zn=function(n){return{isValue:Zt,isError:Fn,getOr:ke(n),getOrThunk:ke(n),getOrDie:ke(n),or:function(o){return zn(n)},orThunk:function(o){return zn(n)},fold:function(o,u){return u(n)},map:function(o){return zn(o(n))},mapError:function(o){return zn(n)},each:function(o){o(n)},bind:function(o){return o(n)},exists:function(o){return o(n)},forall:function(o){return o(n)},toOptional:function(){return N.some(n)}}},wo=function(n){return{isValue:Fn,isError:Zt,getOr:Nt,getOrThunk:function(o){return o()},getOrDie:function(){return Ft(String(n))()},or:Nt,orThunk:function(o){return o()},fold:function(o,u){return o(n)},map:function(o){return wo(n)},mapError:function(o){return wo(o(n))},each:dt,bind:function(o){return wo(n)},exists:Fn,forall:Zt,toOptional:N.none}},on={value:zn,error:wo,fromOption:function(n,o){return n.fold(function(){return wo(o)},zn)}};function gi(n,o,u){return n.stype===ut.Error?o(n.serror):u(n.svalue)}function Wl(n){return{stype:ut.Value,svalue:n}}function ws(n){return{stype:ut.Error,serror:n}}function Mc(n,o,u,f){return{tag:"field",key:n,newKey:o,presence:u,prop:f}}function fu(n,o,u){switch(n.tag){case"field":return o(n.key,n.newKey,n.presence,n.prop);case"custom":return u(n.newKey,n.instantiator)}}function P1(n){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];if(o.length===0)throw new Error("Can't merge zero objects");for(var f={},d=0;d<o.length;d++){var g,b=o[d];for(g in b)Jn(b,g)&&(f[g]=n(f[g],b[g]))}return f}}function Cs(){return{tag:"required",process:{}}}function Sv(n){return{tag:"defaultedThunk",process:n}}function ns(n){return Sv(ke(n))}function xs(){return{tag:"option",process:{}}}function zf(n){return{tag:"mergeWithThunk",process:n}}function La(n){return kn(n)&&100<Pr(n).length?" removed due to size":JSON.stringify(n,null,2)}function Tu(n,o){return is([{path:n,getErrorInfo:o}])}function Ha(n){return{extract:function(o,u){return Ln(n(u),function(f){return Tu(o,ke(f))})},toString:ke("val")}}function kv(n,o,u,f){return f(Ut(n,o).getOrThunk(function(){return u(n)}))}function Ff(n,o,u,f,d){function g(F){return d.extract(o.concat([f]),F)}function b(F){return F.fold(function(){return as(N.none())},function(q){var j=d.extract(o.concat([f]),q);return us(j,N.some)})}var x,S,T,A,R,M;switch(n.tag){case"required":return T=o,M=g,Ut(A=u,R=f).fold(function(){return F=R,q=A,Tu(T,function(){return'Could not find valid *required* value for "'+F+'" in '+La(q)});var F,q},M);case"defaultedThunk":return kv(u,f,n.process,g);case"option":return b(Ut(u,f));case"defaultedOptionThunk":return S=n.process,b(Ut(x=u,f).map(function(F){return F===!0?S(x):F}));case"mergeWithThunk":return kv(u,f,ke({}),function(F){return g(Ir(n.process(u),F))})}}function rs(n){return{extract:function(o,u){return n().extract(o,u)},toString:function(){return n().toString()}}}function hi(n){var o=Tn(n),u=zt(n,function(f,d){return fu(d,function(g){var b;return Ir(f,((b={})[g]=!0,b))},ke(f))},{});return{extract:function(f,d){var g,b,x,S,T,A,R=Je(lt(d)?[]:Pr((x=Gt,S=b={},T=function(M,F){S[F]=M},A=dt,Vn(d,function(M,F){(x(M,F)?T:A)(M,F)}),b)),function(M){return!To(u,M)});return R.length===0?o.extract(f,d):(g=R,Tu(f,function(){return"There are unsupported fields: ["+g.join(", ")+"] specified"}))},toString:o.toString}}function zo(n){return{extract:function(o,u){var f=ot(u,function(d,g){return n.extract(o.concat(["["+g+"]"]),d)});return Cd(f)},toString:function(){return"array("+n.toString()+")"}}}function Hu(n){return{extract:function(o,u){for(var f=[],d=0,g=n;d<g.length;d++){var b=g[d].extract(o,u);if(b.stype===ut.Value)return b;f.push(b)}return Cd(f)},toString:function(){return"oneOf("+ot(n,function(o){return o.toString()}).join(", ")+")"}}}function Xs(n,o){return Ha(function(u){var f=typeof u;return n(u)?as(u):is("Expected type: "+o+" but got: "+f)})}function jl(n,o){return{extract:function(u,f){return Ut(f,n).fold(function(){return d=n,Tu(u,function(){return'Choice schema did not contain choice key: "'+d+'"'});var d},function(d){return g=u,b=f,Ut(x=o,S=d).fold(function(){return T=x,A=S,Tu(g,function(){return'The chosen schema: "'+A+'" did not exist in branches: '+La(T)});var T,A},function(T){return T.extract(g.concat(["branch: "+S]),b)});var g,b,x,S})},toString:function(){return"chooseOn("+n+"). Possible values: "+Pr(o)}}}function Ss(n){return Ha(function(o){return n(o).fold(is,as)})}function Dh(n,o){return u=function(d){return n(d).fold(ws,Wl)},f=o,{extract:function(d,g){var b=Pr(g),x=zo(Ha(u)).extract(d,b);return ql(x,function(S){var T=ot(S,function(A){return Mc(A,A,Cs(),f)});return Tn(T).extract(d,g)})},toString:function(){return"setOf("+f.toString()+")"}};var u,f}function Fo(n,o,u){return z1((d=o.extract([n],f=u),oc(d,function(g){return{input:f,errors:g}})));var f,d}function Ou(n){return n.fold(function(o){throw new Error(Co(o))},Nt)}function Ra(n,o,u){return Ou(Fo(n,o,u))}function Au(n,o){return jl(n,tn(o,Tn))}function bl(n){return Ss(function(o){return pn(n,o)?on.value(o):on.error('Unsupported value: "'+o+'", choose one of "'+n.join(", ")+'".')})}function $e(n){return Wa(n,n,Cs(),jt())}function eu(n,o){return Wa(n,n,Cs(),o)}function wn(n){return eu(n,Va)}function wd(n,o){return Wa(n,n,Cs(),bl(o))}function _a(n){return eu(n,Ua)}function $a(n,o){return Wa(n,n,Cs(),Tn(o))}function If(n,o){return Wa(n,n,Cs(),Os(o))}function pi(n,o){return Wa(n,n,Cs(),zo(o))}function jn(n){return Wa(n,n,xs(),jt())}function ks(n,o){return Wa(n,n,xs(),o)}function Rh(n){return ks(n,xd)}function oo(n){return ks(n,Va)}function Es(n){return ks(n,Ua)}function ci(n,o){return ks(n,zo(o))}function $i(n,o){return ks(n,Tn(o))}function Se(n,o){return Wa(n,n,ns(o),jt())}function Pc(n,o,u){return Wa(n,n,ns(o),u)}function Ts(n,o){return Pc(n,o,xd)}function os(n,o){return Pc(n,o,Va)}function rc(n,o,u){return Pc(n,o,bl(u))}function yr(n,o){return Pc(n,o,Hf)}function Io(n,o){return Pc(n,o,Ua)}function Lf(n,o,u){return Pc(n,o,zo(u))}function Ev(n,o,u){return Pc(n,o,Tn(u))}function Cn(n){var o=n;return{get:function(){return o},set:function(u){o=u}}}(an=ut={})[an.Error=0]="Error",an[an.Value=1]="Value";function Sc(n){if(!Mr(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");var o=[],u={};return Yt(n,function(f,d){var g=Pr(f);if(g.length!==1)throw new Error("one and only one name per case");var b=g[0],x=f[b];if(u[b]!==void 0)throw new Error("duplicate key detected:"+b);if(b==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Mr(x))throw new Error("case arguments must be an array");o.push(b),u[b]=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var A=S.length;if(A!==x.length)throw new Error("Wrong number of arguments to case "+b+". Expected "+x.length+" ("+x+"), got "+A);return{fold:function(){for(var R=[],M=0;M<arguments.length;M++)R[M]=arguments[M];if(R.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+R.length);return R[d].apply(null,S)},match:function(R){var M=Pr(R);if(o.length!==M.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+M.join(","));if(!Go(o,function(F){return pn(M,F)}))throw new Error("Not all branches were specified when using match. Specified: "+M.join(", ")+`
Required: `+o.join(", "));return R[b].apply(null,S)},log:function(R){console.log(R,{constructors:o,constructor:b,params:S})}}}}),u}var z1=function(n){return gi(n,on.error,on.value)},as=Wl,is=ws,ql=function(n,o){return n.stype===ut.Value?o(n.svalue):n},Ln=function(n,o){return n.stype===ut.Error?o(n.serror):n},us=function(n,o){return n.stype===ut.Value?{stype:ut.Value,svalue:o(n.svalue)}:n},oc=function(n,o){return n.stype===ut.Error?{stype:ut.Error,serror:o(n.serror)}:n},ac=gi,Ir=P1(function(n,o){return kn(n)&&kn(o)?Ir(n,o):o}),Ja=P1(function(n,o){return o}),Cd=function(n){var o,u,f=(o=[],u=[],Yt(n,function(d){gi(d,function(g){return u.push(g)},function(g){return o.push(g)})}),{values:o,errors:u});return 0<f.errors.length?qr(is,br)(f.errors):as(f.values)},Ys=Ha(as),Tn=function(n){return{extract:function(o,u){for(var f={},d=[],g=0,b=n;g<b.length;g++)fu(b[g],function(x,S,T,A){var R=Ff(T,o,u,x,A);ac(R,function(M){d.push.apply(d,M)},function(M){f[S]=M})},function(x,S){f[x]=S(u)});return 0<d.length?is(d):as(f)},toString:function(){return`obj{
`+ot(n,function(o){return fu(o,function(u,f,d,g){return u+" -> "+g.toString()},function(u,f){return"state("+u+")"})}).join(`
`)+"}"}}},Os=qr(zo,Tn),jt=ke(Ys),xd=Xs(hn,"number"),Va=Xs(fr,"string"),Hf=Xs(lt,"boolean"),Ua=Xs(yt,"function"),_h=function(n){if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(function(o){return _h(n[o])});default:return!1}},Js=Ha(function(n){return _h(n)?as(n):is("Expected value to be acceptable for sending via postMessage")}),Co=function(n){return`Errors: 
`+ot(10<(o=n.errors).length?o.slice(0,10).concat([{path:[],getErrorInfo:ke("... (only showing first ten failures)")}]):o,function(u){return"Failed path: ("+u.path.join(" > ")+`)
`+u.getErrorInfo()}).join(`
`)+`

Input object: `+La(n.input);var o},Wa=Mc,Zo=function(n,o){return{tag:"custom",newKey:n,instantiator:o}};function zc(n,o){return(u={})[n]=o,u;var u}function Qn(n){return o={},Yt(n,function(u){o[u.key]=u.value}),o;var o}function $u(n){return yt(n)?n:Fn}function F1(n,o,u){for(var f=n.dom,d=$u(u);f.parentNode;){var f=f.parentNode,g=gt.fromDom(f),b=o(g);if(b.isSome())return b;if(d(g))break}return N.none()}function Bh(n,o,u){var f=o(n),d=$u(u);return f.orThunk(function(){return d(n)?N.none():F1(n,o,d)})}function Sd(n,o){return or(n.element,o.event.target)}function Gl(n){if(!To(n,"can")&&!To(n,"abort")&&!To(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return me(me({},U1),n)}function O(n){return ke("alloy."+n)}function z(n,o){_v(n,n.element,o,{})}function V(n,o,u){_v(n,n.element,o,u)}function se(n){z(n,Ec())}function Te(n,o,u){_v(n,o,u,{})}function ht(n,o,u,f){n.getSystem().triggerEvent(u,o,f.event)}function sn(n,o){return{key:n,value:Gl({abort:o})}}function cr(n){return{key:n,value:Gl({run:function(o,u){u.event.prevent()}})}}function Pe(n,o){return{key:n,value:Gl({run:o})}}function sr(n,o,u){return{key:n,value:Gl({run:function(f,d){o.apply(void 0,[f,d].concat(u))}})}}function Do(n){return function(o){return{key:n,value:Gl({run:function(u,f){Sd(u,f)&&o(u,f)}})}}}function Ti(n,o,u){var f,d=o.partUids[u];return Pe(f=n,function(g,b){g.getSystem().getByUid(d).each(function(x){ht(x,x.element,f,b)})})}function ia(n,o){return Pe(n,function(u,f){var d=f.event,g=u.getSystem().getByDom(d.target).getOrThunk(function(){return Bh(d.target,function(b){return u.getSystem().getByDom(b).toOptional()},Fn).getOr(u)});o(u,g,f)})}function kd(n){return Pe(n,function(o,u){u.cut()})}function Xm(n,o){return Do(n)(o)}function I1(n){return n.dom.innerHTML}function Nh(n,o){var u,f,d=Jt(n).dom,g=gt.fromDom(d.createDocumentFragment());Zu(g,(u=o,(f=(d||document).createElement("div")).innerHTML=u,ma(gt.fromDom(f)))),ec(n),vn(n,g)}function ic(n){if(ye(n))return"#shadow-root";var o=gt.fromDom(n.dom.cloneNode(!1)),u=gt.fromTag("div"),f=gt.fromDom(o.dom.cloneNode(!0));return vn(u,f),I1(u)}function un(n){var o=new Date().getTime();return n+"_"+Math.floor(1e9*Math.random())+ ++fy+String(o)}function vu(n){var o=ur(n)?n.dom[CC]:null;return N.from(o)}function Mh(n){function o(d){return"The component must be in a context to execute: "+d+(n?`
`+ic(n().element)+" is not in context.":"")}function u(d){return function(){throw new Error(o(d))}}function f(d){return function(){console.warn(o(d))}}return{debugInfo:ke("fake"),triggerEvent:f("triggerEvent"),triggerFocus:f("triggerFocus"),triggerEscape:f("triggerEscape"),broadcast:f("broadcast"),broadcastOn:f("broadcastOn"),broadcastEvent:f("broadcastEvent"),build:u("build"),addToWorld:u("addToWorld"),removeFromWorld:u("removeFromWorld"),addToGui:u("addToGui"),removeFromGui:u("removeFromGui"),getByUid:u("getByUid"),getByDom:u("getByDom"),isConnected:Fn}}function Ph(n,o){var u=n.toString(),f=u.indexOf(")")+1,d=u.indexOf("("),g=u.substring(d+1,f-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:o,parameters:ag(g)}},n}function Ym(n){return zc(xC,n)}function Ed(n){return o=function(b){for(var x=[],S=1;S<arguments.length;S++)x[S-1]=arguments[S];return n.apply(void 0,On([b.getApis(),b],x,!1))},f=(u=n.toString()).indexOf(")")+1,d=u.indexOf("("),g=u.substring(d+1,f-1).split(/,\s*/),o.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ag(g.slice(1))}},o;var o,u,f,d,g}function iy(n,o){var u={};return Vn(n,function(f,d){Vn(f,function(g,b){var x=Ut(u,b).getOr([]);u[b]=x.concat([o(d,g)])})}),u}function yl(n){return{classes:mr(n.classes)?[]:n.classes,attributes:mr(n.attributes)?{}:n.attributes,styles:mr(n.styles)?{}:n.styles}}function Tv(n){return n.cHandler}function L1(n,o){return{name:n,handler:o}}function Kk(n,o,u){var f=o[u];return f?function(d,g,b){try{var x=Et(g,function(S,T){var A=S.name,R=T.name,M=b.indexOf(A),F=b.indexOf(R);if(M===-1)throw new Error("The ordering for "+d+" does not have an entry for "+A+`.
Order specified: `+JSON.stringify(b,null,2));if(F===-1)throw new Error("The ordering for "+d+" does not have an entry for "+R+`.
Order specified: `+JSON.stringify(b,null,2));return M<F?-1:F<M?1:0});return on.value(x)}catch(S){return on.error([S])}}("Event: "+u,n,f).map(function(d){var g,b,x,S,T=ot(d,function(A){return A.handler});return{can:function(){for(var A=[],R=0;R<arguments.length;R++)A[R]=arguments[R];return Jr(b,function(M,F){return M&&F.can.apply(void 0,A)},!0)},abort:(x=b=g=T,S=function(A){return A.abort},function(){for(var A=[],R=0;R<arguments.length;R++)A[R]=arguments[R];return Jr(x,function(M,F){return M||S(F).apply(void 0,A)},!1)}),run:function(){for(var A=[],R=0;R<arguments.length;R++)A[R]=arguments[R];Yt(g,function(M){M.run.apply(void 0,A)})}}}):on.error(["The event ("+u+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ot(n,function(d){return d.name}),null,2)])}function H1(n,o){var u=fe(n,o);return u===void 0||u===""?[]:u.split(" ")}function $1(n){return n.dom.classList!==void 0}function tu(n,o){var u,f,d;$1(n)?n.dom.classList.add(o):(f=o,d=H1(u=n,"class").concat([f]),nt(u,"class",d.join(" ")))}function ha(n,o){var u,f,d,g;$1(n)?n.dom.classList.remove(o):(d=o,0<(g=Je(H1(f=n,"class"),function(b){return b!==d})).length?nt(f,"class",g.join(" ")):qe(f,"class")),($1(u=n)?u.dom.classList:H1(u,"class")).length===0&&qe(u,"class")}function uc(n,o){return $1(n)&&n.dom.classList.contains(o)}function Td(n,o){Yt(o,function(u){tu(n,u)})}function wl(n,o){Yt(o,function(u){ha(n,u)})}function Ov(n){return n.dom.value}function As(n,o){if(o===void 0)throw new Error("Value.set was undefined");n.dom.value=o}function mC(n){var o,u,f,d,g=(o=Ut(n,"behaviours").getOr({}),ee(Pr(o),function(b){var x=o[b];return Gt(x)?[x.me]:[]}));return u=n,d=ot(f=g,function(b){return $i(b.name(),[$e("config"),Se("state",du)])}),{list:f,data:tn(Fo("component.behaviours",Tn(d),u.behaviours).fold(function(b){throw new Error(Co(b)+`
Complete spec:
`+JSON.stringify(u,null,2))},Nt),function(b){return ke(b.map(function(x){return{config:x.config,state:x.state.init(x.config)}}))})}}function V1(n,o,u){var f,d,g=me(me({},(f=n).dom),{uid:f.uid,domChildren:ot(f.components,function(S){return S.element})}),b=n.domModification.fold(function(){return yl({})},yl),x=0<o.length?function(S,T,A,R){var M=me({},T);function F(j){return zt(j,function(G,K){return me(me({},K.modification),G)},{})}Yt(A,function(j){M[j.name()]=j.exhibit(S,R)});var q=iy(M,function(j,G){return{name:j,modification:G}});return yl({classes:zt(q.classes,function(j,G){return G.modification.concat(j)},[]),attributes:F(q.attributes),styles:F(q.styles)})}(u,{"alloy.base.modification":b},o,g):b;return me(me({},d=g),{attributes:me(me({},d.attributes),x.attributes),styles:me(me({},d.styles),x.styles),classes:d.classes.concat(x.classes)})}function Av(n,o,u){var f,d,g,b,x,S={"alloy.base.behaviour":n.events},T=n.eventOrder;return d=u,g=o,f=iy(me(me({},S),(b=d,x={},Yt(g,function(A){x[A.name()]=A.handlers(b)}),x)),L1),dy(f,T).getOrDie()}function Jm(n){var o,u,f,d,g,b,x,S,T,A,R=Yk(n),M=R.events,F=en(R,["events"]),q=ot(Ut(F,"components").getOr([]),Uu),j=me(me({},F),{events:me(me({},$h),M),components:q});return on.value((u=Cn(G1),f=Ou(Fo("custom.definition",Jk,o=j)),d=mC(o),g=d.list,b=d.data,x=function(K){var Q=gt.fromTag(K.tag);re(Q,K.attributes),Td(Q,K.classes),Mn(Q,K.styles),K.innerHtml.each(function(Y){return Nh(Q,Y)});var L=K.domChildren;return Zu(Q,L),K.value.each(function(Y){As(Q,Y)}),K.uid,Vh(Q,K.uid),Q}(V1(f,g,b)),S=Av(f,g,b),T=Cn(f.components),A={uid:o.uid,getSystem:u.get,config:function(K){var Q=b;return(yt(Q[K.name()])?Q[K.name()]:function(){throw new Error("Could not find "+K.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:function(K){return yt(b[K.name()])},spec:o,readState:function(K){return b[K]().map(function(Q){return Q.state.readState()}).getOr("not enabled")},getApis:function(){return f.apis},connect:function(K){u.set(K)},disconnect:function(){u.set(Mh(G))},element:x,syncComponents:function(){var K=ee(ma(x),function(Q){return u.get().getByDom(Q).fold(function(){return[]},it)});T.set(K)},components:T.get,events:S}));function G(){return A}}function Od(n){var o=gt.fromText(n);return my({element:o})}Sc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var uy,Ds,U1={can:Zt,abort:Fn,run:dt},Oi=ke,Qa=Oi("touchstart"),Ad=Oi("touchmove"),Rs=Oi("touchend"),Qm=Oi("touchcancel"),Fc=Oi("mousedown"),W1=Oi("mousemove"),cy=Oi("mouseout"),j1=Oi("mouseup"),si=Oi("mouseover"),$f=Oi("focusin"),gC=Oi("focusout"),Zm=Oi("keydown"),li=Oi("keyup"),Dd=Oi("input"),zh=Oi("change"),Fh=Oi("click"),hC=Oi("transitioncancel"),eg=Oi("transitionend"),Xk=Oi("transitionstart"),tg=Oi("selectstart"),pC={tap:O("tap")},kc=O("focus"),sy=O("blur.post"),_s=O("paste.post"),Rd=O("receive"),Ec=O("execute"),Kl=O("focus.item"),_d=pC.tap,Cl=O("longpress"),Xl=O("sandbox.close"),Ih=O("typeahead.cancel"),Bd=O("system.init"),ng=O("system.touchmove"),bC=O("system.touchend"),rg=O("system.scroll"),cc=O("system.resize"),Dv=O("system.attached"),Lh=O("system.detached"),fi=O("system.dismissRequested"),Nd=O("system.repositionRequested"),Yl=O("focusmanager.shifted"),ly=O("slotcontainer.visibility"),Rv=O("change.tab"),Ic=O("dismiss.tab"),Md=O("highlight"),Vu=O("dehighlight"),_v=function(n,o,u,f){var d=me({target:o},f);n.getSystem().triggerEvent(u,o,d)},Uo=Qn,ua=Do(Dv()),Bs=Do(Lh()),yC=Do(Bd()),Jl=(uy=Ec(),function(n){return Pe(uy,n)}),Hh=Uo([{key:kc(),value:Gl({can:function(n,o){var u,f=o.event,d=f.originator,g=f.target;return!(or(u=d,n.element)&&!or(u,g)&&(console.warn(kc()+` did not get interpreted by the desired target. 
Originator: `+ic(d)+`
Target: `+ic(g)+`
Check the `+kc()+" event handlers"),1))}})}]),$h=Object.freeze({__proto__:null,events:Hh}),fy=0,vy=ke("alloy-id-"),wC=ke("data-alloy-id"),q1=vy(),CC=wC(),Vh=function(n,o){Object.defineProperty(n.dom,CC,{value:o,writable:!0})},og=un,Yk=Nt,G1=Mh(),ag=function(n){return ot(n,function(o){return _r(o,"/*")?o.substring(0,o.length-2):o})},xC=un("alloy-premade"),du={init:function(){return cs({readState:ke("No State required")})}},cs=function(n){return n},dy=function(n,o){var u,f,d,g,b,x,S=xa(n,function(T,A){return(T.length===1?on.value(T[0].handler):Kk(T,o,A)).map(function(R){var M,F,q=(F=yt(M=R)?{can:Zt,abort:Fn,run:M}:M,function(G,K){for(var Q=[],L=2;L<arguments.length;L++)Q[L-2]=arguments[L];var Y=[G,K].concat(Q);F.abort.apply(void 0,Y)?K.stop():F.can.apply(void 0,Y)&&F.run.apply(void 0,Y)}),j=1<T.length?Je(o[A],function(G){return Ct(T,function(K){return K.name===G})}).join(" > "):T[0].name;return zc(A,{handler:q,purpose:j})})});return u={},f=[],d=[],Yt(S,function(T){T.fold(function(A){f.push(A)},function(A){d.push(A)})}),0<(x={errors:f,values:d}).errors.length?on.error(br(x.errors)):(b=u,(g=x.values).length===0?on.value(b):on.value(Ir(b,Ja.apply(void 0,g))))},Bv="alloy.base.behaviour",Jk=Tn([Wa("dom","dom",Cs(),Tn([$e("tag"),Se("styles",{}),Se("classes",[]),Se("attributes",{}),jn("value"),jn("innerHtml")])),$e("components"),$e("uid"),Se("events",{}),Se("apis",{}),Wa("eventOrder","eventOrder",((Ds={})[Ec()]=["disabling",Bv,"toggling","typeaheadevents"],Ds[kc()]=[Bv,"focusing","keying"],Ds[Bd()]=[Bv,"disabling","toggling","representing"],Ds[Dd()]=[Bv,"representing","streaming","invalidating"],Ds[Lh()]=[Bv,"representing","item-events","tooltipping"],Ds[Fc()]=["focusing",Bv,"item-type-events"],Ds[Qa()]=["focusing",Bv,"item-type-events"],Ds[si()]=["item-type-events","tooltipping"],Ds[Rd()]=["receiving","reflecting","tooltipping"],zf(ke(Ds))),jt()),jn("domModification")]),my=function(n){var o=Ra("external.component",hi([$e("element"),jn("uid")]),n),u=Cn(Mh()),f=o.uid.getOrThunk(function(){return og("external")});Vh(o.element,f);var d={uid:f,getSystem:u.get,config:N.none,hasConfigured:Fn,connect:function(g){u.set(g)},disconnect:function(){u.set(Mh(function(){return d}))},getApis:function(){return{}},element:o.element,spec:n,readState:ke("No state"),syncComponents:dt,components:ke([]),events:{}};return Ym(d)},Uh=og,Uu=function(n){return Ut(n,xC).getOrThunk(function(){return Jm(Jn(n,"uid")?n:me({uid:Uh("")},n)).getOrDie()})},mu=Ym;function Wh(n,o,u,f,d){return n(u,f)?N.some(u):yt(d)&&d(u)?N.none():o(u,f,d)}function SC(n,o,u){for(var f=n.dom,d=yt(u)?u:Fn;f.parentNode;){var f=f.parentNode,g=gt.fromDom(f);if(o(g))return N.some(g);if(d(g))break}return N.none()}function kC(n,o,u){return Wh(function(f,d){return d(f)},SC,n,o,u)}function jh(n,o,u){return kC(n,o,u).isSome()}function K1(n,o,u){return SC(n,function(f){return oa(f,o)},u)}function Ai(n,o){return u=o,ki(f=n===void 0?document:n.dom)?N.none():N.from(f.querySelector(u)).map(gt.fromDom);var u,f}function Qs(n,o,u){return Wh(oa,K1,n,o,u)}function Pd(){var n=un("aria-owns");return{id:n,link:function(o){nt(o,"aria-owns",n)},unlink:function(o){qe(o,"aria-owns")}}}var vi,ig,Vf=function(n,o){return jh(o,function(f){return or(f,n.element)},Fn)||(u=n,kC(o,function(f){if(!ur(f))return!1;var d=fe(f,"id");return d!==void 0&&-1<d.indexOf("aria-owns")}).bind(function(f){var d=fe(f,"id");return Ai(Hi(f),'[aria-owns="'+d+'"]')}).exists(function(f){return Vf(u,f)}));var u},EC="unknown";function X1(n,o,u){var f,d,g,b;switch(Ut(Y1.get(),n).orThunk(function(){return En(Pr(Y1.get()),function(T){return-1<n.indexOf(T)?N.some(Y1.get()[T]):N.none()})}).getOr(vi.NORMAL)){case vi.NORMAL:return u(TC());case vi.LOGGING:var x=(f=n,d=o,g=[],b=new Date().getTime(),{logEventCut:function(T,A,R){g.push({outcome:"cut",target:A,purpose:R})},logEventStopped:function(T,A,R){g.push({outcome:"stopped",target:A,purpose:R})},logNoParent:function(T,A,R){g.push({outcome:"no-parent",target:A,purpose:R})},logEventNoHandlers:function(T,A){g.push({outcome:"no-handlers-left",target:A})},logEventResponse:function(T,A,R){g.push({outcome:"response",purpose:R,target:A})},write:function(){var T=new Date().getTime();pn(["mousemove","mouseover","mouseout",Bd()],f)||console.log(f,{event:f,time:T-b,target:d.dom,sequence:ot(g,function(A){return pn(["cut","stopped","response"],A.outcome)?"{"+A.purpose+"} "+A.outcome+" at ("+ic(A.target)+")":A.outcome})})}}),S=u(x);return x.write(),S;case vi.STOP:return!0}}(ig=vi=vi||{})[ig.STOP=0]="STOP",ig[ig.NORMAL=1]="NORMAL",ig[ig.LOGGING=2]="LOGGING";var Y1=Cn({}),Qk=["alloy/data/Fields","alloy/debugging/Debugging"],TC=ke({logEventCut:dt,logEventStopped:dt,logNoParent:dt,logEventNoHandlers:dt,logEventResponse:dt,write:dt}),J1=ke([$e("menu"),$e("selectedMenu")]),gy=ke([$e("item"),$e("selectedItem")]);function zd(){return $a("markers",[$e("backgroundMenu")].concat(J1()).concat(gy()))}function Ql(n){return $a("markers",ot(n,$e))}function Q1(n,o,u){return(f=new Error).stack!==void 0&&Rr(f.stack.split(`
`),function(d){return 0<d.indexOf("alloy")&&!Ct(Qk,function(g){return-1<d.indexOf(g)})}).getOr(EC),Wa(o,o,u,Ss(function(d){return on.value(function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];return d.apply(void 0,g)})}));var f}function Qr(n){return Q1(0,n,ns(dt))}function Lc(n){return Q1(0,n,ns(N.none))}function Ns(n){return Q1(0,n,Cs())}function hy(n){return Q1(0,n,Cs())}function Lo(n,o){return Zo(n,ke(o))}function qh(n){return Zo(n,Nt)}function Di(n,o,u,f,d,g,b,x){return{x:n,y:o,bubble:u,direction:f,placement:d,restriction:g,label:b+"-"+d,alwaysFit:x=x!==void 0&&x}}function Fd(n,o,u,f){var d=n+o;return f<d?u:d<u?f:d}function gu(n,o){return Pa(["left","right","top","bottom"],function(u){return Ut(o,u).map(function(f){return function(d){switch(f){case 1:return d.x;case 0:return d.x+d.width;case 2:return d.y;case 3:return d.y+d.height}}(n)})})}function Gh(n,o){return n.x+n.width/2-o.width/2}function Kh(n,o){return n.x+n.width-o.width}function py(n,o){return n.y-o.height}function by(n){return n.y+n.height}function Zs(n,o){return n.y+n.height/2-o.height/2}function xl(n,o,u){return Di(n.x+n.width,Zs(n,o),u.east(),Sy(),"east",gu(n,{left:0}),$c)}function Z1(n,o,u){return Di(n.x-o.width,Zs(n,o),u.west(),zv(),"west",gu(n,{right:1}),$c)}function Nv(){return[Ri,ja,pa,_i,Ba,Ro,xl,Z1]}function Du(){return[ja,Ri,_i,pa,Ba,Ro,xl,Z1]}function e0(){return[pa,_i,Ri,ja,Ro,Ba]}function Mv(){return[_i,pa,ja,Ri,Ro,Ba]}function yy(){return[Ri,ja,pa,_i,Ba,Ro]}function nu(){return[ja,Ri,_i,pa,Ba,Ro]}function t0(n,o,u){return yC(function(f,d){u(f,n,o)})}function OC(n){return{key:n,value:void 0}}function ru(n){var o,u,f,d,g,b,x,S,T=Ra("Creating behaviour: "+n.name,Jh,n);return o=T.fields,u=T.name,f=T.active,d=T.apis,g=T.extra,b=T.state,x=hi(o),S=$i(u,[ks("config",hi(o))]),Id(x,S,u,f,d,g,b)}function n0(n){var o,u=Ra("Creating behaviour: "+n.name,ou,n),f=Au(u.branchKey,u.branches),d=u.name,g=u.active,b=u.apis,x=u.extra,S=u.state,T=$i(d,[ks("config",o=f)]);return Id(o,T,d,g,b,x,S)}function Uf(){return gt.fromDom(document)}function Zl(n){return n.dom.focus()}function Sl(n){var o=Hi(n).dom;return n.dom===o.activeElement}function Wf(n){return n===void 0&&(n=Uf()),N.from(n.dom.activeElement).map(gt.fromDom)}function Ms(n){return Wf(Hi(n)).filter(function(o){return n.dom.contains(o.dom)})}function wy(n,o){var u=Hi(o),f=Wf(u).bind(function(g){function b(T){return or(g,T)}var x,S;return b(o)?N.some(o):(x=b,(S=function(T){for(var A=0;A<T.childNodes.length;A++){var R=gt.fromDom(T.childNodes[A]);if(x(R))return N.some(R);var M=S(T.childNodes[A]);if(M.isSome())return M}return N.none()})(o.dom))}),d=n(o);return f.each(function(g){Wf(u).filter(function(b){return or(b,g)}).fold(function(){Zl(g)},dt)}),d}function ss(n,o,u,f,d){function g(b){return b+"px"}return{position:n,left:o.map(g),top:u.map(g),right:f.map(g),bottom:d.map(g)}}function r0(n,o){var u;Kn(n,me(me({},u=o),{position:N.some(u.position)}))}function Cy(n,o,u,f,d,g){var b=o.rect,x=b.x-u,S=b.y-f,T=d-(x+b.width),A=g-(S+b.height),R=N.some(x),M=N.some(S),F=N.some(T),q=N.some(A),j=N.none();return o.direction.fold(function(){return ss(n,R,M,j,j)},function(){return ss(n,j,M,F,j)},function(){return ss(n,R,j,j,q)},function(){return ss(n,j,j,F,q)},function(){return ss(n,R,M,j,j)},function(){return ss(n,R,j,j,q)},function(){return ss(n,R,M,j,j)},function(){return ss(n,j,M,F,j)})}function AC(n,o){return n.fold(function(){var u=o.rect;return ss("absolute",N.some(u.x),N.some(u.y),N.none(),N.none())},function(u,f,d,g){return Cy("absolute",o,u,f,d,g)},function(u,f,d,g){return Cy("fixed",o,u,f,d,g)})}function Xh(n,o){var u=Dr(Ei,o),f=n.fold(u,u,function(){var b=aa();return Ei(o).translate(-b.left,-b.top)}),d=ga(o),g=ii(o);return dn(f.left,f.top,d,g)}ke(Tn(gy().concat(J1())));var Yh=ke(Tn(gy())),ug=ke($a("initSize",[$e("numColumns"),$e("numRows")])),jf=Sc([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),qf=jf.southeast,xy=jf.southwest,Pv=jf.northeast,Vi=jf.northwest,Ho=jf.south,cg=jf.north,Sy=jf.east,zv=jf.west,Hc=function(n,o,u){return Math.min(Math.max(n,o),u)},$c="layout",Ri=function(n,o,u){return Di(n.x,by(n),u.southeast(),qf(),"southeast",gu(n,{left:1,top:3}),$c)},ja=function(n,o,u){return Di(Kh(n,o),by(n),u.southwest(),xy(),"southwest",gu(n,{right:0,top:3}),$c)},pa=function(n,o,u){return Di(n.x,py(n,o),u.northeast(),Pv(),"northeast",gu(n,{left:1,bottom:2}),$c)},_i=function(n,o,u){return Di(Kh(n,o),py(n,o),u.northwest(),Vi(),"northwest",gu(n,{right:0,bottom:2}),$c)},Ro=function(n,o,u){return Di(Gh(n,o),py(n,o),u.north(),cg(),"north",gu(n,{bottom:2}),$c)},Ba=function(n,o,u){return Di(Gh(n,o),by(n),u.south(),Ho(),"south",gu(n,{top:3}),$c)},ef=Object.freeze({__proto__:null,events:function(n){return Uo([Pe(Rd(),function(o,u){var f,d=n.channels,g=Pr(d),b=u,x=(f=b).universal?g:Je(g,function(S){return pn(f.channels,S)});Yt(x,function(S){var T=d[S],A=T.schema,R=Ra("channel["+S+`] data
Receiver: `+ic(o.element),A,b.data);T.onReceive(o,R)})})])}}),Fv=[eu("channels",Dh(on.value,hi([Ns("onReceive"),Se("schema",jt())])))],Id=function(n,o,u,f,d,g,b){function x(R){return To(R,u)?R[u]():N.none()}var S=tn(d,function(R,M){return F=u,G=function(de){for(var Re=[],xe=1;xe<arguments.length;xe++)Re[xe-1]=arguments[xe];var ze=[de].concat(Re);return de.config({name:ke(F)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+F+". Using API: "+j)},function(Ke){var Ie=Array.prototype.slice.call(ze,1);return q.apply(void 0,[de,Ke.config,Ke.state].concat(Ie))})},K=j=M,Q=(q=R).toString(),L=Q.indexOf(")")+1,Y=Q.indexOf("("),ue=Q.substring(Y+1,L-1).split(/,\s*/),G.toFunctionAnnotation=function(){return{name:K,parameters:ag(ue.slice(0,1).concat(ue.slice(3)))}},G;var F,q,j,G,K,Q,L,Y,ue}),T=tn(g,Ph),A=me(me(me({},T),S),{revoke:Dr(OC,u),config:function(R){var M=Ra(u+"-config",n,R);return{key:u,value:{config:M,me:A,configAsRaw:Po(function(){return Ra(u+"-config",n,R)}),initialConfig:R,state:b}}},schema:ke(o),exhibit:function(R,M){return xu(x(R),Ut(f,"exhibit"),function(F,q){return q(M,F.config,F.state)}).getOrThunk(function(){return yl({})})},name:ke(u),handlers:function(R){return x(R).map(function(M){return Ut(f,"events").getOr(function(){return{}})(M.config,M.state)}).getOr({})}});return A},Tt=Qn,Jh=hi([$e("fields"),$e("name"),Se("active",{}),Se("apis",{}),Se("state",du),Se("extra",{})]),ou=hi([$e("branchKey"),$e("branches"),$e("name"),Se("active",{}),Se("apis",{}),Se("state",du),Se("extra",{})]),kl=ke(void 0),au=ru({fields:Fv,name:"receiving",active:ef}),o0=Object.freeze({__proto__:null,exhibit:function(n,o){return yl({classes:[],styles:o.useFixed()?{}:{position:"relative"}})}}),a0=Sc([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),ky=function(n,o,u){var f=te(o,u);return n.fold(ke(f),ke(f),function(){var d=aa();return f.translate(-d.left,-d.top)})};function Qh(n){return _e(n,Ay)}function Ey(n,o,u,f){var d,g,b,x,S,T,A,R,M,F,q,j,G,K,Q,L,Y,ue,de,Re,xe,ze,Ke,Ie,Ze,vt,Lt,fn,Gn,xr,jr,ao,hr,Yr,no,ko,Or,Wo,Ni,Xu=n.bubble,bc=Xu.offset,Bo=(hr=f,Yr=n.restriction,no=bc,ko=Mu("left",hr.x),Or=Mu("top",hr.y),Wo=Mu("right",hr.right),Ni=Mu("bottom",hr.bottom),dn(ko,Or,Wo-ko,Ni-Or)),gs=n.x+bc.left,Ma=n.y+bc.top,io=dn(gs,Ma,o,u),At=(d=Bo.x,g=Bo.y,b=Bo.right,x=Bo.bottom,S=io.x,T=io.y,A=io.right,R=io.bottom,M=io.width,F=io.height,{originInBounds:d<=S&&S<=b&&g<=T&&T<=x,sizeInBounds:A<=b&&d<=A&&R<=x&&g<=R,visibleW:Math.min(M,d<=S?b-S:A-d),visibleH:Math.min(F,g<=T?x-T:R-g)}),Xn=At.visibleW,co=At.visibleH,No=At.originInBounds&&At.sizeInBounds,Xo=No?io:(q=Bo.x,j=Bo.y,G=Bo.right,K=Bo.bottom,Q=io.x,L=io.y,Y=io.width,ue=io.height,de=Math.max(q,G-Y),Re=Math.max(j,K-ue),xe=Hc(Q,q,de),ze=Hc(L,j,Re),Ke=Math.min(xe+Y,G)-xe,Ie=Math.min(ze+ue,K)-ze,dn(xe,ze,Ke,Ie)),yc=0<Xo.width&&0<Xo.height,xi=(Ze=n.direction,fn=ke((vt=Xo).bottom-(Lt=f).y),Gn=ke(Lt.bottom-vt.y),xr=Ze.fold(Gn,Gn,fn,fn,Gn,fn,Gn,Gn),jr=ke(vt.right-Lt.x),ao=ke(Lt.right-vt.x),{maxWidth:Ze.fold(ao,jr,ao,jr,ao,ao,ao,jr),maxHeight:xr}),Si={rect:Xo,maxHeight:xi.maxHeight,maxWidth:xi.maxWidth,direction:n.direction,placement:n.placement,classes:{on:Xu.classesOn,off:Xu.classesOff},layout:n.label,testY:Ma};function Mu(cu,Gi){return Yr[cu].map(function(Mi){var Pi=cu==="top"||cu==="bottom",vl=Pi?no.top:no.left,vr=(cu==="left"||cu==="top"?Math.max:Math.min)(Mi,Gi)+vl;return Pi?Hc(vr,hr.y,hr.bottom):Hc(vr,hr.x,hr.right)}).getOr(Gi)}return No||n.alwaysFit?u0.fit(Si):u0.nofit(Si,Xn,co,yc)}function Iv(n){function o(){return u.get().each(n)}var u=Cn(N.none());return{clear:function(){o(),u.set(N.none())},isSet:function(){return u.get().isSome()},get:function(){return u.get()},set:function(f){o(),u.set(N.some(f))}}}function Ty(){return Iv(function(n){return n.destroy()})}function sg(){return Iv(function(n){return n.unbind()})}function mo(){var n=Iv(dt);return me(me({},n),{on:function(o){return n.get().each(o)}})}function bi(n,o,u){return di(n,o,Hd,u,!1)}function Lv(n,o,u){return di(n,o,Hd,u,!0)}function Hv(n,o){function u(q){var j,G=(j=q.raw.pseudoElement)!==null&&j!==void 0?j:"";return or(q.target,n)&&!fa(G)&&pn(RC,q.raw.propertyName)}function f(q){var j;(sa(q)||u(q))&&(x.clear(),S.clear(),!sa(j=q==null?void 0:q.raw.type)&&j!==eg()||(clearTimeout(g),qe(n,ep),wl(n,o.classes)))}function d(){x.set(bi(n,eg(),f)),S.set(bi(n,hC(),f))}var g,b,x=sg(),S=sg();"ontransitionstart"in n.dom?b=bi(n,Xk(),function(q){u(q)&&(b.unbind(),d())}):d();var T,A,R=(T=n,A=M("transition-delay"),Jr(M("transition-duration"),function(q,j,G){var K=F(A[G])+F(j);return Math.max(q,K)},0));function M(q){var j=Zn(T,q);return Je(fr(j)?j.split(/\s*,\s*/):[],fa)}function F(q){if(fr(q)&&/^[\d.]+/.test(q)){var j=parseFloat(q);return _r(q,"ms")?j:1e3*j}return 0}requestAnimationFrame(function(){g=setTimeout(f,R+17),nt(n,ep,g)})}function DC(n,o,u,f,d,g){var b,x,S,T,A,R,M,F,q,j=(b=f,x=d,g.exists(function(K){var Q=b.mode;return Q==="all"||K[Q]!==x[Q]}));function G(K){return parseFloat(K).toFixed(3)}j||(q=n,Go(f.classes,function(K){return uc(q,K)}))?(pt(n,"position",u.position),S=Xh(o,n),T=AC(o,me(me({},d),{rect:S})),A=Pa(RC,function(K){return T[K]}),F=u,eo(A,function(K,Q){var L,Y,ue,de=F[Q].map(G),Re=K.map(G);return!xu(L=de,Y=Re,ue=ue===void 0?zi:ue).getOr(L.isNone()&&Y.isNone())}).isSome()&&(Kn(n,A),j&&(Td(R=n,(M=f).classes),_e(R,ep).each(function(K){clearTimeout(parseInt(K,10)),qe(R,ep)}),Hv(R,M)),Dn(n))):wl(n,f.classes)}function Ld(n,o,u,f){Le(o,"max-height"),Le(o,"max-width");var d,g,b,x,S,T,A,R,M,F={width:ga(d=o),height:ii(d)};return g=o,b=f.preference,x=n,S=F,T=u,A=f.bounds,R=S.width,M=S.height,Jr(b,function(j,G){var K=Dr(q,G);return j.fold(ke(j),K)},u0.nofit({rect:x,maxHeight:S.height,maxWidth:S.width,direction:qf(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:x.y},-1,-1,!1)).fold(Nt,Nt);function q(j,G,K,Q,L){var Y=Ey(j(x,S,T,g,A),R,M,A);return Y.fold(ke(Y),function(ue,de,Re,xe){return(L===xe?Q<Re||K<de:!L&&xe)?Y:u0.nofit(G,K,Q,L)})}}function Oy(n,o){var u=n,f=Math.floor(o);pt(u,"max-height",D.max(u,f,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"])+"px")}function qa(n,o,u){return n[o]===void 0?u:n[o]}function Vc(n,o,u,f){function d(S){return Ut(u,S).getOr([])}function g(S,T,A){var R=Kr(t3,A);return{offset:te(S,T),classesOn:ee(A,d),classesOff:ee(R,d)}}var b=n*(f=f===void 0?1:f),x=o*f;return{southeast:function(){return g(-n,o,["top","alignLeft"])},southwest:function(){return g(n,o,["top","alignRight"])},south:function(){return g(-n/2,o,["top","alignCentre"])},northeast:function(){return g(-n,-o,["bottom","alignLeft"])},northwest:function(){return g(n,-o,["bottom","alignRight"])},north:function(){return g(-n/2,-o,["bottom","alignCentre"])},east:function(){return g(n,-o/2,["valignCentre","left"])},west:function(){return g(-n,-o/2,["valignCentre","right"])},insetNortheast:function(){return g(b,x,["top","alignLeft","inset"])},insetNorthwest:function(){return g(-b,x,["top","alignRight","inset"])},insetNorth:function(){return g(-b/2,x,["top","alignCentre","inset"])},insetSoutheast:function(){return g(b,-x,["bottom","alignLeft","inset"])},insetSouthwest:function(){return g(-b,-x,["bottom","alignRight","inset"])},insetSouth:function(){return g(-b/2,-x,["bottom","alignCentre","inset"])},insetEast:function(){return g(-b,-x/2,["valignCentre","right","inset"])},insetWest:function(){return g(b,-x/2,["valignCentre","left","inset"])}}}function Gf(){return Vc(0,0,{})}function i0(n,o){return function(u){return $v(u)==="rtl"?o:n}}a0.none;var Ps,Zk=a0.relative,e3=a0.fixed,Ay="data-alloy-placement",u0=Sc([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Hd=Zt,Zh=Cc,RC=["top","bottom","right","left"],ep="data-alloy-transition-timer",Dy=ke(function(n,o){Oy(n,o),Mn(n,{"overflow-x":"hidden","overflow-y":"auto"})}),tp=ke(function(n,o){Oy(n,o)}),Ry=function(n,o,u,f){var d,g,b,x,S=Ld(n,o,u,f),T=o,A=S,R=AC((d=f).origin,A);return d.transition.each(function(M){DC(T,d.origin,R,M,A,d.lastPlacement)}),r0(T,R),x=S.placement,nt(o,Ay,x),wl(g=o,(b=S.classes).off),Td(g,b.on),(0,f.maxHeightFunction)(o,S.maxHeight),(0,f.maxWidthFunction)(o,S.maxWidth),{layout:S.layout,placement:S.placement}},t3=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],El=Nt,$v=function(n){return Zn(n,"direction")==="rtl"?"rtl":"ltr"};function xo(n){return jh(n,function(o){return ur(o)&&fe(o,"data-alloy-vertical-dir")===Ps.BottomToTop})}function Tl(){return $i("layouts",[$e("onLtr"),$e("onRtl"),jn("onBottomLtr"),jn("onBottomRtl")])}function ls(n,o,u,f,d,g,b){var x=b.map(xo).getOr(!1),S=o.layouts.map(function(A){return A.onLtr(n)}),T=o.layouts.map(function(A){return A.onRtl(n)});return i0(x?o.layouts.bind(function(A){return A.onBottomLtr.map(function(R){return R(n)})}).or(S).getOr(d):S.getOr(u),x?o.layouts.bind(function(A){return A.onBottomRtl.map(function(R){return R(n)})}).or(T).getOr(g):T.getOr(f))(n)}function _C(n){return n.fold(Nt,function(o,u,f){return o.translate(-u,-f)})}function n3(n){return n.fold(Nt,Nt)}function np(n){return Jr(n,function(o,u){return o.translate(u.left,u.top)},te(0,0))}function Kf(n){return np(ot(n,n3))}function rp(n,o,u){var f,d,g=aa(Jt(n.element)),b=(f=n,d=Ya(u.root).dom,N.from(d.frameElement).map(gt.fromDom).filter(function(x){return or(Jt(x),Jt(f.element))}).map(Xi).getOr(g));return r3(b,g.left,g.top)}function lg(n,o,u,f){var d=Vd(te(n,o));return N.some({point:d,width:u,height:f})}function op(n,o,u,f,d){return n.map(function(g){var b=[o,g.point],x=f.fold(function(){return Kf(b)},function(){return Kf(b)},function(){return np(ot(b,_C))}),S={x:x.left,y:x.top,width:g.width,height:g.height},T=(u.showAbove?e0:yy)(),A=(u.showAbove?Mv:nu)(),R=ls(d,u,T,A,T,A,N.none());return El({anchorBox:S,bubble:u.bubble.getOr(Gf()),overrides:u.overrides,layouts:R,placer:N.none()})})}function ap(n,o,u){var f,d=n.document.createRange(),g=d;return o.fold(function(b){g.setStartBefore(b.dom)},function(b,x){g.setStart(b.dom,x)},function(b){g.setStartAfter(b.dom)}),f=d,u.fold(function(b){f.setEndBefore(b.dom)},function(b,x){f.setEnd(b.dom,x)},function(b){f.setEndAfter(b.dom)}),d}function fg(n,o,u,f,d){var g=n.document.createRange();return g.setStart(o.dom,u),g.setEnd(f.dom,d),g}function BC(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}}function ip(n,o,u){return o(gt.fromDom(u.startContainer),u.startOffset,gt.fromDom(u.endContainer),u.endOffset)}function c0(n,o){return u=n,g=o.match({domRange:function(b){return{ltr:ke(b),rtl:N.none}},relative:function(b,x){return{ltr:Po(function(){return ap(u,b,x)}),rtl:Po(function(){return N.some(ap(u,x,b))})}},exact:function(b,x,S,T){return{ltr:Po(function(){return fg(u,b,x,S,T)}),rtl:Po(function(){return N.some(fg(u,S,T,b,x))})}}}),((d=(f=g).ltr()).collapsed?f.rtl().filter(function(b){return b.collapsed===!1}).map(function(b){return tf.rtl(gt.fromDom(b.endContainer),b.endOffset,gt.fromDom(b.startContainer),b.startOffset)}).getOrThunk(function(){return ip(0,tf.ltr,d)}):ip(0,tf.ltr,d)).match({ltr:function(b,x,S,T){var A=n.document.createRange();return A.setStart(b.dom,x),A.setEnd(S.dom,T),A},rtl:function(b,x,S,T){var A=n.document.createRange();return A.setStart(S.dom,T),A.setEnd(b.dom,x),A}});var u,f,d,g}(Ps=Ps||{}).TopToBottom="toptobottom",Ps.BottomToTop="bottomtotop";var $d="data-alloy-vertical-dir",up=[$e("hotspot"),jn("bubble"),Se("overrides",{}),Tl(),Lo("placement",function(n,o,u){var f=Xh(u,o.hotspot.element),d=ls(n.element,o,yy(),nu(),e0(),Mv(),N.some(o.hotspot.element));return N.some(El({anchorBox:f,bubble:o.bubble.getOr(Gf()),overrides:o.overrides,layouts:d,placer:N.none()}))})],_y=[$e("x"),$e("y"),Se("height",0),Se("width",0),Se("bubble",Gf()),Se("overrides",{}),Tl(),Lo("placement",function(n,o,u){var f=ky(u,o.x,o.y),d=dn(f.left,f.top,o.width,o.height),g=ls(n.element,o,Nv(),Du(),Nv(),Du(),N.none());return N.some(El({anchorBox:d,bubble:o.bubble,overrides:o.overrides,layouts:g,placer:N.none()}))})],s0=Sc([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Vd=s0.screen,r3=s0.absolute,cp=[$e("node"),$e("root"),jn("bubble"),Tl(),Se("overrides",{}),Se("showAbove",!1),Lo("placement",function(n,o,u){var f=rp(n,0,o);return o.node.filter(ui).bind(function(d){var g=d.dom.getBoundingClientRect(),b=lg(g.left,g.top,g.width,g.height),x=o.node.getOr(n.element);return op(b,f,o,u,x)})})],By=function(n,o,u,f){return{start:n,soffset:o,finish:u,foffset:f}},Ud=Sc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),l0=(Ud.before,Ud.on,Ud.after,function(n){return n.fold(Nt,Nt,Nt)}),vg=Sc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),dg={domRange:vg.domRange,relative:vg.relative,exact:vg.exact,exactFromRange:function(n){return vg.exact(n.start,n.soffset,n.finish,n.foffset)},getWin:function(n){return Ya(n.match({domRange:function(o){return gt.fromDom(o.startContainer)},relative:function(o,u){return l0(o)},exact:function(o,u,f,d){return o}}))},range:By},tf=Sc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);function Ny(n){return Jd.getOption(n)}function NC(n){return Ny(n).filter(function(o){return o.trim().length!==0||-1<o.indexOf("\xA0")}).isSome()||pn(bg,da(n))}function sc(n,o){return ki(u=n===void 0?document:n.dom)?[]:ot(u.querySelectorAll(o),gt.fromDom);var u}function MC(n){if(0<n.rangeCount){var o=n.getRangeAt(0),u=n.getRangeAt(n.rangeCount-1);return N.some(By(gt.fromDom(o.startContainer),o.startOffset,gt.fromDom(u.endContainer),u.endOffset))}return N.none()}function o3(n){if(n.anchorNode===null||n.focusNode===null)return MC(n);var o,u,f,d,g,b,x,S,T,A,R,M=gt.fromDom(n.anchorNode),F=gt.fromDom(n.focusNode);return o=M,u=n.anchorOffset,f=F,d=n.focusOffset,b=u,x=f,S=d,(T=Jt(g=o).dom.createRange()).setStart(g.dom,b),T.setEnd(x.dom,S),A=T,R=or(o,f)&&u===d,A.collapsed&&!R?N.some(By(M,n.anchorOffset,F,n.focusOffset)):MC(n)}function My(n,o){var u,f,d=(u=c0(n,o)).getClientRects();return 0<(f=0<d.length?d[0]:u.getBoundingClientRect()).width||0<f.height?N.some(f).map(BC):N.none()}function Wd(n,o){return{element:n,offset:o}}function sp(n,o){return(kr(n)?Wd:function(u,f){var d=ma(u);if(d.length===0)return Wd(u,f);if(f<d.length)return Wd(d[f],0);var g=d[d.length-1];return Wd(g,(kr(g)?Jd.get(g):ma(g)).length)})(n,o)}function Uc(n,o){return o.getSelection.getOrThunk(function(){return function(){return N.from(n.getSelection()).filter(function(u){return 0<u.rangeCount}).bind(o3)}})().map(function(u){var f=sp(u.start,u.soffset),d=sp(u.finish,u.foffset);return dg.range(f.element,f.offset,d.element,d.offset)})}function Py(n){return n.x+n.width}function f0(n,o){return n.x-o.width}function fs(n,o){return n.y-o.height+n.height}function Tc(n,o,u){return Di(Py(n),n.y,u.southeast(),qf(),"southeast",gu(n,{left:0,top:2}),Fs)}function zy(n,o,u){return Di(f0(n,o),n.y,u.southwest(),xy(),"southwest",gu(n,{right:1,top:2}),Fs)}function Vv(n,o,u){return Di(Py(n),fs(n,o),u.northeast(),Pv(),"northeast",gu(n,{left:0,bottom:3}),Fs)}function Fy(n,o,u){return Di(f0(n,o),fs(n,o),u.northwest(),Vi(),"northwest",gu(n,{right:1,bottom:3}),Fs)}function v0(){return[Tc,zy,Vv,Fy]}function Iy(){return[zy,Tc,Fy,Vv]}function nr(n,o,u,f,d,g,b){var x,S,T,A,R,M,F,q,j,G,K,Q,L,Y,ue={anchorBox:u.anchorBox,origin:o};return x=ue,S=d.element,T=u.bubble,A=u.layouts,R=g,M=f,F=u.overrides,q=b,G=qa(F,"maxHeightFunction",Dy()),K=qa(F,"maxWidthFunction",dt),Q=x.anchorBox,L=x.origin,Y={bounds:(j=L,M.fold(function(){return j.fold(Vr,Vr,dn)},function(de){return j.fold(de,de,function(){var Re=de(),xe=ky(j,Re.x,Re.y);return dn(xe.left,xe.top,Re.width,Re.height)})})),origin:L,preference:A,maxHeightFunction:G,maxWidthFunction:K,lastPlacement:R,transition:q},Ry(Q,S,T,Y)}function mg(n,o){vn(n.element,o.element)}function PC(n,o){var u,f=n.components();Yt((u=n).components(),function(g){return wt(g.element)}),ec(u.element),u.syncComponents();var d=Kr(f,o);Yt(d,function(g){x0(g),n.getSystem().removeFromWorld(g)}),Yt(o,function(g){g.getSystem().isConnected()?mg(n,g):(n.getSystem().addToWorld(g),mg(n,g),ui(n.element)&&gp(g)),n.syncComponents()})}function Xf(n,o){ZC(n,o,vn)}function zC(n){x0(n),wt(n.element),n.getSystem().removeFromWorld(n)}function Yf(n){var o=Xr(n.element).bind(function(u){return n.getSystem().getByDom(u).toOptional()});zC(n),o.each(function(u){u.syncComponents()})}function Ly(n){var o=n.components();Yt(o,zC),ec(n.element),n.syncComponents()}function Uv(n,o){S0(n,o,vn)}function Ko(n){var o=ma(n.element);Yt(o,function(u){n.getByDom(u).each(x0)}),wt(n.element)}function FC(n,o,u,f){u.get().each(function(g){Ly(n)}),Xf(o.getAttachPoint(n),n);var d=n.getSystem().build(f);return Xf(n,d),u.set(d),d}function d0(n,o,u,f){var d=FC(n,o,u,f);return o.onOpen(n,d),d}function IC(n,o,u){u.get().each(function(f){Ly(n),Yf(n),o.onClose(n,f),u.clear()})}function LC(n,o,u){return u.isOpen()}function m0(n){var o=Ra("Dismissal",k0,n),u={};return u[Is()]={schema:hi([$e("target")]),onReceive:function(f,d){Tr.isOpen(f)&&(Tr.isPartOf(f,d.target)||o.isExtraPart(f,d.target)||o.fireEventInstead.fold(function(){return Tr.close(f)},function(g){return z(f,g.event)}))}},u}function jd(n){var o=Ra("Reposition",Yy,n),u={};return u[of()]={onReceive:function(f){Tr.isOpen(f)&&o.fireEventInstead.fold(function(){return o.doReposition(f)},function(d){return z(f,d.event)})}},u}function g0(n,o,u){o.store.manager.onLoad(n,o,u)}function nf(n,o,u){o.store.manager.onUnload(n,o,u)}function Wu(){var n=Cn(null);return cs({set:n.set,get:n.get,isNotSet:function(){return n.get()===null},clear:function(){n.set(null)},readState:function(){return{mode:"memory",value:n.get()}}})}function HC(){var n=Cn({}),o=Cn({});return cs({readState:function(){return{mode:"dataset",dataByValue:n.get(),dataByText:o.get()}},lookup:function(u){return Ut(n.get(),u).orThunk(function(){return Ut(o.get(),u)})},update:function(u){var f=n.get(),d=o.get(),g={},b={};Yt(u,function(x){Ut(g[x.value]=x,"meta").each(function(S){Ut(S,"text").each(function(T){b[T]=x})})}),n.set(me(me({},f),g)),o.set(me(me({},d),b))},clear:function(){n.set({}),o.set({})}})}function $C(n,o,u,f){var d=o.store;u.update([f]),d.setValue(n,f),o.onSetValue(n,f)}function ea(n,o){return Ev(n,{},ot(o,function(u){return f=u.name(),d="Cannot configure "+u.name()+" for "+n,Wa(f,f,xs(),Ha(function(g){return is("The field: "+f+" is forbidden. "+d)}));var f,d}).concat([Zo("dump",Nt)]))}function Jf(n){return n.dump}function yi(n,o){return me(me({},Tt(o)),n.dump)}function Hy(n){return Jn(n,"uiType")}function VC(n){return n.fold(N.some,N.none,N.some,N.some)}function lp(n){function o(u){return u.name}return n.fold(o,o,o,o)}function h0(n,o){return function(u){var f=Ra("Converting part type",o,u);return n(f)}}function $y(n,o,u,f){return Ir(o.defaults(n,u,f),u,{uid:n.partUids[o.name]},o.overrides(n,u,f))}function Vy(n,o){var u={};return Yt(o,function(f){VC(f).each(function(d){var g=Qy(n,d.pname);u[d.name]=function(b){var x=Ra("Part: "+d.name+" in "+n,Tn(d.schema),b);return me(me({},g),{config:b,validated:x})}})}),u}function Ol(n,o,u){return{uiType:O0(),owner:n,name:o,config:u,validated:{}}}function el(n){return ee(n,function(o){return o.fold(N.none,N.some,N.none,N.none).map(function(u){return $a(u.name,u.schema.concat([qh(D0())]))}).toArray()})}function Wc(n){return ot(n,lp)}function fp(n,o,u){return f=o,d={},g={},Yt(u,function(b){b.fold(function(x){d[x.pname]=pp(!0,function(S,T,A){return x.factory.sketch($y(S,x,T,A))})},function(x){var S=f.parts[x.name];g[x.name]=ke(x.factory.sketch($y(f,x,S[D0()]),S))},function(x){d[x.pname]=pp(!1,function(S,T,A){return x.factory.sketch($y(S,x,T,A))})},function(x){d[x.pname]=l3(!0,function(S,T,A){return ot(S[x.name],function(R){return x.factory.sketch(Ir(x.defaults(S,R,A),R,x.overrides(S,R)))})})})}),{internals:ke(d),externals:ke(g)};var f,d,g}function Qf(n,o,u){return f=N.some(n),g=(d=o).components,T=tn(u,function(R,M){return q=R,j=!1,{name:ke(F=M),required:function(){return q.fold(function(G,K){return G},function(G,K){return G})},used:function(){return j},replace:function(){if(j)throw new Error("Trying to use the same placeholder more than once: "+F);return j=!0,q}};var F,q,j}),b=f,x=d,S=T,A=ee(g,function(R){return ev(b,x,R,S)}),Vn(T,function(R){if(R.used()===!1&&R.required())throw new Error("Placeholder: "+R.name()+` was not found in components list
Namespace: `+f.getOr("none")+`
Components: `+JSON.stringify(d.components,null,2))}),A;var f,d,g,b,x,S,T,A}function po(n,o,u){var f=o.partUids[u];return n.getSystem().getByUid(f).toOptional()}function tl(n,o,u){return po(n,o,u).getOrDie("Could not find part: "+u)}function p0(n,o,u){var f={},d=o.partUids,g=n.getSystem();return Yt(u,function(b){f[b]=ke(g.getByUid(d[b]))}),f}function UC(n,o){var u=n.getSystem();return tn(o.partUids,function(f,d){return ke(u.getByUid(f))})}function WC(n){return Pr(n.partUids)}function gg(n,o,u){var f={},d=o.partUids,g=n.getSystem();return Yt(u,function(b){f[b]=ke(g.getByUid(d[b]).getOrDie())}),f}function jC(n,o){return Qn(ot(Wc(o),function(u){return{key:u,value:n+"-"+u}}))}function Uy(n){return Wa("partUids","partUids",zf(function(o){return jC(o.uid,n)}),jt())}function qC(n,o,u,f,d){var g;return Ra(n+" [SpecSchema]",hi((g=d,(0<f.length?[$a("parts",f)]:[]).concat([$e("uid"),Se("dom",{}),Se("components",[]),qh("originalSpec"),Se("debug.sketcher",{})]).concat(g)).concat(o)),u)}function qd(n,o,u,f,d){var g=Cp(d),b=qC(n,o,g,el(u),[Uy(u)]),x=fp(0,b,u);return f(b,Qf(n,b,x.internals()),g,x.externals())}function Oc(n){var o=Ra("Sketcher for "+n.name,Zy,n),u=tn(o.apis,Ed),f=tn(o.extraApis,Ph);return me(me({name:o.name,configFields:o.configFields,sketch:function(d){return g=o.name,b=o.configFields,(0,o.factory)(qC(g,b,x=Cp(d),[],[]),x);var g,b,x}},u),f)}function ju(n){var o=Ra("Sketcher for "+n.name,m3,n),u=Vy(o.name,o.partFields),f=tn(o.apis,Ed),d=tn(o.extraApis,Ph);return me(me({name:o.name,partFields:o.partFields,configFields:o.configFields,sketch:function(g){return qd(o.name,o.configFields,o.partFields,o.factory,g)},parts:u},f),d)}function Gd(n){return da(n)==="input"&&fe(n,"type")!=="radio"||da(n)==="textarea"}function hg(n,o,u){(o.disabled()?xp:R0)(n,o)}function lc(n,o){return o.useNative===!0&&pn(nx,da(n.element))}function b0(n,o){return lc(n,o)?Xe(n.element,"disabled"):fe(n.element,"aria-disabled")==="true"}function pg(n,o,u,f){var d=sc(n.element,"."+o.highlightClass);Yt(d,function(g){Ct(f,function(b){return b.element===g})||(ha(g,o.highlightClass),n.getSystem().getByDom(g).each(function(b){o.onDehighlight(n,b),z(b,Vu())}))})}function Wv(n,o,u,f){pg(n,o,0,[f]),y0(0,o,0,f)||(tu(f.element,o.highlightClass),o.onHighlight(n,f),z(f,Md()))}function vp(n,o,u,f){var d=sc(n.element,"."+o.itemClass);return Gr(d,function(g){return uc(g,o.highlightClass)}).bind(function(g){var b=Fd(g,f,0,d.length-1);return n.getSystem().getByDom(d[b]).toOptional()})}function GC(n,o,u){var f=Mo(n.slice(0,o)),d=Mo(n.slice(o+1));return Rr(f.concat(d),u)}function KC(n,o,u){return Rr(Mo(n.slice(0,o)),u)}function XC(n,o,u){var f=n.slice(0,o);return Rr(n.slice(o+1).concat(f),u)}function a3(n,o,u){return Rr(n.slice(o+1),u)}function Er(n){return function(o){var u=o.raw;return pn(n,u.which)}}function zs(n){return function(o){return Go(n,function(u){return u(o)})}}function jv(n){return n.raw.shiftKey===!0}function YC(n){return n.raw.ctrlKey===!0}function Fr(n,o){return{matches:n,classification:o}}function JC(n,o,u){o.exists(function(f){return u.exists(function(d){return or(d,f)})})||V(n,Yl(),{prevFocus:o,newFocus:u})}function Kd(){function n(o){return Ms(o.element)}return{get:n,set:function(o,u){var f=n(o);o.getSystem().triggerFocus(u,o.element),JC(o,f,n(o))}}}function Wy(){function n(o){return Ur.getHighlighted(o).map(function(u){return u.element})}return{get:n,set:function(o,u){var f=n(o);o.getSystem().getByDom(u).fold(dt,function(g){Ur.highlight(o,g)});var d=n(o);JC(o,f,d)}}}tf.ltr,tf.rtl;function jy(n,o,u,f,d,g){var b=g.map(cn);return mp(n,o,u,f,d,b)}function qy(n,o,u){var f,d,g,b=o.getAttachPoint(n);pt(n.element,"position",fc.getMode(b)),g=o.cloakVisibilityAttr,Bn((f=n).element,d="visibility").fold(function(){qe(f.element,g)},function(x){nt(f.element,g,x)}),pt(f.element,d,"hidden")}function Xd(n,o,u){var f,d,g,b=n.element;Ct(["top","left","right","bottom"],function(x){return Bn(b,x).isSome()})||Le(n.element,"position"),d="visibility",g=o.cloakVisibilityAttr,_e((f=n).element,g).fold(function(){return Le(f.element,d)},function(x){return pt(f.element,d,x)})}function y0(n,o,u,f){return uc(f.element,o.highlightClass)}function Gy(n,o,u){return Ai(n.element,"."+o.itemClass).bind(function(f){return n.getSystem().getByDom(f).toOptional()})}function Ky(n,o,u){var f=sc(n.element,"."+o.itemClass);return(0<f.length?N.some(f[f.length-1]):N.none()).bind(function(d){return n.getSystem().getByDom(d).toOptional()})}function Yd(n,o,u){return ka(ot(sc(n.element,"."+o.itemClass),function(f){return n.getSystem().getByDom(f).toOptional()}))}var rf,w0,dp,C0,Jd=(rf=kr,{get:function(n){if(!rf(n))throw new Error("Can only get text value of a text node");return w0(n).getOr("")},getOption:w0=function(n){return rf(n)?N.from(n.dom.nodeValue):N.none()},set:function(n,o){if(!rf(n))throw new Error("Can only set raw text value of a text node");n.dom.nodeValue=o}}),bg=["img","br"],QC=[jn("getSelection"),$e("root"),jn("bubble"),Tl(),Se("overrides",{}),Se("showAbove",!1),Lo("placement",function(n,o,u){var f=Ya(o.root).dom,d=rp(n,0,o);return op(Uc(f,o).bind(function(g){return b=f,x=dg.exactFromRange(g),(0<(S=c0(b,x).getBoundingClientRect()).width||0<S.height?N.some(S).map(BC):N.none()).orThunk(function(){var T=gt.fromText("\uFEFF");mi(g.start,T);var A=My(f,dg.exact(T,0,T,1));return wt(T),A}).bind(function(T){return lg(T.left,T.top,T.width,T.height)});var b,x,S}),d,o,u,Uc(f,o).bind(function(g){return ur(g.start)?N.some(g.start):Zi(g.start)}).getOr(n.element))})],Fs="link-layout",Qd=Au("type",{selection:QC,node:cp,hotspot:up,submenu:[$e("item"),Tl(),Se("overrides",{}),Lo("placement",function(n,o,u){var f=Xh(u,o.item.element),d=ls(n.element,o,v0(),Iy(),v0(),Iy(),N.none());return N.some(El({anchorBox:f,bubble:Gf(),overrides:o.overrides,layouts:d,placer:N.none()}))})],makeshift:_y}),Na=[pi("classes",Va),rc("mode","all",["all","layout","placement"])],i3=[Se("useFixed",Fn),jn("getBounds")],u3=[eu("anchor",Qd),$i("transition",Na)],mp=function(n,o,u,f,d,g){var b=Ra("placement.info",Tn(u3),d),x=b.anchor,S=f.element,T=u.get(f.uid);wy(function(){pt(S,"position","fixed");var A=Bn(S,"visibility");pt(S,"visibility","hidden");var R,M,F,q,j=o.useFixed()?(q=document.documentElement,e3(0,0,q.clientWidth,q.clientHeight)):(M=Xi((R=n).element),F=R.element.dom.getBoundingClientRect(),Zk(M.left,M.top,F.width,F.height)),G=x.placement,K=g.map(ke).or(o.getBounds);G(n,x,j).each(function(Q){var L=Q.placer.getOr(nr)(n,j,Q,K,f,T,b.transition);u.set(f.uid,L)}),A.fold(function(){Le(S,"visibility")},function(Q){pt(S,"visibility",Q)}),Bn(S,"left").isNone()&&Bn(S,"top").isNone()&&Bn(S,"right").isNone()&&Bn(S,"bottom").isNone()&&Sa(Bn(S,"position"),"fixed")&&Le(S,"position")},S)},fc=ru({fields:i3,name:"positioning",active:o0,apis:Object.freeze({__proto__:null,position:function(n,o,u,f,d){jy(n,o,u,f,d,N.none())},positionWithin:jy,positionWithinBounds:mp,getMode:function(n,o,u){return o.useFixed()?"fixed":"absolute"},reset:function(n,o,u,f){var d=f.element;Yt(["position","left","right","top","bottom"],function(g){return Le(d,g)}),qe(d,Ay),u.clear(f.uid)}}),state:Object.freeze({__proto__:null,init:function(){var n={};return cs({readState:function(){return n},clear:function(o){Gt(o)?delete n[o]:n={}},set:function(o,u){n[o]=u},get:function(o){return Ut(n,o)}})}})}),x0=function(n){z(n,Lh());var o=n.components();Yt(o,x0)},gp=function(n){var o=n.components();Yt(o,gp),z(n,Dv())},ZC=function(n,o,u){n.getSystem().addToWorld(o),u(n.element,o.element),ui(n.element)&&gp(o),n.syncComponents()},S0=function(n,o,u){u(n,o.element);var f=ma(o.element);Yt(f,function(d){o.getByDom(d).each(gp)})},Xy=Object.freeze({__proto__:null,cloak:qy,decloak:Xd,open:d0,openWhileCloaked:function(n,o,u,f,d){qy(n,o),d0(n,o,u,f),d(),Xd(n,o)},close:IC,isOpen:LC,isPartOf:function(n,o,u,f){return LC(0,0,u)&&u.get().exists(function(d){return o.isPartOf(n,d,f)})},getState:function(n,o,u){return u.get()},setContent:function(n,o,u,f){return u.get().map(function(){return FC(n,o,u,f)})}}),yg=Object.freeze({__proto__:null,events:function(n,o){return Uo([Pe(Xl(),function(u,f){IC(u,n,o)})])}}),Tr=ru({fields:[Qr("onOpen"),Qr("onClose"),$e("isPartOf"),$e("getAttachPoint"),Se("cloakVisibilityAttr","data-precloak-visibility")],name:"sandboxing",active:yg,apis:Xy,state:Object.freeze({__proto__:null,init:function(){var n=mo(),o=ke("not-implemented");return cs({readState:o,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}})}),Is=ke("dismiss.popups"),of=ke("reposition.popups"),wg=ke("mouse.released"),k0=hi([Se("isExtraPart",Fn),$i("fireEventInstead",[Se("event",fi())])]),Yy=hi([$i("fireEventInstead",[Se("event",Nd())]),_a("doReposition")]),hp=Object.freeze({__proto__:null,onLoad:g0,onUnload:nf,setValue:function(n,o,u,f){o.store.manager.setValue(n,o,u,f)},getValue:function(n,o,u){return o.store.manager.getValue(n,o,u)},getState:function(n,o,u){return u}}),E0=Object.freeze({__proto__:null,events:function(n,o){var u=n.resetOnDom?[ua(function(f,d){g0(f,n,o)}),Bs(function(f,d){nf(f,n,o)})]:[t0(n,o,g0)];return Uo(u)}}),Zf=Object.freeze({__proto__:null,memory:Wu,dataset:HC,manual:function(){return cs({readState:dt})},init:function(n){return n.store.manager.state(n)}}),c3=[jn("initialValue"),$e("getFallbackEntry"),$e("getDataKey"),$e("setValue"),Lo("manager",{setValue:$C,getValue:function(n,o,u){var f=o.store,d=f.getDataKey(n);return u.lookup(d).getOrThunk(function(){return f.getFallbackEntry(d)})},onLoad:function(n,o,u){o.store.initialValue.each(function(f){$C(n,o,u,f)})},onUnload:function(n,o,u){u.clear()},state:HC})],s3=[$e("getValue"),Se("setValue",dt),jn("initialValue"),Lo("manager",{setValue:function(n,o,u,f){o.store.setValue(n,f),o.onSetValue(n,f)},getValue:function(n,o,u){return o.store.getValue(n)},onLoad:function(n,o,u){o.store.initialValue.each(function(f){o.store.setValue(n,f)})},onUnload:dt,state:du.init})],Pt=ru({fields:[Pc("store",{mode:"memory"},Au("mode",{memory:[jn("initialValue"),Lo("manager",{setValue:function(n,o,u,f){u.set(f),o.onSetValue(n,f)},getValue:function(n,o,u){return u.get()},onLoad:function(n,o,u){o.store.initialValue.each(function(f){u.isNotSet()&&u.set(f)})},onUnload:function(n,o,u){u.clear()},state:Wu})],manual:s3,dataset:c3})),Qr("onSetValue"),Se("resetOnDom",!1)],name:"representing",active:E0,apis:hp,extra:{setValueFrom:function(n,o){var u=Pt.getValue(o);Pt.setValue(n,u)}},state:Zf}),jc=ea,nl=yi,T0="placeholder",He=Sc([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ev=function(n,o,u,f){return d=n,b=f,(Hy(g=u)&&g.uiType===T0?(S=g,T=b,(x=d).exists(function(A){return A!==S.owner})?He.single(!0,ke(S)):Ut(T,S.name).fold(function(){throw new Error("Unknown placeholder component: "+S.name+`
Known: [`+Pr(T)+`]
Namespace: `+x.getOr("none")+`
Spec: `+JSON.stringify(S,null,2))},function(A){return A.replace()})):He.single(!1,ke(g))).fold(function(A,R){var M=Hy(u)?R(o,u.config,u.validated):R(o),F=ee(Ut(M,"components").getOr([]),function(q){return ev(n,o,q,f)});return[me(me({},M),{components:F})]},function(A,R){if(Hy(u)){var M=R(o,u.config,u.validated);return u.validated.preprocess.getOr(Nt)(M)}return R(o)});var d,g,b,x,S,T},pp=He.single,l3=He.multiple,O0=ke(T0),qc=Sc([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Zd=Se("factory",{sketch:Nt}),bp=Se("schema",[]),Cg=$e("name"),xg=Wa("pname","pname",Sv(function(n){return"<alloy."+un(n.name)+">"}),jt()),f3=Zo("schema",function(){return[jn("preprocess")]}),Sg=Se("defaults",ke({})),yp=Se("overrides",ke({})),Jy=Tn([Zd,bp,Cg,xg,Sg,yp]),A0=Tn([Zd,bp,Cg,Sg,yp]),ex=Tn([Zd,bp,Cg,xg,Sg,yp]),v3=Tn([Zd,f3,Cg,$e("unit"),xg,Sg,yp]),Ru=h0(qc.required,Jy),vc=h0(qc.external,A0),Ac=h0(qc.optional,ex),wp=h0(qc.group,v3),D0=ke("entirety"),d3=Object.freeze({__proto__:null,required:Ru,external:vc,optional:Ac,group:wp,asNamedPart:VC,name:lp,asCommon:function(n){return n.fold(Nt,Nt,Nt,Nt)},original:D0}),Qy=function(n,o){return{uiType:O0(),owner:n,name:o}},tx=Object.freeze({__proto__:null,generate:Vy,generateOne:Ol,schemas:el,names:Wc,substitutes:fp,components:Qf,defaultUids:jC,defaultUidsSchema:Uy,getAllParts:UC,getAllPartNames:WC,getPart:po,getPartOrDie:tl,getParts:p0,getPartsOrDie:gg}),Cp=function(n){return Jn(n,"uid")?n:me(me({},n),{uid:og("uid")})},Zy=hi([$e("name"),$e("factory"),$e("configFields"),Se("apis",{}),Se("extraApis",{})]),m3=hi([$e("name"),$e("factory"),$e("configFields"),$e("partFields"),Se("apis",{}),Se("extraApis",{})]),kg=Object.freeze({__proto__:null,getCurrent:function(n,o,u){return o.find(n)}}),wr=ru({fields:[$e("find")],name:"composing",apis:kg}),nx=["input","button","textarea","select"],xp=function(n,o,u){o.disableClass.each(function(f){tu(n.element,f)}),(lc(n,o)?function(f){nt(f.element,"disabled","disabled")}:function(f){nt(f.element,"aria-disabled","true")})(n),o.onDisabled(n)},R0=function(n,o,u){o.disableClass.each(function(f){ha(n.element,f)}),(lc(n,o)?function(f){qe(f.element,"disabled")}:function(f){nt(f.element,"aria-disabled","false")})(n),o.onEnabled(n)},g3=Object.freeze({__proto__:null,enable:R0,disable:xp,isDisabled:b0,onLoad:hg,set:function(n,o,u,f){(f?xp:R0)(n,o)}}),rx=Object.freeze({__proto__:null,exhibit:function(n,o){return yl({classes:o.disabled()?o.disableClass.toArray():[]})},events:function(n,o){return Uo([sn(Ec(),function(u,f){return b0(u,n)}),t0(n,o,hg)])}}),bn=ru({fields:[Io("disabled",Fn),Se("useNative",!0),jn("disableClass"),Qr("onDisabled"),Qr("onEnabled")],name:"disabling",active:rx,apis:g3}),_0=Object.freeze({__proto__:null,dehighlightAll:function(n,o,u){return pg(n,o,0,[])},dehighlight:function(n,o,u,f){y0(0,o,0,f)&&(ha(f.element,o.highlightClass),o.onDehighlight(n,f),z(f,Vu()))},highlight:Wv,highlightFirst:function(n,o,u){Gy(n,o).each(function(f){Wv(n,o,0,f)})},highlightLast:function(n,o,u){Ky(n,o).each(function(f){Wv(n,o,0,f)})},highlightAt:function(n,o,u,f){var d,g,b;g=f,b=sc((d=n).element,"."+o.itemClass),N.from(b[g]).fold(function(){return on.error(new Error("No element found with index "+g))},d.getSystem().getByDom).fold(function(x){throw x},function(x){Wv(n,o,0,x)})},highlightBy:function(n,o,u,f){Rr(Yd(n,o),f).each(function(d){Wv(n,o,0,d)})},isHighlighted:y0,getHighlighted:function(n,o,u){return Ai(n.element,"."+o.highlightClass).bind(function(f){return n.getSystem().getByDom(f).toOptional()})},getFirst:Gy,getLast:Ky,getPrevious:function(n,o,u){return vp(n,o,0,-1)},getNext:function(n,o,u){return vp(n,o,0,1)},getCandidates:Yd}),Ur=ru({fields:[$e("highlightClass"),$e("itemClass"),Qr("onHighlight"),Qr("onDehighlight")],name:"highlighting",apis:_0}),h3=[8],tv=[9],rl=[13],B0=[27],Gc=[32],em=[37],tm=[38],Ui=[39],Al=[40],Eg=tr(jv);function nm(n,o,u,f,d){function g(x,S,T,A,R){var M=T(x,S,A,R),F=S.event;return Rr(M,function(q){return q.matches(F)}).map(function(q){return q.classification}).bind(function(q){return q(x,S,A,R)})}var b={schema:function(){return n.concat([Se("focusManager",Kd()),Pc("focusInside","onFocus",Ss(function(x){return pn(["onFocus","onEnterOrSpace","onApi"],x)?on.value(x):on.error("Invalid value for focusInside")})),Lo("handler",b),Lo("state",o),Lo("sendFocusIn",d)])},processKey:g,toEvents:function(x,S){var T=x.focusInside!==dp.OnFocusMode?N.none():d(x).map(function(R){return Pe(kc(),function(M,F){R(M,x,S),F.stop()})}),A=[Pe(Zm(),function(R,M){g(R,M,u,x,S).fold(function(){var F=R,q=M,j=Er(Gc.concat(rl))(q.event);x.focusInside===dp.OnEnterOrSpaceMode&&j&&Sd(F,q)&&d(x).each(function(G){G(F,x,S),q.stop()})},function(F){M.stop()})}),Pe(li(),function(R,M){g(R,M,f,x,S).each(function(F){M.stop()})})];return Uo(T.toArray().concat(A))}};return b}function ox(n){function o(x,S){return 0<$r(x.visibilitySelector.bind(function(T){return Qs(S,T)}).getOr(S))}function u(x,S,T){var A=S,R=Je(sc(x.element,A.selector),function(M){return o(A,M)});N.from(R[A.firstTabstop]).each(function(M){S.focusManager.set(x,M)})}function f(x,S,T,A){var R,M=sc(x.element,T.selector);return(R=T).focusManager.get(x).bind(function(F){return Qs(F,R.selector)}).bind(function(F){return Gr(M,Dr(or,F)).bind(function(q){return j=x,G=T,A(M,q,function(K){return o(Q=G,L=K)&&Q.useTabstopAt(L);var Q,L}).fold(function(){return G.cyclic?N.some(!0):N.none()},function(K){return G.focusManager.set(j,K),N.some(!0)});var j,G})})}var d=[jn("onEscape"),jn("onEnter"),Se("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Se("firstTabstop",0),Se("useTabstopAt",Zt),jn("visibilitySelector")].concat([n]),g=ke([Fr(zs([jv,Er(tv)]),function(x,S,T){return f(x,0,T,T.cyclic?GC:KC)}),Fr(Er(tv),function(x,S,T){return f(x,0,T,T.cyclic?XC:a3)}),Fr(Er(B0),function(x,S,T){return T.onEscape.bind(function(A){return A(x,S)})}),Fr(zs([Eg,Er(rl)]),function(x,S,T){return T.onEnter.bind(function(A){return A(x,S)})})]),b=ke([]);return nm(d,du.init,g,b,function(){return N.some(u)})}function nv(n,o,u){return Gd(u)&&Er(Gc)(o.event)?N.none():(Te(n,u,Ec()),N.some(!0))}function af(n,o){return N.some(!0)}function e2(n,o,u){return u.execute(n,o,n.element)}function ax(){var n=mo();return cs({readState:function(){return n.get().map(function(o){return{numRows:String(o.numRows),numColumns:String(o.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(o,u){n.set({numRows:o,numColumns:u})},getNumRows:function(){return n.get().map(function(o){return o.numRows})},getNumColumns:function(){return n.get().map(function(o){return o.numColumns})}})}function t2(n){return function(o,u,f,d){var g=n(o.element);return g2(g,o,u,f,d)}}function n2(n,o){return t2(i0(n,o))}function r2(n,o){return t2(i0(o,n))}function N0(n){return function(o,u,f,d){return g2(n,o,u,f,d)}}function o2(n){return!((o=n.dom).offsetWidth<=0&&o.offsetHeight<=0);var o}function ix(n,o,u){var f,d=Je(sc(n,u),o2);return Gr(f=d,function(g){return or(g,o)}).map(function(g){return{index:g,candidates:f}})}function ux(n,o){return Gr(n,function(u){return or(o,u)})}function Tg(n,o,u,f){return f(Math.floor(o/u),o%u).bind(function(d){var g=d.row*u+d.column;return 0<=g&&g<n.length?N.some(n[g]):N.none()})}function cx(n,o,u,f,d){return Tg(n,o,f,function(g,b){var x=g===u-1?n.length-g*f:f,S=Fd(b,d,0,x-1);return N.some({row:g,column:S})})}function Sp(n,o,u,f,d){return Tg(n,o,f,function(g,b){var x=Fd(g,d,0,u-1),S=x===u-1?n.length-x*f:f,T=Hc(b,0,S-1);return N.some({row:x,column:T})})}function M0(n,o,u){Ai(n.element,o.selector).each(function(f){o.focusManager.set(n,f)})}function rm(n){return function(o,u,f,d){return ix(o,u,f.selector).bind(function(g){return n(g.candidates,g.index,d.getNumRows().getOr(f.initSize.numRows),d.getNumColumns().getOr(f.initSize.numColumns))})}}function iu(n,o,u){return u.captureTab?N.some(!0):N.none()}function kp(n,o,u,f){var d=function(g,b,x){var S,T=Fd(b,f,0,x.length-1);return T===g?N.none():da(S=x[T])==="button"&&fe(S,"disabled")==="disabled"?d(g,T,x):N.from(x[T])};return ix(n,u,o).bind(function(g){var b=g.index,x=g.candidates;return d(b,b,x)})}function Ep(n,o,u){return(f=u).focusManager.get(n).bind(function(d){return Qs(d,f.selector)}).bind(function(d){return u.execute(n,o,d)});var f}function p3(n,o,u){o.getInitial(n).orThunk(function(){return Ai(n.element,o.selector)}).each(function(f){o.focusManager.set(n,f)})}function a2(n,o,u){return kp(n,u.selector,o,-1)}function Dl(n,o,u){return kp(n,u.selector,o,1)}function uf(n){return function(o,u,f,d){return n(o,u,f,d).bind(function(){return f.executeOnMove?Ep(o,u,f):N.some(!0)})}}function sx(n,o,u){return u.onEscape(n,o)}function Tp(n,o,u){return N.from(n[o]).bind(function(f){return N.from(f[u]).map(function(d){return{rowIndex:o,columnIndex:u,cell:d}})})}function i2(n,o,u,f){return Tp(n,o,Fd(u,f,0,n[o].length-1))}function P0(n,o,u,f){var d=Fd(u,f,0,n.length-1),g=n[d].length;return Tp(n,d,Hc(o,0,g-1))}function lx(n,o,u,f){var d=n[o].length;return Tp(n,o,Hc(u+f,0,d-1))}function om(n,o,u,f){var d=Hc(u+f,0,n.length-1),g=n[d].length;return Tp(n,d,Hc(o,0,g-1))}function b3(n,o,u){o.previousSelector(n).orThunk(function(){var f=o.selectors;return Ai(n.element,f.cell)}).each(function(f){o.focusManager.set(n,f)})}function qv(n,o){return function(u,f,d){var g=d.cycles?n:o;return Qs(f,d.selectors.row).bind(function(b){return ux(sc(b,d.selectors.cell),f).bind(function(x){var S=sc(u,d.selectors.row);return ux(S,b).bind(function(T){var A,R=(A=d,ot(S,function(M){return sc(M,A.selectors.cell)}));return g(R,T,x).map(function(M){return M.cell})})})})}}function fx(n,o,u){return u.focusManager.get(n).bind(function(f){return u.execute(n,o,f)})}function Og(n,o,u){Ai(n.element,o.selector).each(function(f){o.focusManager.set(n,f)})}function Ag(n,o,u){return kp(n,u.selector,o,-1)}function vx(n,o,u){return kp(n,u.selector,o,1)}function z0(n,o,u,f){var d=n.getSystem().build(f);ZC(n,d,u)}function dx(n,o,u,f){Rr(Mp(n),function(d){return or(f.element,d.element)}).each(Yf)}function u2(n,o,u,f,d){var g=Mp(n);return N.from(g[f]).map(function(b){return dx(n,0,0,b),d.each(function(x){z0(n,0,function(S,T){var A,R=T;ai(A=S,f).fold(function(){vn(A,R)},function(M){mi(M,R)})},x)}),b})}function rr(n,o){var u,f;return{key:n,value:{config:{},me:(u=n,f=Uo(o),ru({fields:[$e("enabled")],name:u,active:{events:ke(f)}})),configAsRaw:ke({}),initialConfig:{},state:du}}}function F0(n,o){o.ignore||(Zl(n.element),o.onFocus(n))}function mx(n,o,u){var f=o.aria;f.update(n,f,u.get())}function gx(n,o,u){o.toggleClass.each(function(f){(u.get()?tu:ha)(n.element,f)})}function hx(n,o,u){Gv(n,o,u,!u.get())}function Dg(n,o,u){u.set(!0),gx(n,o,u),mx(n,o,u)}function px(n,o,u){u.set(!1),gx(n,o,u),mx(n,o,u)}function bx(n,o,u){Gv(n,o,u,o.selected)}function yx(){function n(o,u){u.stop(),se(o)}return[Pe(Fh(),n),Pe(_d(),n),kd(Qa()),kd(Fc())]}function am(n){return Uo(br([n.map(function(o){return Jl(function(u,f){o(u),f.stop()})}).toArray(),yx()]))}function wx(n){(Ms(n.element).isNone()||Hn.isFocused(n))&&(Hn.isFocused(n)||Hn.focus(n),V(n,x2,{item:n}))}function c2(n){V(n,Dx,{item:n})}function s2(n,o){return n.x+n.width/2-o.width/2}function l2(n,o){return n.x+n.width-o.width}function I0(n,o){return n.y+n.height-o.height}function Cx(n,o){return n.y+n.height/2-o.height/2}function Op(n,o,u){return Di(l2(n,o),I0(n,o),u.insetSouthwest(),Vi(),"southwest",gu(n,{right:0,bottom:3}),ov)}function Ap(n,o,u){return Di(n.x,I0(n,o),u.insetSoutheast(),Pv(),"southeast",gu(n,{left:1,bottom:3}),ov)}function Rg(n,o,u){return Di(l2(n,o),n.y,u.insetNorthwest(),xy(),"northwest",gu(n,{right:0,top:2}),ov)}function _g(n,o,u){return Di(n.x,n.y,u.insetNortheast(),qf(),"northeast",gu(n,{left:1,top:2}),ov)}function f2(n,o,u){return Di(l2(n,o),Cx(n,o),u.insetEast(),zv(),"east",gu(n,{right:0}),ov)}function L0(n,o,u){return Di(n.x,Cx(n,o),u.insetWest(),Sy(),"west",gu(n,{left:1}),ov)}function y3(n){switch(n){case"north":return _l;case"northeast":return _g;case"northwest":return Rg;case"south":return Ig;case"southeast":return Ap;case"southwest":return Op;case"east":return f2;case"west":return L0}}function xx(n,o,u,f,d){return Qh(f).map(y3).getOr(_l)(n,o,u,f,d)}function Sx(n){switch(n){case"north":return Ig;case"northeast":return Ap;case"northwest":return Op;case"south":return _l;case"southeast":return _g;case"southwest":return Rg;case"east":return L0;case"west":return f2}}function w3(n,o,u,f,d){return Qh(f).map(Sx).getOr(_l)(n,o,u,f,d)}function Zr(n){var o=n.uid!==void 0&&To(n,"uid")?n.uid:og("memento");return{get:function(u){return u.getSystem().getByUid(o).getOrDie()},getOpt:function(u){return u.getSystem().getByUid(o).toOptional()},asSpec:function(){return me(me({},n),{uid:o})}}}function cf(n){return function(){return Ut(n,G0).getOr("!not found!")}}function im(n,o){var u,f=n.toLowerCase();if(al.isRtl()){var d=_r(u=f,"-rtl")?u:u+"-rtl";return Jn(o,d)?d:f}return f}function v2(n,o){return Ut(o,im(n,o))}function kx(n,o){var u=o();return v2(n,u).getOrThunk(cf(u))}function H0(){return rr("add-focusable",[ua(function(n){var o,u,f;o=n.element,u="svg",f=function(d){return oa(d,u)},Rr(o.dom.childNodes,function(d){return f(gt.fromDom(d))}).map(gt.fromDom).each(function(d){return nt(d,"focusable","false")})})])}function Ex(n,o,u,f){var d,g,b,x=(b=o,al.isRtl()&&Jn(Rx,b)?["tox-icon--flip"]:[]),S=Ut(u,im(o,u)).or(f).getOrThunk(cf(u));return{dom:{tag:n.tag,attributes:(d=n.attributes)!==null&&d!==void 0?d:{},classes:n.classes.concat(x),innerHtml:S},behaviours:Tt(On(On([],(g=n.behaviours)!==null&&g!==void 0?g:[],!0),[H0()],!1))}}function Ls(n,o,u,f){return f===void 0&&(f=N.none()),Ex(o,n,u(),f)}(C0=dp=dp||{}).OnFocusMode="onFocus",C0.OnEnterOrSpaceMode="onEnterOrSpace",C0.OnApiMode="onApi";function Gv(n,o,u,f){(f?Dg:px)(n,o,u)}function d2(n,o,u){nt(n.element,"aria-expanded",u)}function $0(n){return n.type==="prepared"?N.some(n.menu):N.none()}var Bg=ox(Zo("cyclic",Fn)),um=ox(Zo("cyclic",Zt)),m2=nm([Se("execute",nv),Se("useSpace",!1),Se("useEnter",!0),Se("useControlEnter",!1),Se("useDown",!1)],du.init,function(n,o,u,f){var d=u.useSpace&&!Gd(n.element)?Gc:[],g=u.useEnter?rl:[],b=u.useDown?Al:[];return[Fr(Er(d.concat(g).concat(b)),e2)].concat(u.useControlEnter?[Fr(zs([YC,Er(rl)]),e2)]:[])},function(n,o,u,f){return u.useSpace&&!Gd(n.element)?[Fr(Er(Gc),af)]:[]},function(){return N.none()}),C3=Object.freeze({__proto__:null,flatgrid:ax,init:function(n){return n.state(n)}}),g2=function(n,o,u,f,d){return f.focusManager.get(o).bind(function(g){return n(o.element,g,f,d)}).map(function(g){return f.focusManager.set(o,g),!0})},h2=N0,dc=N0,Dp=N0,Tx=rm(function(n,o,u,f){return cx(n,o,u,f,-1)}),cm=rm(function(n,o,u,f){return cx(n,o,u,f,1)}),sm=rm(function(n,o,u,f){return Sp(n,o,u,f,-1)}),Ng=rm(function(n,o,u,f){return Sp(n,o,u,f,1)}),Kv=nm([$e("selector"),Se("execute",nv),Lc("onEscape"),Se("captureTab",!1),ug()],ax,ke([Fr(Er(em),n2(Tx,cm)),Fr(Er(Ui),r2(Tx,cm)),Fr(Er(tm),h2(sm)),Fr(Er(Al),dc(Ng)),Fr(zs([jv,Er(tv)]),iu),Fr(zs([Eg,Er(tv)]),iu),Fr(Er(B0),function(n,o,u){return u.onEscape(n,o)}),Fr(Er(Gc.concat(rl)),function(n,o,u,f){return(d=u).focusManager.get(n).bind(function(g){return Qs(g,d.selector)}).bind(function(g){return u.execute(n,o,g)});var d})]),ke([Fr(Er(Gc),af)]),function(){return N.some(M0)}),Xv=[$e("selector"),Se("getInitial",N.none),Se("execute",nv),Lc("onEscape"),Se("executeOnMove",!1),Se("allowVertical",!0)],sf=ke([Fr(Er(Gc),af)]),p2=nm(Xv,du.init,function(n,o,u,f){var d=em.concat(u.allowVertical?tm:[]),g=Ui.concat(u.allowVertical?Al:[]);return[Fr(Er(d),uf(n2(a2,Dl))),Fr(Er(g),uf(r2(a2,Dl))),Fr(Er(rl),Ep),Fr(Er(Gc),Ep),Fr(Er(B0),sx)]},sf,function(){return N.some(p3)}),b2=[$a("selectors",[$e("row"),$e("cell")]),Se("cycles",!0),Se("previousSelector",N.none),Se("execute",nv)],y2=qv(function(n,o,u){return i2(n,o,u,-1)},function(n,o,u){return lx(n,o,u,-1)}),Mg=qv(function(n,o,u){return i2(n,o,u,1)},function(n,o,u){return lx(n,o,u,1)}),Rp=qv(function(n,o,u){return P0(n,u,o,-1)},function(n,o,u){return om(n,u,o,-1)}),_p=qv(function(n,o,u){return P0(n,u,o,1)},function(n,o,u){return om(n,u,o,1)}),qu=ke([Fr(Er(em),n2(y2,Mg)),Fr(Er(Ui),r2(y2,Mg)),Fr(Er(tm),h2(Rp)),Fr(Er(Al),dc(_p)),Fr(Er(Gc.concat(rl)),function(n,o,u){return Ms(n.element).bind(function(f){return u.execute(n,o,f)})})]),Bp=ke([Fr(Er(Gc),af)]),Np=nm(b2,du.init,qu,Bp,function(){return N.some(b3)}),V0=[$e("selector"),Se("execute",nv),Se("moveOnTab",!1)],x3=ke([Fr(Er(tm),Dp(Ag)),Fr(Er(Al),Dp(vx)),Fr(zs([jv,Er(tv)]),function(n,o,u,f){return u.moveOnTab?Dp(Ag)(n,o,u,f):N.none()}),Fr(zs([Eg,Er(tv)]),function(n,o,u,f){return u.moveOnTab?Dp(vx)(n,o,u,f):N.none()}),Fr(Er(rl),fx),Fr(Er(Gc),fx)]),w2=ke([Fr(Er(Gc),af)]),U0=nm(V0,du.init,x3,w2,function(){return N.some(Og)}),hu=nm([Lc("onSpace"),Lc("onEnter"),Lc("onShiftEnter"),Lc("onLeft"),Lc("onRight"),Lc("onTab"),Lc("onShiftTab"),Lc("onUp"),Lc("onDown"),Lc("onEscape"),Se("stopSpaceKeyup",!1),jn("focusIn")],du.init,function(n,o,u){return[Fr(Er(Gc),u.onSpace),Fr(zs([Eg,Er(rl)]),u.onEnter),Fr(zs([jv,Er(rl)]),u.onShiftEnter),Fr(zs([jv,Er(tv)]),u.onShiftTab),Fr(zs([Eg,Er(tv)]),u.onTab),Fr(Er(tm),u.onUp),Fr(Er(Al),u.onDown),Fr(Er(em),u.onLeft),Fr(Er(Ui),u.onRight),Fr(Er(Gc),u.onSpace),Fr(Er(B0),u.onEscape)]},function(n,o,u){return u.stopSpaceKeyup?[Fr(Er(Gc),af)]:[]},function(n){return n.focusIn}),S3=Bg.schema(),lf=um.schema(),W0=p2.schema(),C2=Kv.schema(),Pg=Np.schema(),Ox=m2.schema(),j0=U0.schema(),k3=hu.schema(),Sn=n0({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:S3,cyclic:lf,flow:W0,flatgrid:C2,matrix:Pg,execution:Ox,menu:j0,special:k3}),name:"keying",active:{events:function(n,o){return n.handler.toEvents(n,o)}},apis:{focusIn:function(n,o,u){o.sendFocusIn(o).fold(function(){n.getSystem().triggerFocus(n.element,n.element)},function(f){f(n,o,u)})},setGridSize:function(n,o,u,f,d){To(u,"setGridSize")?u.setGridSize(f,d):console.error("Layout does not support setGridSize")}},state:C3}),Mp=function(n,o){return n.components()},qn=ru({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(n,o,u,f){z0(n,0,vn,f)},prepend:function(n,o,u,f){z0(n,0,es,f)},remove:dx,replaceAt:u2,replaceBy:function(n,o,u,f,d){return Gr(Mp(n),f).bind(function(g){return u2(n,0,0,g,d)})},set:function(n,o,u,f){wy(function(){var d=ot(f,n.getSystem().build);PC(n,d)},n.element)},contents:Mp})}),zg=Object.freeze({__proto__:null,focus:F0,blur:function(n,o){o.ignore||n.element.dom.blur()},isFocused:function(n){return Sl(n.element)}}),Rl=Object.freeze({__proto__:null,exhibit:function(n,o){return yl(o.ignore?{}:{attributes:{tabindex:"-1"}})},events:function(n){return Uo([Pe(kc(),function(o,u){F0(o,n),u.stop()})].concat(n.stopMousedown?[Pe(Fc(),function(o,u){u.event.prevent()})]:[]))}}),Hn=ru({fields:[Qr("onFocus"),Se("stopMousedown",!1),Se("ignore",!1)],name:"focusing",active:Rl,apis:zg}),E3=Object.freeze({__proto__:null,onLoad:bx,toggle:hx,isOn:function(n,o,u){return u.get()},on:Dg,off:px,set:Gv}),Ax=Object.freeze({__proto__:null,exhibit:function(){return yl({})},events:function(n,o){var u,f,d,g=(u=n,f=o,d=hx,Jl(function(x){d(x,u,f)})),b=t0(n,o,bx);return Uo(br([n.toggleOnExecute?[g]:[],[b]]))}}),Br=ru({fields:[Se("selected",!1),jn("toggleClass"),Se("toggleOnExecute",!0),Pc("aria",{mode:"none"},Au("mode",{pressed:[Se("syncWithExpanded",!1),Lo("update",function(n,o,u){nt(n.element,"aria-pressed",u),o.syncWithExpanded&&d2(n,0,u)})],checked:[Lo("update",function(n,o,u){nt(n.element,"aria-checked",u)})],expanded:[Lo("update",d2)],selected:[Lo("update",function(n,o,u){nt(n.element,"aria-selected",u)})],none:[Lo("update",dt)]}))],name:"toggling",active:Ax,apis:E3,state:{init:function(){var n=Cn(!1);return{get:function(){return n.get()},set:function(o){return n.set(o)},clear:function(){return n.set(!1)},readState:function(){return n.get()}}}}}),x2="alloy.item-hover",Dx="alloy.item-focus",q0=ke(x2),Kc=ke(Dx),Pp=[$e("data"),$e("components"),$e("dom"),Se("hasSubmenu",!1),jn("toggling"),jc("itemBehaviours",[Br,Hn,Sn,Pt]),Se("ignoreFocus",!1),Se("domModification",{}),Lo("builder",function(n){return{dom:n.dom,domModification:me(me({},n.domModification),{attributes:me(me(me({role:n.toggling.isSome()?"menuitemcheckbox":"menuitem"},n.domModification.attributes),{"aria-haspopup":n.hasSubmenu}),n.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:nl(n.itemBehaviours,[n.toggling.fold(Br.revoke,function(o){return Br.config(me({aria:{mode:"checked"}},o))}),Hn.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:function(o){c2(o)}}),Sn.config({mode:"execution"}),Pt.config({store:{mode:"memory",initialValue:n.data}}),rr("item-type-events",On(On([],yx(),!0),[Pe(si(),wx),Pe(Kl(),Hn.focus)],!1))]),components:n.components,eventOrder:n.eventOrder}}),Se("eventOrder",{})],S2=[$e("dom"),$e("components"),Lo("builder",function(n){return{dom:n.dom,components:n.components,events:Uo([Pe(Kl(),function(o,u){u.stop()})])}})],rv=ke("item-widget"),vs=ke([Ru({name:"widget",overrides:function(n){return{behaviours:Tt([Pt.config({store:{mode:"manual",getValue:function(o){return n.data},setValue:dt}})])}}})]),ff=Au("type",{widget:[$e("uid"),$e("data"),$e("components"),$e("dom"),Se("autofocus",!1),Se("ignoreFocus",!1),jc("widgetBehaviours",[Pt,Hn,Sn]),Se("domModification",{}),Uy(vs()),Lo("builder",function(n){function o(g){return po(g,n,"widget").map(function(b){return Sn.focusIn(b),b})}function u(g,b){return Gd(b.event.target)||n.autofocus&&b.setSource(g.element),N.none()}var f=fp(rv(),n,vs()),d=Qf(rv(),n,f.internals());return{dom:n.dom,components:d,domModification:n.domModification,events:Uo([Jl(function(g,b){o(g).each(function(x){b.stop()})}),Pe(si(),wx),Pe(Kl(),function(g,b){n.autofocus?o(g):Hn.focus(g)})]),behaviours:nl(n.widgetBehaviours,[Pt.config({store:{mode:"memory",initialValue:n.data}}),Hn.config({ignore:n.ignoreFocus,onFocus:function(g){c2(g)}}),Sn.config({mode:"special",focusIn:n.autofocus?function(g){o(g)}:kl(),onLeft:u,onRight:u,onEscape:function(g,b){return Hn.isFocused(g)||n.autofocus?(n.autofocus&&b.setSource(g.element),N.none()):(Hn.focus(g),N.some(!0))}})])}})],item:Pp,separator:S2}),mc=ke([wp({factory:{sketch:function(n){var o=Ra("menu.spec item",ff,n);return o.builder(o)}},name:"items",unit:"item",defaults:function(n,o){return Jn(o,"uid")?o:me(me({},o),{uid:og("item")})},overrides:function(n,o){return{type:o.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}}}})]),ol=ke([$e("value"),$e("items"),$e("dom"),$e("components"),Se("eventOrder",{}),ea("menuBehaviours",[Ur,Pt,wr,Sn]),Pc("movement",{mode:"menu",moveOnTab:!0},Au("mode",{grid:[ug(),Lo("config",function(n,o){return{mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:o.initSize.numColumns,numRows:o.initSize.numRows},focusManager:n.focusManager}})],matrix:[Lo("config",function(n,o){return{mode:"matrix",selectors:{row:o.rowSelector,cell:"."+n.markers.item},focusManager:n.focusManager}}),$e("rowSelector")],menu:[Se("moveOnTab",!0),Lo("config",function(n,o){return{mode:"menu",selector:"."+n.markers.item,moveOnTab:o.moveOnTab,focusManager:n.focusManager}})]})),eu("markers",Yh()),Se("fakeFocus",!1),Se("focusManager",Kd()),Qr("onHighlight")]),Fg=ke("alloy.menu-focus"),gc=ju({name:"Menu",configFields:ol(),partFields:mc(),factory:function(n,o,u,f){return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:yi(n.menuBehaviours,[Ur.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight}),Pt.config({store:{mode:"memory",initialValue:n.value}}),wr.config({find:N.some}),Sn.config(n.movement.config(n,n.movement))]),events:Uo([Pe(Kc(),function(d,g){var b=g.event;d.getSystem().getByDom(b.target).each(function(x){Ur.highlight(d,x),g.stop(),V(d,Fg(),{menu:d,item:x})})}),Pe(q0(),function(d,g){var b=g.event.item;Ur.highlight(d,b)})]),components:o,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}}}}),Yv=function(n,o,u,f){return Ut(u,f).bind(function(d){return Ut(n,d).bind(function(g){var b=Yv(n,o,u,g);return N.some([g].concat(b))})}).getOr([])},T3=function(){function n(S){return x(S).bind($0)}function o(S){return Ut(u.get(),S)}var u=Cn({}),f=Cn({}),d=Cn({}),g=mo(),b=Cn({}),x=function(S){return Ut(f.get(),S)};return{setMenuBuilt:function(S,T){var A;f.set(me(me({},f.get()),((A={})[S]={type:"prepared",menu:T},A)))},setContents:function(S,T,A,R){g.set(S),u.set(A),f.set(T),b.set(R);var M=function(F,q){var j={};Vn(F,function(L,Y){Yt(L,function(ue){j[ue]=Y})});var G=q,K=Ii(q,function(L,Y){return{k:L,v:Y}}),Q=tn(K,function(L,Y){return[Y].concat(Yv(j,G,K,Y))});return tn(j,function(L){return Ut(Q,L).getOr([L])})}(R,A);d.set(M)},expand:function(S){return Ut(u.get(),S).map(function(T){var A=Ut(d.get(),S).getOr([]);return[T].concat(A)})},refresh:function(S){return Ut(d.get(),S)},collapse:function(S){return Ut(d.get(),S).bind(function(T){return 1<T.length?N.some(T.slice(1)):N.none()})},lookupMenu:x,lookupItem:o,otherMenus:function(S){var T=b.get();return Kr(Pr(T),S)},getPrimary:function(){return g.get().bind(n)},getMenus:function(){return f.get()},clear:function(){u.set({}),f.set({}),d.set({}),g.clear()},isClear:function(){return g.get().isNone()},getTriggeringPath:function(S,T){var A=Je(o(S).toArray(),function(R){return n(R).isSome()});return Ut(d.get(),S).bind(function(R){var M=Mo(A.concat(R));return function(F){for(var q=[],j=0;j<F.length;j++){var G=F[j];if(!G.isSome())return N.none();q.push(G.getOrDie())}return N.some(q)}(ee(M,function(F,q){return j=F,G=T,K=M.slice(0,q+1),n(j).bind(function(Q){return L=j,eo(u.get(),function(Y,ue){return Y===L}).bind(function(Y){return G(Y).map(function(ue){return{triggeredMenu:Q,triggeringItem:ue,triggeringPath:K}})});var L}).fold(function(){return Sa(g.get(),F)?[]:[N.none()]},function(Q){return[N.some(Q)]});var j,G,K}))})}}},O3=$0,A3=ke("collapse-item"),lm=Oc({name:"TieredMenu",configFields:[hy("onExecute"),hy("onEscape"),Ns("onOpenMenu"),Ns("onOpenSubmenu"),Qr("onRepositionMenu"),Qr("onCollapseMenu"),Se("highlightImmediately",!0),$a("data",[$e("primary"),$e("menus"),$e("expansions")]),Se("fakeFocus",!1),Qr("onHighlight"),Qr("onHover"),zd(),$e("dom"),Se("navigateOnHover",!0),Se("stayInDom",!1),ea("tmenuBehaviours",[Sn,Ur,wr,qn]),Se("eventOrder",{})],apis:{collapseMenu:function(n,o){n.collapseMenu(o)},highlightPrimary:function(n,o){n.highlightPrimary(o)},repositionMenus:function(n,o){n.repositionMenus(o)}},factory:function(n,o){function u(L){var Y,ue,de=(Y=L,ue=n.data.primary,tn(n.data.menus,function(xe,ze){function Ke(){return gc.sketch(me(me({},xe),{value:ze,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:n.onHighlight,focusManager:(n.fakeFocus?Wy:Kd)()}))}return ze===ue?{type:"prepared",menu:Y.getSystem().build(Ke())}:{type:"notbuilt",nbMenu:Ke}})),Re=tn(n.data.menus,function(xe,ze){return ee(xe.items,function(Ke){return Ke.type==="separator"?[]:[Ke.data.value]})});return M.setContents(n.data.primary,de,n.data.expansions,Re),M.getPrimary()}function f(L){return Pt.getValue(L).value}function d(L,Y){Ur.highlight(L,Y),Ur.getHighlighted(Y).orThunk(function(){return Ur.getFirst(Y)}).each(function(ue){Te(L,ue.element,Kl())})}function g(L,Y){return ka(ot(Y,function(ue){return L.lookupMenu(ue).bind(function(de){return de.type==="prepared"?N.some(de.menu):N.none()})}))}function b(L,Y,ue){var de=g(Y,Y.otherMenus(ue));Yt(de,function(Re){wl(Re.element,[n.markers.backgroundMenu]),n.stayInDom||qn.remove(L,Re)})}function x(L,Y){var ue;Vn((ue=L,R.get().getOrThunk(function(){var de={},Re=Je(sc(ue.element,"."+n.markers.item),function(xe){return fe(xe,"aria-haspopup")==="true"});return Yt(Re,function(xe){ue.getSystem().getByDom(xe).each(function(ze){var Ke=f(ze);de[Ke]=ze})}),R.set(de),de})),function(de,Re){var xe=pn(Y,Re);nt(de.element,"aria-expanded",xe)})}function S(L,Y,ue){return N.from(ue[0]).bind(function(de){return Y.lookupMenu(de).bind(function(Re){if(Re.type==="notbuilt")return N.none();var xe=Re.menu,ze=g(Y,ue.slice(1));return Yt(ze,function(Ke){tu(Ke.element,n.markers.backgroundMenu)}),ui(xe.element)||qn.append(L,mu(xe)),wl(xe.element,[n.markers.backgroundMenu]),d(L,xe),b(L,Y,ue),N.some(xe)})})}var T,A,R=mo(),M=T3();function F(L,Y,ue){if(ue===void 0&&(ue=T.HighlightSubmenu),Y.hasConfigured(bn)&&bn.isDisabled(Y))return N.some(Y);var de=f(Y);return M.expand(de).bind(function(Re){return x(L,Re),N.from(Re[0]).bind(function(xe){return M.lookupMenu(xe).bind(function(ze){var Ke=function(Ie,Ze,vt){if(vt.type!=="notbuilt")return vt.menu;var Lt=Ie.getSystem().build(vt.nbMenu());return M.setMenuBuilt(Ze,Lt),Lt}(L,xe,ze);return ui(Ke.element)||qn.append(L,mu(Ke)),n.onOpenSubmenu(L,Y,Ke,Mo(Re)),ue===T.HighlightSubmenu?(Ur.highlightFirst(Ke),S(L,M,Re)):(Ur.dehighlightAll(Ke),N.some(Y))})})})}function q(L,Y){var ue=f(Y);return M.collapse(ue).bind(function(de){return x(L,de),S(L,M,de).map(function(Re){return n.onCollapseMenu(L,Y,Re),Re})})}function j(L){return function(Y,ue){return Qs(ue.getSource(),"."+n.markers.item).bind(function(de){return Y.getSystem().getByDom(de).toOptional().bind(function(Re){return L(Y,Re).map(Zt)})})}}function G(L){return Ur.getHighlighted(L).bind(Ur.getHighlighted)}(A=T={})[A.HighlightSubmenu=0]="HighlightSubmenu",A[A.HighlightParent=1]="HighlightParent";var K=Uo([Pe(Fg(),function(L,Y){var ue=Y.event.item;M.lookupItem(f(ue)).each(function(){var de=Y.event.menu;Ur.highlight(L,de);var Re=f(Y.event.item);M.refresh(Re).each(function(xe){return b(L,M,xe)})})}),Jl(function(L,Y){var ue=Y.event.target;L.getSystem().getByDom(ue).each(function(de){f(de).indexOf("collapse-item")===0&&q(L,de),F(L,de,T.HighlightSubmenu).fold(function(){n.onExecute(L,de)},dt)})}),ua(function(L,Y){u(L).each(function(ue){qn.append(L,mu(ue)),n.onOpenMenu(L,ue),n.highlightImmediately&&d(L,ue)})})].concat(n.navigateOnHover?[Pe(q0(),function(L,Y){var ue=Y.event.item,de=L,Re=f(ue);M.refresh(Re).bind(function(xe){return x(de,xe),S(de,M,xe)}),F(L,ue,T.HighlightParent),n.onHover(L,ue)})]:[])),Q={collapseMenu:function(L){G(L).each(function(Y){q(L,Y)})},highlightPrimary:function(L){M.getPrimary().each(function(Y){d(L,Y)})},repositionMenus:function(L){M.getPrimary().bind(function(Y){return G(L).bind(function(ue){var de=f(ue),Re=ka(ot(mn(M.getMenus()),O3));return M.getTriggeringPath(de,function(xe){return ze=xe,En(Re,function(Ke){return Ke.getSystem().isConnected()?Rr(Ur.getCandidates(Ke),function(Ie){return f(Ie)===ze}):N.none()});var ze})}).map(function(ue){return{primary:Y,triggeringPath:ue}})}).fold(function(){N.from(L.components()[0]).filter(function(Y){return fe(Y.element,"role")==="menu"}).each(function(Y){n.onRepositionMenu(L,Y,[])})},function(Y){var ue=Y.primary,de=Y.triggeringPath;n.onRepositionMenu(L,ue,de)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:yi(n.tmenuBehaviours,[Sn.config({mode:"special",onRight:j(function(L,Y){return Gd(Y.element)?N.none():F(L,Y,T.HighlightSubmenu)}),onLeft:j(function(L,Y){return Gd(Y.element)?N.none():q(L,Y)}),onEscape:j(function(L,Y){return q(L,Y).orThunk(function(){return n.onEscape(L,Y).map(function(){return L})})}),focusIn:function(L,Y){M.getPrimary().each(function(ue){Te(L,ue.element,Kl())})}}),Ur.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),wr.config({find:function(L){return Ur.getHighlighted(L)}}),qn.config({})]),eventOrder:n.eventOrder,apis:Q,events:K}},extraApis:{tieredData:function(n,o,u){return{primary:n,menus:o,expansions:u}},singleData:function(n,o){return{primary:n,menus:zc(n,o),expansions:{}}},collapseItem:function(n){return{value:un(A3()),meta:{text:n}}}}}),ca=Oc({name:"InlineView",configFields:[$e("lazySink"),Qr("onShow"),Qr("onHide"),Es("onEscape"),ea("inlineBehaviours",[Tr,Pt,au]),$i("fireDismissalEventInstead",[Se("event",fi())]),$i("fireRepositionEventInstead",[Se("event",Nd())]),Se("getRelated",N.none),Se("isExtraPart",Fn),Se("eventOrder",N.none)],factory:function(n,o){function u(x){Tr.isOpen(x)&&Pt.getValue(x).each(function(S){switch(S.mode){case"menu":Tr.getState(x).each(lm.repositionMenus);break;case"position":var T=n.lazySink(x).getOrDie();fc.positionWithinBounds(T,x,S.config,S.getBounds())}})}function f(x,S,T,A){g(x,S,T,function(){return A.map(function(R){return cn(R)})})}function d(x,S,T,A){var R,M,F,q,j,G=(R=n,M=x,F=S,q=A,j=T.type==="horizontal"?{layouts:{onLtr:yy,onRtl:nu}}:{},lm.sketch({dom:{tag:"div"},data:T.data,markers:T.menu.markers,highlightImmediately:T.menu.highlightImmediately,onEscape:function(){return Tr.close(M),R.onEscape.map(function(L){return L(M)}),N.some(!0)},onExecute:function(){return N.some(!0)},onOpenMenu:function(L,Y){fc.positionWithinBounds(K().getOrDie(),Y,F,q())},onOpenSubmenu:function(L,Y,ue,de){var Re=K().getOrDie();fc.position(Re,ue,{anchor:me({type:"submenu",item:Y},Q(de))})},onRepositionMenu:function(L,Y,ue){var de=K().getOrDie();fc.positionWithinBounds(de,Y,F,q()),Yt(ue,function(Re){var xe=Q(Re.triggeringPath);fc.position(de,Re.triggeredMenu,{anchor:me({type:"submenu",item:Re.triggeringItem},xe)})})}}));function K(){return R.lazySink(M)}function Q(L){return L.length===2?j:{}}Tr.open(x,G),Pt.setValue(x,N.some({mode:"menu",menu:G}))}var g=function(x,S,T,A){var R=n.lazySink(x).getOrDie();Tr.openWhileCloaked(x,S,function(){return fc.positionWithinBounds(R,x,T,A())}),Pt.setValue(x,N.some({mode:"position",config:T,getBounds:A}))},b={setContent:function(x,S){Tr.setContent(x,S)},showAt:function(x,S,T){f(x,S,T,N.none())},showWithin:f,showWithinBounds:g,showMenuAt:function(x,S,T){d(x,S,T,N.none)},showMenuWithinBounds:d,hide:function(x){Tr.isOpen(x)&&(Pt.setValue(x,N.none()),Tr.close(x))},getContent:function(x){return Tr.getState(x)},reposition:u,isOpen:Tr.isOpen};return{uid:n.uid,dom:n.dom,behaviours:yi(n.inlineBehaviours,[Tr.config({isPartOf:function(x,S,T){return Vf(S,T)||(A=T,n.getRelated(x).exists(function(R){return Vf(R,A)}));var A},getAttachPoint:function(x){return n.lazySink(x).getOrDie()},onOpen:function(x){n.onShow(x)},onClose:function(x){n.onHide(x)}}),Pt.config({store:{mode:"memory",initialValue:N.none()}}),au.config({channels:me(me({},m0(me({isExtraPart:o.isExtraPart},n.fireDismissalEventInstead.map(function(x){return{fireEventInstead:{event:x.event}}}).getOr({})))),jd(me(me({},n.fireRepositionEventInstead.map(function(x){return{fireEventInstead:{event:x.event}}}).getOr({})),{doReposition:u})))})]),eventOrder:n.eventOrder,apis:b}},apis:{showAt:function(n,o,u,f){n.showAt(o,u,f)},showWithin:function(n,o,u,f,d){n.showWithin(o,u,f,d)},showWithinBounds:function(n,o,u,f,d){n.showWithinBounds(o,u,f,d)},showMenuAt:function(n,o,u,f){n.showMenuAt(o,u,f)},showMenuWithinBounds:function(n,o,u,f,d){n.showMenuWithinBounds(o,u,f,d)},hide:function(n,o){n.hide(o)},isOpen:function(n,o){return n.isOpen(o)},getContent:function(n,o){return n.getContent(o)},setContent:function(n,o,u){n.setContent(o,u)},reposition:function(n,o){n.reposition(o)}}}),ov="layout-inset",_l=function(n,o,u){return Di(s2(n,o),n.y,u.insetNorth(),Ho(),"north",gu(n,{top:2}),ov)},Ig=function(n,o,u){return Di(s2(n,o),I0(n,o),u.insetSouth(),cg(),"south",gu(n,{bottom:3}),ov)},Jv=tinymce.util.Tools.resolve("tinymce.util.Delay"),hc=Oc({name:"Button",factory:function(n){function o(d){return Ut(n.dom,"attributes").bind(function(g){return Ut(g,d)})}var u=am(n.action),f=n.dom.tag;return{uid:n.uid,dom:n.dom,components:n.components,events:u,behaviours:nl(n.buttonBehaviours,[Hn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if(f!=="button")return{role:o("role").getOr("button")};var d=o("type").getOr("button"),g=o("role").map(function(b){return{role:b}}).getOr({});return me({type:d},g)}()},eventOrder:n.eventOrder}},configFields:[Se("uid",void 0),$e("dom"),Se("components",[]),jc("buttonBehaviours",[Hn,Sn]),jn("action"),jn("role"),Se("eventOrder",{})]}),al=tinymce.util.Tools.resolve("tinymce.util.I18n"),Rx={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},G0="temporary-placeholder",_x={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},k2=Oc({name:"Notification",factory:function(n){function o(F){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+F+"%"}}}}function u(F){return{dom:{tag:"div",classes:["tox-text"],innerHtml:F+"%"}}}var f,d,g,b,x=Zr({dom:{tag:"p",innerHtml:n.translationProvider(n.text)},behaviours:Tt([qn.config({})])}),S=Zr({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},u(0)],behaviours:Tt([qn.config({})])}),T={updateProgress:function(F,q){F.getSystem().isConnected()&&S.getOpt(F).each(function(j){qn.set(j,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(q)]},u(q)])})},updateText:function(F,q){var j;F.getSystem().isConnected()&&(j=x.get(F),qn.set(j,[Od(q)]))}},A=br([n.icon.toArray(),n.level.toArray(),n.level.bind(function(F){return N.from(_x[F])}).toArray()]),R=Zr(hc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Ls("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":n.translationProvider("Close")}},n.iconProvider)],action:function(F){n.onAction(F)}})),M=[(f=A,d={tag:"div",classes:["tox-notification__icon"]},g=n.iconProvider,b=g(),Ex(d,Rr(f,function(F){return Jn(b,im(F,b))}).getOr(G0),b,N.none())),{dom:{tag:"div",classes:["tox-notification__body"]},components:[x.asSpec()],behaviours:Tt([qn.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(function(F){return["tox-notification","tox-notification--in","tox-notification--"+F]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Tt([Hn.config({}),rr("notification-events",[Pe($f(),function(F){R.getOpt(F).each(Hn.focus)})])]),components:M.concat(n.progress?[S.asSpec()]:[]).concat(n.closeButton?[R.asSpec()]:[]),apis:T}},configFields:[jn("level"),$e("progress"),$e("icon"),$e("onAction"),$e("text"),$e("iconProvider"),$e("translationProvider"),yr("closeButton",!0)],apis:{updateProgress:function(n,o,u){n.updateProgress(o,u)},updateText:function(n,o,u){n.updateText(o,u)}}});function E2(n,o){function u(){qo(f)||(clearTimeout(f),f=null)}var f=null;return{cancel:u,throttle:function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];u(),f=setTimeout(function(){f=null,n.apply(null,d)},o)}}}function Bx(n,o,u,f,d){var g=X0(n,function(b){return(x=n).isBlock(S=b)||pn(["BR","IMG","HR","INPUT"],S.nodeName)||x.getContentEditable(S)==="false";var x,S});return N.from(g.backwards(o,u,f,d))}function D3(n,o){return Lg(gt.fromDom(n.selection.getNode())).getOrThunk(function(){var u,f,d=gt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());return vn(d,gt.fromDom(o.extractContents())),o.insertNode(d.dom),Xr(d).each(function(g){return g.dom.normalize()}),u=NC,(f=function(g){for(var b=ma(g),x=b.length-1;0<=x;x--){var S=b[x];if(u(S))return N.some(S);var T=f(S);if(T.isSome())return T}return N.none()})(d).map(function(g){var b;n.selection.setCursorLocation(g.dom,da(b=g)==="img"?1:Ny(b).fold(function(){return ma(b).length},function(x){return x.length}))}),d})}function Nx(n){return n.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}function Mx(n){return n!==""&&` \xA0\f
\r	\v`.indexOf(n)!==-1}function Dc(n,o){return n.substring(o.length)}function T2(n,o,u,f){return f===void 0&&(f=0),Lg(gt.fromDom(o.startContainer)).fold(function(){return function(d,g,b,x){if(x===void 0&&(x=0),!g.collapsed||g.startContainer.nodeType!==3)return N.none();var S=d.getParent(g.startContainer,d.isBlock)||d.getRoot();return Bx(d,g.startContainer,g.startOffset,function(T,A,R){return function(M,F){for(var q=A-1;0<=q;q--){var j=M.charAt(q);if(Mx(j))return N.none();if(j===F)break}return N.some(q)}(R,b).getOr(A)},S).bind(function(T){var A=g.cloneRange();if(A.setStart(T.container,T.offset),A.setEnd(g.endContainer,g.endOffset),A.collapsed)return N.none();var R=Nx(A);return R.lastIndexOf(b)!==0||Dc(R,b).length<x?N.none():N.some({text:Dc(R,b),range:A,triggerChar:b})})}(n,o,u,f)},function(d){var g=n.createRng();g.selectNode(d.dom);var b=Nx(g);return N.some({range:g,text:Dc(b,u),triggerChar:u})})}function fm(n,o){return{container:n,offset:o}}function vm(n){return Fo("toolbarbutton",D2,n)}function K0(n){return Fo("ToggleButton",Fx,n)}function zp(n,o,u,f){f===void 0&&(f={});var d=o(),g=n.selection.getRng().startContainer.nodeValue,b=Je(d.lookupByChar(u.triggerChar),function(S){return u.text.length>=S.minChars&&S.matches.getOrThunk(function(){return T=n.dom,function(A){var R=zx(A.startContainer,A.startOffset);return!Bx(T,R.container,R.offset,function(M,F){return F===0?-1:F},T.getRoot()).filter(function(M){return!Mx(M.container.data.charAt(M.offset-1))}).isSome()};var T})(u.range,g,u.text)});if(b.length===0)return N.none();var x=vf.all(ot(b,function(S){return S.fetch(u.text,S.maxResults,f).then(function(T){return{matchText:u.text,items:T,columns:S.columns,onAction:S.onAction,highlightOn:S.highlightOn}})}));return N.some({lookupData:x,context:u})}var Px,Fp,X0=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Lg=function(n){return Qs(n,"[data-mce-autocompleter]")},vf=tinymce.util.Tools.resolve("tinymce.util.Promise"),Y0=function(n){if(n.nodeType===3)return fm(n,n.data.length);var o=n.childNodes;return 0<o.length?Y0(o[o.length-1]):fm(n,o.length)},zx=function(n,o){var u=n.childNodes;return 0<u.length&&o<u.length?zx(u[o],0):0<u.length&&n.nodeType===1&&u.length===o?Y0(u[u.length-1]):fm(n,o)},df=Tn([wn("type"),oo("text")]),O2=Tn([Se("type","autocompleteitem"),Se("active",!1),Se("disabled",!1),Se("meta",{}),wn("value"),oo("text"),oo("icon")]),A2=Tn([wn("type"),wn("ch"),Ts("minChars",1),Se("columns",1),Ts("maxResults",10),Es("matches"),_a("fetch"),_a("onAction"),Lf("highlightOn",[],Va)]),av=[yr("disabled",!1),oo("tooltip"),oo("icon"),oo("text"),Io("onSetup",function(){return dt})],D2=Tn([wn("type"),_a("onAction")].concat(av)),dm=[yr("active",!1)].concat(av),Fx=Tn(dm.concat([wn("type"),_a("onAction")])),Ix=[Io("predicate",Fn),rc("scope","node",["node","editor"]),rc("position","selection",["node","selection","line"])],mf=av.concat([Se("type","contextformbutton"),Se("primary",!1),_a("onAction"),Zo("original",Nt)]),Xc=dm.concat([Se("type","contextformbutton"),Se("primary",!1),_a("onAction"),Zo("original",Nt)]),pu=av.concat([Se("type","contextformbutton")]),R3=dm.concat([Se("type","contextformtogglebutton")]),R2=Au("type",{contextformbutton:mf,contextformtogglebutton:Xc}),Hg=Tn([Se("type","contextform"),Io("initValue",ke("")),oo("label"),pi("commands",R2),ks("launch",Au("type",{contextformbutton:pu,contextformtogglebutton:R3}))].concat(Ix)),_2=Tn([Se("type","contexttoolbar"),wn("items")].concat(Ix));function $g(n){return Ut(hm,n).getOr(Bl)}function Ip(n){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:n==="color"?"tox-swatches":"tox-menu",tieredMenu:"tox-tiered-menu"}}function Vg(n){var o=Ip(n);return{backgroundMenu:o.backgroundMenu,selectedMenu:o.selectedMenu,menu:o.menu,selectedItem:o.selectedItem,item:$g(n)}}function mm(n,o,u){return{dom:{tag:"div",classes:br([[Ip(u).tieredMenu]])},markers:Vg(u)}}function J0(n,o){return function(u){return ot(Hr(u,o),function(f){return{dom:n,components:f}})}}function Q0(n,o){var u=[],f=[];return Yt(n,function(d,g){o(d,g)?(0<f.length&&u.push(f),f=[],Jn(d.dom,"innerHtml")&&f.push(d)):f.push(d)}),0<f.length&&u.push(f),ot(u,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})}function B2(n,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[gc.parts.items({preprocess:function(u){return n!=="auto"&&1<n?J0({tag:"div",classes:["tox-collection__group"]},n)(u):Q0(u,function(f,d){return o[d].type==="separator"})}})]}}function Lp(n){return Ct(n,function(o){return"icon"in o&&o.icon!==void 0})}function gf(n){return console.error(Co(n)),console.log(n),N.none()}function Lx(n,o,u,f,d){var g,b=(g=u,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[gc.parts.items({preprocess:function(x){return Q0(x,function(S,T){return g[T].type==="separator"})}})]});return{value:n,dom:b.dom,components:b.components,items:u}}function Z0(n,o,u,f,d){var g,b;return d==="color"?{value:n,dom:(g={dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[gc.parts.items({preprocess:f!=="auto"?J0({tag:"div",classes:["tox-swatches__row"]},f):Nt})]}]}).dom,components:g.components,items:u}:d==="normal"&&f==="auto"?{value:n,dom:(g=B2(f,u)).dom,components:g.components,items:u}:d==="normal"&&f===1?{value:n,dom:(g=B2(1,u)).dom,components:g.components,items:u}:d==="normal"?{value:n,dom:(g=B2(f,u)).dom,components:g.components,items:u}:d!=="listpreview"||f==="auto"?{value:n,dom:{tag:"div",classes:br([[(b=Ip(d)).menu,"tox-menu-"+f+"-column"],o?[b.hasIcons]:[]])},components:z2,items:u}:{value:n,dom:(g={dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[gc.parts.items({preprocess:J0({tag:"div",classes:["tox-collection__group"]},f)})]}).dom,components:g.components,items:u}}function Ug(n,o,u){var f=sc(n.element,"."+u);if(0<f.length){var d=Gr(f,function(g){var b=g.dom.getBoundingClientRect().top,x=f[0].dom.getBoundingClientRect().top;return Math.abs(b-x)>o}).getOr(f.length);return N.some({numColumns:d,numRows:Math.ceil(f.length/d)})}return N.none()}function Hp(n,o,u){n.getSystem().broadcastOn([Ux],{})}function Qv(n){return n.getParam("height",Math.max(n.getElement().offsetHeight,200))}function Wg(n){return n.getParam("width",Wp.DOM.getStyle(n.getElement(),"width"))}function eb(n){return N.from(n.getParam("min_width")).filter(hn)}function tb(n){return N.from(n.getParam("min_height")).filter(hn)}function nb(n){return N.from(n.getParam("max_width")).filter(hn)}function Hx(n){return N.from(n.getParam("max_height")).filter(hn)}function N2(n){return n.getParam("menubar",!0,"boolean")!==!1}function Zv(n){var o=n.getParam("toolbar",!0),u=o===!0,f=fr(o),d=Mr(o)&&0<o.length;return!jp(n)&&(d||f||u)}function ed(n){var o=Je(la(9,function(u){return n.getParam("toolbar"+(u+1),!1,"string")}),function(u){return typeof u=="string"});return 0<o.length?N.some(o):N.none()}(Fp=Px={})[Fp.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",Fp[Fp.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var Gu,jg,gm,qg,pc=Px,Bl="tox-menu-nav__js",hf="tox-collection__item",td="tox-swatch",hm={normal:Bl,color:td},pm="tox-collection__item--enabled",M2="tox-collection__item-icon",rb="tox-collection__item-label",ob="tox-collection__item-caret",$p="tox-collection__item--active",P2="tox-collection__item-container",ab="tox-collection__item-container--row",z2=[gc.parts.items({})],bm=[wn("type"),wn("src"),oo("alt"),Lf("classes",[],Va)],ib=Tn(bm),ub=[wn("type"),wn("text"),oo("name"),Lf("classes",["tox-collection__item-label"],Va)],Gg=Tn(ub),nd=rs(function(){return jl("type",{cardimage:ib,cardtext:Gg,cardcontainer:Vp})}),Vp=Tn([wn("type"),os("direction","horizontal"),os("align","left"),os("valign","middle"),pi("items",nd)]),Kg=[yr("disabled",!1),oo("text"),oo("shortcut"),Wa("value","value",Sv(function(){return un("menuitem-value")}),jt()),Se("meta",{})],_3=Tn([wn("type"),oo("label"),pi("items",nd),Io("onSetup",function(){return dt}),Io("onAction",dt)].concat(Kg)),B3=Tn([wn("type"),yr("active",!1),oo("icon")].concat(Kg)),$x=[wn("type"),wn("fancytype"),Io("onAction",dt)],N3=Au("fancytype",{inserttable:[Se("initData",{})].concat($x),colorswatch:[Ev("initData",{},[yr("allowCustomColors",!0),ci("colors",jt())])].concat($x)}),M3=Tn([wn("type"),Io("onSetup",function(){return dt}),Io("onAction",dt),oo("icon")].concat(Kg)),Vx=Tn([wn("type"),_a("getSubmenuItems"),Io("onSetup",function(){return dt}),oo("icon")].concat(Kg)),P3=Tn([wn("type"),oo("icon"),yr("active",!1),Io("onSetup",function(){return dt}),_a("onAction")].concat(Kg)),cb=function(n){return o=un("unnamed-events"),Tt([rr(o,n)]);var o},Ux=un("tooltip.exclusive"),Up=un("tooltip.show"),Xg=un("tooltip.hide"),Wx=Object.freeze({__proto__:null,hideAllExclusive:Hp,setComponents:function(n,o,u,f){u.getTooltip().each(function(d){d.getSystem().isConnected()&&qn.set(d,f)})}}),F2=Object.freeze({__proto__:null,events:function(n,o){function u(f){o.getTooltip().each(function(d){Yf(d),n.onHide(f,d),o.clearTooltip()}),o.clearTimer()}return Uo(br([[Pe(Up,function(f){o.resetTimer(function(){var d,g,b=f;o.isShowing()||(Hp(b),d=n.lazySink(b).getOrDie(),g=b.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Uo(n.mode==="normal"?[Pe(si(),function(x){z(b,Up)}),Pe(cy(),function(x){z(b,Xg)})]:[]),behaviours:Tt([qn.config({})])}),o.setTooltip(g),Xf(d,g),n.onShow(b,g),fc.position(d,g,{anchor:n.anchor(b)}))},n.delay)}),Pe(Xg,function(f){o.resetTimer(function(){u(f)},n.delay)}),Pe(Rd(),function(f,d){d.universal||pn(d.channels,Ux)&&u(f)}),Bs(function(f){u(f)})],n.mode==="normal"?[Pe($f(),function(f){z(f,Up)}),Pe(sy(),function(f){z(f,Xg)}),Pe(si(),function(f){z(f,Up)}),Pe(cy(),function(f){z(f,Xg)})]:[Pe(Md(),function(f,d){z(f,Up)}),Pe(Vu(),function(f){z(f,Xg)})]]))}}),An=ru({fields:[$e("lazySink"),$e("tooltipDom"),Se("exclusive",!0),Se("tooltipComponents",[]),Se("delay",300),rc("mode","normal",["normal","follow-highlight"]),Se("anchor",function(n){return{type:"hotspot",hotspot:n,layouts:{onLtr:ke([Ba,Ro,Ri,pa,ja,_i]),onRtl:ke([Ba,Ro,Ri,pa,ja,_i])}}}),Qr("onHide"),Qr("onShow")],name:"tooltipping",active:F2,state:Object.freeze({__proto__:null,init:function(){function n(){o.on(clearTimeout)}var o=mo(),u=mo(),f=ke("not-implemented");return cs({getTooltip:u.get,isShowing:u.isSet,setTooltip:u.set,clearTooltip:u.clear,clearTimer:n,resetTimer:function(d,g){n(),o.set(setTimeout(d,g))},readState:f})}}),apis:Wx}),Wp=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jx=tinymce.util.Tools.resolve("tinymce.EditorManager"),jp=function(n){return ed(n).fold(function(){return 0<n.getParam("toolbar",[],"string[]").length},Zt)};function qp(n){return n.getParam("toolbar_mode","","string")}function qx(n){return n.getParam("toolbar_location",gm.auto,"string")}function Gx(n){return qx(n)===gm.bottom}function sb(n){if(!n.inline)return N.none();var o=n.getParam("fixed_toolbar_container","","string");if(0<o.length)return Ai(P(),o);var u=n.getParam("fixed_toolbar_container_target");return Gt(u)?N.some(gt.fromDom(u)):N.none()}function Yg(n){return n.inline&&sb(n).isSome()}function Kx(n){return sb(n).getOrThunk(function(){return Oe(Hi(gt.fromDom(n.getElement())))})}function I2(n){return n.inline&&!N2(n)&&!Zv(n)&&!jp(n)}function lb(n){return(n.getParam("toolbar_sticky",!1,"boolean")||n.inline)&&!Yg(n)&&!I2(n)}function pf(n,o){var u=n.outerContainer.element;o&&(n.mothership.broadcastOn([Is()],{target:u}),n.uiMothership.broadcastOn([Is()],{target:u})),n.mothership.broadcastOn([db],{readonly:o}),n.uiMothership.broadcastOn([db],{readonly:o})}function Xx(n,o){n.on("init",function(){n.mode.isReadOnly()&&pf(o,!0)}),n.on("SwitchMode",function(){return pf(o,n.mode.isReadOnly())}),n.getParam("readonly",!1,"boolean")&&n.setMode("readonly")}function wi(){var n;return au.config({channels:((n={})[db]={schema:od,onReceive:function(o,u){bn.set(o,u.readonly)}},n)})}function Jg(n,o){var u=n.getApi(o);return function(f){f(u)}}function ym(n,o){return ua(function(u){Jg(n,u)(function(f){var d=n.onSetup(f);yt(d)&&o.set(d)})})}function Gp(n,o){return Bs(function(u){return Jg(n,u)(o.get())})}function rd(n,o,u,f){var d,g,b=Cn(dt);return{type:"item",dom:o.dom,components:nh(o.optComponents),data:n.data,eventOrder:F3,hasSubmenu:n.triggersSubmenu,itemBehaviours:Tt([rr("item-events",[(d=n,g=u,Jl(function(x,S){Jg(d,x)(d.onAction),d.triggersSubmenu||g!==pc.CLOSE_ON_EXECUTE||(z(x,Xl()),S.stop())})),ym(n,b),Gp(n,b)]),bn.config({disabled:function(){return n.disabled||f.isDisabled()},disableClass:"tox-collection__item--state-disabled"}),wi(),qn.config({})].concat(n.itemBehaviours))}}function wm(n){return{value:n.value,meta:me({text:n.text.getOr("")},n.meta)}}function Qg(n,o,u){return Ls(n,{tag:"div",classes:u=u===void 0?[M2]:u},o)}function Zg(n){return{dom:{tag:"div",classes:[rb]},components:[Od(al.translate(n))]}}function bf(n,o){return{dom:{tag:"div",classes:o,innerHtml:n}}}function Kp(n,o){return{dom:{tag:"div",classes:[rb]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Od(al.translate(o))]}]}}function z3(n){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:(o=xm.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},u=ot(n.split("+"),function(f){var d=f.toLowerCase().trim();return Jn(o,d)?o[d]:f}),xm.mac?u.join(""):u.join("+"))}};var o,u}function L2(n){return Qg("checkmark",n,["tox-collection__item-checkmark"])}function Yx(n){var o=n.map(function(u){return{attributes:{title:al.translate(u)}}}).getOr({});return me({tag:"div",classes:[Bl,hf]},o)}function yf(n,o,u,f){return f===void 0&&(f=N.none()),n.presets==="color"?(d=o,g=f,S=n.ariaLabel,T=n.value,{dom:(b=n.iconContent.map(function(Q){return L=d.icons,Y=g,v2(Q,ue=L()).or(Y).getOrThunk(cf(ue));var L,Y,ue}).getOr(""),x={tag:"div",attributes:S.map(function(Q){return{title:d.translate(Q)}}).getOr({}),classes:["tox-swatch"]},me(me({},x),T==="custom"?{tag:"button",classes:On(On([],x.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:b}:T==="remove"?{classes:On(On([],x.classes,!0),["tox-swatch--remove"],!1),innerHtml:b}:{attributes:me(me({},x.attributes),{"data-mce-color":T}),styles:{"background-color":T}})),optComponents:[]}):(A=n,R=o,M=f,F={tag:"div",classes:[M2]},q=u?A.iconContent.map(function(Q){return Ls(Q,F,R.icons,M)}).orThunk(function(){return N.some({dom:F})}):N.none(),j=A.checkMark,G=N.from(A.meta).fold(function(){return Zg},function(Q){return Jn(Q,"style")?Dr(Kp,Q.style):Zg}),K=A.htmlContent.fold(function(){return A.textContent.map(G)},function(Q){return N.some(bf(Q,[rb]))}),{dom:Yx(A.ariaLabel),optComponents:[q,K,A.shortcutContent.map(z3),j,A.caret]});var d,g,b,x,S,T,A,R,M,F,q,j,G,K}function fb(n,o){return Ut(n,"tooltipWorker").map(function(u){return[An.config({lazySink:o.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(f){return{type:"submenu",item:f,overrides:{maxHeightFunction:tp}}},mode:"follow-highlight",onShow:function(f,d){u(function(g){An.setComponents(f,[my({element:gt.fromDom(g)})])})}})]}).getOr([])}function H2(n,o){var u=al.translate(n),f=Wp.DOM.encode(u);if(0<o.length){var d=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return f.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}return f}function Jx(n){return{value:n}}function Qx(n){return K2.test(n)||mb.test(n)}function $2(n){var o=n.toString(16);return(o.length===1?"0"+o:o).toUpperCase()}function Nl(n){return Jx($2(n.red)+$2(n.green)+$2(n.blue))}function wf(n,o,u,f){return{red:n,green:o,blue:u,alpha:f}}function V2(n){var o=parseInt(n,10);return o.toString()===n&&0<=o&&o<=255}function Zx(n){var o,u,f,d=(n.hue||0)%360,g=n.saturation/100,b=n.value/100,g=X2(0,rh(g,1)),b=X2(0,rh(b,1));if(g===0)return wf(o=u=f=gb(255*b),u,f,1);var x=d/60,S=b*g,T=S*(1-Math.abs(x%2-1)),A=b-S;switch(Math.floor(x)){case 0:o=S,u=T,f=0;break;case 1:o=T,u=S,f=0;break;case 2:o=0,u=S,f=T;break;case 3:o=0,u=T,f=S;break;case 4:o=T,u=0,f=S;break;case 5:o=S,u=0,f=T;break;default:o=u=f=0}return wf(o=gb(255*(o+A)),u=gb(255*(u+A)),f=gb(255*(f+A)),1)}function eh(n){var o,u,f=(o={value:n.value.replace(K2,function(d,g,b,x){return g+g+b+b+x+x})},(u=mb.exec(o.value))===null?["FFFFFF","FF","FF","FF"]:u);return wf(parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16),1)}function eS(n,o,u,f){return wf(parseInt(n,10),parseInt(o,10),parseInt(u,10),parseFloat(f))}function tS(n){if(n==="transparent")return N.some(wf(0,0,0,0));var o=Y2.exec(n);if(o!==null)return N.some(eS(o[1],o[2],o[3],"1"));var u=J2.exec(n);return u!==null?N.some(eS(u[1],u[2],u[3],u[4])):N.none()}function _u(n){return"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"}function Cm(n,o){return n.fire("ResizeContent",o)}function Xp(n,o,u){return{hue:n,saturation:o,value:u}}function vb(n){var o,u,f=0,d=n.red/255,g=n.green/255,b=n.blue/255,x=Math.min(d,Math.min(g,b)),S=Math.max(d,Math.max(g,b));return x===S?Xp(0,0,100*(f=x)):(u=60*((d===x?3:b===x?1:5)-(d===x?g-b:b===x?d-g:b-d)/(S-x)),o=(S-x)/S,f=S,Xp(Math.round(u),Math.round(100*o),Math.round(100*f)))}function nS(n){return Nl(Zx(n))}function U2(n){return(Qx(u=n)?N.some({value:(Su(o=u,"#")?o.substring(1):o).toUpperCase()}):N.none()).orThunk(function(){return tS(n).map(Nl)}).getOrThunk(function(){var f=document.createElement("canvas");f.height=1,f.width=1;var d=f.getContext("2d");d.clearRect(0,0,f.width,f.height),d.fillStyle="#FFFFFF",d.fillStyle=n,d.fillRect(0,0,1,1);var g=d.getImageData(0,0,1,1).data;return Nl(wf(g[0],g[1],g[2],g[3]))});var o,u}(jg=Gu=Gu||{}).default="wrap",jg.floating="floating",jg.sliding="sliding",jg.scrolling="scrolling",(qg=gm=gm||{}).auto="auto",qg.top="top",qg.bottom="bottom";function W2(n){return bn.config({disabled:n,disableClass:"tox-tbtn--disabled"})}var j2,db="silver.readonly",od=Tn([eu("readonly",Hf)]),th=function(n){return bn.config({disabled:n})},q2=function(n){return bn.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},F3=((j2={})[Ec()]=["disabling","alloy.base.behaviour","toggling","item-events"],j2),nh=ka,xm=tinymce.util.Tools.resolve("tinymce.Env"),G2=function(n,o){return ot(n,function(u){switch(u.type){case"cardcontainer":return b=G2((g=u).items,o),x=g.direction==="vertical"?"tox-collection__item-container--column":ab,S=g.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",{dom:{tag:"div",classes:[P2,x,S,function(){switch(g.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}}()]},components:b};case"cardimage":return d=u.src,{dom:{tag:"img",classes:u.classes,attributes:{src:d,alt:u.alt.getOr("")}}};case"cardtext":var f=u.name.exists(function(T){return pn(o.cardText.highlightOn,T)})?N.from(o.cardText.matchText).getOr(""):"";return bf(H2(u.text,f),u.classes)}var d,g,b,x,S})},Yp=Vy(rv(),vs()),K2=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,mb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rh=Math.min,X2=Math.max,gb=Math.round,Y2=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,J2=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,hb=wf(255,0,0,1),pb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Q2="tinymce-custom-colors";function rS(n){return n.getParam("custom_colors")!==!1}function Z2(n){var o=n.getParam("color_map");return o!==void 0?function(u){for(var f=[],d=0;d<u.length;d+=2)f.push({text:u[d+1],value:"#"+U2(u[d]).value,type:"choiceitem"});return f}(o):cS}function Jp(n){e1.add(n)}function ew(n){var o,u=(o=Z2(n).length,Math.max(5,Math.ceil(Math.sqrt(o))));return n.getParam("color_cols",u,"number")}function oS(n){var o="choiceitem",u={type:o,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[u,{type:o,text:"Custom color",icon:"color-picker",value:"custom"}]:[u]}function bb(n,o,u,f){u==="custom"?wb(n)(function(d){d.each(function(g){Jp(g),n.execCommand("mceApplyTextcolor",o,g),f(g)})},yb):u==="remove"?(f(""),n.execCommand("mceRemoveTextcolor",o)):(f(u),n.execCommand("mceApplyTextcolor",o,u))}function aS(n,o){return n.concat(ot(e1.state(),function(u){return{type:Ci,text:u,value:u}}).concat(oS(o)))}function tw(n,o){return function(u){u(aS(n,o))}}function nw(n,o,u){n.setIconFill(o==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",u)}function iS(n,o,u,f,d){n.ui.registry.addSplitButton(o,{tooltip:f,presets:"color",icon:o==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var b,x=u;return n.dom.getParents(n.selection.getStart(),function(S){var T;(T=S.style[x==="forecolor"?"color":"background-color"])&&(b=b||T)}),N.from(b).bind(function(S){return tS(S).map(function(T){var A=Nl(T).value;return Oo(g.toLowerCase(),A)})}).getOr(!1)},columns:ew(n),fetch:tw(Z2(n),rS(n)),onAction:function(g){bb(n,u,d.get(),dt)},onItemAction:function(g,b){bb(n,u,b,function(x){d.set(x),n.fire("TextColorChange",{name:o,color:x})})},onSetup:function(g){function b(x){x.name===o&&nw(g,x.name,x.color)}return nw(g,o,d.get()),n.on("TextColorChange",b),function(){n.off("TextColorChange",b)}}})}function rw(n,o,u,f){n.ui.registry.addNestedMenuItem(o,{text:f,icon:o==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){bb(n,u,d.value,dt)}}]}})}function ow(n,o,u,f,d,g,b,x){return Z0(n,Lp(o),I3(o,u,f,d!=="color"?"normal":"color",g,b,x),f,d)}function Qp(n,o){var u=Vg(o);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+u.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(o==="color"?"tox-swatches__row":"tox-collection__group")}}function uS(n,o){return Od(o+"x"+n)}var Zp,oh,Ci="choiceitem",cS=[{type:Ci,text:"Light Green",value:"#BFEDD2"},{type:Ci,text:"Light Yellow",value:"#FBEEB8"},{type:Ci,text:"Light Red",value:"#F8CAC6"},{type:Ci,text:"Light Purple",value:"#ECCAFA"},{type:Ci,text:"Light Blue",value:"#C2E0F4"},{type:Ci,text:"Green",value:"#2DC26B"},{type:Ci,text:"Yellow",value:"#F1C40F"},{type:Ci,text:"Red",value:"#E03E2D"},{type:Ci,text:"Purple",value:"#B96AD9"},{type:Ci,text:"Blue",value:"#3598DB"},{type:Ci,text:"Dark Turquoise",value:"#169179"},{type:Ci,text:"Orange",value:"#E67E23"},{type:Ci,text:"Dark Red",value:"#BA372A"},{type:Ci,text:"Dark Purple",value:"#843FA1"},{type:Ci,text:"Dark Blue",value:"#236FA1"},{type:Ci,text:"Light Gray",value:"#ECF0F1"},{type:Ci,text:"Medium Gray",value:"#CED4D9"},{type:Ci,text:"Gray",value:"#95A5A6"},{type:Ci,text:"Dark Gray",value:"#7E8C8D"},{type:Ci,text:"Navy Blue",value:"#34495E"},{type:Ci,text:"Black",value:"#000000"},{type:Ci,text:"White",value:"#ffffff"}],e1=function(n){n===void 0&&(n=10);function o(b){g.splice(b,1)}var u,f=pb.getItem(Q2),d=fr(f)?JSON.parse(f):[],g=n-(u=d).length<0?u.slice(0,n):u;return{add:function(b){var x;((x=Ka(g,b))===-1?N.none():N.some(x)).each(o),g.unshift(b),g.length>n&&g.pop(),pb.setItem(Q2,JSON.stringify(g))},state:function(){return g.slice(0)}}}(10),yb="#000000",wb=function(n){return function(o,u){var f=!1;n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:u},onAction:function(d,g){g.name==="hex-valid"&&(f=g.value)},onSubmit:function(d){var g=d.getData().colorpicker;f?(o(N.from(g)),d.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",g]))},onClose:dt,onCancel:function(){o(N.none())}})}},I3=function(n,o,u,f,d,g,b){return ka(ot(n,function(x){return x.type==="choiceitem"?Fo("choicemenuitem",B3,x).fold(gf,function(S){return N.some(function(T,A,R,M,F,q,j,G){G===void 0&&(G=!0);var K=yf({presets:R,textContent:A?T.text:N.none(),htmlContent:N.none(),ariaLabel:T.text,iconContent:T.icon,shortcutContent:A?T.shortcut:N.none(),checkMark:A?N.some(L2(j.icons)):N.none(),caret:N.none(),value:T.value},j,G);return Ir(rd({data:wm(T),disabled:T.disabled,getApi:function(Q){return{setActive:function(L){Br.set(Q,L)},isActive:function(){return Br.isOn(Q)},isDisabled:function(){return bn.isDisabled(Q)},setDisabled:function(L){return bn.set(Q,L)}}},onAction:function(Q){return M(T.value)},onSetup:function(Q){return Q.setActive(F),dt},triggersSubmenu:!1,itemBehaviours:[]},K,q,j),{toggling:{toggleClass:pm,toggleOnExecute:!1,selected:T.active}})}(S,u===1,f,o,g(x.value),d,b,Lp(n)))}):N.none()}))},t1=un("cell-over"),sS=un("cell-execute"),ah={inserttable:function(n){var o=un("size-label"),u=function(g){for(var b=[],x=0;x<10;x++){for(var S=[],T=0;T<10;T++)S.push(function(A,R,M){function F(G){return V(G,sS,{row:A,col:R})}function q(G,K){K.stop(),F(G)}var j;return Uu({dom:{tag:"div",attributes:((j={role:"button"})["aria-labelledby"]=M,j)},behaviours:Tt([rr("insert-table-picker-cell",[Pe(si(),Hn.focus),Pe(Ec(),F),Pe(Fh(),q),Pe(_d(),q)]),Br.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Hn.config({onFocus:function(G){return V(G,t1,{row:A,col:R})}})])})}(x,T,g));b.push(S)}return b}(o),f=uS(0,0),d=Zr({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:o}},components:[f],behaviours:Tt([qn.config({})])});return{type:"widget",data:{value:un("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Yp.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:ee(u,function(g){return ot(g,mu)}).concat(d.asSpec()),behaviours:Tt([rr("insert-table-picker",[ua(function(g){qn.set(d.get(g),[f])}),ia(t1,function(g,b,x){var S=x.event,T=S.row,A=S.col;(function(R,M,F){for(var q=0;q<10;q++)for(var j=0;j<10;j++)Br.set(R[q][j],q<=M&&j<=F)})(u,T,A),qn.set(d.get(g),[uS(T+1,A+1)])}),ia(sS,function(g,b,x){var S=x.event,T=S.row,A=S.col;n.onAction({numRows:T+1,numColumns:A+1}),z(g,Xl())})]),Sn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(n,o){var u,f,d,g=(f=o,d=(u=n).initData.allowCustomColors&&f.colorinput.hasCustomColors(),u.initData.colors.fold(function(){return aS(f.colorinput.getColors(),d)},function(T){return T.concat(oS(d))})),b=o.colorinput.getColorCols(),x=ow(un("menu-value"),g,function(T){n.onAction({value:T})},b,"color",pc.CLOSE_ON_EXECUTE,Fn,o.shared.providers),S=me(me({},x),{markers:Vg("color"),movement:Qp(b,"color")});return{type:"widget",data:{value:un("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Yp.widget(gc.sketch(S))]}}},aw=function(n){var o=n.text.fold(function(){return{}},function(u){return{innerHtml:u}});return{type:"separator",dom:me({tag:"div",classes:[hf,"tox-collection__group-heading"]},o),components:[]}},iw=function(n,o,u,f){f===void 0&&(f=!0);var d=yf({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:N.none(),ariaLabel:n.text,caret:N.none(),checkMark:N.none(),shortcutContent:n.shortcut},u,f);return rd({data:wm(n),getApi:function(g){return{isDisabled:function(){return bn.isDisabled(g)},setDisabled:function(b){return bn.set(g,b)}}},disabled:n.disabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},d,o,u)},lS=function(n,o,u,f,d){f===void 0&&(f=!0);var g=(d=d!==void 0&&d)?Qg("chevron-down",u.icons,[ob]):Qg("chevron-right",u.icons,[ob]),b=yf({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:N.none(),ariaLabel:n.text,caret:N.some(g),checkMark:N.none(),shortcutContent:n.shortcut},u,f);return rd({data:wm(n),getApi:function(x){return{isDisabled:function(){return bn.isDisabled(x)},setDisabled:function(S){return bn.set(x,S)}}},disabled:n.disabled,onAction:dt,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},b,o,u)},fS=function(n,o,u,f){f===void 0&&(f=!0);var d=yf({iconContent:n.icon,textContent:n.text,htmlContent:N.none(),ariaLabel:n.text,checkMark:N.some(L2(u.icons)),caret:N.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},u,f);return Ir(rd({data:wm(n),disabled:n.disabled,getApi:function(g){return{setActive:function(b){Br.set(g,b)},isActive:function(){return Br.isOn(g)},isDisabled:function(){return bn.isDisabled(g)},setDisabled:function(b){return bn.set(g,b)}}},onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},d,o,u),{toggling:{toggleClass:pm,toggleOnExecute:!1,selected:n.active}})},vS=function(n,o){return Ut(ah,n.fancytype).map(function(u){return u(n,o)})};function dS(n,o,u,f,d,g,b){var x=f===1,S=!x||Lp(n);return ka(ot(n,function(T){switch(T.type){case"separator":return Fo("Autocompleter.Separator",df,T).fold(gf,function(A){return N.some(aw(A))});case"cardmenuitem":return Fo("cardmenuitem",_3,T).fold(gf,function(A){return N.some((R=me(me({},A),{onAction:function(G){A.onAction(G),u(A.value,A.meta)}}),M=d,F=g,q={itemBehaviours:fb(A.meta,g),cardText:{matchText:o,highlightOn:b}},j={dom:Yx(R.label),optComponents:[N.some({dom:{tag:"div",classes:[P2,ab]},components:G2(R.items,q)})]},rd({data:wm(me({text:N.none()},R)),disabled:R.disabled,getApi:function(G){return{isDisabled:function(){return bn.isDisabled(G)},setDisabled:function(K){bn.set(G,K),Yt(sc(G.element,"*"),function(Q){G.getSystem().getByDom(Q).each(function(L){L.hasConfigured(bn)&&bn.set(L,K)})})}}},onAction:R.onAction,onSetup:R.onSetup,triggersSubmenu:!1,itemBehaviours:N.from(q.itemBehaviours).getOr([])},j,M,F.providers)));var R,M,F,q,j});default:return Fo("Autocompleter.Item",O2,T).fold(gf,function(A){return N.some(function(R,M,F,q,j,G,K,Q){Q===void 0&&(Q=!0);var L=yf({presets:q,textContent:N.none(),htmlContent:F?R.text.map(function(Y){return H2(Y,M)}):N.none(),ariaLabel:R.text,iconContent:R.icon,shortcutContent:N.none(),checkMark:N.none(),caret:N.none(),value:R.value},K.providers,Q,R.icon);return rd({data:wm(R),disabled:R.disabled,getApi:ke({}),onAction:function(Y){return j(R.value,R.meta)},onSetup:ke(dt),triggersSubmenu:!1,itemBehaviours:fb(R.meta,K)},L,G,K.providers)}(A,o,x,"normal",u,d,g,S))})}}))}function mS(n,o,u,f,d){var g=Lp(o),b=ka(ot(o,function(x){function S(T){return function(A,R,M,F,q){function j(K){return q?me(me({},K),{shortcut:N.none(),icon:K.text.isSome()?N.none():K.icon}):K}var G=M.shared.providers;switch(A.type){case"menuitem":return Fo("menuitem",M3,A).fold(gf,function(K){return N.some(iw(j(K),R,G,F))});case"nestedmenuitem":return Fo("nestedmenuitem",Vx,A).fold(gf,function(K){return N.some(lS(j(K),R,G,F,q))});case"togglemenuitem":return Fo("togglemenuitem",P3,A).fold(gf,function(K){return N.some(fS(j(K),R,G,F))});case"separator":return Fo("separatormenuitem",df,A).fold(gf,function(K){return N.some(aw(K))});case"fancymenuitem":return Fo("fancymenuitem",N3,A).fold(gf,function(K){return vS(j(K),M)});default:return console.error("Unknown item in general menu",A),N.none()}}(T,u,f,d?!Jn(T,"text"):g,d)}return x.type==="nestedmenuitem"&&x.getSubmenuItems().length<=0?S(me(me({},x),{disabled:!0})):S(x)}));return(d?Lx:Z0)(n,g,b,1,"normal")}function uw(n){return lm.singleData(n.value,n)}function n1(n,o,u){return Qs(n,o,u).isSome()}function Sm(n,o){var u=null;return{cancel:function(){u!==null&&(clearTimeout(u),u=null)},schedule:function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];u=setTimeout(function(){n.apply(null,f),u=null},o)}}}function Cb(n){var o=n.raw;return o.touches===void 0||o.touches.length!==1?N.none():N.some(o.touches[0])}function cw(){return Ia().browser.isFirefox()}function L3(n,o){var u,f,d,g,b,x,S,T,A,R=me({stopBackspace:!0},o),M=(b=R,x=mo(),S=Cn(!1),T=Sm(function(Y){b.triggerEvent(Cl(),Y),S.set(!0)},400),A=Qn([{key:Qa(),value:function(Y){return Cb(Y).each(function(ue){T.cancel();var de={x:ue.clientX,y:ue.clientY,target:Y.target};T.schedule(Y),S.set(!1),x.set(de)}),N.none()}},{key:Ad(),value:function(Y){return T.cancel(),Cb(Y).each(function(ue){x.on(function(de){var Re=ue,xe=de,ze=Math.abs(Re.clientX-xe.x),Ke=Math.abs(Re.clientY-xe.y);(5<ze||5<Ke)&&x.clear()})}),N.none()}},{key:Rs(),value:function(Y){return T.cancel(),x.get().filter(function(ue){return or(ue.target,Y.target)}).map(function(ue){return S.get()?(Y.prevent(),!1):b.triggerEvent(_d(),Y)})}}]),{fireIfReady:function(Y,ue){return Ut(A,ue).bind(function(de){return de(Y)})}}),F=ot(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(Y){return bi(n,Y,function(ue){M.fireIfReady(ue,Y).each(function(de){de&&ue.kill()}),R.triggerEvent(Y,ue)&&ue.kill()})}),q=mo(),j=bi(n,"paste",function(Y){M.fireIfReady(Y,"paste").each(function(ue){ue&&Y.kill()}),R.triggerEvent("paste",Y)&&Y.kill(),q.set(setTimeout(function(){R.triggerEvent(_s(),Y)},0))}),G=bi(n,"keydown",function(Y){var ue;R.triggerEvent("keydown",Y)?Y.kill():!R.stopBackspace||(ue=Y).raw.which!==h3[0]||pn(["input","textarea"],da(ue.target))||n1(ue.target,'[contenteditable="true"]')||Y.prevent()}),K=(u=n,f=function(Y){R.triggerEvent("focusin",Y)&&Y.kill()},cw()?Lv(u,"focus",f):bi(u,"focusin",f)),Q=mo(),L=(d=n,g=function(Y){R.triggerEvent("focusout",Y)&&Y.kill(),Q.set(setTimeout(function(){R.triggerEvent(sy(),Y)},0))},cw()?Lv(d,"blur",g):bi(d,"focusout",g));return{unbind:function(){Yt(F,function(Y){Y.unbind()}),G.unbind(),K.unbind(),L.unbind(),j.unbind(),q.on(clearTimeout),Q.on(clearTimeout)}}}function r1(n,o){return Cn(Ut(n,"target").getOr(o))}function gS(n,o,u,f,d,g){var b,x,S=n(o,f),T=(b=Cn(!1),x=Cn(!1),{stop:function(){b.set(!0)},cut:function(){x.set(!0)},isStopped:b.get,isCut:x.get,event:u,setSource:d.set,getSource:d.get});return S.fold(function(){return g.logEventNoHandlers(o,f),km.complete()},function(A){var R=A.descHandler;return Tv(R)(T),T.isStopped()?(g.logEventStopped(o,A.element,R.purpose),km.stopped()):T.isCut()?(g.logEventCut(o,A.element,R.purpose),km.complete()):Xr(A.element).fold(function(){return g.logNoParent(o,A.element,R.purpose),km.complete()},function(M){return g.logEventResponse(o,A.element,R.purpose),km.resume(M)})})}function H3(){function n(d){vu(d.element).each(function(g){delete f[g],u.unregisterId(g)})}var o,u=(o={},{registerId:function(d,g,b){Vn(b,function(x,S){var T,A=o[S]!==void 0?o[S]:{};A[g]={cHandler:Dr.apply(void 0,[(T=x).handler].concat(d)),purpose:T.purpose},o[S]=A})},unregisterId:function(d){Vn(o,function(g,b){Jn(g,d)&&delete g[d]})},filterByType:function(d){return Ut(o,d).map(function(g){return xa(g,function(b,x){return{id:x,descHandler:b}})}).getOr([])},find:function(d,g,b){return Ut(o,g).bind(function(x){return Bh(b,function(S){return T=x,vu(A=S).bind(function(R){return Ut(T,R)}).map(function(R){return{element:A,descHandler:R}});var T,A},d)})}}),f={};return{find:function(d,g,b){return u.find(d,g,b)},filter:function(d){return u.filterByType(d)},register:function(d){var g,b=vu((g=d).element).getOrThunk(function(){return x=g.element,S=un(q1+"uid-"),Vh(x,S),S;var x,S});To(f,b)&&function(x){var S=f[b];if(S!==x)throw new Error('The tagId "'+b+'" is already used by: '+ic(S.element)+`
Cannot use it for: `+ic(x.element)+`
The conflicting element is`+(ui(S.element)?" ":" not ")+"already in the DOM");n(x)}(d),u.registerId([d],b,d.events),f[b]=d},unregister:n,getById:function(d){return Ut(f,d)}}}function sw(n){function o(G){return Xr(n.element).fold(Zt,function(K){return or(G,K)})}function u(G,K){return d.find(o,G,K)}function f(G){var K=d.filter(Rd());Yt(K,function(Q){Tv(Q.descHandler)(G)})}var d=H3(),g=L3(n.element,{triggerEvent:function(G,K){return X1(G,K.target,function(Q){return bS(u,G,K,K.target,Q)})}}),b={debugInfo:ke("real"),triggerEvent:function(G,K,Q){X1(G,K,function(L){return bS(u,G,Q,K,L)})},triggerFocus:function(G,K){vu(G).fold(function(){Zl(G)},function(Q){X1(kc(),G,function(L){var Y,ue,de=u,Re=kc(),xe=L,ze=r1(Y={originator:K,kill:dt,prevent:dt,target:G},ue=G);return gS(de,Re,Y,ue,ze,xe),!1})})},triggerEscape:function(G,K){b.triggerEvent("keydown",G.element,K.event)},getByUid:function(G){return q(G)},getByDom:function(G){return j(G)},build:Uu,addToGui:function(G){T(G)},removeFromGui:function(G){A(G)},addToWorld:function(G){x(G)},removeFromWorld:function(G){S(G)},broadcast:function(G){R(G)},broadcastOn:function(G,K){M(G,K)},broadcastEvent:function(G,K){F(G,K)},isConnected:Zt},x=function(G){G.connect(b),kr(G.element)||(d.register(G),Yt(G.components(),x),b.triggerEvent(Bd(),G.element,{target:G.element}))},S=function(G){kr(G.element)||(Yt(G.components(),S),d.unregister(G)),G.disconnect()},T=function(G){Xf(n,G)},A=function(G){Yf(G)},R=function(G){f({universal:!0,data:G})},M=function(G,K){f({universal:!1,channels:G,data:K})},F=function(G,K){var Q,L,Y=d.filter(G);return L={stop:function(){Q.set(!0)},cut:dt,isStopped:(Q=Cn(!1)).get,isCut:Fn,event:K,setSource:Ft("Cannot set source of a broadcasted event"),getSource:Ft("Cannot get source of a broadcasted event")},Yt(Y,function(ue){Tv(ue.descHandler)(L)}),L.isStopped()},q=function(G){return d.getById(G).fold(function(){return on.error(new Error('Could not find component with uid: "'+G+'" in system.'))},on.value)},j=function(G){var K=vu(G).getOr("not found");return q(K)};return x(n),{root:n,element:n.element,destroy:function(){g.unbind(),wt(n.element)},add:T,remove:A,getByUid:q,getByDom:j,addToWorld:x,removeFromWorld:S,broadcast:R,broadcastOn:M,broadcastEvent:F}}function o1(n,o,u,f){var d=vw(n,o,u,f);return Wr.sketch(d)}function ad(n,o){return Wr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(n)}})}function lw(n){return Tt([Hn.config({onFocus:n.selectOnFocus?function(o){var u=o.element,f=Ov(u);u.dom.setSelectionRange(0,f.length)}:dt})])}function hS(n){return{tag:n.tag,attributes:me({type:"text"},n.inputAttributes),styles:n.inputStyles,classes:n.inputClasses}}(oh=Zp={})[oh.ContentFocus=0]="ContentFocus",oh[oh.UiFocus=1]="UiFocus";function pS(n,o){function u(){return b.get().isSome()}function f(){u()&&ca.hide(S)}var d,g,b=mo(),x=Cn(!1),S=Uu(ca.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Tt([rr("dismissAutocompleter",[Pe(fi(),function(){return T()})])]),lazySink:o.getSink})),T=function(){var q;u()&&(q=b.get().map(function(j){return j.element}),Lg(q.getOr(gt.fromDom(n.selection.getNode()))).each(bs),f(),b.clear(),x.set(!1))},A=Po(function(){return G=tn(n.ui.registry.getAll().popups,function(L){return Fo("Autocompleter",A2,L).fold(function(Y){throw new Error(Co(Y))},Nt)}),q=xa(G,function(L){return L.ch}),j={},Yt(q,function(L){j[L]={}}),K=Pr(j),Q=mn(G),{dataset:G,triggerChars:K,lookupByChar:function(L){return Je(Q,function(Y){return Y.ch===L})}};var q,j,G,K,Q}),R=function(q){var j=q;b.get().map(function(G){return T2(n.dom,n.selection.getRng(),G.triggerChar).bind(function(K){return zp(n,A,K,j)})}).getOrThunk(function(){return G=n,Q=(K=A)(),L=G.selection.getRng(),Y=G.dom,ue=L,En(Q.triggerChars,function(de){return T2(Y,ue,de)}).bind(function(de){return zp(G,K,de)});var G,K,Q,L,Y,ue}).fold(T,function(G){var K,Q=G.context;u()||(K=D3(n,Q.range),b.set({triggerChar:Q.triggerChar,element:K,matchLength:Q.text.length}),x.set(!1)),G.lookupData.then(function(L){b.get().map(function(Y){var ue,de,Re,xe,ze=G.context;Y.triggerChar===ze.triggerChar&&(de=ze.triggerChar,xe=En(Re=L,function(Ke){return N.from(Ke.columns)}).getOr(1),0<(ue=ee(Re,function(Ke){return dS(Ke.items,Ke.matchText,function(Ie,Ze){var vt=n.selection.getRng();T2(n.dom,vt,de).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Lt){var fn=Lt.range,Gn={hide:function(){T()},reload:function(xr){f(),R(xr)}};x.set(!0),Ke.onAction(Gn,fn,Ie,Ze),x.set(!1)})},xe,pc.BUBBLE_TO_SANDBOX,o,Ke.highlightOn)})).length?function(Ke,Ie,Ze,vt){Ke.matchLength=Ie.text.length;var Lt,fn,Gn,xr,jr,ao,hr=En(Ze,function(Yr){return N.from(Yr.columns)}).getOr(1);ca.showAt(S,gc.sketch((Lt=Z0("autocompleter-value",!0,vt,hr,"normal"),fn=hr,xr=((Gn=Zp.ContentFocus)===Zp.ContentFocus?Wy:Kd)(),jr=Qp(fn,"normal"),ao=Vg("normal"),{dom:Lt.dom,components:Lt.components,items:Lt.items,value:Lt.value,markers:{selectedItem:ao.selectedItem,item:ao.item},movement:jr,fakeFocus:Gn===Zp.ContentFocus,focusManager:xr,menuBehaviours:cb(fn!=="auto"?[]:[ua(function(Yr,no){Ug(Yr,4,ao.item).each(function(ko){var Or=ko.numColumns,Wo=ko.numRows;Sn.setGridSize(Yr,Wo,Or)})})])})),{anchor:{type:"node",root:gt.fromDom(n.getBody()),node:N.from(Ke.element)}}),ca.getContent(S).each(Ur.highlightFirst)}(Y,ze,L,ue):(10<=ze.text.length-Y.matchLength?T:f)())})})})},M={onKeypress:E2(function(q){q.which!==27&&R()},50),cancelIfNecessary:T,isMenuOpen:function(){return ca.isOpen(S)},isActive:u,isProcessingAction:x.get,getView:function(){return ca.getContent(S)}};function F(q,j){V(q,Zm(),{raw:j})}n.hasPlugin("rtc")===!1&&(d=M,(g=n).on("keypress compositionend",d.onKeypress.throttle),g.on("remove",d.onKeypress.cancel),g.on("keydown",function(q){function j(){return d.getView().bind(Ur.getHighlighted)}q.which===8&&d.onKeypress.throttle(q),d.isActive()&&(q.which===27&&d.cancelIfNecessary(),d.isMenuOpen()?q.which===13?(j().each(se),q.preventDefault()):q.which===40?(j().fold(function(){d.getView().each(Ur.highlightFirst)},function(G){F(G,q)}),q.preventDefault(),q.stopImmediatePropagation()):q.which!==37&&q.which!==38&&q.which!==39||j().each(function(G){F(G,q),q.preventDefault(),q.stopImmediatePropagation()}):q.which!==13&&q.which!==38&&q.which!==40||d.cancelIfNecessary())}),g.on("NodeChange",function(q){d.isActive()&&!d.isProcessingAction()&&Lg(gt.fromDom(q.element)).isNone()&&d.cancelIfNecessary()}))}var km=Sc([{stopped:[]},{resume:["element"]},{complete:[]}]),Em=function(n,o,u,f,d,g){return gS(n,o,u,f,d,g).fold(Zt,function(b){return Em(n,o,u,b,d,g)},Fn)},bS=function(n,o,u,f,d){var g=r1(u,f);return Em(n,o,u,f,g,d)},bu=Oc({name:"Container",factory:function(n){var o=n.dom,u=o.attributes,f=en(o,["attributes"]);return{uid:n.uid,dom:me({tag:"div",attributes:me({role:"presentation"},u)},f),components:n.components,behaviours:Jf(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[Se("components",[]),ea("containerBehaviours",[]),Se("events",{}),Se("domModification",{}),Se("eventOrder",{})]}),yS=ke([Se("prefix","form-field"),ea("fieldBehaviours",[wr,Pt])]),Cf=ke([Ac({schema:[$e("dom")],name:"label"}),Ac({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[$e("text")],name:"aria-descriptor"}),Ru({factory:{sketch:function(n){var o,u,f=(o=["factory"],u={},Vn(n,function(d,g){pn(o,g)||(u[g]=d)}),u);return n.factory.sketch(f)}},schema:[$e("factory")],name:"field"})]),Wr=ju({name:"FormField",configFields:yS(),partFields:Cf(),factory:function(n,o,u,f){var d=yi(n.fieldBehaviours,[wr.config({find:function(b){return po(b,n,"field")}}),Pt.config({store:{mode:"manual",getValue:function(b){return wr.getCurrent(b).bind(Pt.getValue)},setValue:function(b,x){wr.getCurrent(b).each(function(S){Pt.setValue(S,x)})}}})]),g=Uo([ua(function(b,x){var S=p0(b,n,["label","field","aria-descriptor"]);S.field().each(function(T){var A=un(n.prefix);S.label().each(function(R){nt(R.element,"for",A),nt(T.element,"id",A)}),S["aria-descriptor"]().each(function(R){var M=un(n.prefix);nt(R.element,"id",M),nt(T.element,"aria-describedby",M)})})})]);return{uid:n.uid,dom:n.dom,components:o,behaviours:d,events:g,apis:{getField:function(b){return po(b,n,"field")},getLabel:function(b){return po(b,n,"label")}}}},apis:{getField:function(n,o){return n.getField(o)},getLabel:function(n,o){return n.getLabel(o)}}}),wS=Object.freeze({__proto__:null,exhibit:function(n,o){return yl({attributes:Qn([{key:o.tabAttr,value:"true"}])})}}),ba=ru({fields:[Se("tabAttr","data-alloy-tabstop")],name:"tabstopping",active:wS}),fw=tinymce.util.Tools.resolve("tinymce.html.Entities"),vw=function(n,o,u,f){return{dom:id(u),components:n.toArray().concat([o]),fieldBehaviours:Tt(f)}},id=function(n){return{tag:"div",classes:["tox-form__group"].concat(n)}},Bu=un("form-component-change"),ih=un("form-close"),ud=un("form-cancel"),xf=un("form-action"),a1=un("form-submit"),uh=un("form-block"),i1=un("form-unblock"),u1=un("form-tabchange"),CS=un("form-resize"),xb=ke([jn("data"),Se("inputAttributes",{}),Se("inputStyles",{}),Se("tag","input"),Se("inputClasses",[]),Qr("onSetValue"),Se("styles",{}),Se("eventOrder",{}),ea("inputBehaviours",[Pt,Hn]),Se("selectOnFocus",!0)]),Rc=Oc({name:"Input",configFields:xb(),factory:function(n,o){return{uid:n.uid,dom:hS(n),components:[],behaviours:me(me({},lw(u=n)),yi(u.inputBehaviours,[Pt.config({store:me(me({mode:"manual"},u.data.map(function(f){return{initialValue:f}}).getOr({})),{getValue:function(f){return Ov(f.element)},setValue:function(f,d){Ov(f.element)!==d&&As(f.element,d)}}),onSetValue:u.onSetValue})])),eventOrder:n.eventOrder};var u}}),xS={},ch={exports:xS};function SS(n){setTimeout(function(){throw n},0)}function sh(n){var o=da(n);return pn(pw,o)}function dw(n,o){ha(o.getRoot(n).getOr(n.element),o.invalidClass),o.notify.each(function(u){sh(n.element)&&nt(n.element,"aria-invalid",!1),u.getContainer(n).each(function(f){Nh(f,u.validHtml)}),u.onValid(n)})}function mw(n,o,u,f){tu(o.getRoot(n).getOr(n.element),o.invalidClass),o.notify.each(function(d){sh(n.element)&&nt(n.element,"aria-invalid",!0),d.getContainer(n).each(function(g){Nh(g,f)}),d.onInvalid(n,f)})}function kS(n,o,u){return o.validator.fold(function(){return iv(on.value(!0))},function(f){return f.validate(n)})}function gw(n,o,u){return o.notify.each(function(f){f.onValidate(n)}),kS(n,o).map(function(f){return n.getSystem().isConnected()?f.fold(function(d){return mw(n,o,0,d),on.error(d)},function(d){return dw(n,o),on.value(d)}):on.error("No longer in system")})}(function(){var n=this,o=function(){var u,f,d,g={exports:{}};function b(){}function x(j){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof j!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],F(j,this)}function S(j,G){for(;j._state===3;)j=j._value;j._state!==0?(j._handled=!0,x._immediateFn(function(){var K,Q=j._state===1?G.onFulfilled:G.onRejected;if(Q!==null){try{K=Q(j._value)}catch(L){return void A(G.promise,L)}T(G.promise,K)}else(j._state===1?T:A)(G.promise,j._value)})):j._deferreds.push(G)}function T(j,G){try{if(G===j)throw new TypeError("A promise cannot be resolved with itself.");if(G&&(typeof G=="object"||typeof G=="function")){var K=G.then;if(G instanceof x)return j._state=3,j._value=G,void R(j);if(typeof K=="function")return void F((Q=K,L=G,function(){Q.apply(L,arguments)}),j)}j._state=1,j._value=G,R(j)}catch(Y){A(j,Y)}var Q,L}function A(j,G){j._state=2,j._value=G,R(j)}function R(j){j._state===2&&j._deferreds.length===0&&x._immediateFn(function(){j._handled||x._unhandledRejectionFn(j._value)});for(var G=0,K=j._deferreds.length;G<K;G++)S(j,j._deferreds[G]);j._deferreds=null}function M(j,G,K){this.onFulfilled=typeof j=="function"?j:null,this.onRejected=typeof G=="function"?G:null,this.promise=K}function F(j,G){var K=!1;try{j(function(Q){K||(K=!0,T(G,Q))},function(Q){K||(K=!0,A(G,Q))})}catch(Q){if(K)return;K=!0,A(G,Q)}}u=g,f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof xD<"u"?xD:typeof self<"u"?self:{},d=setTimeout,x.prototype.catch=function(j){return this.then(null,j)},x.prototype.then=function(j,G){var K=new this.constructor(b);return S(this,new M(j,G,K)),K},x.all=function(j){var G=Array.prototype.slice.call(j);return new x(function(K,Q){if(G.length===0)return K([]);for(var L=G.length,Y=0;Y<G.length;Y++)(function ue(de,Re){try{if(Re&&(typeof Re=="object"||typeof Re=="function")){var xe=Re.then;if(typeof xe=="function")return xe.call(Re,function(ze){ue(de,ze)},Q),0}G[de]=Re,--L==0&&K(G)}catch(ze){Q(ze)}})(Y,G[Y])})},x.resolve=function(j){return j&&typeof j=="object"&&j.constructor===x?j:new x(function(G){G(j)})},x.reject=function(j){return new x(function(G,K){K(j)})},x.race=function(j){return new x(function(G,K){for(var Q=0,L=j.length;Q<L;Q++)j[Q].then(G,K)})},x._immediateFn=typeof setImmediate=="function"?function(j){setImmediate(j)}:function(j){d(j,0)},x._unhandledRejectionFn=function(j){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",j)},x._setImmediateFn=function(j){x._immediateFn=j},x._setUnhandledRejectionFn=function(j){x._unhandledRejectionFn=j},u.exports?u.exports=x:f.Promise||(f.Promise=x);var q=g.exports;return{boltExport:(typeof window<"u"?window:Function("return this;")()).Promise||q}};typeof xS=="object"&&ch!==void 0?ch.exports=o():(n=typeof globalThis<"u"?globalThis:n||self).EphoxContactWrapper=o()})();var Ml,Tm,_c=ch.exports.boltExport,hw=function(n){function o(b){d()?g(b):f.push(b)}var u=N.none(),f=[],d=function(){return u.isSome()},g=function(b){u.each(function(x){setTimeout(function(){b(x)},0)})};return n(function(b){d()||(u=N.some(b),Yt(f,g),f=[])}),{get:o,map:function(b){return hw(function(x){o(function(S){x(b(S))})})},isReady:d}},$3={nu:hw,pure:function(n){return hw(function(o){o(n)})}},lh=function(n){function o(u){n().then(u,SS)}return{map:function(u){return lh(function(){return n().then(u)})},bind:function(u){return lh(function(){return n().then(function(f){return u(f).toPromise()})})},anonBind:function(u){return lh(function(){return n().then(function(){return u.toPromise()})})},toLazy:function(){return $3.nu(o)},toCached:function(){var u=null;return lh(function(){return u=u===null?n():u})},toPromise:n,get:o}},Yc=function(n){return lh(function(){return new _c(n)})},iv=function(n){return lh(function(){return _c.resolve(n)})},pw=["input","textarea"],V3=Object.freeze({__proto__:null,markValid:dw,markInvalid:mw,query:kS,run:gw,isInvalid:function(n,o){return uc(o.getRoot(n).getOr(n.element),o.invalidClass)}}),fh=Object.freeze({__proto__:null,events:function(n,o){return n.validator.map(function(u){return Uo([Pe(u.onEvent,function(f){gw(f,n).get(Nt)})].concat(u.validateOnLoad?[ua(function(f){gw(f,n).get(dt)})]:[]))}).getOr({})}}),il=ru({fields:[$e("invalidClass"),Se("getRoot",N.none),$i("notify",[Se("aria","alert"),Se("getContainer",N.none),Se("validHtml",""),Qr("onValid"),Qr("onInvalid"),Qr("onValidate")]),$i("validator",[$e("validate"),Se("onEvent","input"),Se("validateOnLoad",!0)])],name:"invalidating",active:fh,apis:V3,extra:{validation:function(n){return function(o){var u=Pt.getValue(o);return iv(n(u))}}}}),ES=Object.freeze({__proto__:null,getCoupled:function(n,o,u,f){return u.getOrCreate(n,o,f)}}),Za=ru({fields:[eu("others",Dh(on.value,jt()))],name:"coupling",apis:ES,state:Object.freeze({__proto__:null,init:function(){var n={},o=ke({});return cs({readState:o,getOrCreate:function(u,f,d){var g=Pr(f.others);if(g)return Ut(n,d).getOrThunk(function(){var b=Ut(f.others,d).getOrDie("No information found for coupled component: "+d)(u),x=u.getSystem().build(b);return n[d]=x});throw new Error("Cannot find coupled component: "+d+". Known coupled components: "+JSON.stringify(g,null,2))}})}})}),TS=ke("sink"),OS=ke(Ac({name:TS(),overrides:ke({dom:{tag:"div"},behaviours:Tt([fc.config({useFixed:Zt})]),events:Uo([kd(Zm()),kd(Fc()),kd(Fh())])})}));function AS(n,o){var u=n.getHotspot(o).getOr(o),f=n.getAnchorOverrides();return n.layouts.fold(function(){return{type:"hotspot",hotspot:u,overrides:f}},function(d){return{type:"hotspot",hotspot:u,overrides:f,layouts:d}})}function vh(n,o,u,f,d,g,b){var x,S=AS(n,u),T=u,A=f,R=d,M=b,F=o,q=(0,(x=n).fetch)(T).map(F),j=IS(T,x);return q.map(function(G){return G.bind(function(K){return N.from(lm.sketch(me(me({},R.menu()),{uid:og(""),data:K,highlightImmediately:M===Ml.HighlightFirst,onOpenMenu:function(Q,L){var Y=j().getOrDie();fc.position(Y,L,{anchor:S}),Tr.decloak(A)},onOpenSubmenu:function(Q,L,Y){var ue=j().getOrDie();fc.position(ue,Y,{anchor:{type:"submenu",item:L}}),Tr.decloak(A)},onRepositionMenu:function(Q,L,Y){var ue=j().getOrDie();fc.position(ue,L,{anchor:S}),Yt(Y,function(de){fc.position(ue,de.triggeredMenu,{anchor:{type:"submenu",item:de.triggeringItem}})})},onEscape:function(){return Hn.focus(T),Tr.close(A),N.some(!0)}})))})}).map(function(G){return G.fold(function(){Tr.isOpen(f)&&Tr.close(f)},function(K){Tr.cloak(f),Tr.open(f,K),g(f)}),f})}function uv(n,o,u,f,d,g){var b=Za.getCoupled(u,"sandbox");return(Tr.isOpen(b)?function(x,S,T,A,R,M,F){return Tr.close(A),iv(A)}:vh)(n,o,u,b,f,d,g)}function Sb(n){Tr.getState(n).each(function(o){lm.repositionMenus(o)})}function kb(n,o,u){var f=Pd(),d=IS(o,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:f.id,role:"listbox"}},behaviours:nl(n.sandboxBehaviours,[Pt.config({store:{mode:"memory",initialValue:o}}),Tr.config({onOpen:function(g,b){var x,S,T,A,R,M,F=AS(n,o);f.link(o.element),n.matchWidth&&(x=F.hotspot,S=b,T=n.useMinWidth,R=wr.getCurrent(S).getOr(S),M=Qo(x.element),T?pt(R.element,"min-width",M+"px"):(A=R.element,Ye.set(A,M))),n.onOpen(F,g,b),u!==void 0&&u.onOpen!==void 0&&u.onOpen(g,b)},onClose:function(g,b){f.unlink(o.element),u!==void 0&&u.onClose!==void 0&&u.onClose(g,b)},isPartOf:function(g,b,x){return Vf(b,x)||Vf(o,x)},getAttachPoint:function(){return d().getOrDie()}}),wr.config({find:function(g){return Tr.getState(g).bind(function(b){return wr.getCurrent(b)})}}),au.config({channels:me(me({},m0({isExtraPart:Fn})),jd({doReposition:Sb}))})])}}function bw(n){Sb(Za.getCoupled(n,"sandbox"))}function cd(){return[Se("sandboxClasses",[]),jc("sandboxBehaviours",[wr,au,Tr,Pt])]}function ul(n){return Ac({name:n+"-edge",overrides:function(o){return o.model.manager.edgeActions[n].fold(function(){return{}},function(u){return{events:Uo([sr(Qa(),function(f,d,g){return u(f,g)},[o]),sr(Fc(),function(f,d,g){return u(f,g)},[o]),sr(W1(),function(f,d,g){g.mouseIsDown.get()&&u(f,g)},[o])])}})}})}function c1(n){var o=n.event.raw;return o.type.indexOf("touch")===-1?o.clientX!==void 0?N.some(o).map(function(u){return te(u.clientX,u.clientY)}):N.none():o.touches!==void 0&&o.touches.length===1?N.some(o.touches[0]).map(function(u){return te(u.clientX,u.clientY)}):N.none()}function Sf(n){return n.model.minX}function sd(n){return n.model.minY}function cl(n){return n.model.minX-1}function Eb(n){return n.model.minY-1}function Bc(n){return n.model.maxX}function ld(n){return n.model.maxY}function Om(n){return n.model.maxX+1}function dh(n){return n.model.maxY+1}function DS(n,o,u){return o(n)-u(n)}function kf(n){return DS(n,Bc,Sf)}function Tb(n){return DS(n,ld,sd)}function yw(n){return kf(n)/2}function RS(n){return Tb(n)/2}function fd(n){return n.stepSize}function Am(n){return n.snapToGrid}function Dm(n){return n.snapStart}function ww(n){return n.rounded}function mh(n,o){return n[o+"-edge"]!==void 0}function Hs(n){return mh(n,"left")}function cv(n){return mh(n,"right")}function _S(n){return mh(n,"top")}function Ob(n){return mh(n,"bottom")}function Nc(n){return n.model.value.get()}function sv(n,o){return{x:n,y:o}}function sl(n,o){V(n,Nw(),{value:o})}function Cw(n,o,u,f){return n<o?n:u<n?u:n===o?o-1:Math.max(o,n-f)}function Ab(n,o,u,f){return u<n?n:n<o?o:n===u?u+1:Math.min(u,n+f)}function Pl(n,o,u){return Math.max(o,Math.min(u,n))}function s1(n){var o=n.min,u=n.max,f=n.range,d=n.value,g=n.step,b=n.snap,x=n.snapStart,S=n.rounded,T=n.hasMinEdge,A=n.hasMaxEdge,R=n.minBound,M=n.maxBound,F=n.screenRange,q=T?o-1:o,j=A?u+1:u;if(d<R)return q;if(M<d)return j;var G,K,Q,L,Y,ue=Pl((Y=R,(Math.min(M,Math.max(d,Y))-Y)/F*f+o),q,j);return b&&o<=ue&&ue<=u?(G=ue,K=o,Q=u,L=g,x.fold(function(){var de=Math.round((G-K)/L)*L;return Pl(K+de,K-1,Q+1)},function(de){var Re=Math.round((G-de)%L/L),xe=Math.floor((G-de)/L),ze=Math.floor((Q-de)/L),Ke=Math.min(ze,xe+Re);return Math.max(de,de+Ke*L)})):S?Math.round(ue):ue}function xw(n){var o=n.min,u=n.max,f=n.range,d=n.value,g=n.hasMinEdge,b=n.hasMaxEdge,x=n.maxBound,S=n.maxOffset,T=n.centerMinEdge,A=n.centerMaxEdge;return d<o?g?0:T:u<d?b?x:A:(d-o)/f*S}function zl(n){return n.element.dom.getBoundingClientRect()}function gh(n){return zl(n)[K3]}function l1(n){return zl(n).right}function f1(n){return zl(n).top}function Sw(n){return zl(n).bottom}function kw(n){return zl(n).width}function Rm(n){return zl(n).height}function _m(n,o){var u=zl(n),f=zl(o);return(u[K3]+u.right)/2-f[K3]}function Bm(n,o){var u=zl(n),f=zl(o);return(u.top+u.bottom)/2-f.top}function lv(n,o){V(n,Nw(),{value:o})}function Ew(n,o,u){return s1({min:Sf(o),max:Bc(o),range:kf(o),value:u,step:fd(o),snap:Am(o),snapStart:Dm(o),rounded:ww(o),hasMinEdge:Hs(o),hasMaxEdge:cv(o),minBound:gh(n),maxBound:l1(n),screenRange:kw(n)})}function BS(n){return function(o,u){return lv(o,{x:d=(0<n?Ab:Cw)(Nc(f=u).x,Sf(f),Bc(f),fd(f))}),N.some(d).map(Zt);var f,d}}function Db(n,o,u,f,d,g){var b,x,S,T,A,R,M,F,q=(x=g,S=u,T=f,A=d,R=kw(b=o),M=T.bind(function(j){return N.some(_m(j,b))}).getOr(0),F=A.bind(function(j){return N.some(_m(j,b))}).getOr(R),xw({min:Sf(x),max:Bc(x),range:kf(x),value:S,hasMinEdge:Hs(x),hasMaxEdge:cv(x),minBound:gh(b),minOffset:0,maxBound:l1(b),maxOffset:R,centerMinEdge:M,centerMaxEdge:F}));return gh(o)-gh(n)+q}function v1(n,o){V(n,Nw(),{value:o})}function hh(n,o,u){return s1({min:sd(o),max:ld(o),range:Tb(o),value:u,step:fd(o),snap:Am(o),snapStart:Dm(o),rounded:ww(o),hasMinEdge:_S(o),hasMaxEdge:Ob(o),minBound:f1(n),maxBound:Sw(n),screenRange:Rm(n)})}function vd(n){return function(o,u){return v1(o,{y:d=(0<n?Ab:Cw)(Nc(f=u).y,sd(f),ld(f),fd(f))}),N.some(d).map(Zt);var f,d}}function Tw(n,o,u,f,d,g){var b,x,S,T,A,R,M,F,q=(x=g,S=u,T=f,A=d,R=Rm(b=o),M=T.bind(function(j){return N.some(Bm(j,b))}).getOr(0),F=A.bind(function(j){return N.some(Bm(j,b))}).getOr(R),xw({min:sd(x),max:ld(x),range:Tb(x),value:S,hasMinEdge:_S(x),hasMaxEdge:Ob(x),minBound:f1(b),minOffset:0,maxBound:Sw(b),maxOffset:R,centerMinEdge:M,centerMaxEdge:F}));return f1(o)-f1(n)+q}function ph(n,o){V(n,Nw(),{value:o})}function Rb(n,o){return{x:n,y:o}}function _b(n,o){return function(u,f){return g=f,b=0<n?Ab:Cw,ph(u,Rb(x=(d=o)?Nc(g).x:b(Nc(g).x,Sf(g),Bc(g),fd(g)),d?b(Nc(g).y,sd(g),ld(g),fd(g)):Nc(g).y)),N.some(x).map(Zt);var d,g,b,x}}function NS(n){return"<alloy.field."+n+">"}function U3(n,o,u,f){function d(S,T,A,R,M){var F,q,j=n(Q3+"range"),G=[Wr.parts.label({dom:{tag:"label",innerHtml:A,attributes:{"aria-label":R}}}),Wr.parts.field({data:M,factory:Rc,inputAttributes:me({type:"text"},T==="hex"?{"aria-live":"polite"}:{}),inputClasses:[o("textfield")],inputBehaviours:Tt([(F=T,q=S,il.config({invalidClass:o("invalid"),notify:{onValidate:function(Q){V(Q,nT,{type:F})},onValid:function(Q){V(Q,tT,{type:F,value:Pt.getValue(Q)})},onInvalid:function(Q){V(Q,J3,{type:F,value:Pt.getValue(Q)})}},validator:{validate:function(Q){var L=Pt.getValue(Q),Y=q(L)?on.value(!0):on.error(n("aria.input.invalid"));return iv(Y)},validateOnLoad:!1}})),ba.config({})]),onSetValue:function(Q){il.isInvalid(Q)&&il.run(Q).get(dt)}})],K=T!=="hex"?[Wr.parts["aria-descriptor"]({text:j})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:G.concat(K)}}function g(S,T){var A=T.red,R=T.green,M=T.blue;Pt.setValue(S,{red:A,green:R,blue:M})}function b(S,T){x.getOpt(S).each(function(A){pt(A.element,"background-color","#"+T.value)})}var x=Zr({dom:{tag:"div",classes:[o("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});return Oc({factory:function(){function S(L){return q[L].get()}function T(L,Y){q[L].set(Y)}function A(L,Y){var ue=Y.event;ue.type!=="hex"?T(ue.type,N.none()):f(L)}function R(L,Y){var ue,de,Re,xe,ze=Y.event;ze.type==="hex"?function(Ke,Ie){u(Ke);var Ze=Jx(Ie);T("hex",N.some(Ie));var vt=eh(Ze);g(Ke,vt),F(vt),V(Ke,Y3,{hex:Ze}),b(Ke,Ze)}(L,ze.value):(ue=L,de=ze.type,Re=ze.value,xe=parseInt(Re,10),T(de,N.some(xe)),S("red").bind(function(Ke){return S("green").bind(function(Ie){return S("blue").map(function(Ze){return wf(Ke,Ie,Ze,1)})})}).each(function(Ke){var Ie,Ze,vt=(Ie=ue,Ze=Nl(Ke),zb.getField(Ie,"hex").each(function(Lt){Hn.isFocused(Lt)||Pt.setValue(Ie,{hex:Ze.value})}),Ze);V(ue,Y3,{hex:vt}),b(ue,vt)}))}function M(L){return{label:n(Q3+L+".label"),description:n(Q3+L+".description")}}function F(L){var Y=L.red,ue=L.green,de=L.blue;T("red",N.some(Y)),T("green",N.some(ue)),T("blue",N.some(de))}var q={red:Cn(N.some(255)),green:Cn(N.some(255)),blue:Cn(N.some(255)),hex:Cn(N.some("ffffff"))},j=M("red"),G=M("green"),K=M("blue"),Q=M("hex");return Ir(zb.sketch(function(L){return{dom:{tag:"form",classes:[o("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[L.field("red",Wr.sketch(d(V2,"red",j.label,j.description,255))),L.field("green",Wr.sketch(d(V2,"green",G.label,G.description,255))),L.field("blue",Wr.sketch(d(V2,"blue",K.label,K.description,255))),L.field("hex",Wr.sketch(d(Qx,"hex",Q.label,Q.description,"ffffff"))),x.asSpec()],formBehaviours:Tt([il.config({invalidClass:o("form-invalid")}),rr("rgb-form-events",[Pe(tT,R),Pe(J3,A),Pe(nT,A)])])}}),{apis:{updateHex:function(L,Y){var ue;Pt.setValue(L,{hex:Y.value}),g(L,ue=eh(Y)),F(ue),b(L,Y)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(S,T,A){S.updateHex(T,A)}},extraApis:{}})}function Bb(n,o){return Oc({name:"ColourPicker",configFields:[$e("dom"),Se("onValidHex",dt),Se("onInvalidHex",dt)],factory:function(u){function f(de,Re,xe){L.getOpt(de).each(function(ze){G.setHue(ze,xe)})}function d(de,Re){Y.getOpt(de).each(function(xe){j.updateHex(xe,Re)})}function g(de,Re,xe,ze){var Ke=xe,Ie=eh(Re);K.paletteRgba.set(Ie),K.paletteHue.set(Ke),Yt(ze,function(Ze){Ze(de,Re,xe)})}var b,x,S,T,A,R,M,F,q,j=U3(n,o,u.onValidHex,u.onInvalidHex),G=(M=o,F=Of.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[M("sv-palette-spectrum")]}}),q=Of.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[M("sv-palette-thumb")],innerHtml:"<div class="+M("sv-palette-inner-thumb")+' role="presentation"></div>'}}),Oc({factory:function(de){var Re=ke({x:0,y:0}),xe=Tt([wr.config({find:N.some}),Hn.config({})]);return Of.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[M("sv-palette")]},model:{mode:"xy",getInitialValue:Re},rounded:!1,components:[F,q],onChange:function(ze,Ke,Ie){V(ze,VS,{value:Ie})},onInit:function(ze,Ke,Ie,Ze){ue(Ie.element.dom,_u(hb))},sliderBehaviours:xe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(de,Re,xe){var ze=xe;ue(Re.components()[0].element.dom,_u(Zx(Xp(ze,100,100))))},setThumb:function(de,Re,xe){var ze=Re,Ke=vb(eh(xe));Of.setValue(ze,{x:Ke.saturation,y:100-Ke.value})}},extraApis:{}})),K={paletteRgba:Cn(hb),paletteHue:Cn(0)},Q=Zr((x=Of.parts.spectrum({dom:{tag:"div",classes:[(b=o)("hue-slider-spectrum")],attributes:{role:"presentation"}}}),S=Of.parts.thumb({dom:{tag:"div",classes:[b("hue-slider-thumb")],attributes:{role:"presentation"}}}),Of.sketch({dom:{tag:"div",classes:[b("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ke({y:0})},components:[x,S],sliderBehaviours:Tt([Hn.config({})]),onChange:function(de,Re,xe){V(de,eT,{value:xe})}}))),L=Zr(G.sketch({})),Y=Zr(j.sketch({}));function ue(de,Re){var xe,ze,Ke=de.width,Ie=de.height,Ze=de.getContext("2d");Ze!==null&&(Ze.fillStyle=Re,Ze.fillRect(0,0,Ke,Ie),(xe=Ze.createLinearGradient(0,0,Ke,0)).addColorStop(0,"rgba(255,255,255,1)"),xe.addColorStop(1,"rgba(255,255,255,0)"),Ze.fillStyle=xe,Ze.fillRect(0,0,Ke,Ie),(ze=Ze.createLinearGradient(0,0,0,Ie)).addColorStop(0,"rgba(0,0,0,0)"),ze.addColorStop(1,"rgba(0,0,0,1)"),Ze.fillStyle=ze,Ze.fillRect(0,0,Ke,Ie))}return{uid:u.uid,dom:u.dom,components:[L.asSpec(),Q.asSpec(),Y.asSpec()],behaviours:Tt([rr("colour-picker-events",[Pe(Y3,(R=[f,function(de,Re,xe){Q.getOpt(de).each(function(ze){Of.setValue(ze,{y:100-xe/360*100})})},function(de,Re){L.getOpt(de).each(function(xe){G.setThumb(xe,Re)})}],function(de,Re){var xe=Re.event.hex;g(de,xe,vb(eh(xe)).hue,R)})),Pe(VS,(A=[d],function(de,Re){var xe=Re.event.value,ze=K.paletteHue.get();g(de,nS(Xp(ze,xe.x,100-xe.y)),ze,A)})),Pe(eT,(T=[f,d],function(de,Re){var xe=(100-Re.event.value.y)/100*360,ze=vb(K.paletteRgba.get());g(de,nS(Xp(xe,ze.saturation,ze.value)),xe,T)}))]),wr.config({find:function(de){return Y.getOpt(de)}}),Sn.config({mode:"acyclic"})])}}})}function W3(n){return GD[n]}function d1(n,o,u){return Pt.config(Ir({store:{mode:"manual",getValue:o,setValue:u}},n.map(function(f){return{store:{initialValue:f}}}).getOr({})))}function MS(n,o){function u(S,T){T.stop()}function f(S){return function(T,A){Yt(S,function(R){R(T,A)})}}function d(S,T){var A;bn.isDisabled(S)||(A=T.event.raw,b(S,A.dataTransfer.files))}function g(S,T){var A=T.event.raw.target;b(S,A.files)}function b(S,T){var A,R;Pt.setValue(S,(A=T,R=yh.explode(o.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string")),Je(za(A),function(M){return Ct(R,function(F){return _r(M.name.toLowerCase(),"."+F.toLowerCase())})}))),V(S,Bu,{name:n.name})}var x=Zr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Tt([rr("input-file-events",[kd(Fh()),kd(_d())])])});return o1(n.label.map(function(S){return ad(S,o)}),Wr.parts.field({factory:{sketch:function(S){return{uid:S.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Tt([US([]),Ku(),bn.config({}),Br.config({toggleClass:"dragenter",toggleOnExecute:!1}),rr("dropzone-events",[Pe("dragenter",f([u,Br.toggle])),Pe("dragleave",f([u,Br.toggle])),Pe("dragover",u),Pe("drop",f([u,d])),Pe(zh(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:o.translate("Drop an image here")}},hc.sketch({dom:{tag:"button",innerHtml:o.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[x.asSpec()],action:function(T){x.get(T).element.dom.click()},buttonBehaviours:Tt([ba.config({}),th(o.isDisabled),wi()])})]}]}}}}),["tox-form__group--stretched"],[])}function Ow(n){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:Tt([Hn.config({ignore:!0}),ba.config({})])}}function PS(n){return{dom:{tag:"div",classes:["tox-navobj"]},components:[Ow([t4]),n,Ow([n4])],behaviours:Tt([Z3(1)])}}function zS(n,o){V(n,Zm(),{raw:{which:9,shiftKey:o}})}function Aw(n,o){var u=o.element;uc(u,t4)?zS(n,!0):uc(u,n4)&&zS(n,!1)}function m1(n){return n1(n,["."+t4,"."+n4].join(","),Fn)}function bh(n,o){return QD(document.createElement("canvas"),n,o)}function j3(n){var o=bh(n.width,n.height);return Nm(o).drawImage(n,0,0),o}function Nb(n){return n.naturalWidth||n.width}function Dw(n){return n.naturalHeight||n.height}function Rw(n,o,u){return o=o||"image/png",yt(HTMLCanvasElement.prototype.toBlob)?new _c(function(d,g){n.toBlob(function(b){b?d(b):g()},o,u)}):(f=n.toDataURL(o,u),new _c(function(d,g){(function(){var b=f.split(","),x=/data:([^;]+)/.exec(b[0]);if(!x)return N.none();for(var S=x[1],T=b[1],A=atob(T),R=A.length,M=Math.ceil(R/1024),F=new Array(M),q=0;q<M;++q){for(var j=1024*q,G=Math.min(1024+j,R),K=new Array(G-j),Q=j,L=0;Q<G;++L,++Q)K[L]=A[Q].charCodeAt(0);F[q]=new Uint8Array(K)}return N.some(new Blob(F,{type:S}))})().fold(function(){g("uri is not base64: "+f)},d)}));var f}function g1(n,o,u){function f(d,g){return n.then(function(b){return b.toDataURL(d||"image/png",g)})}return{getType:ke(o.type),toBlob:function(){return _c.resolve(o)},toDataURL:ke(u),toBase64:function(){return u.split(",")[1]},toAdjustedBlob:function(d,g){return n.then(function(b){return Rw(b,d,g)})},toAdjustedDataURL:f,toAdjustedBase64:function(d,g){return f(d,g).then(function(b){return b.split(",")[1]})},toCanvas:function(){return n.then(j3)}}}function fv(n,o){return Rw(n,o).then(function(u){return g1(_c.resolve(n),u,n.toDataURL())})}function i(n){return o=n,new _c(function(u){var f=new FileReader;f.onloadend=function(){u(f.result)},f.readAsDataURL(o)}).then(function(u){return g1((f=n,new _c(function(d,g){function b(){S.removeEventListener("load",T),S.removeEventListener("error",A)}var x=URL.createObjectURL(f),S=new Image,T=function(){b(),d(S)},A=function(){b(),g("Unable to load data of type "+f.type+": "+x)};S.addEventListener("load",T),S.addEventListener("error",A),S.src=x,S.complete&&setTimeout(T,0)}).then(function(d){ZD(d);var g=bh(Nb(d),Dw(d));return Nm(g).drawImage(d,0,0),g})),n,u);var f});var o}function s(n,o,u){var f=typeof n=="string"?parseFloat(n):n;return u<f?f=u:f<o&&(f=o),f}function v(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function h(n,o){for(var u=[],f=new Array(25),d=0;d<5;d++){for(var g=0;g<5;g++)u[g]=o[g+5*d];for(g=0;g<5;g++){for(var b=0,x=0;x<5;x++)b+=n[g+5*x]*u[x];f[g+5*d]=b}}return f}function y(n,o){return n.toCanvas().then(function(u){return e5(u,n.getType(),o)})}function E(n){return function(o,u){return y(o,n(v(),u))}}function B(n,o){o===void 0&&(o=2);var u=Math.pow(10,o),f=Math.round(n*u);return Math.ceil(f/u)}function I(n){return t5(n)}function J(n){return r5(n)}function ce(n,o){return o4(n,o)}function be(n,o){return n5(n,o)}function We(n,o){return r4(n,o)}function ft(n,o){return f=o,(u=n).toCanvas().then(function(d){return i5(d,u.getType(),f)});var u,f}function et(n,o){return f=o,(u=n).toCanvas().then(function(d){return a5(d,u.getType(),f)});var u,f}function Ue(n,o,u){return Ls(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:u},o)}function xt(n,o){return Ue(n,o,[])}function _t(n,o){return Ue(n,o,[qn.config({})])}function xn(n,o,u){return{dom:{tag:"span",innerHtml:u.translate(n),classes:[o+"__select-label"]},behaviours:Tt([qn.config({})])}}function Lr(n,o,u){function f(A,R){var M=Pt.getValue(A);return Hn.focus(M),V(M,"keydown",{raw:R.event.raw}),$s.close(M),N.some(!0)}var d=Cn(dt),g=n.text.map(function(A){return Zr(xn(A,o,u.providers))}),b=n.icon.map(function(A){return Zr(_t(A,u.providers.icons))}),x=n.role.fold(function(){return{}},function(A){return{role:A}}),S=n.tooltip.fold(function(){return{}},function(A){var R=u.providers.translate(A);return{title:R,"aria-label":R}}),T=Ls("chevron-down",{tag:"div",classes:[o+"__select-chevron"]},u.providers.icons);return Zr($s.sketch(me(me(me({},n.uid?{uid:n.uid}:{}),x),{dom:{tag:"button",classes:[o,o+"--select"].concat(ot(n.classes,function(A){return o+"--"+A})),attributes:me({},S)},components:nh([b.map(function(A){return A.asSpec()}),g.map(function(A){return A.asSpec()}),N.some(T)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Tt(On(On([],n.dropdownBehaviours,!0),[th(function(){return n.disabled||u.providers.isDisabled()}),wi(),Tf.config({}),qn.config({}),rr("dropdown-events",[ym(n,d),Gp(n,d)]),rr("menubutton-update-display-text",[Pe(wh,function(A,R){g.bind(function(M){return M.getOpt(A)}).each(function(M){qn.set(M,[Od(u.providers.translate(R.event.text))])})}),Pe(WS,function(A,R){b.bind(function(M){return M.getOpt(A)}).each(function(M){qn.set(M,[_t(R.event.icon,u.providers.icons)])})})])],!1)),eventOrder:Ir(oT,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Tt([Sn.config({mode:"special",onLeft:f,onRight:f})]),lazySink:u.getSink,toggleClass:o+"--active",parts:{menu:mm(0,n.columns,n.presets)},fetch:function(A){return Yc(Dr(n.fetch,A))}}))).asSpec()}function ln(n){return n.type==="separator"}function Pn(n,o,u,f){var d=un("primary-menu"),g=jS(n,u.shared.providers.menuItems());if(g.items.length===0)return N.none();var b=mS(d,g.items,o,u,f),x=tn(g.menus,function(T,A){return mS(A,T,o,u,!1)}),S=Ir(x,zc(d,b));return N.from(lm.tieredData(d,S,g.expansions))}function pr(n){return{isDisabled:function(){return bn.isDisabled(n)},setDisabled:function(o){return bn.set(n,o)},setActive:function(o){var u=n.element;o?(tu(u,"tox-tbtn--enabled"),nt(u,"aria-pressed",!0)):(ha(u,"tox-tbtn--enabled"),qe(u,"aria-pressed"))},isActive:function(){return uc(n.element,"tox-tbtn--enabled")}}}function gr(n,o,u,f){return Lr({text:n.text,icon:n.icon,tooltip:n.tooltip,role:f,fetch:function(d,g){n.fetch(function(b){g(Pn(b,pc.CLOSE_ON_EXECUTE,u,!1))})},onSetup:n.onSetup,getApi:pr,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ba.config({})]},o,u.shared)}function ei(n,o,u,f,d,g){u===void 0&&(u=[]);var b=o.fold(function(){return{}},function(T){return{action:T}}),x=me({buttonBehaviours:Tt([th(function(){return n.disabled||g.isDisabled()}),wi(),ba.config({}),rr("button press",[cr("click"),cr("mousedown")])].concat(u)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},b),S=Ir(x,{dom:f});return Ir(S,{components:d})}function Wi(n,o,u,f){f===void 0&&(f=[]);var d={tag:"button",classes:["tox-tbtn"],attributes:n.tooltip.map(function(b){return{"aria-label":u.translate(b),title:u.translate(b)}}).getOr({})},g=n.icon.map(function(b){return xt(b,u.icons)});return ei(n,o,f,d,nh([g]),u)}function ji(n,o,u,f){f===void 0&&(f=[]);var d=Wi(n,N.some(o),u,f);return hc.sketch(d)}function Nr(n,o,u,f,d){f===void 0&&(f=[]),d===void 0&&(d=[]);var g=u.translate(n.text),b=n.icon?n.icon.map(function(A){return xt(A,u.icons)}):N.none(),x=b.isSome()?nh([b]):[],S=b.isSome()?{}:{innerHtml:g},T=On(On(On(On([],n.primary||n.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),b.isSome()?["tox-button--icon"]:[],!0),n.borderless?["tox-button--naked"]:[],!0),d,!0);return ei(n,o,f,me(me({tag:"button",classes:T},S),{attributes:{title:g}}),x,u)}function $n(n,o,u,f,d){f===void 0&&(f=[]),d===void 0&&(d=[]);var g=Nr(n,N.some(o),u,f,d);return hc.sketch(g)}function Cr(n,o){return function(u){o==="custom"?V(u,xf,{name:n,value:{}}):o==="submit"?z(u,a1):o==="cancel"?z(u,ud):console.error("Unknown button type: ",o)}}function $o(n,o,u){if(o==="menu"){var f=n,d=Zr(gr(me(me({},n),{onSetup:function(T){return T.setDisabled(n.disabled),dt},fetch:(g=f.items,b=function(){return d},x=u,function(T){T(ot(g,function(A){var R,M,F=A.text.fold(function(){return{}},function(q){return{text:q}});return me(me({type:A.type,active:!1},F),{onAction:function(q){var j=!q.isActive();q.setActive(j),M.storage.set(j),x.shared.getSink().each(function(G){b().getOpt(G).each(function(K){Zl(K.element),V(K,xf,{name:M.name,value:M.storage.get()})})})},onSetup:(R=M=A,function(q){q.setActive(R.storage.get())})})}))})}),"tox-tbtn",u,N.none()));return d.asSpec()}var g,b,x;if(o==="custom"||o==="cancel"||o==="submit"){var S=Cr(n.name,o);return $n(me(me({},n),{borderless:!1}),S,u.shared.providers,[])}console.error("Unknown footer button type: ",o)}function ya(n,o){return Ru({factory:Wr,name:n,overrides:function(u){return{fieldBehaviours:Tt([rr("coupled-input-behaviour",[Pe(Dd(),function(f){po(f,u,o).bind(wr.getCurrent).each(function(d){po(f,u,"lock").each(function(g){Br.isOn(g)&&u.onLockedChange(f,d,g)})})})])])}}})}function Fl(n){var o=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(o===null)return on.error(n);var u=parseFloat(o[1]),f=o[2];return on.value({value:u,unit:f})}function ll(n,o){function u(d){return Jn(f,d)}var f={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};return n.unit===o?N.some(n.value):u(n.unit)&&u(o)?f[n.unit]===f[o]?N.some(n.value):N.some(n.value/f[n.unit]*f[o]):N.none()}function Ef(n){return N.none()}function yu(n,o){function u(R){return Ls(R,{tag:"span",classes:["tox-icon","tox-lock-icon__"+R]},o.icons)}function f(R){return{dom:{tag:"div",classes:["tox-form__group"]},components:R}}function d(R){return Wr.parts.field({factory:Rc,inputClasses:["tox-textfield"],inputBehaviours:Tt([bn.config({disabled:function(){return n.disabled||o.isDisabled()}}),wi(),ba.config({}),rr("size-input-events",[Pe($f(),function(M,F){V(M,x,{isField1:R})}),Pe(zh(),function(M,F){V(M,Bu,{name:n.name})})])]),selectOnFocus:!1})}function g(R){return{dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(R)}}}var b=Ef,x=un("ratio-event"),S=uu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:o.translate(n.label.getOr("Constrain proportions"))}},components:[u("lock"),u("unlock")],buttonBehaviours:Tt([bn.config({disabled:function(){return n.disabled||o.isDisabled()}}),wi(),ba.config({})])}),T=uu.parts.field1(f([Wr.parts.label(g("Width")),d(!0)])),A=uu.parts.field2(f([Wr.parts.label(g("Height")),d(!1)]));return uu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[T,A,f([g("&nbsp;"),S])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(R,M,F){Fl(Pt.getValue(R)).each(function(q){b(q).each(function(j){var G,K,Q,L;Pt.setValue(M,(L=(L=(G=j).value.toFixed((K=G.unit)in(Q={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4})?Q[K]:1)).indexOf(".")!==-1?L.replace(/\.?0*$/,""):L)+G.unit)})})},coupledFieldBehaviours:Tt([bn.config({disabled:function(){return n.disabled||o.isDisabled()},onDisabled:function(R){uu.getField1(R).bind(Wr.getField).each(bn.disable),uu.getField2(R).bind(Wr.getField).each(bn.disable),uu.getLock(R).each(bn.disable)},onEnabled:function(R){uu.getField1(R).bind(Wr.getField).each(bn.enable),uu.getField2(R).bind(Wr.getField).each(bn.enable),uu.getLock(R).each(bn.enable)}}),wi(),rr("size-input-events2",[Pe(x,function(R,M){var F,q,j,G=M.event.isField1,K=G?uu.getField1(R):uu.getField2(R),Q=G?uu.getField2(R):uu.getField1(R),L=K.map(Pt.getValue).getOr(""),Y=Q.map(Pt.getValue).getOr("");F=Y,q=Fl(L).toOptional(),j=Fl(F).toOptional(),b=xu(q,j,function(ue,de){return ll(ue,de.unit).map(function(Re){return de.value/Re}).map(function(Re){return xe=Re,ze=de.unit,function(Ke){return ll(Ke,ze).map(function(Ie){return{value:Ie*xe,unit:ze}})};var xe,ze}).getOr(Ef)}).getOr(Ef)})])])})}function Mb(n,o){function u(At,Xn,co,No){return Zr($n({name:At,text:At,disabled:co,primary:No,icon:N.none(),borderless:!1},Xn,o))}function f(At,Xn,co,No){return Zr(ji({name:At,icon:N.some(At),tooltip:N.some(Xn),disabled:No,primary:!1,borderless:!1},co,o))}function d(At,Xn){At.map(function(co){var No=co.get(Xn);No.hasConfigured(bn)&&bn.disable(No)})}function g(At,Xn){At.map(function(co){var No=co.get(Xn);No.hasConfigured(bn)&&bn.enable(No)})}function b(At,Xn,co){V(At,Xn,co)}function x(At){return z(At,ds.disable()),0}function S(At){return z(At,ds.enable()),0}function T(At,Xn){x(At),b(At,Nu.transform(),{transform:Xn}),S(At)}function A(At){return function(){io.getOpt(At).each(function(Xn){qn.set(Xn,[Ma])})}}function R(At,Xn){x(At),b(At,Nu.transformApply(),{transform:Xn,swap:A(At)}),S(At)}function M(){return u("Back",function(At){return b(At,Nu.back(),{swap:A(At)})},!1,!1)}function F(){return Zr({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Tt([bn.config({})])})}function q(){return u("Apply",function(At){return b(At,Nu.apply(),{swap:A(At)})},!0,!0)}function j(At,Xn){return function(co){return At(co,Xn)}}function G(At,Xn){var co,No=Xn;x(co=At),b(co,Nu.tempTransform(),{transform:No}),S(co)}function K(At,Xn,co,No,Xo){var yc=Of.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(At)}}),xi=Of.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Si=Of.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Zr(Of.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:co,maxX:Xo,getInitialValue:ke({x:No})},components:[yc,xi,Si],sliderBehaviours:Tt([Hn.config({})]),onChoose:Xn}))}function Q(At,Xn,co,No,Xo){var yc,xi,Si,Mu,cu,Gi,Mi=(yc=At,xi=Xn,Si=co,Mu=No,cu=Xo,[M(),(Gi=xi,K(yc,function(Pi,vl,vr){T(Pi,j(Gi,vr.x/100))},Si,Mu,cu)),q()]);return bu.sketch({dom:ue,components:Mi.map(function(Pi){return Pi.asSpec()}),containerBehaviours:Tt([rr("image-tools-filter-panel-buttons-events",[Pe(ds.disable(),function(Pi,vl){d(Mi,Pi)}),Pe(ds.enable(),function(Pi,vl){g(Mi,Pi)})])])})}function L(At){return K(At,function(Xn,co,No){var Xo=ko.getOpt(Xn),yc=Wo.getOpt(Xn),xi=Or.getOpt(Xn);Xo.each(function(Si){yc.each(function(Mu){xi.each(function(cu){var Gi,Mi,Pi,vl=Pt.getValue(Si).x/100,vr=Pt.getValue(cu).x/100,wc=Pt.getValue(Mu).x/100,Yu=(Gi=vl,Mi=vr,Pi=wc,function(_f){return y(_f,(yv=Mi,wv=Pi,h(v(),[s(Gi,0,2),0,0,0,0,0,s(yv,0,2),0,0,0,0,0,s(wv,0,2),0,0,0,0,0,1,0,0,0,0,0,1])));var yv,wv});T(Xn,Yu)})})})},0,100,200)}function Y(At,Xn,co){return function(No){b(No,Nu.swap(),{transform:Xn,swap:function(){io.getOpt(No).each(function(Xo){qn.set(Xo,[At]),co(Xo)})}})}}var ue={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},de=dt,Re=[M(),F(),u("Apply",function(At){R(At,function(Xn){var co,No,Xo,yc,xi,Si,Mu,cu,Gi,Mi=n.getRect();return co=Mi.x,No=Mi.y,Xo=Mi.w,yc=Mi.h,Si=co,Mu=No,cu=Xo,Gi=yc,(xi=Xn).toCanvas().then(function(Pi){return u5(Pi,xi.getType(),Si,Mu,cu,Gi)})}),n.hideCrop()},!1,!0)],xe=bu.sketch({dom:ue,components:Re.map(function(At){return At.asSpec()}),containerBehaviours:Tt([rr("image-tools-crop-buttons-events",[Pe(ds.disable(),function(At,Xn){d(Re,At)}),Pe(ds.enable(),function(At,Xn){g(Re,At)})])])}),ze=Zr(yu({name:"size",label:N.none(),constrain:!0,disabled:!1},o)),Ke=[M(),F(),ze,F(),u("Apply",function(At){ze.getOpt(At).each(function(Xn){var co,No,Xo=Pt.getValue(Xn),yc=parseInt(Xo.width,10),xi=parseInt(Xo.height,10),Si=(co=yc,No=xi,function(Mu){return Gi=co,Mi=No,(cu=Mu).toCanvas().then(function(Pi){return rT(Pi,Gi,Mi).then(function(vl){return fv(vl,cu.getType())})});var cu,Gi,Mi});R(At,Si)})},!1,!0)],Ie=bu.sketch({dom:ue,components:Ke.map(function(At){return At.asSpec()}),containerBehaviours:Tt([rr("image-tools-resize-buttons-events",[Pe(ds.disable(),function(At,Xn){d(Ke,At)}),Pe(ds.enable(),function(At,Xn){g(Ke,At)})])])}),Ze=j(ft,"h"),vt=j(ft,"v"),Lt=j(et,-90),fn=j(et,90),Gn=[M(),F(),f("flip-horizontally","Flip horizontally",function(At){G(At,Ze)},!1),f("flip-vertically","Flip vertically",function(At){G(At,vt)},!1),f("rotate-left","Rotate counterclockwise",function(At){G(At,Lt)},!1),f("rotate-right","Rotate clockwise",function(At){G(At,fn)},!1),F(),q()],xr=bu.sketch({dom:ue,components:Gn.map(function(At){return At.asSpec()}),containerBehaviours:Tt([rr("image-tools-fliprotate-buttons-events",[Pe(ds.disable(),function(At,Xn){d(Gn,At)}),Pe(ds.enable(),function(At,Xn){g(Gn,At)})])])}),jr=[M(),F(),q()],ao=bu.sketch({dom:ue,components:jr.map(function(At){return At.asSpec()})}),hr=Q("Brightness",be,-100,0,100),Yr=Q("Contrast",We,-100,0,100),no=Q("Gamma",ce,-100,0,100),ko=L("R"),Or=L("G"),Wo=L("B"),Ni=[M(),ko,Or,Wo,q()],Xu=bu.sketch({dom:ue,components:Ni.map(function(At){return At.asSpec()})}),bc=N.some(J),Bo=N.some(I),gs=[f("crop","Crop",Y(xe,N.none(),function(At){n.showCrop()}),!1),f("resize","Resize",Y(Ie,N.none(),function(At){ze.getOpt(At).each(function(Xn){var co=n.getMeasurements(),No=co.width,Xo=co.height;Pt.setValue(Xn,{width:No,height:Xo})})}),!1),f("orientation","Orientation",Y(xr,N.none(),de),!1),f("brightness","Brightness",Y(hr,N.none(),de),!1),f("sharpen","Sharpen",Y(ao,bc,de),!1),f("contrast","Contrast",Y(Yr,N.none(),de),!1),f("color-levels","Color levels",Y(Xu,N.none(),de),!1),f("gamma","Gamma",Y(no,N.none(),de),!1),f("invert","Invert",Y(ao,Bo,de),!1)],Ma=bu.sketch({dom:ue,components:gs.map(function(At){return At.asSpec()})}),io=Zr(bu.sketch({dom:{tag:"div"},components:[Ma],containerBehaviours:Tt([qn.config({})])}));return{memContainer:io,getApplyButton:function(At){return io.getOpt(At).map(function(Xn){var co=Xn.components()[0];return co.components()[co.components().length-1]})}}}function vv(n){if(Gt(n.changedTouches))for(var o="screenX screenY pageX pageY clientX clientY".split(" "),u=0;u<o.length;u++)n[o[u]]=n.changedTouches[0][o[u]]}(Tm=Ml=Ml||{})[Tm.HighlightFirst=0]="HighlightFirst",Tm[Tm.HighlightNone=1]="HighlightNone";function dv(n,o){return{uid:n.uid,dom:n.dom,components:o,behaviours:yi(n.formBehaviours,[Pt.config({store:{mode:"manual",getValue:function(u){return tn(UC(u,n),function(f,d){return f().bind(function(g){var b=wr.getCurrent(g),x=new Error("Cannot find a current component to extract the value from for form part '"+d+"': "+ic(g.element));return b.fold(function(){return on.error(x)},on.value)}).map(Pt.getValue)})},setValue:function(u,f){Vn(f,function(d,g){po(u,n,g).each(function(b){wr.getCurrent(b).each(function(x){Pt.setValue(x,d)})})})}}})]),apis:{getField:function(u,f){return po(u,n,f).bind(wr.getCurrent)}}}}function Ku(){return wr.config({find:N.some})}function mv(n){return o=I1,u=Nh,d1(n,function(f){return o(f.element)},function(f,d){return u(f.element,d)});var o,u}var FS,Pb,_w,Bw,IS=function(n,o){return n.getSystem().getByUid(o.uid+"-"+TS()).map(function(u){return function(){return on.value(u)}}).getOrThunk(function(){return o.lazySink.fold(function(){return function(){return on.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(u){return function(){return u(n)}})})},q3=ke([$e("dom"),$e("fetch"),Qr("onOpen"),Lc("onExecute"),Se("getHotspot",N.some),Se("getAnchorOverrides",ke({})),Tl(),ea("dropdownBehaviours",[Br,Za,Sn,Hn]),$e("toggleClass"),Se("eventOrder",{}),jn("lazySink"),Se("matchWidth",!1),Se("useMinWidth",!1),jn("role")].concat(cd())),h1=ke([vc({schema:[zd()],name:"menu",defaults:function(n){return{onExecute:n.onExecute}}}),OS()]),$s=ju({name:"Dropdown",configFields:q3(),partFields:h1(),factory:function(n,o,u,f){function d(S){Tr.getState(S).each(function(T){lm.highlightPrimary(T)})}function g(S,T){return se(S),N.some(!0)}var b,x={expand:function(S){Br.isOn(S)||uv(n,Nt,S,f,dt,Ml.HighlightNone).get(dt)},open:function(S){Br.isOn(S)||uv(n,Nt,S,f,dt,Ml.HighlightFirst).get(dt)},isOpen:Br.isOn,close:function(S){Br.isOn(S)&&uv(n,Nt,S,f,dt,Ml.HighlightFirst).get(dt)},repositionMenus:function(S){Br.isOn(S)&&bw(S)}};return{uid:n.uid,dom:n.dom,components:o,behaviours:yi(n.dropdownBehaviours,[Br.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Za.config({others:{sandbox:function(S){return kb(n,S,{onOpen:function(){return Br.on(S)},onClose:function(){return Br.off(S)}})}}}),Sn.config({mode:"special",onSpace:g,onEnter:g,onDown:function(S,T){return $s.isOpen(S)?d(Za.getCoupled(S,"sandbox")):$s.open(S),N.some(!0)},onEscape:function(S,T){return $s.isOpen(S)?($s.close(S),N.some(!0)):N.none()}}),Hn.config({})]),events:am(N.some(function(S){uv(n,Nt,S,f,d,Ml.HighlightFirst).get(dt)})),eventOrder:me(me({},n.eventOrder),((b={})[Ec()]=["disabling","toggling","alloy.base.behaviour"],b)),apis:x,domModification:{attributes:me(me({"aria-haspopup":"true"},n.role.fold(function(){return{}},function(S){return{role:S}})),n.dom.tag==="button"?{type:Ut(n.dom,"attributes").bind(function(S){return Ut(S,"type")}).getOr("button")}:{})}}},apis:{open:function(n,o){return n.open(o)},expand:function(n,o){return n.expand(o)},close:function(n,o){return n.close(o)},isOpen:function(n,o){return n.isOpen(o)},repositionMenus:function(n,o){return n.repositionMenus(o)}}}),Tf=ru({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return Uo([sn(tg(),Zt)])},exhibit:function(){return yl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),YE=un("color-input-change"),LS=un("color-swatch-change"),JE=un("color-picker-cancel"),SD=Ac({schema:[$e("dom")],name:"label"}),kD=ul("top-left"),ED=ul("top"),TD=ul("top-right"),QE=ul("right"),G3=ul("bottom-right"),OD=ul("bottom"),HS=ul("bottom-left"),AD=[SD,ul("left"),QE,ED,OD,kD,TD,HS,G3,Ru({name:"thumb",defaults:ke({dom:{styles:{position:"absolute"}}}),overrides:function(n){return{events:Uo([Ti(Qa(),n,"spectrum"),Ti(Ad(),n,"spectrum"),Ti(Rs(),n,"spectrum"),Ti(Fc(),n,"spectrum"),Ti(W1(),n,"spectrum"),Ti(j1(),n,"spectrum")])}}}),Ru({schema:[Zo("mouseIsDown",function(){return Cn(!1)})],name:"spectrum",overrides:function(n){function o(f,d){return u.getValueFromEvent(d).map(function(g){return u.setValueFrom(f,n,g)})}var u=n.model.manager;return{behaviours:Tt([Sn.config({mode:"special",onLeft:function(f){return u.onLeft(f,n)},onRight:function(f){return u.onRight(f,n)},onUp:function(f){return u.onUp(f,n)},onDown:function(f){return u.onDown(f,n)}}),Hn.config({})]),events:Uo([Pe(Qa(),o),Pe(Ad(),o),Pe(Fc(),o),Pe(W1(),function(f,d){n.mouseIsDown.get()&&o(f,d)})])}}})],Nw=ke("slider.change.value"),K3="left",DD=BS(-1),RD=BS(1),_D=N.none,ZE=N.none,BD={"top-left":N.none(),top:N.none(),"top-right":N.none(),right:N.some(function(n,o){sl(n,{x:Om(o)})}),"bottom-right":N.none(),bottom:N.none(),"bottom-left":N.none(),left:N.some(function(n,o){sl(n,{x:cl(o)})})},ND=Object.freeze({__proto__:null,setValueFrom:function(n,o,u){var f=Ew(n,o,u);return lv(n,{x:f}),f},setToMin:function(n,o){lv(n,{x:Sf(o)})},setToMax:function(n,o){lv(n,{x:Bc(o)})},findValueOfOffset:Ew,getValueFromEvent:function(n){return c1(n).map(function(o){return o.left})},findPositionOfValue:Db,setPositionFromValue:function(n,o,u,f){var d=Nc(u),g=Db(n,f.getSpectrum(n),d.x,f.getLeftEdge(n),f.getRightEdge(n),u),b=Qo(o.element)/2;pt(o.element,"left",g-b+"px")},onLeft:DD,onRight:RD,onUp:_D,onDown:ZE,edgeActions:BD}),$S=N.none,MD=N.none,PD=vd(-1),X3=vd(1),zD={"top-left":N.none(),top:N.some(function(n,o){sl(n,{y:Eb(o)})}),"top-right":N.none(),right:N.none(),"bottom-right":N.none(),bottom:N.some(function(n,o){sl(n,{y:dh(o)})}),"bottom-left":N.none(),left:N.none()},FD=Object.freeze({__proto__:null,setValueFrom:function(n,o,u){var f=hh(n,o,u);return v1(n,{y:f}),f},setToMin:function(n,o){v1(n,{y:sd(o)})},setToMax:function(n,o){v1(n,{y:ld(o)})},findValueOfOffset:hh,getValueFromEvent:function(n){return c1(n).map(function(o){return o.top})},findPositionOfValue:Tw,setPositionFromValue:function(n,o,u,f){var d=Nc(u),g=Tw(n,f.getSpectrum(n),d.y,f.getTopEdge(n),f.getBottomEdge(n),u),b=$r(o.element)/2;pt(o.element,"top",g-b+"px")},onLeft:$S,onRight:MD,onUp:PD,onDown:X3,edgeActions:zD}),ID=c1,LD=_b(-1,!1),HD=_b(1,!1),$D=_b(-1,!0),VD=_b(1,!0),UD={"top-left":N.some(function(n,o){sl(n,sv(cl(o),Eb(o)))}),top:N.some(function(n,o){sl(n,sv(yw(o),Eb(o)))}),"top-right":N.some(function(n,o){sl(n,sv(Om(o),Eb(o)))}),right:N.some(function(n,o){sl(n,sv(Om(o),RS(o)))}),"bottom-right":N.some(function(n,o){sl(n,sv(Om(o),dh(o)))}),bottom:N.some(function(n,o){sl(n,sv(yw(o),dh(o)))}),"bottom-left":N.some(function(n,o){sl(n,sv(cl(o),dh(o)))}),left:N.some(function(n,o){sl(n,sv(cl(o),RS(o)))})},WD=Object.freeze({__proto__:null,setValueFrom:function(n,o,u){var f=Rb(Ew(n,o,u.left),hh(n,o,u.top));return ph(n,f),f},setToMin:function(n,o){ph(n,Rb(Sf(o),sd(o)))},setToMax:function(n,o){ph(n,Rb(Bc(o),ld(o)))},getValueFromEvent:ID,setPositionFromValue:function(n,o,u,f){var d=Nc(u),g=Db(n,f.getSpectrum(n),d.x,f.getLeftEdge(n),f.getRightEdge(n),u),b=Tw(n,f.getSpectrum(n),d.y,f.getTopEdge(n),f.getBottomEdge(n),u),x=Qo(o.element)/2,S=$r(o.element)/2;pt(o.element,"left",g-x+"px"),pt(o.element,"top",b-S+"px")},onLeft:LD,onRight:HD,onUp:$D,onDown:VD,edgeActions:UD}),Of=ju({name:"Slider",configFields:[Se("stepSize",1),Se("onChange",dt),Se("onChoose",dt),Se("onInit",dt),Se("onDragStart",dt),Se("onDragEnd",dt),Se("snapToGrid",!1),Se("rounded",!0),jn("snapStart"),eu("model",Au("mode",{x:[Se("minX",0),Se("maxX",100),Zo("value",function(n){return Cn(n.mode.minX)}),$e("getInitialValue"),Lo("manager",ND)],y:[Se("minY",0),Se("maxY",100),Zo("value",function(n){return Cn(n.mode.minY)}),$e("getInitialValue"),Lo("manager",FD)],xy:[Se("minX",0),Se("maxX",100),Se("minY",0),Se("maxY",100),Zo("value",function(n){return Cn({x:n.mode.minX,y:n.mode.minY})}),$e("getInitialValue"),Lo("manager",WD)]})),ea("sliderBehaviours",[Sn,Pt]),Zo("mouseIsDown",function(){return Cn(!1)})],partFields:AD,factory:function(n,o,u,f){function d(Q){return tl(Q,n,"thumb")}function g(Q){return tl(Q,n,"spectrum")}function b(Q){return po(Q,n,"left-edge")}function x(Q){return po(Q,n,"right-edge")}function S(Q){return po(Q,n,"top-edge")}function T(Q){return po(Q,n,"bottom-edge")}function A(Q,L){K.setPositionFromValue(Q,L,n,{getLeftEdge:b,getRightEdge:x,getTopEdge:S,getBottomEdge:T,getSpectrum:g})}function R(Q,L){G.value.set(L),A(Q,d(Q))}function M(Q){var L=n.mouseIsDown.get();n.mouseIsDown.set(!1),L&&po(Q,n,"thumb").each(function(Y){var ue=G.value.get();n.onChoose(Q,Y,ue)})}function F(Q,L){L.stop(),n.mouseIsDown.set(!0),n.onDragStart(Q,d(Q))}function q(Q,L){L.stop(),n.onDragEnd(Q,d(Q)),M(Q)}var j,G=n.model,K=G.manager;return{uid:n.uid,dom:n.dom,components:o,behaviours:yi(n.sliderBehaviours,[Sn.config({mode:"special",focusIn:function(Q){return po(Q,n,"spectrum").map(Sn.focusIn).map(Zt)}}),Pt.config({store:{mode:"manual",getValue:function(Q){return G.value.get()}}}),au.config({channels:((j={})[wg()]={onReceive:M},j)})]),events:Uo([Pe(Nw(),function(Q,L){(function(Y,ue){R(Y,ue);var de=d(Y);n.onChange(Y,de,ue)})(Q,L.event.value)}),ua(function(Q,L){var Y=G.getInitialValue();G.value.set(Y);var ue=d(Q);A(Q,ue);var de=g(Q);n.onInit(Q,ue,de,G.value.get())}),Pe(Qa(),F),Pe(Rs(),q),Pe(Fc(),F),Pe(j1(),q)]),apis:{resetToMin:function(Q){K.setToMin(Q,n)},resetToMax:function(Q){K.setToMax(Q,n)},setValue:R,refresh:A},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(n,o,u){n.setValue(o,u)},resetToMin:function(n,o){n.resetToMin(o)},resetToMax:function(n,o){n.resetToMax(o)},refresh:function(n,o){n.refresh(o)}}}),Y3=un("rgb-hex-update"),eT=un("slider-update"),VS=un("palette-update"),jD=[ea("formBehaviours",[Pt])],zb={getField:Ed(function(n,o,u){return n.getField(o,u)}),sketch:function(n){var o,u={field:function(g,b){return o.push(g),Ol("form",NS(g),b)},record:ke(o=[])},f=n(u),d=ot(u.record(),function(g){return Ru({name:g,pname:NS(g)})});return qd("form",jD,d,dv,f)}},tT=un("valid-input"),J3=un("invalid-input"),nT=un("validating-input"),Q3="colorcustom.rgb.",qD=function(n){return wr.config({find:n.getOpt})},Z3=function(n){return wr.config({find:function(o){return ai(o.element,n).bind(function(u){return o.getSystem().getByDom(u).toOptional()})}})},GD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},e4=tinymce.util.Tools.resolve("tinymce.Resource"),yh=tinymce.util.Tools.resolve("tinymce.util.Tools"),KD=Tn([Se("preprocess",Nt),Se("postprocess",Nt)]),XD=function(n,o){var u=Ra("RepresentingConfigs.memento processors",KD,o);return Pt.config({store:{mode:"manual",getValue:function(f){var d=n.get(f),g=Pt.getValue(d);return u.postprocess(g)},setValue:function(f,d){var g=u.preprocess(d),b=n.get(f);Pt.setValue(b,g)}}})},YD=d1,US=function(n){return Pt.config({store:{mode:"memory",initialValue:n}})},t4=un("alloy-fake-before-tabstop"),n4=un("alloy-fake-after-tabstop"),JD=!(Ia().browser.isIE()||Ia().browser.isEdge()),Nm=function(n){return n.getContext("2d")},QD=function(n,o,u){return n.width=o,n.height=u,n},ZD=function(n){URL.revokeObjectURL(n.src)},Mw=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],e5=function(n,o,u){var f=Nm(n),d=function(g){for(var b,x,S,T,A=g.data,R=u[0],M=u[1],F=u[2],q=u[3],j=u[4],G=u[5],K=u[6],Q=u[7],L=u[8],Y=u[9],ue=u[10],de=u[11],Re=u[12],xe=u[13],ze=u[14],Ke=u[15],Ie=u[16],Ze=u[17],vt=u[18],Lt=u[19],fn=0;fn<A.length;fn+=4)b=A[fn],x=A[fn+1],S=A[fn+2],T=A[fn+3],A[fn]=b*R+x*M+S*F+T*q+j,A[fn+1]=b*G+x*K+S*Q+T*L+Y,A[fn+2]=b*ue+x*de+S*Re+T*xe+ze,A[fn+3]=b*Ke+x*Ie+S*Ze+T*vt+Lt;return g}(f.getImageData(0,0,n.width,n.height));return f.putImageData(d,0,0),fv(n,o)},t5=(FS=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1],function(n){return y(n,FS)}),n5=E(function(n,o){return h(n,[1,0,0,0,o=s(255*o,-255,255),0,1,0,0,o,0,0,1,0,o,0,0,0,1,0,0,0,0,0,1])}),r4=E(function(n,o){var u;return o=s(o,-1,1),h(n,[(u=(o*=100)<0?127+o/100*127:127*((u=o%1)==0?Mw[o]:Mw[Math.floor(o)]*(1-u)+Mw[Math.floor(o)+1]*u)+127)/127,0,0,0,.5*(127-u),0,u/127,0,0,.5*(127-u),0,0,u/127,0,.5*(127-u),0,0,0,1,0,0,0,0,0,1])}),r5=(Pb=[0,-1,0,-1,5,-1,0,-1,0],function(n){return u=Pb,(o=n).toCanvas().then(function(f){return d=f,g=o.getType(),b=u,x=Nm(d),S=function(T,A,R){for(var M=function(Lt,fn,Gn){return Gn<Lt?Lt=Gn:Lt<fn&&(Lt=fn),Lt},F=Math.round(Math.sqrt(R.length)),q=Math.floor(F/2),j=T.data,G=A.data,K=T.width,Q=T.height,L=0;L<Q;L++)for(var Y=0;Y<K;Y++){for(var ue=0,de=0,Re=0,xe=0;xe<F;xe++)for(var ze=0;ze<F;ze++){var Ke=M(Y+ze-q,0,K-1),Ie=4*(M(L+xe-q,0,Q-1)*K+Ke),Ze=R[xe*F+ze];ue+=j[Ie]*Ze,de+=j[1+Ie]*Ze,Re+=j[2+Ie]*Ze}var vt=4*(L*K+Y);G[vt]=M(ue,0,255),G[1+vt]=M(de,0,255),G[2+vt]=M(Re,0,255)}return A}(x.getImageData(0,0,d.width,d.height),x.getImageData(0,0,d.width,d.height),b),x.putImageData(S,0,0),fv(d,g);var d,g,b,x,S});var o,u}),o4=(_w=function(n,o){return 255*Math.pow(n/255,1-o)},function(n,o){return n.toCanvas().then(function(u){return function(f,d,g){for(var b=Nm(f),x=new Array(256),S=0;S<x.length;S++)x[S]=_w(S,g);var T=function(A,R){for(var M=A.data,F=0;F<M.length;F+=4)M[F]=R[M[F]],M[F+1]=R[M[F+1]],M[F+2]=R[M[F+2]];return A}(b.getImageData(0,0,f.width,f.height),x);return b.putImageData(T,0,0),fv(f,d)}(u,n.getType(),o)})}),rT=function(n,o,u){var f=Nb(n),d=Dw(n),g=o/f,b=u/d,x=!1;(g<.5||2<g)&&(g=g<.5?.5:2,x=!0),(b<.5||2<b)&&(b=b<.5?.5:2,x=!0);var S=o5(n,g,b);return x?S.then(function(T){return rT(T,o,u)}):S},o5=function(n,o,u){return new _c(function(f){var d=Nb(n),g=Dw(n),b=Math.floor(d*o),x=Math.floor(g*u),S=bh(b,x);Nm(S).drawImage(n,0,0,d,g,0,0,b,x),f(S)})},a5=function(n,o,u){var f=(u<0?360+u:u)*Math.PI/180,d=n.width,g=n.height,b=Math.sin(f),x=Math.cos(f),S=B(Math.abs(d*x)+Math.abs(g*b)),T=B(Math.abs(d*b)+Math.abs(g*x)),A=bh(S,T),R=Nm(A);return R.translate(S/2,T/2),R.rotate(f),R.drawImage(n,-d/2,-g/2),fv(A,o)},i5=function(n,o,u){var f=bh(n.width,n.height),d=Nm(f);return u==="v"?(d.scale(1,-1),d.drawImage(n,0,-f.height)):(d.scale(-1,1),d.drawImage(n,-f.width,0)),fv(f,o)},u5=function(n,o,u,f,d,g){var b=bh(d,g);return Nm(b).drawImage(n,-u,-f),fv(b,o)},a4=un("toolbar.button.execute"),oT=((Bw={})[Ec()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],Bw),wh=un("update-menu-text"),WS=un("update-menu-icon"),aT={type:"separator"},jS=function(n,o){var u,f,d;return zt((u=fr(n)?n.split(" "):n,f=o,0<(d=Jr(u,function(g,b){return fr(b)?b===""?g:b==="|"?0<g.length&&!ln(g[g.length-1])?g.concat([aT]):g:Jn(f,b.toLowerCase())?g.concat([f[b.toLowerCase()]]):g:g.concat([b])},[])).length&&ln(d[d.length-1])&&d.pop(),d),function(g,b){var x,S,T,A,R,M,F=function(j){if(ln(j))return j;var G=Ut(j,"value").getOrThunk(function(){return un("generated-menu-item")});return Ir({value:G},j)}(b),q=(S=o,Jn(x=F,"getSubmenuItems")?(A=S,R=(T=x).getSubmenuItems(),M=jS(R,A),{item:T,menus:Ir(M.menus,zc(T.value,M.items)),expansions:Ir(M.expansions,zc(T.value,T.value))}):{item:x,menus:{},expansions:{}});return{menus:Ir(g.menus,q.menus),items:[q.item].concat(g.items),expansions:Ir(g.expansions,q.expansions)}},{menus:{},expansions:{},items:[]})},i4=ke([Se("field1Name","field1"),Se("field2Name","field2"),Ns("onLockedChange"),Ql(["lockClass"]),Se("locked",!1),jc("coupledFieldBehaviours",[wr,Pt])]),iT=ke([ya("field1","field2"),ya("field2","field1"),Ru({factory:hc,schema:[$e("dom")],name:"lock",overrides:function(n){return{buttonBehaviours:Tt([Br.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])}}})]),uu=ju({name:"FormCoupledInputs",configFields:i4(),partFields:iT(),factory:function(n,o,u,f){return{uid:n.uid,dom:n.dom,components:o,behaviours:nl(n.coupledFieldBehaviours,[wr.config({find:N.some}),Pt.config({store:{mode:"manual",getValue:function(d){var g=gg(d,n,["field1","field2"]),b={};return b[n.field1Name]=Pt.getValue(g.field1()),b[n.field2Name]=Pt.getValue(g.field2()),b},setValue:function(d,g){var b=gg(d,n,["field1","field2"]);To(g,n.field1Name)&&Pt.setValue(b.field1(),g[n.field1Name]),To(g,n.field2Name)&&Pt.setValue(b.field2(),g[n.field2Name])}}})]),apis:{getField1:function(d){return po(d,n,"field1")},getField2:function(d){return po(d,n,"field2")},getLock:function(d){return po(d,n,"lock")}}}},apis:{getField1:function(n,o){return n.getField1(o)},getField2:function(n,o){return n.getField2(o)},getLock:function(n,o){return n.getLock(o)}}}),Nu={undo:ke(un("undo")),redo:ke(un("redo")),zoom:ke(un("zoom")),back:ke(un("back")),apply:ke(un("apply")),swap:ke(un("swap")),transform:ke(un("transform")),tempTransform:ke(un("temp-transform")),transformApply:ke(un("transform-apply"))},c5=ke("save-state"),s5=ke("disable"),l5=ke("enable"),ds={formActionEvent:xf,saveState:c5,disable:s5,enable:l5},p1=tinymce.util.Tools.resolve("tinymce.geom.Rect"),uT=tinymce.util.Tools.resolve("tinymce.util.Observable"),Fb=tinymce.util.Tools.resolve("tinymce.util.VK");function f5(n,o){function u(Q){var L,Y,ue,de,Re,xe,ze,Ke,Ie=Q.raw,Ze=(L=Math.max,Y=F.documentElement,ue=F.body,de=L(Y.scrollWidth,ue.scrollWidth),Re=L(Y.clientWidth,ue.clientWidth),xe=L(Y.offsetWidth,ue.offsetWidth),ze=L(Y.scrollHeight,ue.scrollHeight),Ke=L(Y.clientHeight,ue.clientHeight),{width:de<xe?Re:de,height:ze<L(Y.offsetHeight,ue.offsetHeight)?Ke:ze});vv(Ie),Q.prevent(),S=Ie.button,T=Ie.screenX,A=Ie.screenY;var vt=Zn(G,"cursor");Mn(x=gt.fromTag("div",F),{position:"absolute",top:"0",left:"0",width:Ze.width+"px",height:Ze.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:vt}),vn(k(j),x),M.push(bi(j,"mousemove",f),bi(j,"touchmove",f),bi(j,"mouseup",K),bi(j,"touchend",K)),o.start(Ie)}function f(Q){var L=Q.raw;if(vv(L),L.button!==S)return K(Q);L.deltaX=L.screenX-T,L.deltaY=L.screenY-A,Q.prevent(),o.drag(L)}var d,g,b,x,S,T,A,R=[],M=[],F=(d=o.document)!==null&&d!==void 0?d:document,q=(g=o.root)!==null&&g!==void 0?g:F,j=gt.fromDom(F),G=gt.fromDom(q.getElementById((b=o.handle)!==null&&b!==void 0?b:n)),K=function(Q){vv(Q.raw),Yt(M,function(L){return L.unbind()}),M=[],wt(x),o.stop&&o.stop(Q.raw)};return R.push(bi(G,"mousedown",u),bi(G,"touchstart",u)),{destroy:function(){Yt(M.concat(R),function(Q){return Q.unbind()}),M=[],R=[],Gt(x)&&wt(x)}}}function Pw(n,o,u,f,d){return ji({name:n,icon:N.some(o),disabled:u,tooltip:N.some(n),primary:!1,borderless:!1},f,d)}function u4(n,o){o?bn.enable(n):bn.disable(n)}var c4=0,v5=function(n,o,u,f,d){function g(L,Y){return{x:Y.x-L.x,y:Y.y-L.y,w:Y.w,h:Y.h}}function b(L,Y,ue,de){var Re=Y.x+ue*L.deltaX,xe=Y.y+de*L.deltaY,ze=Math.max(20,Y.w+ue*L.deltaW),Ke=Math.max(20,Y.h+de*L.deltaH),Ie=(n=p1.clamp({x:Re,y:xe,w:ze,h:Ke},u,L.name==="move"),g(u,n));Q.fire("updateRect",{rect:Ie}),G(Ie)}function x(L){S(n=L)}function S(L){function Y(ue,de){Ai(F,"#"+M+"-"+ue).each(function(Re){Mn(Re,{left:de.x+"px",top:de.y+"px",width:Math.max(0,de.w)+"px",height:Math.max(0,de.h)+"px"})})}Yt(q,function(ue){Ai(F,"#"+M+"-"+ue.name).each(function(de){Mn(de,{left:L.w*ue.xMul+L.x+"px",top:L.h*ue.yMul+L.y+"px"})})}),Y("top",{x:o.x,y:o.y,w:o.w,h:L.y-o.y}),Y("right",{x:L.x+L.w,y:L.y,w:o.w-L.x-L.w+o.x,h:L.h}),Y("bottom",{x:o.x,y:L.y+L.h,w:o.w,h:o.h-L.y-L.h+o.y}),Y("left",{x:o.x,y:L.y,w:L.x-o.x,h:L.h}),Y("move",L)}var T,A,R=[],M="tox-crid-"+c4++,F=gt.fromDom(f),q=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],j=["top","right","bottom","left"],G=function(L){var Y;x((Y=u,{x:L.x+Y.x,y:L.y+Y.y,w:L.w,h:L.h}))};function K(L){nt(L.target,"aria-grabbed",L.raw.type==="focus"?"true":"false")}re(A=gt.fromTag("div"),{id:M,class:"tox-croprect-container",role:"grid","aria-dropeffect":"execute"}),vn(F,A),Yt(j,function(L){Ai(F,"#"+M).each(function(Y){var ue=gt.fromTag("div");re(ue,{id:M+"-"+L,class:"tox-croprect-block","data-mce-bogus":"all"}),pt(ue,"display","none"),vn(Y,ue)})}),Yt(q,function(L){Ai(F,"#"+M).each(function(Y){var ue=gt.fromTag("div");re(ue,{id:M+"-"+L.name,"aria-label":L.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:L.label}),Td(ue,["tox-croprect-handle","tox-croprect-handle-"+L.name]),pt(ue,"display","none"),vn(Y,ue)})}),T=ot(q,function(L){var Y;return f5(M,{document:f.ownerDocument,root:Hi(F).dom,handle:M+"-"+L.name,start:function(){Y=n},drag:function(ue){b(L,Y,ue.deltaX,ue.deltaY)}})}),S(n),R.push(bi(F,"focusin",K),bi(F,"focusout",K),bi(F,"keydown",function(L){var Y;function ue(de,Re,xe,ze,Ke){de.stopPropagation(),de.preventDefault(),b(Y,xe,ze,Ke)}switch(Yt(q,function(de){if(fe(L.target,"id")===M+"-"+de.name)return Y=de,!1}),L.raw.keyCode){case Fb.LEFT:ue(L,0,n,-10,0);break;case Fb.RIGHT:ue(L,0,n,10,0);break;case Fb.UP:ue(L,0,n,0,-10);break;case Fb.DOWN:ue(L,0,n,0,10);break;case Fb.ENTER:case Fb.SPACEBAR:L.prevent(),d()}}));var Q=me(me({},uT),{toggleVisibility:function(L){var Y=On(On([],ot(q,function(de){return"#"+M+"-"+de.name}),!0),ot(j,function(de){return"#"+M+"-"+de}),!0).join(","),ue=sc(F,Y);Yt(ue,L?function(de){return Le(de,"display")}:function(de){return pt(de,"display","none")})},setClampRect:function(L){u=L,S(n)},setRect:x,getInnerRect:function(){return g(u,n)},setInnerRect:G,setViewPortRect:function(L){o=L,S(n)},destroy:function(){Yt(T,function(L){return L.destroy()}),T=[],Yt(R,function(L){return L.unbind()}),R=[]}});return Q};function s4(n){var o,u,f,d,g=Cn(n),b=mo(),x=(u=-1,{data:o=[],add:function(F){var q=o.splice(++u);return o.push(F),{state:F,removed:q}},undo:function(){if(f())return o[--u]},redo:function(){if(d())return o[++u]},canUndo:f=function(){return 0<u},canRedo:d=function(){return u!==-1&&u<o.length-1}});function S(F){g.set(F)}function T(F){URL.revokeObjectURL(F.url)}function A(F){var q=R(F);S(q);var j=x.add(q).removed;return yh.each(j,T),q.url}x.add(n);function R(F){return{blob:F,url:URL.createObjectURL(F)}}function M(){b.on(T),b.clear()}return{getBlobState:function(){return g.get()},setBlobState:S,addBlobState:A,getTempState:function(){return b.get().getOrThunk(g.get)},updateTempState:function(F){var q=R(F);return M(),b.set(q),q.url},addTempState:function(F){var q=R(F);return b.set(q),q.url},applyTempState:function(F){return b.get().fold(dt,function(q){A(q.blob),F()})},destroyTempState:M,undo:function(){var F=x.undo();return S(F),F.url},redo:function(){var F=x.redo();return S(F),F.url},getHistoryStates:function(){return{undoEnabled:x.canUndo(),redoEnabled:x.canRedo()}}}}function l4(n,o){function u(Ie){var Ze=L.getHistoryStates();Re.updateButtonUndoStates(Ie,Ze.undoEnabled,Ze.redoEnabled),V(Ie,ds.formActionEvent,{name:ds.saveState(),value:Ze.undoEnabled})}function f(Ie){return Ie.toBlob()}function d(Ie){V(Ie,ds.formActionEvent,{name:ds.disable(),value:{}})}function g(Ie,Ze,vt,Lt,fn){d(Ie),i(Ze).then(vt).then(f).then(Lt).then(function(Gn){return ue(Ie,Gn)}).then(function(){u(Ie),fn(),Y(Ie)}).catch(function(Gn){console.log(Gn),Ie.getSystem().isConnected()&&Y(Ie)})}function b(Ie,Ze,vt){g(Ie,L.getBlobState().blob,Ze,function(Lt){return L.updateTempState(Lt)},vt)}function x(Ie){var Ze=L.getBlobState().url;return L.destroyTempState(),u(Ie),Ze}var S,T,A,R,M,F,q,j,G,K,Q,L=s4(n.currentState),Y=function(Ie){xe.getApplyButton(Ie).each(function(Ze){bn.enable(Ze)}),V(Ie,ds.formActionEvent,{name:ds.enable(),value:{}})},ue=function(Ie,Ze){return d(Ie),de.updateSrc(Ie,Ze)},de=(R=n.currentState.url,F=Zr({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),q=Cn(1),M=Ty(),j=me(me({},M),{run:function(Ie){return M.get().each(Ie)}}),G=Cn({x:0,y:0,w:1,h:1}),K=Cn({x:0,y:0,w:1,h:1}),{memContainer:Q=Zr(bu.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[F.asSpec(),{dom:{tag:"img",attributes:{src:R}}},{dom:{tag:"div"},behaviours:Tt([rr("image-panel-crop-events",[ua(function(Ie){Q.getOpt(Ie).each(function(Ze){var vt=Ze.element.dom,Lt=v5({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},vt,dt);Lt.toggleVisibility(!1),Lt.on("updateRect",function(fn){var Gn=fn.rect,xr=q.get(),jr={x:Math.round(Gn.x/xr),y:Math.round(Gn.y/xr),w:Math.round(Gn.w/xr),h:Math.round(Gn.h/xr)};G.set(jr)}),j.set(Lt)})}),Bs(function(){j.clear()})])])}],containerBehaviours:Tt([qn.config({}),rr("image-panel-events",[ua(function(Ie){Ke(Ie,R)})])])})),updateSrc:Ke,zoom:function(Ie,Ze){var vt=q.get(),Lt=0<Ze?Math.min(2,vt+.1):Math.max(.1,vt-.1);q.set(Lt),Q.getOpt(Ie).each(function(fn){var Gn=fn.components()[1].element;ze(fn,Gn)})},showCrop:function(){j.run(function(Ie){Ie.toggleVisibility(!0)})},hideCrop:function(){j.run(function(Ie){Ie.toggleVisibility(!1)})},getRect:function(){return G.get()},getMeasurements:function(){var Ie=K.get();return{width:Ie.w,height:Ie.h}}}),Re=(T=Zr(Pw("Undo","undo",!0,function(Ie){V(Ie,Nu.undo(),{direction:1})},S=o)),A=Zr(Pw("Redo","redo",!0,function(Ie){V(Ie,Nu.redo(),{direction:1})},S)),{container:bu.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[T.asSpec(),A.asSpec(),Pw("Zoom in","zoom-in",!1,function(Ie){V(Ie,Nu.zoom(),{direction:1})},S),Pw("Zoom out","zoom-out",!1,function(Ie){V(Ie,Nu.zoom(),{direction:-1})},S)]}),updateButtonUndoStates:function(Ie,Ze,vt){T.getOpt(Ie).each(function(Lt){u4(Lt,Ze)}),A.getOpt(Ie).each(function(Lt){u4(Lt,vt)})}}),xe=Mb(de,o);function ze(Ie,Ze){Q.getOpt(Ie).each(function(vt){var Lt=q.get(),fn=Qo(vt.element),Gn=$r(vt.element),xr=Ze.dom.naturalWidth*Lt,jr=Ze.dom.naturalHeight*Lt,ao=Math.max(0,fn/2-xr/2),hr=Math.max(0,Gn/2-jr/2),Yr={left:ao.toString()+"px",top:hr.toString()+"px",width:xr.toString()+"px",height:jr.toString()+"px",position:"absolute"};Mn(Ze,Yr),F.getOpt(vt).each(function(no){Mn(no.element,Yr)}),j.run(function(no){var ko=G.get();no.setRect({x:ko.x*Lt+ao,y:ko.y*Lt+hr,w:ko.w*Lt,h:ko.h*Lt}),no.setClampRect({x:ao,y:hr,w:xr,h:jr}),no.setViewPortRect({x:0,y:0,w:fn,h:Gn})})})}function Ke(Ie,Ze){var vt,Lt=gt.fromTag("img");return nt(Lt,"src",Ze),vt=Lt.dom,new vf(function(fn){var Gn=function(){vt.removeEventListener("load",Gn),fn(vt)};vt.complete?fn(vt):vt.addEventListener("load",Gn)}).then(function(){Ie.getSystem().isConnected()&&Q.getOpt(Ie).map(function(fn){var Gn=my({element:Lt});qn.replaceAt(fn,1,N.some(Gn));var xr=K.get(),jr={x:0,y:0,w:Lt.dom.naturalWidth,h:Lt.dom.naturalHeight};K.set(jr);var ao,hr=p1.inflate(jr,-20,-20);G.set(hr),xr.w===jr.w&&xr.h===jr.h||(ao=Lt,Q.getOpt(fn).each(function(Yr){var no=Qo(Yr.element),ko=$r(Yr.element),Or=ao.dom.naturalWidth,Wo=ao.dom.naturalHeight,Ni=Math.min(no/Or,ko/Wo);1<=Ni?q.set(1):q.set(Ni)})),ze(fn,Lt)})})}return{dom:{tag:"div",attributes:{role:"presentation"}},components:[xe.memContainer.asSpec(),de.memContainer.asSpec(),Re.container],behaviours:Tt([Pt.config({store:{mode:"manual",getValue:function(){return L.getBlobState()}}}),rr("image-tools-events",[Pe(Nu.undo(),function(Ie,Ze){var vt=L.undo();ue(Ie,vt).then(function(Lt){Y(Ie),u(Ie)})}),Pe(Nu.redo(),function(Ie,Ze){var vt=L.redo();ue(Ie,vt).then(function(Lt){Y(Ie),u(Ie)})}),Pe(Nu.zoom(),function(Ie,Ze){var vt=Ze.event.direction;de.zoom(Ie,vt)}),Pe(Nu.back(),function(Ie,Ze){var vt,Lt=x(vt=Ie);ue(vt,Lt).then(function(fn){Y(vt)}),(0,Ze.event.swap)(),de.hideCrop()}),Pe(Nu.apply(),function(Ie,Ze){L.applyTempState(function(){x(Ie),(0,Ze.event.swap)()})}),Pe(Nu.transform(),function(Ie,Ze){return b(Ie,Ze.event.transform,dt)}),Pe(Nu.tempTransform(),function(Ie,Ze){var vt=Ze.event.transform;g(Ie,L.getTempState().blob,vt,function(Lt){return L.addTempState(Lt)},dt)}),Pe(Nu.transformApply(),function(Ie,Ze){var vt=Ie,Lt=Ze.event.transform,fn=Ze.event.swap,Gn=L.getBlobState().blob;g(vt,Gn,Lt,function(xr){var jr=L.addBlobState(xr);return x(vt),jr},fn)}),Pe(Nu.swap(),function(Ie,Ze){Re.updateButtonUndoStates(Ie,!1,!1);var vt=Ze.event.transform,Lt=Ze.event.swap;vt.fold(function(){Lt()},function(fn){b(Ie,fn,Lt)})})]),Ku()])}}function f4(n){return!Jn(n,"items")}function cT(n,o){function u(f){return{dom:{tag:"td",innerHtml:o.translate(f)}}}return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ot(n.header,function(f){return{dom:{tag:"th",innerHtml:o.translate(f)}}})}]},{dom:{tag:"tbody"},components:ot(n.cells,function(f){return{dom:{tag:"tr"},components:ot(f,u)}})}],behaviours:Tt([ba.config({}),Hn.config({})])}}function v4(n,o){var u=n.label.map(function(S){return ad(S,o)}),f=[bn.config({disabled:function(){return n.disabled||o.isDisabled()}}),wi(),Sn.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:function(S){return z(S,a1),N.some(!0)}}),rr("textfield-change",[Pe(Dd(),function(S,T){V(S,Bu,{name:n.name})}),Pe(_s(),function(S,T){V(S,Bu,{name:n.name})})]),ba.config({})],d=n.validation.map(function(S){return il.config({getRoot:function(T){return Xr(T.element)},invalidClass:"tox-invalid",validator:{validate:function(T){var A=Pt.getValue(T),R=S.validator(A);return iv(R===!0?on.value(A):on.error(R))},validateOnLoad:S.validateOnLoad}})}).toArray(),g=n.placeholder.fold(ke({}),function(S){return{placeholder:o.translate(S)}}),b=n.inputMode.fold(ke({}),function(S){return{inputmode:S}}),x=me(me({},g),b);return o1(u,Wr.parts.field({tag:n.multiline===!0?"textarea":"input",inputAttributes:x,inputClasses:[n.classname],inputBehaviours:Tt(br([f,d])),selectOnFocus:!1,factory:Rc}),(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),[bn.config({disabled:function(){return n.disabled||o.isDisabled()},onDisabled:function(S){Wr.getField(S).each(bn.disable)},onEnabled:function(S){Wr.getField(S).each(bn.enable)}}),wi()])}function sT(n){var o=Cn(null);return cs({readState:function(){return{timer:o.get()!==null?"set":"unset"}},setTimer:function(u){o.set(u)},cancel:function(){var u=o.get();u!==null&&u.cancel()}})}function qS(n,o,u){var f=Pt.getValue(u);Pt.setValue(o,f),eO(o)}function lT(n,o){var u=n.element,f=Ov(u),d=u.dom;fe(u,"type")!=="number"&&o(d,f)}function d5(n){return{type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:dt}}function d4(n,o){return{type:"menuitem",value:o,text:n,meta:{attach:void 0},onAction:dt}}function fT(n,o){return u=n,ot(Je(o,function(f){return f.type===u}),d5);var u}function m4(n,o){var u=n.toLowerCase();return Je(o,function(f){return Oo((f.meta!==void 0&&f.meta.text!==void 0?f.meta:f).text.toLowerCase(),u)||Oo(f.value.toLowerCase(),u)})}function m5(n,o,u){function f(K){var Q=Pt.getValue(K);u.addToHistory(Q.value,n.filetype)}var d,g,b,x,S=o.shared.providers,T=Wr.parts.field({factory:M4,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":nO,type:"url"},minChars:0,responseTime:0,fetch:function(K){var Q,L,Y,ue,de=Pn((Q=n.filetype,L=u,Y=Pt.getValue(K),ue=Y.meta.text!==void 0?Y.meta.text:Y.value,L.getLinkInformation().fold(function(){return[]},function(Re){var xe=m4(ue,ot(L.getHistory(Q),function(ze){return d4(ze,ze)}));return Q==="file"?Jr([xe,m4(ue,fT("header",Re.targets)),m4(ue,br([N.from(Re.anchorTop).map(function(ze){return d4("<top>",ze)}).toArray(),fT("anchor",Re.targets),N.from(Re.anchorBottom).map(function(ze){return d4("<bottom>",ze)}).toArray()]))],function(ze,Ke){return ze.length===0||Ke.length===0?ze.concat(Ke):ze.concat(tO,Ke)},[]):xe})),pc.BUBBLE_TO_SANDBOX,o,!1);return iv(de)},getHotspot:function(K){return j.getOpt(K)},onSetValue:function(K,Q){K.hasConfigured(il)&&il.run(K).get(dt)},typeaheadBehaviours:Tt(br([u.getValidationHandler().map(function(K){return il.config({getRoot:function(Q){return Xr(Q.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Q,L){R.getOpt(Q).each(function(Y){nt(Y.element,"title",S.translate(L))})}},validator:{validate:function(Q){var L=Pt.getValue(Q);return P4(function(Y){K({type:n.filetype,url:L.value},function(ue){var de,Re;ue.status==="invalid"?(de=on.error(ue.message),Y(de)):(Re=on.value(ue.message),Y(Re))})})},validateOnLoad:!1}})}).toArray(),[bn.config({disabled:function(){return n.disabled||S.isDisabled()}}),ba.config({}),rr("urlinput-events",br([n.filetype==="file"?[Pe(Dd(),function(K){V(K,Bu,{name:n.name})})]:[],[Pe(zh(),function(K){V(K,Bu,{name:n.name}),f(K)}),Pe(_s(),function(K){V(K,Bu,{name:n.name}),f(K)})]]))]])),eventOrder:((d={})[Dd()]=["streaming","urlinput-events","invalidating"],d),model:{getDisplayText:function(K){return K.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:o.shared.getSink,parts:{menu:mm(0,0,"normal")},onExecute:function(K,Q,L){V(Q,a1,{})},onItemExecute:function(K,Q,L,Y){f(K),V(K,Bu,{name:n.name})}}),A=n.label.map(function(K){return ad(K,S)}),R=Zr((g="invalid",b=N.some(nO),Ls("warning",{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+g],attributes:me({title:S.translate(x=x===void 0?g:x),"aria-live":"polite"},b.fold(function(){return{}},function(K){return{id:K}}))},S.icons))),M=Zr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[R.asSpec()]}),F=u.getUrlPicker(n.filetype),q=un("browser.url.event"),j=Zr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[T,M.asSpec()],behaviours:Tt([bn.config({disabled:function(){return n.disabled||S.isDisabled()}})])}),G=Zr($n({name:n.name,icon:N.some("browse"),text:n.label.getOr(""),disabled:n.disabled,primary:!1,borderless:!0},function(K){return z(K,q)},S,[],["tox-browse-url"]));return Wr.sketch({dom:id([]),components:A.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:br([[j.asSpec()],F.map(function(){return G.asSpec()}).toArray()])}]),fieldBehaviours:Tt([bn.config({disabled:function(){return n.disabled||S.isDisabled()},onDisabled:function(K){Wr.getField(K).each(bn.disable),G.getOpt(K).each(bn.disable)},onEnabled:function(K){Wr.getField(K).each(bn.enable),G.getOpt(K).each(bn.enable)}}),wi(),rr("url-input-events",[Pe(q,function(K){wr.getCurrent(K).each(function(Q){var L=Pt.getValue(Q),Y=me({fieldname:n.name},L);F.each(function(ue){ue(Y).get(function(de){Pt.setValue(Q,de),V(K,Bu,{name:n.name})})})})})])])})}function Bi(n){return function(o,u,f){return Ut(u,"name").fold(function(){return n(u,f)},function(d){return o.field(d,n(u,f))})}}function g4(n,o,u){var f=Ir(u,{shared:{interpreter:function(d){return $w(n,d,f)}}});return $w(n,o,f)}function vT(n,o,u){function f(){return gt.fromDom(n.getContentAreaContainer())}function d(){return j||!u()}var g,b,x,S,T,A,R,M,F,q,j=Yg(n);return{inlineDialog:(R=f,M=o,F=d,q={maxHeightFunction:tp()},function(){return F()?{type:"node",root:Oe(R()),node:N.from(R()),bubble:Vc(12,12,Vw),layouts:{onRtl:function(){return[_g]},onLtr:function(){return[Rg]}},overrides:q}:{type:"hotspot",hotspot:M(),bubble:Vc(-12,12,Vw),layouts:{onRtl:function(){return[Ri]},onLtr:function(){return[ja]}},overrides:q}}),banner:(S=f,T=o,A=d,function(){return A()?{type:"node",root:Oe(S()),node:N.from(S()),layouts:{onRtl:function(){return[_l]},onLtr:function(){return[_l]}}}:{type:"hotspot",hotspot:T(),layouts:{onRtl:function(){return[Ba]},onLtr:function(){return[Ba]}}}}),cursor:(b=n,function(){return{type:"selection",root:x(),getSelection:function(){var G=b.selection.getRng();return N.some(dg.range(gt.fromDom(G.startContainer),G.startOffset,gt.fromDom(G.endContainer),G.endOffset))}}}),node:(g=x=function(){return gt.fromDom(n.getBody())},function(G){return{type:"node",root:g(),node:G}})}}function dT(n){return N.from(n.getParam("style_formats")).filter(Mr).map(function(o){var u,f,d=(u=n,f=rO(o),u.formatter?g(f.customFormats):u.on("init",function(){g(f.customFormats)}),f.formats);function g(b){Yt(b,function(x){u.formatter.has(x.name)||u.formatter.register(x.name,x.format)})}return n.getParam("style_formats_merge",!1,"boolean")?z4.concat(d):d}).getOr(z4)}function mT(n,o,u){var f={type:"formatter",isSelected:o(n.format),getStylePreview:u(n.format)};return Ir(n,f)}function GS(n,o,u,f){var d=function(g){return ot(g,function(b){var x,S,T,A,R,M=Pr(b);if(To(b,"items")){var F=d(b.items);return Ir(Ir(b,{type:"submenu"}),{getStyleItems:ke(F)})}return To(b,"format")?mT(b,u,f):M.length===1&&pn(M,"title")?Ir(b,{type:"separator"}):(A={type:"formatter",format:T="custom-"+(S=fr((x=b).name)?x.name:un(x.title)),isSelected:u(T),getStylePreview:f(T)},R=Ir(x,A),n.formatter.register(S,R),R)})};return d(o)}function KS(n){return function(o){if(Gt(u=o)&&u.nodeType===1&&(o.contentEditable===n||o.getAttribute("data-mce-contenteditable")===n))return!0;var u;return!1}}function h4(n,o,u,f,d){return{type:n,title:o,url:u,level:f,attach:d}}function p4(n){return n.innerText||n.textContent}function gT(n){return n&&n.nodeName==="A"&&(n.id||n.name)!==void 0&&YT(n)}function hT(n){return n&&/^(H[1-6])$/.test(n.nodeName)}function b4(n){return hT(n)&&YT(n)}function g5(n){var o,u=n.id||un("h");return h4("header",p4(n),"#"+u,hT(o=n)?parseInt(o.nodeName.substr(1),10):0,function(){n.id=u})}function pT(n){var o=n.id||n.name;return h4("anchor",p4(n)||"#"+o,"#"+o,0,dt)}function bT(n){return 0<D5(n.title).length}function Ib(n){return fr(n)&&/^https?/.test(n)}function yT(n){return kn(n)&&eo(n,function(o){return!(Mr(u=o)&&u.length<=5&&Go(u,Ib));var u}).isNone()}function XS(){var n,o=pb.getItem(ck);if(o===null)return{};try{n=JSON.parse(o)}catch(u){if(u instanceof SyntaxError)return console.log("Local storage "+ck+" was not valid JSON",u),{};throw u}return yT(n)?n:(console.log("Local storage "+ck+" was not valid format",n),{})}function Lb(n){return Ut(XS(),n).getOr([])}function h5(n,o){var u,f;Ib(n)&&(f=Je(Ut(u=XS(),o).getOr([]),function(d){return d!==n}),u[o]=[n].concat(f).slice(0,5),function(d){if(!yT(d))throw new Error(`Bad format for history:
`+JSON.stringify(d));pb.setItem(ck,JSON.stringify(d))}(u))}function YS(n){return!!n}function wT(n){return tn(yh.makeMap(n,/[, ]/),YS)}function JS(n){return N.from(n.getParam("file_picker_callback")).filter(yt)}function QS(n){return N.from(n).filter(fr).getOrUndefined()}function CT(n){return{getHistory:Lb,addToHistory:h5,getLinkInformation:function(){return(o=n).getParam("typeahead_urls")===!1?N.none():N.some({targets:B5(o.getBody()),anchorTop:QS(o.getParam("anchor_top","#top")),anchorBottom:QS(o.getParam("anchor_bottom","#bottom"))});var o},getValidationHandler:function(){return N.from((u=(o=n).getParam("file_picker_validator_handler",void 0,"function"))===void 0?o.getParam("filepicker_validator_handler",void 0,"function"):u);var o,u},getUrlPicker:function(o){return u=T=n,f=A=o,g=N.some((d=u).getParam("file_picker_types")).filter(YS),b=N.some(d.getParam("file_browser_callback_types")).filter(YS),x=g.or(b).map(wT),S=JS(d).fold(Fn,function(R){return x.fold(Zt,function(M){return 0<Pr(M).length&&M})}),(lt(S)?S?JS(u):N.none():S[f]?JS(u):N.none()).map(function(R){return function(M){return Yc(function(F){var q=me({filetype:A,fieldname:M.fieldname},N.from(M.meta).getOr({}));R.call(T,function(j,G){if(!fr(j))throw new Error("Expected value to be string");if(G!==void 0&&!kn(G))throw new Error("Expected meta to be a object");F({value:j,meta:G})},M.value,q)})}});var u,f,d,g,b,x,S,T,A}}}function p5(n,o,u){var f,d,g,b,x,S,T,A,R,M,F,q,j,G=Cn(!1),K={isPositionedAtTop:function(){return f.get()==="top"},getDockingMode:(f=Cn(Gx(o)?"bottom":"top")).get,setDockingMode:f.set},Q={shared:{providers:{icons:function(){return o.ui.registry.getAll().icons},menuItems:function(){return o.ui.registry.getAll().menuItems},translate:al.translate,isDisabled:function(){return o.mode.isReadOnly()||o.ui.isDisabled()},getSetting:o.getParam.bind(o)},interpreter:function(ue){return $w(uk,ue,Q)},anchors:vT(o,u,K.isPositionedAtTop),header:K,getSink:function(){return on.value(n)}},urlinput:CT(o),styleselect:(R=Cn([]),M=Cn([]),F=Cn([]),q=Cn([]),j=Cn(!(A=function(ue){var de=ue.items;return de!==void 0&&0<de.length?ee(de,A):[ue.format]})),(T=o).on("PreInit",function(ue){var de=dT(T),Re=GS(T,de,L,Y);R.set(Re),M.set(ee(Re,A))}),T.on("addStyleModifications",function(ue){var de=GS(T,ue.items,L,Y);F.set(de),j.set(ue.replace),q.set(ee(de,A))}),{getData:function(){var ue=j.get()?[]:R.get(),de=F.get();return ue.concat(de)},getFlattenedKeys:function(){var ue=j.get()?[]:M.get(),de=q.get();return ue.concat(de)}}),colorinput:{colorPicker:function(ue,de){wb(S)(ue,de)},hasCustomColors:function(){return rS(x)},getColors:function(){return Z2(b)},getColorCols:(g=b=x=S=o,function(){return ew(g)})},dialog:{isDraggableModal:(d=o,function(){return d.getParam("draggable_modal",!1,"boolean")})},isContextMenuOpen:function(){return G.get()},setContextMenuState:function(ue){return G.set(ue)}};function L(ue){return function(){return T.formatter.match(ue)}}function Y(ue){return function(){var de=T.formatter.get(ue);return de!==void 0?N.some({tag:0<de.length&&(de[0].inline||de[0].block)||"div",styles:T.dom.parseStyle(T.formatter.getCssText(ue))}):N.none()}}return Q}function xT(n){return(Sa(Bn(n,"position"),"fixed")?N.none():ku(n)).orThunk(function(){var o=gt.fromTag("span");return Xr(n).bind(function(u){vn(u,o);var f=ku(o);return wt(o),f})})}function zw(n){return xT(n).map(Xi).getOrThunk(function(){return te(0,0)})}function b5(n,o){var u=n.element;tu(u,o.transitionClass),ha(u,o.fadeOutClass),tu(u,o.fadeInClass),o.onShow(n)}function ST(n,o){var u=n.element;tu(u,o.transitionClass),ha(u,o.fadeInClass),tu(u,o.fadeOutClass),o.onHide(n)}function b1(n,o,u){return Go(n,function(f){switch(f){case"bottom":return o.bottom<=u.bottom;case"top":return o.y>=u.y}})}function kT(n,o){return o.getInitialPos().map(function(u){return dn(u.bounds.x,u.bounds.y,Qo(n),$r(n))})}function ET(n,o,u){return u.getInitialPos().bind(function(f){switch(u.clearInitialPos(),f.position){case"static":return N.some(gv.static());case"absolute":var d=xT(n).map(cn).getOrThunk(function(){return cn(P())});return N.some(gv.absolute(ss("absolute",Ut(f.style,"left").map(function(g){return o.x-d.x}),Ut(f.style,"top").map(function(g){return o.y-d.y}),Ut(f.style,"right").map(function(g){return d.right-o.right}),Ut(f.style,"bottom").map(function(g){return d.bottom-o.bottom}))));default:return N.none()}})}function y5(n,o,u){var f,d,g,b=n.element;return Sa(Bn(b,"position"),"fixed")?(d=o,kT(f=b,g=u).filter(function(x){return b1(g.getModes(),x,d)}).bind(function(x){return ET(f,x,g)})):function(x,S,T){var A,R,M=cn(x);if(b1(T.getModes(),M,S))return N.none();A=x,R=M,T.setInitialPos({style:function(){var Q={},L=A.dom;if(Ao(L))for(var Y=0;Y<L.style.length;Y++){var ue=L.style.item(Y);Q[ue]=L.style[ue]}return Q}(),position:Zn(A,"position")||"static",bounds:R});var F=Vr(),q=M.x-F.x,j=S.y-F.y,G=F.bottom-S.bottom,K=M.y<=S.y;return N.some(gv.fixed(ss("fixed",N.some(q),K?N.some(j):N.none(),N.none(),K?N.none():N.some(G))))}(b,o,u)}function y4(n,o,u){u.setDocked(!1),Yt(["left","right","top","bottom","position"],function(f){return Le(n.element,f)}),o.onUndocked(n)}function ZS(n,o,u,f){var d=f.position==="fixed";u.setDocked(d),r0(n.element,f),(d?o.onDocked:o.onUndocked)(n)}function TT(n,o,u,f,d){d===void 0&&(d=!1),o.contextual.each(function(g){g.lazyContext(n).each(function(b){var x=b.y<f.bottom&&b.bottom>f.y;x!==u.isVisible()&&(u.setVisible(x),d&&!x?(Td(n.element,[g.fadeOutClass]),g.onHide(n)):(x?b5:ST)(n,g))})})}function OT(n,o,u){var f,d,g,b,x,S;u.isDocked()&&(d=o,g=u,S=(f=n).element,g.setDocked(!1),kT(x=f.element,b=g).bind(function(T){return ET(x,T,b)}).each(function(T){T.fold(function(){return y4(f,d,g)},function(A){return ZS(f,d,g,A)},dt)}),g.setVisible(!0),d.contextual.each(function(T){wl(S,[T.fadeInClass,T.fadeOutClass,T.transitionClass]),T.onShow(f)}),F4(f,d,g))}function w4(n,o){return pn(So.getModes(n),o)}function C4(n){var o=n.element;Xr(o).each(function(u){var f,d,g="padding-"+So.getModes(n)[0];So.isDocked(n)?(f=Qo(u),pt(o,"width",f+"px"),pt(u,g,ii(d=o)+(parseInt(Zn(d,"margin-top"),10)||0)+(parseInt(Zn(d,"margin-bottom"),10)||0)+"px")):(Le(o,"width"),Le(u,g))})}function AT(n,o){o?(ha(n,dd.fadeOutClass),Td(n,[dd.transitionClass,dd.fadeInClass])):(ha(n,dd.fadeInClass),Td(n,[dd.fadeOutClass,dd.transitionClass]))}function Fw(n,o){var u=gt.fromDom(n.getContainer());o?(tu(u,iO),ha(u,uO)):(tu(u,uO),ha(u,iO))}function DT(n,o){function u(S){b().each(function(T){return S(T.element)})}function f(S){n.inline||C4(S),Fw(n,So.isDocked(S)),S.getSystem().broadcastOn([of()],{}),b().each(function(T){return T.getSystem().broadcastOn([of()],{})})}var d,g=mo(),b=o.getSink,x=n.inline?[]:[au.config({channels:((d={})[L4()]={onReceive:C4},d)})];return On([Hn.config({}),So.config({contextual:me({lazyContext:function(S){var T=ii(S.element),A=n.inline?n.getContentAreaContainer():n.getContainer(),R=cn(gt.fromDom(A)),M=R.height-T,F=R.y+(w4(S,"top")?0:T);return N.some(dn(R.x,F,R.width,M))},onShow:function(){u(function(S){return AT(S,!0)})},onShown:function(S){u(function(T){return wl(T,[dd.transitionClass,dd.fadeInClass])}),g.get().each(function(T){var A,R=S.element,M=Jt(A=T);Wf(M).filter(function(F){return!or(A,F)}).filter(function(F){return or(F,gt.fromDom(M.dom.body))||Oa(R,F)}).each(function(){return Zl(A)}),g.clear()})},onHide:function(S){var T=S.element,A=b;Ms(T).orThunk(function(){return A().toOptional().bind(function(R){return Ms(R.element)})}).fold(g.clear,g.set),u(function(R){return AT(R,!1)})},onHidden:function(){u(function(S){return wl(S,[dd.transitionClass])})}},dd),lazyViewport:function(S){var T=Vr(),A=n.getParam("toolbar_sticky_offset",0,"number"),R=T.y+(w4(S,"top")?A:0),M=T.height-(w4(S,"bottom")?A:0);return dn(T.x,R,T.width,M)},modes:[o.header.getDockingMode()],onDocked:f,onUndocked:f})],x,!0)}function RT(n){return Fo("menubutton",$5,n)}function y1(n,o){return o.getAnimationRoot.fold(function(){return n.element},function(u){return u(n)})}function Mm(n){return n.dimension.property}function Hb(n,o){return n.dimension.getDimension(o)}function ek(n,o){wl(y1(n,o),[o.shrinkingClass,o.growingClass])}function tk(n,o){ha(n.element,o.openClass),tu(n.element,o.closedClass),pt(n.element,Mm(o),"0px"),Dn(n.element)}function x4(n,o){ha(n.element,o.closedClass),tu(n.element,o.openClass),Le(n.element,Mm(o))}function S4(n,o,u,f){u.setCollapsed(),pt(n.element,Mm(o),Hb(o,n.element)),Dn(n.element),ek(n,o),tk(n,o),o.onStartShrink(n),o.onShrunk(n)}function _T(n,o,u){var f=Hb(o,n.element);(f==="0px"?S4:function(d,g,b,x){var S=x.getOrThunk(function(){return Hb(g,d.element)});b.setCollapsed(),pt(d.element,Mm(g),S),Dn(d.element);var T=y1(d,g);ha(T,g.growingClass),tu(T,g.shrinkingClass),tk(d,g),g.onStartShrink(d)})(n,o,u,N.some(f))}function BT(n,o,u){var f=y1(n,o),d=uc(f,o.shrinkingClass),g=Hb(o,n.element);x4(n,o);var b=Hb(o,n.element);(d?function(){pt(n.element,Mm(o),g),Dn(n.element)}:function(){tk(n,o)})(),ha(f,o.shrinkingClass),tu(f,o.growingClass),x4(n,o),pt(n.element,Mm(o),b),u.setExpanded(),o.onStartGrow(n)}function NT(n,o,u){return uc(y1(n,o),o.growingClass)===!0}function MT(n,o,u){return uc(y1(n,o),o.shrinkingClass)===!0}function nk(n){return"<alloy.field."+n+">"}function k4(n){return{element:function(){return n.element.dom}}}function PT(n,o){wr.getCurrent(n).each(function(u){return qn.set(u,[(f=o,md.sketch(function(d){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:(g=d,x=ot(Pr(b=f),function(S){var T=b[S],A=Ou(Fo("sidebar",G5,T));return{name:S,getApi:k4,onSetup:A.onSetup,onShow:A.onShow,onHide:A.onHide}}),ot(x,function(S){var T=Cn(dt);return g.slot(S.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:cb([ym(S,T),Gp(S,T),Pe(ly(),function(A,R){var M=R.event;Rr(x,function(F){return F.name===M.name}).each(function(F){(M.visible?F.onShow:F.onHide)(F.getApi(A))})})])})})),slotBehaviours:cb([ua(function(S){return md.hideAllSlots(S)})])};var g,b,x}))]);var f})}function w5(n){return wr.getCurrent(n).bind(function(o){return hv.isGrowing(o)||hv.hasGrown(o)?wr.getCurrent(o).bind(function(u){return Rr(md.getSlotNames(u),function(f){return md.isShowing(u,f)})}):N.none()})}function Pm(n){var o=gt.fromHtml(n),u=ma(o),f=Jr(o.dom.attributes!==void 0?o.dom.attributes:[],function(b,x){var S;return x.name==="class"?b:me(me({},b),((S={})[x.name]=x.value,S))},{}),d=Array.prototype.slice.call(o.dom.classList,0),g=u.length===0?{}:{innerHtml:I1(o)};return me({tag:da(o),classes:d,attributes:f},g)}function zT(n){return wr.getCurrent(n).each(function(o){return Zl(o.element)})}function C5(n,o,u){function f(x){var S;!d.get()||(S=x).type==="focusin"&&(S.composed?Vt(S.composedPath()):N.from(S.target)).map(gt.fromDom).filter(ur).exists(function(T){return uc(T,"mce-pastebin")})||(x.preventDefault(),zT(o()),n.editorManager.setActive(n))}var d=Cn(!1),g=mo();function b(x){var S,T,A,R,M,F,q,j,G,K;x!==d.get()&&(d.set(x),S=n,T=o(),A=x,R=u.providers,j=T.element,G=A,K="data-mce-"+(M="tabindex"),N.from(S.iframeElement).map(gt.fromDom).each(function(Q){G?(_e(Q,M).each(function(L){return nt(Q,K,L)}),nt(Q,M,-1)):(qe(Q,M),_e(Q,K).each(function(L){nt(Q,M,L),qe(Q,K)}))}),A?(Fm.block(T,(q=R,function(Q,L){return{dom:{tag:"div",attributes:{"aria-label":q.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Pm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})),Le(j,"display"),qe(j,"aria-hidden"),S.hasFocus()&&zT(T)):(F=wr.getCurrent(T).exists(function(Q){return Sl(Q.element)}),Fm.unblock(T),pt(j,"display","none"),nt(j,"aria-hidden","true"),F&&S.focus()),n.fire("AfterProgressState",{state:x}))}n.inline||n.on("PreInit",function(){n.dom.bind(n.getWin(),"focusin",f),n.on("BeforeExecCommand",function(x){x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&f(x)})}),n.on("ProgressState",function(x){var S;g.on(Jv.clearTimeout),hn(x.time)?(S=Jv.setEditorTimeout(n,function(){return b(x.state)},x.time),g.set(S)):(b(x.state),g.clear())})}function E4(n,o,u){return{within:n,extra:o,withinWidth:u}}function T4(n,o,u){var f,d=(f=function(x,S){var T=u(x);return N.some({element:x,start:S,finish:S+T,width:T})},Jr(n,function(x,S){return f(S,x.len).fold(ke(x),function(T){return{len:T.finish,list:x.list.concat([T])}})},{len:0,list:[]}).list),g=Je(d,function(x){return x.finish<=o}),b=zt(g,function(x,S){return x+S.width},0);return{within:g,extra:d.slice(g.length),withinWidth:b}}function Iw(n){return ot(n,function(o){return o.element})}function O4(n,o){var u=ot(o,function(f){return mu(f)});Af.setGroups(n,u)}function FT(n,o,u){var f,d,g,b,x,S,T,A,R,M,F,q,j,G,K,Q,L,Y,ue,de,Re=o.builtGroups.get();Re.length!==0&&(f=tl(n,o,"primary"),d=Za.getCoupled(n,"overflowGroup"),pt(f.element,"visibility","hidden"),b=En(g=Re.concat([d]),function(xe){return Ms(xe.element).bind(function(ze){return xe.getSystem().getByDom(ze).toOptional()})}),u([]),O4(f,g),x=Qo(f.element),T=x,A=o.builtGroups.get(),M=d,L=((F=T4(A,T,R=function(xe){return Qo(xe.element)})).extra.length===0?N.some(F):N.none()).getOrThunk(function(){return T4(A,T-R(M),R)}),Y=L.within,ue=L.extra,de=L.withinWidth,(S=ue.length===1&&ue[0].width<=R(M)?(Q=de,E4(Iw(Y.concat(ue)),[],Q)):1<=ue.length?(j=ue,G=M,K=de,E4(Iw(Y).concat([G]),Iw(j),K)):(q=de,E4(Iw(Y),[],q))).extra.length===0?(qn.remove(f,d),u([])):(O4(f,S.within),u(S.extra)),Le(f.element,"visibility"),Dn(f.element),b.each(Hn.focus))}function IT(n,o){var u=Za.getCoupled(n,"toolbarSandbox");Tr.isOpen(u)?Tr.close(u):Tr.open(u,o.toolbar())}function A4(n,o,u,f){var d=u.getBounds.map(function(b){return b()}),g=u.lazySink(n).getOrDie();fc.positionWithinBounds(g,o,{anchor:{type:"hotspot",hotspot:n,layouts:f,overrides:{maxWidthFunction:U4()}}},d)}function LT(n,o,u,f,d){Af.setGroups(o,d),A4(n,o,u,f),Br.on(n)}function HT(n){return ot(n,function(o){return mu(o)})}function $T(n,o,u){FT(n,u,function(f){u.overflowGroups.set(f),o.getOpt(n).each(function(d){S1.setGroups(d,HT(f))})})}function VT(n,o){po(n,o,"overflow-button").bind(function(){return po(n,o,"overflow")}).each(function(u){Hw(n,o),hv.toggleGrow(u)})}function UT(n){var o=n.title.fold(function(){return{}},function(u){return{attributes:{title:u}}});return{dom:me({tag:"div",classes:["tox-toolbar__group"]},o),components:[sk.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Tt([ba.config({}),Hn.config({})])}}function rk(n){return sk.sketch(UT(n))}function WT(n,o){var u=ua(function(f){var d=ot(n.initGroups,rk);Af.setGroups(f,d)});return Tt([q2(n.providers.isDisabled),wi(),Sn.config({mode:o,onEscape:n.onEscape,selector:".tox-toolbar__group"}),rr("toolbar-events",[u])])}function jT(n){var o=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":UT({title:N.none(),items:[]}),"overflow-button":Wi({name:"more",icon:N.some("more-drawer"),disabled:!1,tooltip:N.some("More..."),primary:!1,borderless:!1},N.none(),n.providers)},splitToolbarBehaviours:WT(n,o)}}function ok(n){var o=n.cyclicKeying?"cyclic":"acyclic";return Af.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===Gu.scrolling?["tox-toolbar--scrolling"]:[])},components:[Af.parts.groups({})],toolbarBehaviours:WT(n,o)})}function D4(n){return typeof n=="string"?n.split(" "):n}function qT(n,o){var u=me(me({},hO),o.menus),f=0<Pr(o.menus).length,d=Je(o.menubar===void 0||o.menubar===!0?D4("file edit view insert format tools table help"):D4(o.menubar===!1?"":o.menubar),function(g){var b=Jn(hO,g);return f?b||Ut(o.menus,g).exists(function(x){return Jn(x,"items")}):b});return Je(ot(d,function(g){var b=u[g],x={title:b.title,items:D4(b.items)},S=o,T=n.getParam("removed_menuitems","").split(/[ ,]/);return{text:x.title,getItems:function(){return ee(x.items,function(A){var R=A.toLowerCase();return R.trim().length===0||Ct(T,function(M){return M===R})?[]:R==="separator"||R==="|"?[{type:"separator"}]:S.menuItems[R]?[S.menuItems[R]]:[]})}}}),function(g){return 0<g.getItems().length&&Ct(g.getItems(),function(b){return b.type!=="separator"})})}function GT(n){function o(){n._skinLoaded=!0,n.fire("SkinLoaded")}return function(){n.initialized?o():n.on("init",o)}}function KT(n,o,u){return new vf(function(f,d){u.load(o,f,d),n.on("remove",function(){return u.unload(o)})})}function XT(n,o){var u,f,d,g,b,x,S,T,A,R=(d=(u=o).getParam("skin"),g=u.getParam("skin_url"),d!==!1&&(f=d||"oxide",g=g?u.documentBaseURI.toAbsolute(g):jx.baseURL+"/skins/ui/"+f),g);R&&o.contentCSS.push(R+(n?"/content.inline":"/content")+".min.css"),o.getParam("skin")===!1==0&&fr(R)?vf.all([KT(o,R+"/skin.min.css",o.ui.styleSheetLoader),(S=o,T=R,A=gt.fromDom(S.getElement()),nc(A).isSome()?KT(S,T+"/skin.shadowdom.min.css",Wp.DOM.styleSheetLoader):vf.resolve())]).then(GT(o),(b=o,x="Skin could not be loaded",function(){return b.fire("SkinLoadError",{message:x})})):GT(o)()}function ak(n,o){return function(u){function f(){u.setActive(n.formatter.match(o));var g=n.formatter.formatChanged(o,u.setActive);d.set(g)}var d=sg();return n.initialized?f():n.once("init",f),function(){n.off("init",f),d.clear()}}}function w1(n,o,u){return function(f){function d(){return u(f)}function g(){u(f),n.on(o,d)}return n.initialized?g():n.once("init",g),function(){n.off("init",g),n.off(o,d)}}}function R4(n){return function(o){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("mceToggleFormat",!1,o.format)})}}}function Il(n,o){return function(){return n.execCommand(o)}}function $b(n,o,u){var f,d,g,b=u.dataset,x=b.type==="basic"?function(){return ot(b.data,function(A){return mT(A,u.isSelectedFor,u.getPreviewFor)})}:b.getData;return{items:(f=o,d=u,g=function(A,R,M){var F=A.type==="formatter"&&d.isInvalid(A);return R===0?F?[]:S(A,R,!1,M).toArray():S(A,R,F,M).toArray()},{validateItems:T,getFetch:function(A,R){return function(M,F){F(Pn(T(R()),pc.CLOSE_ON_EXECUTE,A,!1))}}}),getStyleItems:x};function S(A,R,M,F){var q=f.shared.providers.translate(A.title);if(A.type==="separator")return N.some({type:"separator",text:q});if(A.type!=="submenu")return N.some(me({type:"togglemenuitem",text:q,icon:A.icon,active:A.isSelected(F),disabled:M,onAction:d.onAction(A)},A.getStylePreview().fold(function(){return{}},function(G){return{meta:{style:G}}})));var j=ee(A.getStyleItems(),function(G){return g(G,R,F)});return R===0&&j.length<=0?N.none():N.some({type:"nestedmenuitem",text:q,disabled:j.length<=0,getSubmenuItems:function(){return ee(A.getStyleItems(),function(G){return g(G,R,F)})}})}function T(A){var R=d.getCurrentValue(),M=d.shouldHide?0:1;return ee(A,function(F){return g(F,M,R)})}}function Lw(n,o,u){var f=$b(0,o,u),d=f.items,g=f.getStyleItems,b=w1(n,"NodeChange",function(x){var S=x.getComponent();u.updateText(S)});return Lr({text:u.icon.isSome()?N.none():u.text,icon:u.icon,tooltip:N.from(u.tooltip),role:N.none(),fetch:d.getFetch(o,g),onSetup:b,getApi:function(x){return{getComponent:ke(x)}},columns:1,presets:"normal",classes:u.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",o.shared)}function YT(n){return function(o){for(;o=o.parentNode;){var u=o.contentEditable;if(u&&u!=="inherit")return R5(o)}return!1}(n)&&!_5(n)}function x5(n,o){function u(A){return WC(n)}function f(A,R){return function(M,F){return po(M,n,F).map(function(q){return A(q,F)}).getOr(R)}}function d(A,R){return fe(A.element,"aria-hidden")!=="true"}var g,b=f(d,!1),x=f(function(A,R){var M;d(A)&&(pt(M=A.element,"display","none"),nt(M,"aria-hidden","true"),V(A,ly(),{name:R,visible:!1}))}),S=(g=x,function(A,R){Yt(R,function(M){return g(A,M)})}),T=f(function(A,R){var M;d(A)||(Le(M=A.element,"display"),qe(M,"aria-hidden"),V(A,ly(),{name:R,visible:!0}))});return{uid:n.uid,dom:n.dom,components:o,behaviours:Jf(n.slotBehaviours),apis:{getSlotNames:u,getSlot:function(A,R){return po(A,n,R)},isShowing:b,hideSlot:x,hideAllSlots:function(A){return S(A,u())},showSlot:T}}}function Hw(n,o){po(n,o,"overflow").each(function(u){FT(n,o,function(f){var d=ot(f,function(g){return mu(g)});Af.setGroups(u,d)}),po(n,o,"overflow-button").each(function(f){hv.hasGrown(u)&&Br.on(f)}),hv.refresh(u)})}var _4,C1,ik,B4="data-value",JT=function(n,o,u,f){return ot(u,function(d){return f4(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===f,onAction:function(){Pt.setValue(n,d.value),V(n,Bu,{name:o}),Hn.focus(n)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return JT(n,o,d.items,f)}}})},QT=function(n,o){return En(n,function(u){return f4(u)?ri(u.value===o,u):QT(u.items,o)})},S5=Oc({name:"HtmlSelect",configFields:[$e("options"),ea("selectBehaviours",[Hn,Pt]),Se("selectClasses",[]),Se("selectAttributes",{}),jn("data")],factory:function(n,o){var u=ot(n.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),f=n.data.map(function(d){return zc("initialValue",d)}).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:u,behaviours:yi(n.selectBehaviours,[Hn.config({}),Pt.config({store:me({mode:"manual",getValue:function(d){return Ov(d.element)},setValue:function(d,g){Rr(n.options,function(b){return b.value===g}).isSome()&&As(d.element,g)}},f)})])}}}),k5=Object.freeze({__proto__:null,events:function(n,o){var u=n.stream.streams.setup(n,o);return Uo([Pe(n.event,u),Bs(function(){return o.cancel()})].concat(n.cancelEvent.map(function(f){return[Pe(f,function(){return o.cancel()})]}).getOr([])))}}),E5=Object.freeze({__proto__:null,throttle:sT,init:function(n){return n.stream.streams.state(n)}}),ZT=ru({fields:[eu("stream",Au("mode",{throttle:[$e("delay"),Se("stopEvent",!0),Lo("streams",{setup:function(n,o){var u=n.stream,f=E2(n.onStream,u.delay);return o.setTimer(f),function(d,g){f.throttle(d,g),u.stopEvent&&g.stop()}},state:sT})]})),Se("event","input"),jn("cancelEvent"),Ns("onStream")],name:"streaming",active:k5,state:E5}),eO=function(n){lT(n,function(o,u){return o.setSelectionRange(u.length,u.length)})},N4=ke("alloy.typeahead.itemexecute"),T5=ke([jn("lazySink"),$e("fetch"),Se("minChars",5),Se("responseTime",1e3),Qr("onOpen"),Se("getHotspot",N.some),Se("getAnchorOverrides",ke({})),Se("layouts",N.none()),Se("eventOrder",{}),Ev("model",{},[Se("getDisplayText",function(n){return n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value}),Se("selectsOver",!0),Se("populateFromBrowse",!0)]),Qr("onSetValue"),Lc("onExecute"),Qr("onItemExecute"),Se("inputClasses",[]),Se("inputAttributes",{}),Se("inputStyles",{}),Se("matchWidth",!0),Se("useMinWidth",!1),Se("dismissOnBlur",!0),Ql(["openClass"]),jn("initialData"),ea("typeaheadBehaviours",[Hn,Pt,ZT,Sn,Br,Za]),Zo("previewing",function(){return Cn(!0)})].concat(xb()).concat(cd())),O5=ke([vc({schema:[zd()],name:"menu",overrides:function(n){return{fakeFocus:!0,onHighlight:function(o,u){n.previewing.get()?o.getSystem().getByUid(n.uid).each(function(f){(function(d,g,b){if(d.selectsOver){var x=Pt.getValue(g),S=d.getDisplayText(x),T=Pt.getValue(b);return d.getDisplayText(T).indexOf(S)===0?N.some(function(){var A;qS(0,g,b),A=S.length,lT(g,function(R,M){return R.setSelectionRange(A,M.length)})}):N.none()}return N.none()})(n.model,f,u).fold(function(){return Ur.dehighlight(o,u)},function(d){return d()})}):o.getSystem().getByUid(n.uid).each(function(f){n.model.populateFromBrowse&&qS(n.model,f,u)}),n.previewing.set(!1)},onExecute:function(o,u){return o.getSystem().getByUid(n.uid).toOptional().map(function(f){return V(f,N4(),{item:u}),!0})},onHover:function(o,u){n.previewing.set(!1),o.getSystem().getByUid(n.uid).each(function(f){n.model.populateFromBrowse&&qS(n.model,f,u)})}}}})]),M4=ju({name:"Typeahead",configFields:T5(),partFields:O5(),factory:function(n,o,u,f){function d(S,T,A){n.previewing.set(!1);var R=Za.getCoupled(S,"sandbox");Tr.isOpen(R)?wr.getCurrent(R).each(function(M){Ur.getHighlighted(M).fold(function(){A(M)},function(){ht(R,M.element,"keydown",T)})}):vh(n,g(S),S,R,f,function(M){wr.getCurrent(M).each(A)},Ml.HighlightFirst).get(dt)}function g(S){return function(T){return T.map(function(A){var R=ee(mn(A.menus),function(M){return Je(M.items,function(F){return F.type==="item"})});return Pt.getState(S).update(ot(R,function(M){return M.data})),A})}}var b=lw(n),x=[Hn.config({}),Pt.config({onSetValue:n.onSetValue,store:me({mode:"dataset",getDataKey:function(S){return Ov(S.element)},getFallbackEntry:function(S){return{value:S,meta:{}}},setValue:function(S,T){As(S.element,n.model.getDisplayText(T))}},n.initialData.map(function(S){return zc("initialValue",S)}).getOr({}))}),ZT.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:function(S,T){var A,R=Za.getCoupled(S,"sandbox");Hn.isFocused(S)&&Ov(S.element).length>=n.minChars&&(A=wr.getCurrent(R).bind(function(M){return Ur.getHighlighted(M).map(Pt.getValue)}),n.previewing.set(!0),vh(n,g(S),S,R,f,function(M){wr.getCurrent(R).each(function(F){A.fold(function(){n.model.selectsOver&&Ur.highlightFirst(F)},function(q){Ur.highlightBy(F,function(j){return Pt.getValue(j).value===q.value}),Ur.getHighlighted(F).orThunk(function(){return Ur.highlightFirst(F),N.none()})})})},Ml.HighlightFirst).get(dt))},cancelEvent:Ih()}),Sn.config({mode:"special",onDown:function(S,T){return d(S,T,Ur.highlightFirst),N.some(!0)},onEscape:function(S){var T=Za.getCoupled(S,"sandbox");return Tr.isOpen(T)?(Tr.close(T),N.some(!0)):N.none()},onUp:function(S,T){return d(S,T,Ur.highlightLast),N.some(!0)},onEnter:function(S){var T=Za.getCoupled(S,"sandbox"),A=Tr.isOpen(T);if(A&&!n.previewing.get())return wr.getCurrent(T).bind(function(M){return Ur.getHighlighted(M)}).map(function(M){return V(S,N4(),{item:M}),!0});var R=Pt.getValue(S);return z(S,Ih()),n.onExecute(T,S,R),A&&Tr.close(T),N.some(!0)}}),Br.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Za.config({others:{sandbox:function(S){return kb(n,S,{onOpen:function(){return Br.on(S)},onClose:function(){return Br.off(S)}})}}}),rr("typeaheadevents",[Jl(function(S){uv(n,g(S),S,f,dt,Ml.HighlightFirst).get(dt)}),Pe(N4(),function(S,T){var A=Za.getCoupled(S,"sandbox");qS(n.model,S,T.event.item),z(S,Ih()),n.onItemExecute(S,A,T.event.item,Pt.getValue(S)),Tr.close(A),eO(S)})].concat(n.dismissOnBlur?[Pe(sy(),function(S){var T=Za.getCoupled(S,"sandbox");Ms(T.element).isNone()&&Tr.close(T)})]:[]))];return{uid:n.uid,dom:hS(Ir(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:me(me({},b),yi(n.typeaheadBehaviours,x)),eventOrder:n.eventOrder}}}),zm=function(n){return me(me({},n),{toCached:function(){return zm(n.toCached())},bindFuture:function(o){return zm(n.bind(function(u){return u.fold(function(f){return iv(on.error(f))},function(f){return o(f)})}))},bindResult:function(o){return zm(n.map(function(u){return u.bind(o)}))},mapResult:function(o){return zm(n.map(function(u){return u.map(o)}))},mapError:function(o){return zm(n.map(function(u){return u.mapError(o)}))},foldResult:function(o,u){return n.map(function(f){return f.fold(o,u)})},withTimeout:function(o,u){return zm(Yc(function(f){var d=!1,g=setTimeout(function(){d=!0,f(on.error(u()))},o);n.get(function(b){d||(clearTimeout(g),f(b))})}))}})},P4=function(n){return zm(Yc(n))},tO={type:"separator"},nO=un("aria-invalid"),A5={bar:Bi(function(n,o){return u=o.shared,{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ot(n.items,u.interpreter)};var u}),collection:Bi(function(n,o){return d=n,g=o.shared.providers,S=d.label.map(function(R){return ad(R,g)}),T=u(function(R,M,F,q){M.stop(),g.isDisabled()||V(R,xf,{name:d.name,value:q})}),A=[Pe(si(),u(function(R,M,F){Zl(F)})),Pe(Fh(),T),Pe(_d(),T),Pe($f(),u(function(R,M,F){Ai(R.element,"."+$p).each(function(q){ha(q,$p)}),tu(F,$p)})),Pe(gC(),u(function(R){Ai(R.element,"."+$p).each(function(M){ha(M,$p)})})),Jl(u(function(R,M,F,q){V(R,xf,{name:d.name,value:q})}))],o1(S,Wr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(d.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Nt},behaviours:Tt([bn.config({disabled:g.isDisabled,onDisabled:function(R){f(R,function(M){tu(M,"tox-collection__item--state-disabled"),nt(M,"aria-disabled",!0)})},onEnabled:function(R){f(R,function(M){ha(M,"tox-collection__item--state-disabled"),qe(M,"aria-disabled")})}}),wi(),qn.config({}),Pt.config({store:{mode:"memory",initialValue:[]},onSetValue:function(R,M){var F=R,q=ot(M,function(G){var K=al.translate(G.text),Q=d.columns===1?'<div class="tox-collection__item-label">'+K+"</div>":"",L='<div class="tox-collection__item-icon">'+G.icon+"</div>",Y={_:" "," - ":" ","-":" "},ue=K.replace(/\_| \- |\-/g,function(de){return Y[de]});return'<div class="tox-collection__item'+(g.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+fw.encodeAllRaw(G.value)+'" title="'+ue+'" aria-label="'+ue+'">'+L+Q+"</div>"}),j=ot(d.columns!=="auto"&&1<d.columns?Hr(q,d.columns):[q],function(G){return'<div class="tox-collection__group">'+G.join("")+"</div>"});Nh(F.element,j.join("")),d.columns==="auto"&&Ug(R,5,"tox-collection__item").each(function(G){var K=G.numRows,Q=G.numColumns;Sn.setGridSize(R,K,Q)}),z(R,CS)}}),ba.config({}),Sn.config((x=d.columns)===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:x==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:"."+hf}}),rr("collection-events",A)]),eventOrder:((b={})[Ec()]=["disabling","alloy.base.behaviour","collection-events"],b)}),["tox-form__group--collection"],[]);function u(R){return function(M,F){Qs(F.event.target,"[data-collection-item-value]").each(function(q){R(M,F,q,fe(q,"data-collection-item-value"))})}}function f(R,M){return ot(sc(R.element,".tox-collection__item"),M)}var d,g,b,x,S,T,A}),alertbanner:Bi(function(n,o){return f=o.shared.providers,bu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+(u=n).level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[hc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:kx(u.icon,f.icons),attributes:{title:f.translate(u.iconTooltip)}},action:function(d){V(d,xf,{name:"alert-banner",value:u.url})},buttonBehaviours:Tt([H0()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:f.translate(u.text)}}]});var u,f}),input:Bi(function(n,o){return f=o.shared.providers,v4({name:(u=n).name,multiline:!1,label:u.label,inputMode:u.inputMode,placeholder:u.placeholder,flex:!1,disabled:u.disabled,classname:"tox-textfield",validation:N.none(),maximized:u.maximized},f);var u,f}),textarea:Bi(function(n,o){return f=o.shared.providers,v4({name:(u=n).name,multiline:!0,label:u.label,inputMode:N.none(),placeholder:u.placeholder,flex:!0,disabled:u.disabled,classname:"tox-textarea",validation:N.none(),maximized:u.maximized},f);var u,f}),label:Bi(function(n,o){return d={dom:{tag:"label",innerHtml:(f=o.shared).providers.translate((u=n).label),classes:["tox-label"]}},g=ot(u.items,f.interpreter),{dom:{tag:"div",classes:["tox-form__group"]},components:[d].concat(g),behaviours:Tt([Ku(),qn.config({}),mv(N.none()),Sn.config({mode:"acyclic"})])};var u,f,d,g}),iframe:(_4=function(n,o){return u=n,f=o.shared.providers,b=JD&&u.sandboxed,x=me(me({},u.label.map(function(T){return{title:T}}).getOr({})),b?{sandbox:"allow-scripts allow-same-origin"}:{}),d=b,g=Cn(""),S={getValue:function(T){return g.get()},setValue:function(T,A){var R;d?nt(T.element,"srcdoc",A):(nt(T.element,"src","javascript:''"),(R=T.element.dom.contentWindow.document).open(),R.write(A),R.close()),g.set(A)}},o1(u.label.map(function(T){return ad(T,f)}),Wr.parts.field({factory:{sketch:function(T){return PS({uid:T.uid,dom:{tag:"iframe",attributes:x},behaviours:Tt([ba.config({}),Hn.config({}),YD(N.none(),S.getValue,S.setValue)])})}}}),["tox-form__group--stretched"],[]);var u,f,d,g,b,x,S},function(n,o,u){var f=Ir(o,{source:"dynamic"});return Bi(_4)(n,f,u)}),button:Bi(function(n,o){return u=n,f=o.shared.providers,d=Cr(u.name,"custom"),o1(N.none(),Wr.parts.field(me({factory:hc},Nr(u,N.some(d),f,[US(""),Ku()]))),[],[]);var u,f,d}),checkbox:Bi(function(n,o){return d=n,g=o.shared.providers,b=Pt.config({store:{mode:"manual",getValue:function(A){return A.element.dom.checked},setValue:function(A,R){A.element.dom.checked=R}}}),x=Wr.parts.field({factory:{sketch:Nt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Tt([Ku(),bn.config({disabled:function(){return d.disabled||g.isDisabled()}}),ba.config({}),Hn.config({}),b,Sn.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),rr("checkbox-events",[Pe(zh(),function(A,R){V(A,Bu,{name:d.name})})])])}),S=Wr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:g.translate(d.label)},behaviours:Tt([Tf.config({})])}),T=Zr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[f("checked"),f("unchecked")]}),Wr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,T.asSpec(),S],fieldBehaviours:Tt([bn.config({disabled:function(){return d.disabled||g.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(A){Wr.getField(A).each(bn.disable)},onEnabled:function(A){Wr.getField(A).each(bn.enable)}}),wi()])});function u(A){return A.element.dom.click(),N.some(!0)}function f(A){return Ls(A==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+A]},g.icons)}var d,g,b,x,S,T}),colorinput:Bi(function(n,o){return f=n,d=o.shared,g=o.colorinput,S=Wr.parts.field({factory:Rc,inputClasses:["tox-textfield"],onSetValue:function(R){return il.run(R).get(dt)},inputBehaviours:Tt([bn.config({disabled:d.providers.isDisabled}),wi(),ba.config({}),il.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(R){return Xr(R.element)},notify:{onValid:function(R){var M=Pt.getValue(R);V(R,YE,{color:M})}},validator:{validateOnLoad:!1,validate:function(R){var M=Pt.getValue(R);if(M.length===0)return iv(on.value(!0));var F=gt.fromTag("span");pt(F,"background-color",M);var q=Bn(F,"background-color").fold(function(){return on.error("blah")},function(j){return on.value(M)});return iv(q)}}})]),selectOnFocus:!1}),T=f.label.map(function(R){return ad(R,d.providers)}),A=Zr((b={dom:{tag:"span",attributes:{"aria-label":d.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ja,Ri,Ba]},onLtr:function(){return[Ri,ja,Ba]}},components:[],fetch:tw(g.getColors(),g.hasCustomColors()),columns:g.getColorCols(),presets:"color",onItemAction:function(R,M){A.getOpt(R).each(function(F){M==="custom"?g.colorPicker(function(q){q.fold(function(){return z(F,JE)},function(j){u(F,j),Jp(j)})},"#ffffff"):u(F,M==="remove"?"":M)})}},$s.sketch({dom:b.dom,components:b.components,toggleClass:"mce-active",dropdownBehaviours:Tt([th((x=d).providers.isDisabled),wi(),Tf.config({}),ba.config({})]),layouts:b.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:x.getSink,fetch:function(R){return Yc(function(M){return b.fetch(M)}).map(function(M){return N.from(uw(Ir(ow(un("menu-value"),M,function(F){b.onItemAction(R,F)},b.columns,b.presets,pc.CLOSE_ON_EXECUTE,Fn,x.providers),{movement:Qp(b.columns,b.presets)})))})},parts:{menu:mm(0,0,b.presets)}}))),Wr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:T.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[S,A.asSpec()]}]),fieldBehaviours:Tt([rr("form-field-events",[Pe(YE,function(R,M){A.getOpt(R).each(function(F){pt(F.element,"background-color",M.event.color)}),V(R,Bu,{name:f.name})}),Pe(LS,function(R,M){Wr.getField(R).each(function(F){Pt.setValue(F,M.event.value),wr.getCurrent(R).each(Hn.focus)})}),Pe(JE,function(R,M){Wr.getField(R).each(function(F){wr.getCurrent(R).each(Hn.focus)})})])])});function u(R,M){V(R,LS,{value:M})}var f,d,g,b,x,S,T,A}),colorpicker:Bi(function(n){var o=Zr(Bb(W3,function(u){return"tox-"+u}).sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:function(u){V(u,xf,{name:"hex-valid",value:!0})},onInvalidHex:function(u){V(u,xf,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:Tt([Pt.config({store:{mode:"manual",getValue:function(u){var f=o.get(u);return wr.getCurrent(f).bind(function(d){return Pt.getValue(d).hex}).map(function(d){return"#"+d}).getOr("")},setValue:function(u,f){var d=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(f),g=o.get(u);wr.getCurrent(g).fold(function(){console.log("Can not find form")},function(b){Pt.setValue(b,{hex:N.from(d[1]).getOr("")}),zb.getField(b,"hex").each(function(x){z(x,Dd())})})}}}),Ku()])}}),dropzone:Bi(function(n,o){return MS(n,o.shared.providers)}),grid:Bi(function(n,o){return u=o.shared,{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+n.columns+"col"]},components:ot(n.items,u.interpreter)};var u}),listbox:Bi(function(n,o){return u=n,d=(f=o).shared.providers,g=Vt(u.items).filter(f4),b=u.label.map(function(S){return ad(S,d)}),x={dom:{tag:"div",classes:["tox-listboxfield"]},components:[Wr.parts.field({dom:{},factory:{sketch:function(S){return Lr({uid:S.uid,text:g.map(function(T){return T.text}),icon:N.none(),tooltip:u.label,role:N.none(),fetch:function(T,A){A(Pn(JT(T,u.name,u.items,Pt.getValue(T)),pc.CLOSE_ON_EXECUTE,f,!1))},onSetup:ke(dt),getApi:ke({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ba.config({}),Pt.config({store:{mode:"manual",initialValue:g.map(function(T){return T.value}).getOr(""),getValue:function(T){return fe(T.element,B4)},setValue:function(T,A){QT(u.items,A).each(function(R){nt(T.element,B4,R.value),V(T,wh,{text:R.text})})}}})]},"tox-listbox",f.shared)}}})]},Wr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([b.toArray(),[x]]),fieldBehaviours:Tt([bn.config({disabled:ke(u.disabled),onDisabled:function(S){Wr.getField(S).each(bn.disable)},onEnabled:function(S){Wr.getField(S).each(bn.enable)}})])});var u,f,d,g,b,x}),selectbox:Bi(function(n,o){return u=n,f=o.shared.providers,d=ot(u.items,function(x){return{text:f.translate(x.text),value:x.value}}),g=u.label.map(function(x){return ad(x,f)}),b={dom:{tag:"div",classes:["tox-selectfield"]},components:br([[Wr.parts.field({dom:{},selectAttributes:{size:u.size},options:d,factory:S5,selectBehaviours:Tt([bn.config({disabled:function(){return u.disabled||f.isDisabled()}}),ba.config({}),rr("selectbox-change",[Pe(zh(),function(x,S){V(x,Bu,{name:u.name})})])])})],(1<u.size?N.none():N.some(Ls("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},f.icons))).toArray()])},Wr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:br([g.toArray(),[b]]),fieldBehaviours:Tt([bn.config({disabled:function(){return u.disabled||f.isDisabled()},onDisabled:function(x){Wr.getField(x).each(bn.disable)},onEnabled:function(x){Wr.getField(x).each(bn.enable)}}),wi()])});var u,f,d,g,b}),sizeinput:Bi(function(n,o){return yu(n,o.shared.providers)}),urlinput:Bi(function(n,o){return m5(n,o,o.urlinput)}),customeditor:Bi(function(n){var o=mo(),u=Zr({dom:{tag:n.tag}}),f=mo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Tt([rr("custom-editor-events",[ua(function(d){u.getOpt(d).each(function(g){(Jn(n,"init")?n.init(g.element.dom):e4.load(n.scriptId,n.scriptUrl).then(function(b){return b(g.element.dom,n.settings)})).then(function(b){f.on(function(x){b.setValue(x)}),f.clear(),o.set(b)})})})]),Pt.config({store:{mode:"manual",getValue:function(){return o.get().fold(function(){return f.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){o.get().fold(function(){f.set(g)},function(b){return b.setValue(g)})}}}),Ku()]),components:[u.asSpec()]}}),htmlpanel:Bi(function(n){return n.presets==="presentation"?bu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):bu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:Tt([ba.config({}),Hn.config({})])})}),imagetools:Bi(function(n,o){return l4(n,o.shared.providers)}),table:Bi(function(n,o){return cT(n,o.shared.providers)}),panel:Bi(function(n,o){return{dom:{tag:"div",classes:n.classes},components:ot(n.items,o.shared.interpreter)}})},uk={field:function(n,o){return o}},$w=function(n,o,u){return Ut(A5,o.type).fold(function(){return console.error('Unknown factory type "'+o.type+'", defaulting to container: ',o),o},function(f){return f(n,o,u)})},Vw={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},z4=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],rO=function(n){return Jr(n,function(o,u){if(Jn(u,"items")){var f=rO(u.items);return{customFormats:o.customFormats.concat(f.customFormats),formats:o.formats.concat([{title:u.title,items:f.formats}])}}if(Jn(u,"inline")||Jn(u,"block")||Jn(u,"selector")){var d="custom-"+(fr(u.name)?u.name:u.title.toLowerCase());return{customFormats:o.customFormats.concat([{name:d,format:u}]),formats:o.formats.concat([{title:u.title,format:d,icon:u.icon}])}}return me(me({},o),{formats:o.formats.concat(u)})},{customFormats:[],formats:[]})},D5=yh.trim,R5=KS("true"),_5=KS("false"),B5=function(n){var o=ot(sc(gt.fromDom(n),"h1,h2,h3,h4,h5,h6,a:not([href])"),function(u){return u.dom});return Je(ot(Je(o,b4),g5).concat(ot(Je(o,gT),pT)),bT)},ck="tinymce-url-history",ms=tx,x1=d3,N5=ke([Se("shell",!1),$e("makeItem"),Se("setupItem",dt),jc("listBehaviours",[qn])]),M5=ke([Ac({name:"items",overrides:function(){return{behaviours:Tt([qn.config({})])}}})]),oO=ju({name:ke("CustomList")(),configFields:N5(),partFields:M5(),factory:function(n,o,u,f){var d=n.shell?{behaviours:[qn.config({})],components:[]}:{behaviours:[],components:o};return{uid:n.uid,dom:n.dom,components:d.components,behaviours:yi(n.listBehaviours,d.behaviours),apis:{setItems:function(g,b){var x;x=g,(n.shell?N.some(x):po(x,n,"items")).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(S){var T=qn.contents(S),A=b.length,R=A-T.length,M=0<R?la(R,function(){return n.makeItem()}):[],F=T.slice(A);Yt(F,function(j){return qn.remove(S,j)}),Yt(M,function(j){return qn.append(S,j)});var q=qn.contents(S);Yt(q,function(j,G){n.setupItem(g,j,b[G],G)})})}}}},apis:{setItems:function(n,o,u){n.setItems(o,u)}}}),Vb=ke([$e("dom"),Se("shell",!0),ea("toolbarBehaviours",[qn])]),P5=ke([Ac({name:"groups",overrides:function(){return{behaviours:Tt([qn.config({})])}}})]),Af=ju({name:"Toolbar",configFields:Vb(),partFields:P5(),factory:function(n,o,u,f){var d=n.shell?{behaviours:[qn.config({})],components:[]}:{behaviours:[],components:o};return{uid:n.uid,dom:n.dom,components:d.components,behaviours:yi(n.toolbarBehaviours,d.behaviours),apis:{setGroups:function(g,b){var x;x=g,(n.shell?N.some(x):po(x,n,"groups")).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(S){qn.set(S,b)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(n,o,u){n.setGroups(o,u)}}}),aO=ke([]),z5=Object.freeze({__proto__:null,setup:dt,isDocked:Fn,getBehaviours:aO}),gv=Sc([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),F4=function(n,o,u){var f,d,g,b;n.getSystem().isConnected()&&(g=u,b=(d=o).lazyViewport(f=n),g.isDocked()&&TT(f,d,g,b),y5(f,b,g).each(function(x){x.fold(function(){return y4(f,d,g)},function(S){return ZS(f,d,g,S)},function(S){TT(f,d,g,b,!0),ZS(f,d,g,S)})}))},F5=Object.freeze({__proto__:null,refresh:F4,reset:OT,isDocked:function(n,o,u){return u.isDocked()},getModes:function(n,o,u){return u.getModes()},setModes:function(n,o,u,f){return u.setModes(f)}}),I4=Object.freeze({__proto__:null,events:function(n,o){return Uo([Xm(eg(),function(u,f){n.contextual.each(function(d){uc(u.element,d.transitionClass)&&(wl(u.element,[d.transitionClass,d.fadeInClass]),(o.isVisible()?d.onShown:d.onHidden)(u)),f.stop()})}),Pe(rg(),function(u,f){F4(u,n,o)}),Pe(cc(),function(u,f){OT(u,n,o)})])}}),So=ru({fields:[$i("contextual",[wn("fadeInClass"),wn("fadeOutClass"),wn("transitionClass"),_a("lazyContext"),Qr("onShow"),Qr("onShown"),Qr("onHide"),Qr("onHidden")]),Io("lazyViewport",Vr),Lf("modes",["top","bottom"],Va),Qr("onDocked"),Qr("onUndocked")],name:"docking",active:I4,apis:F5,state:Object.freeze({__proto__:null,init:function(n){var o=Cn(!1),u=Cn(!0),f=mo(),d=Cn(n.modes);return cs({isDocked:o.get,setDocked:o.set,getInitialPos:f.get,setInitialPos:f.set,clearInitialPos:f.clear,isVisible:u.get,setVisible:u.set,getModes:d.get,setModes:d.set,readState:function(){return"docked:  "+o.get()+", visible: "+u.get()+", modes: "+d.get().join(",")}})}})}),L4=ke(un("toolbar-height-change")),dd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},iO="tox-tinymce--toolbar-sticky-on",uO="tox-tinymce--toolbar-sticky-off",I5=Object.freeze({__proto__:null,setup:function(n,o,u){n.inline||(o.header.isPositionedAtTop()||n.on("ResizeEditor",function(){u().each(So.reset)}),n.on("ResizeWindow ResizeEditor",function(){u().each(C4)}),n.on("SkinLoaded",function(){u().each(function(f){So.isDocked(f)?So.reset(f):So.refresh(f)})}),n.on("FullscreenStateChanged",function(){u().each(So.reset)})),n.on("AfterScrollIntoView",function(f){u().each(function(d){So.refresh(d);var g,b,x,S,T,A,R,M,F,q,j,G,K,Q,L,Y,ue=d.element;o2(ue)&&(g=f,S=(x=Jt(b=ue)).dom.defaultView.innerHeight,T=aa(x),R=X(A=gt.fromDom(g.elm)),M=$r(A),q=(F=R.y)+M,j=Xi(b),G=$r(b),Q=(K=j.top)+G,L=Math.abs(K-T.top)<2,Y=Math.abs(Q-(T.top+S))<2,L&&F<Q?Yi(T.left,F-G,x):Y&&K<q&&Yi(T.left,F-S+M+G,x))})}),n.on("PostRender",function(){Fw(n,!1)})},isDocked:function(n){return n().map(So.isDocked).getOr(!1)},getBehaviours:DT}),L5=Tn([wn("type"),eu("items",Hu([Os([wn("name"),pi("items",Va)]),Va]))].concat(av)),H5=[oo("text"),oo("tooltip"),oo("icon"),_a("fetch"),Io("onSetup",function(){return dt})],$5=Tn(On([wn("type")],H5,!0)),V5=Tn([wn("type"),oo("tooltip"),oo("icon"),oo("text"),Es("select"),_a("fetch"),Io("onSetup",function(){return dt}),rc("presets","normal",["normal","color","listpreview"]),Se("columns",1),_a("onAction"),_a("onItemAction")]),H4=Oc({factory:function(n,o){var u={focus:Sn.focusIn,setMenus:function(f,d){var g=ot(d,function(b){return gr(RT({type:"menubutton",text:b.text,fetch:function(x){x(b.getItems())}}).mapError(function(x){return Co(x)}).getOrDie(),"tox-mbtn",o.backstage,N.some("menuitem"))});qn.set(f,g)}};return{uid:n.uid,dom:n.dom,components:[],behaviours:Tt([qn.config({}),rr("menubar-events",[ua(function(f){n.onSetup(f)}),Pe(si(),function(f,d){Ai(f.element,".tox-mbtn--active").each(function(g){Qs(d.event.target,".tox-mbtn").each(function(b){or(g,b)||f.getSystem().getByDom(g).each(function(x){f.getSystem().getByDom(b).each(function(S){$s.expand(S),$s.close(x),Hn.focus(S)})})})})}),Pe(Yl(),function(f,d){d.event.prevFocus.bind(function(g){return f.getSystem().getByDom(g).toOptional()}).each(function(g){d.event.newFocus.bind(function(b){return f.getSystem().getByDom(b).toOptional()}).each(function(b){$s.isOpen(g)&&($s.expand(b),$s.close(g))})})})]),Sn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(f){return n.onEscape(f),N.some(!0)}}),ba.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[$e("dom"),$e("uid"),$e("onEscape"),$e("backstage"),Se("onSetup",dt)],apis:{focus:function(n,o){n.focus(o)},setMenus:function(n,o,u){n.setMenus(o,u)}}}),U5=Object.freeze({__proto__:null,refresh:function(n,o,u){var f;u.isExpanded()&&(Le(n.element,Mm(o)),f=Hb(o,n.element),pt(n.element,Mm(o),f))},grow:function(n,o,u){u.isExpanded()||BT(n,o,u)},shrink:function(n,o,u){u.isExpanded()&&_T(n,o,u)},immediateShrink:function(n,o,u){u.isExpanded()&&S4(n,o,u)},hasGrown:function(n,o,u){return u.isExpanded()},hasShrunk:function(n,o,u){return u.isCollapsed()},isGrowing:NT,isShrinking:MT,isTransitioning:function(n,o,u){return NT(n,o)||MT(n,o)},toggleGrow:function(n,o,u){(u.isExpanded()?_T:BT)(n,o,u)},disableTransitions:ek}),W5=Object.freeze({__proto__:null,exhibit:function(n,o,u){return yl(o.expanded?{classes:[o.openClass],styles:{}}:{classes:[o.closedClass],styles:zc(o.dimension.property,"0px")})},events:function(n,o){return Uo([Xm(eg(),function(u,f){f.event.raw.propertyName===n.dimension.property&&(ek(u,n),o.isExpanded()&&Le(u.element,n.dimension.property),(o.isExpanded()?n.onGrown:n.onShrunk)(u))})])}}),hv=ru({fields:[$e("closedClass"),$e("openClass"),$e("shrinkingClass"),$e("growingClass"),jn("getAnimationRoot"),Qr("onShrunk"),Qr("onStartShrink"),Qr("onGrown"),Qr("onStartGrow"),Se("expanded",!1),eu("dimension",Au("property",{width:[Lo("property","width"),Lo("getDimension",function(n){return Qo(n)+"px"})],height:[Lo("property","height"),Lo("getDimension",function(n){return $r(n)+"px"})]}))],name:"sliding",active:W5,apis:U5,state:Object.freeze({__proto__:null,init:function(n){var o=Cn(n.expanded);return cs({isExpanded:function(){return o.get()===!0},isCollapsed:function(){return o.get()===!1},setCollapsed:Dr(o.set,!1),setExpanded:Dr(o.set,!0),readState:function(){return"expanded: "+o.get()}})}})}),cO="container",j5=[ea("slotBehaviours",[])],q5=tn({getSlotNames:function(n,o){return n.getSlotNames(o)},getSlot:function(n,o,u){return n.getSlot(o,u)},isShowing:function(n,o,u){return n.isShowing(o,u)},hideSlot:function(n,o,u){return n.hideSlot(o,u)},hideAllSlots:function(n,o){return n.hideAllSlots(o)},showSlot:function(n,o,u){return n.showSlot(o,u)}},Ed),md=me(me({},q5),{sketch:function(n){var o,u={slot:function(g,b){return o.push(g),Ol(cO,nk(g),b)},record:ke(o=[])},f=n(u),d=ot(u.record(),function(g){return Ru({name:g,pname:nk(g)})});return qd(cO,j5,d,x5,f)}}),G5=Tn([oo("icon"),oo("tooltip"),Io("onShow",dt),Io("onHide",dt),Io("onSetup",function(){return dt})]),$4=un("FixSizeEvent"),V4=un("AutoSizeEvent"),K5=Object.freeze({__proto__:null,block:function(n,o,u,f){nt(n.element,"aria-busy",!0);var d=o.getRoot(n).getOr(n),g=Tt([Sn.config({mode:"special",onTab:function(){return N.some(!0)},onShiftTab:function(){return N.some(!0)}}),Hn.config({})]),b=f(d,g),x=d.getSystem().build(b);qn.append(d,mu(x)),x.hasConfigured(Sn)&&o.focus&&Sn.focusIn(x),u.isBlocked()||o.onBlock(n),u.blockWith(function(){return qn.remove(d,x)})},unblock:function(n,o,u){qe(n.element,"aria-busy"),u.isBlocked()&&o.onUnblock(n),u.clear()}}),Fm=ru({fields:[Io("getRoot",N.none),yr("focus",!0),Qr("onBlock"),Qr("onUnblock")],name:"blocking",apis:K5,state:Object.freeze({__proto__:null,init:function(){var n=Ty();return cs({readState:n.isSet,blockWith:function(o){n.set({destroy:o})},clear:n.clear,isBlocked:n.isSet})}})}),sO=ke([ea("splitToolbarBehaviours",[Za]),Zo("builtGroups",function(){return Cn([])})]),X5=ke([Ql(["overflowToggledClass"]),Es("getOverflowBounds"),$e("lazySink"),Zo("overflowGroups",function(){return Cn([])})].concat(sO())),Y5=ke([Ru({factory:Af,schema:Vb(),name:"primary"}),vc({schema:Vb(),name:"overflow"}),vc({name:"overflow-button"}),vc({name:"overflow-group"})]),U4=ke(function(n,o){var u=n,f=Math.floor(o);pt(u,"max-width",Ye.max(u,f,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"])+"px")}),lO=ke([Ql(["toggledClass"]),$e("lazySink"),_a("fetch"),Es("getBounds"),$i("fireDismissalEventInstead",[Se("event",fi())]),Tl()]),J5=ke([vc({name:"button",overrides:function(n){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Tt([Br.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),vc({factory:Af,schema:Vb(),name:"toolbar",overrides:function(n){return{toolbarBehaviours:Tt([Sn.config({mode:"cyclic",onEscape:function(o){return po(o,n,"button").each(Hn.focus),N.none()}})])}}})]),S1=ju({name:"FloatingToolbarButton",factory:function(n,o,u,f){return me(me({},hc.sketch(me(me({},f.button()),{action:function(d){IT(d,f)},buttonBehaviours:nl({dump:f.button().buttonBehaviours},[Za.config({others:{toolbarSandbox:function(d){return g=d,b=u,x=n,{dom:{tag:"div",attributes:{id:(S=Pd()).id}},behaviours:Tt([Sn.config({mode:"special",onEscape:function(T){return Tr.close(T),N.some(!0)}}),Tr.config({onOpen:function(T,A){x.fetch().get(function(R){LT(g,A,x,b.layouts,R),S.link(g.element),Sn.focusIn(A)})},onClose:function(){Br.off(g),Hn.focus(g),S.unlink(g.element)},isPartOf:function(T,A,R){return Vf(A,R)||Vf(g,R)},getAttachPoint:function(){return x.lazySink(g).getOrDie()}}),au.config({channels:me(me({},m0(me({isExtraPart:Fn},x.fireDismissalEventInstead.map(function(T){return{fireEventInstead:{event:T.event}}}).getOr({})))),jd({doReposition:function(){Tr.getState(Za.getCoupled(g,"toolbarSandbox")).each(function(T){A4(g,T,x,b.layouts)})}}))})])};var g,b,x,S}}})])}))),{apis:{setGroups:function(d,g){Tr.getState(Za.getCoupled(d,"toolbarSandbox")).each(function(b){LT(d,b,n,u.layouts,g)})},reposition:function(d){Tr.getState(Za.getCoupled(d,"toolbarSandbox")).each(function(g){A4(d,g,n,u.layouts)})},toggle:function(d){IT(d,f)},getToolbar:function(d){return Tr.getState(Za.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Tr.isOpen(Za.getCoupled(d,"toolbarSandbox"))}}})},configFields:lO(),partFields:J5(),apis:{setGroups:function(n,o,u){n.setGroups(o,u)},reposition:function(n,o){n.reposition(o)},toggle:function(n,o){n.toggle(o)},getToolbar:function(n,o){return n.getToolbar(o)},isOpen:function(n,o){return n.isOpen(o)}}}),Q5=ke([$e("items"),Ql(["itemSelector"]),ea("tgroupBehaviours",[Sn])]),fO=ke([wp({name:"items",unit:"item"})]),sk=ju({name:"ToolbarGroup",configFields:Q5(),partFields:fO(),factory:function(n,o,u,f){return{uid:n.uid,dom:n.dom,components:o,behaviours:yi(n.tgroupBehaviours,[Sn.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),vO=ju({name:"SplitFloatingToolbar",configFields:X5(),partFields:Y5(),factory:function(n,o,u,f){var d=Zr(S1.sketch({fetch:function(){return Yc(function(g){g(HT(n.overflowGroups.get()))})},layouts:{onLtr:function(){return[ja,Ri]},onRtl:function(){return[Ri,ja]},onBottomLtr:function(){return[_i,pa]},onBottomRtl:function(){return[pa,_i]}},getBounds:u.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:f["overflow-button"](),toolbar:f.overflow()}}));return{uid:n.uid,dom:n.dom,components:o,behaviours:yi(n.splitToolbarBehaviours,[Za.config({others:{overflowGroup:function(){return sk.sketch(me(me({},f["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,b){n.builtGroups.set(ot(b,g.getSystem().build)),$T(g,d,n)},refresh:function(g){return $T(g,d,n)},toggle:function(g){d.getOpt(g).each(function(b){S1.toggle(b)})},isOpen:function(g){return d.getOpt(g).map(S1.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(b){S1.reposition(b)})},getOverflow:function(g){return d.getOpt(g).bind(S1.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(n,o,u){n.setGroups(o,u)},refresh:function(n,o){n.refresh(o)},reposition:function(n,o){n.reposition(o)},toggle:function(n,o){n.toggle(o)},isOpen:function(n,o){return n.isOpen(o)},getOverflow:function(n,o){return n.getOverflow(o)}}}),Z5=ke([Ql(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Qr("onOpened"),Qr("onClosed")].concat(sO())),eR=ke([Ru({factory:Af,schema:Vb(),name:"primary"}),Ru({factory:Af,schema:Vb(),name:"overflow",overrides:function(n){return{toolbarBehaviours:Tt([hv.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:function(o){po(o,n,"overflow-button").each(function(u){Br.off(u),Hn.focus(u)}),n.onClosed(o)},onGrown:function(o){Sn.focusIn(o),n.onOpened(o)},onStartGrow:function(o){po(o,n,"overflow-button").each(Br.on)}}),Sn.config({mode:"acyclic",onEscape:function(o){return po(o,n,"overflow-button").each(Hn.focus),N.some(!0)}})])}}}),vc({name:"overflow-button",overrides:function(n){return{buttonBehaviours:Tt([Br.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),vc({name:"overflow-group"})]),lk=ju({name:"SplitSlidingToolbar",configFields:Z5(),partFields:eR(),factory:function(n,o,u,f){var d="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:o,behaviours:yi(n.splitToolbarBehaviours,[Za.config({others:{overflowGroup:function(g){return sk.sketch(me(me({},f["overflow-group"]()),{items:[hc.sketch(me(me({},f["overflow-button"]()),{action:function(b){z(g,d)}}))]}))}}}),rr("toolbar-toggle-events",[Pe(d,function(g){VT(g,n)})])]),apis:{setGroups:function(g,b){var x=ot(b,g.getSystem().build);n.builtGroups.set(x),Hw(g,n)},refresh:function(g){return Hw(g,n)},toggle:function(g){return VT(g,n)},isOpen:function(g){return po(g,n,"overflow").map(hv.hasGrown).getOr(!1)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(n,o,u){n.setGroups(o,u)},refresh:function(n,o){n.refresh(o)},toggle:function(n,o){n.toggle(o)},isOpen:function(n,o){return n.isOpen(o)}}}),tR=x1.optional({factory:H4,name:"menubar",schema:[$e("backstage")]}),dO=x1.optional({factory:{sketch:function(n){return oO.sketch({uid:n.uid,dom:n.dom,listBehaviours:Tt([Sn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return ok({type:n.type,uid:un("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:function(){return n.onEscape(),N.some(!0)}})},setupItem:function(o,u,f,d){Af.setGroups(u,f)},shell:!0})}},name:"multiple-toolbar",schema:[$e("dom"),$e("onEscape")]}),mO=x1.optional({factory:{sketch:function(n){return(n.type===Gu.sliding?function(o){var u=lk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),f=lk.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),d=jT(o);return lk.sketch(me(me({},d),{components:[u,f],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(g){g.getSystem().broadcastOn([L4()],{type:"opened"})},onClosed:function(g){g.getSystem().broadcastOn([L4()],{type:"closed"})}}))}:n.type===Gu.floating?function(o){var u=jT(o),f=vO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return vO.sketch(me(me({},u),{lazySink:o.getSink,getOverflowBounds:function(){var d=o.moreDrawerData.lazyHeader().element,g=X(d),b=Aa(d),x=X(b),S=Math.max(b.dom.scrollHeight,x.height);return dn(g.x+4,x.y,g.width-8,S)},parts:me(me({},u.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}}),components:[f],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}:ok)({type:n.type,uid:n.uid,onEscape:function(){return n.onEscape(),N.some(!0)},cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes})}},name:"toolbar",schema:[$e("dom"),$e("onEscape"),$e("getSink")]}),nR=x1.optional({factory:{sketch:function(n){var o=n.editor,u=n.sticky?DT:aO;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:Tt(u(o,n.sharedBackstage))}}},name:"header",schema:[$e("dom")]}),gO=x1.optional({name:"socket",schema:[$e("dom")]}),rR=x1.optional({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Tt([ba.config({}),Hn.config({}),hv.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(o){wr.getCurrent(o).each(md.hideAllSlots),z(o,V4)},onGrown:function(o){z(o,V4)},onStartGrow:function(o){V(o,$4,{width:Bn(o.element,"width").getOr("")})},onStartShrink:function(o){V(o,$4,{width:Qo(o.element)+"px"})}}),qn.config({}),wr.config({find:function(o){return Vt(qn.contents(o))}})])}],behaviours:Tt([Z3(0),rr("sidebar-sliding-events",[Pe($4,function(o,u){pt(o.element,"width",u.event.width)}),Pe(V4,function(o,u){Le(o.element,"width")})])])}}},name:"sidebar",schema:[$e("dom")]}),oR=x1.optional({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Tt([qn.config({}),Fm.config({focus:!1}),wr.config({find:function(o){return Vt(o.components())}})]),components:[]}}},name:"throbber",schema:[$e("dom")]}),ti=ju({name:"OuterContainer",factory:function(n,o,u){return{uid:n.uid,dom:n.dom,components:o,apis:{getSocket:function(f){return ms.getPart(f,n,"socket")},setSidebar:function(f,d){ms.getPart(f,n,"sidebar").each(function(g){return PT(g,d)})},toggleSidebar:function(f,d){ms.getPart(f,n,"sidebar").each(function(g){var b=d;wr.getCurrent(g).each(function(x){wr.getCurrent(x).each(function(S){hv.hasGrown(x)?md.isShowing(S,b)?hv.shrink(x):(md.hideAllSlots(S),md.showSlot(S,b)):(md.hideAllSlots(S),md.showSlot(S,b),hv.grow(x))})})})},whichSidebar:function(f){return ms.getPart(f,n,"sidebar").bind(w5).getOrNull()},getHeader:function(f){return ms.getPart(f,n,"header")},getToolbar:function(f){return ms.getPart(f,n,"toolbar")},setToolbar:function(f,d){ms.getPart(f,n,"toolbar").each(function(g){g.getApis().setGroups(g,d)})},setToolbars:function(f,d){ms.getPart(f,n,"multiple-toolbar").each(function(g){oO.setItems(g,d)})},refreshToolbar:function(f){ms.getPart(f,n,"toolbar").each(function(d){return d.getApis().refresh(d)})},toggleToolbarDrawer:function(f){ms.getPart(f,n,"toolbar").each(function(d){var g=d.getApis().toggle;g!=null?N.some(function(b){return b(d)}(g)):N.none()})},isToolbarDrawerToggled:function(f){return ms.getPart(f,n,"toolbar").bind(function(d){return N.from(d.getApis().isOpen).map(function(g){return g(d)})}).getOr(!1)},getThrobber:function(f){return ms.getPart(f,n,"throbber")},focusToolbar:function(f){ms.getPart(f,n,"toolbar").orThunk(function(){return ms.getPart(f,n,"multiple-toolbar")}).each(function(d){Sn.focusIn(d)})},setMenubar:function(f,d){ms.getPart(f,n,"menubar").each(function(g){H4.setMenus(g,d)})},focusMenubar:function(f){ms.getPart(f,n,"menubar").each(function(d){H4.focus(d)})}},behaviours:n.behaviours}},configFields:[$e("dom"),$e("behaviours")],partFields:[nR,tR,mO,dO,gO,rR,oR],apis:{getSocket:function(n,o){return n.getSocket(o)},setSidebar:function(n,o,u){n.setSidebar(o,u)},toggleSidebar:function(n,o,u){n.toggleSidebar(o,u)},whichSidebar:function(n,o){return n.whichSidebar(o)},getHeader:function(n,o){return n.getHeader(o)},getToolbar:function(n,o){return n.getToolbar(o)},setToolbar:function(n,o,u){var f=ot(u,rk);n.setToolbar(o,f)},setToolbars:function(n,o,u){var f=ot(u,function(d){return ot(d,rk)});n.setToolbars(o,f)},refreshToolbar:function(n,o){return n.refreshToolbar(o)},toggleToolbarDrawer:function(n,o){n.toggleToolbarDrawer(o)},isToolbarDrawerToggled:function(n,o){return n.isToolbarDrawerToggled(o)},getThrobber:function(n,o){return n.getThrobber(o)},setMenubar:function(n,o,u){n.setMenubar(o,u)},focusMenubar:function(n,o){n.focusMenubar(o)},focusToolbar:function(n,o){n.focusToolbar(o)}}}),hO={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},aR=Dr(XT,!1),iR=Dr(XT,!0);function Uw(n,o,u,f){var d;return{type:"basic",data:(d=n.getParam(o,u,"string"),ot(f===C1.SemiColon?d.replace(/;$/,"").split(";"):d.split(" "),function(g){var b=g,x=g,S=g.split("=");return 1<S.length&&(b=S[0],x=S[1]),{title:b,format:x}}))}}function W4(n){var o={type:"basic",data:eE};return{tooltip:"Align",text:N.none(),icon:N.some("align-left"),isSelectedFor:function(u){return function(){return n.formatter.match(u)}},getCurrentValue:N.none,getPreviewFor:function(u){return N.none},onAction:function(u){return function(){return Rr(eE,function(f){return f.format===u.format}).each(function(f){return n.execCommand(f.command)})}},updateText:function(u){var f=Rr(eE,function(d){return n.formatter.match(d.format)}).fold(ke("left"),function(d){return d.title.toLowerCase()});V(u,WS,{icon:"align-"+f})},dataset:o,shouldHide:!1,isInvalid:function(u){return!n.formatter.canApply(u.format)}}}function pO(n){return ot(n.split(/\s*,\s*/),function(o){return o.replace(/^['"]+|['"]+$/g,"")})}function j4(n){function o(){function d(S){return S?pO(S)[0]:""}var g=n.queryCommandValue("FontName"),b=f.data,x=g?g.toLowerCase():"";return{matchOpt:Rr(b,function(S){var T=S.format;return T.toLowerCase()===x||d(T).toLowerCase()===d(x).toLowerCase()}).orThunk(function(){return ri((S=x).indexOf("-apple-system")===0&&(T=pO(S.toLowerCase()),Go(mR,function(A){return-1<T.indexOf(A.toLowerCase())})),{title:u,format:x});var S,T}),font:g}}var u="System Font",f=Uw(n,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",C1.SemiColon);return{tooltip:"Fonts",text:N.some(u),icon:N.none(),isSelectedFor:function(d){return function(g){return g.exists(function(b){return b.format===d})}},getCurrentValue:function(){return o().matchOpt},getPreviewFor:function(d){return function(){return N.some({tag:"div",styles:d.indexOf("dings")===-1?{"font-family":d}:{}})}},onAction:function(d){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontName",!1,d.format)})}},updateText:function(d){var g=o(),b=g.matchOpt,x=g.font,S=b.fold(ke(x),function(T){return T.title});V(d,wh,{text:S})},dataset:f,shouldHide:!1,isInvalid:Fn}}function bO(n){function o(){var d=N.none(),g=f.data,b=n.queryCommandValue("FontSize");if(b)for(var x=function(T){var A,R,M,F,q=(R=T,/[0-9.]+px$/.test(A=b)?(M=72*parseInt(A,10)/96,F=Math.pow(10,R||0),Math.round(M*F)/F+"pt"):Ut(hR,A).getOr(A)),j=Ut(gR,q).getOr("");d=Rr(g,function(G){return G.format===b||G.format===q||G.format===j})},S=3;d.isNone()&&0<=S;S--)x(S);return{matchOpt:d,size:b}}var u=ke(N.none),f=Uw(n,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",C1.Space);return{tooltip:"Font sizes",text:N.some("12pt"),icon:N.none(),isSelectedFor:function(d){return function(g){return g.exists(function(b){return b.format===d})}},getPreviewFor:u,getCurrentValue:function(){return o().matchOpt},onAction:function(d){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontSize",!1,d.format)})}},updateText:function(d){var g=o(),b=g.matchOpt,x=g.size,S=b.fold(ke(x),function(T){return T.title});V(d,wh,{text:S})},dataset:f,shouldHide:!1,isInvalid:Fn}}function yO(n,o){var u=o(),f=ot(u,function(d){return d.format});return N.from(n.formatter.closest(f)).bind(function(d){return Rr(u,function(g){return g.format===d})}).orThunk(function(){return ri(n.formatter.match("p"),{title:"Paragraph",format:"p"})})}function fk(n){var o=Uw(n,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",C1.SemiColon);return{tooltip:"Blocks",text:N.some("Paragraph"),icon:N.none(),isSelectedFor:function(u){return function(){return n.formatter.match(u)}},getCurrentValue:N.none,getPreviewFor:function(u){return function(){var f=n.formatter.get(u);return N.some({tag:0<f.length&&(f[0].inline||f[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(u))})}},onAction:R4(n),updateText:function(u){var f=yO(n,function(){return o.data}).fold(ke("Paragraph"),function(d){return d.title});V(u,wh,{text:f})},dataset:o,shouldHide:!1,isInvalid:function(u){return!n.formatter.canApply(u.format)}}}function wO(n,o){return{tooltip:"Formats",text:N.some("Paragraph"),icon:N.none(),isSelectedFor:function(u){return function(){return n.formatter.match(u)}},getCurrentValue:N.none,getPreviewFor:function(u){return function(){var f=n.formatter.get(u);return f!==void 0?N.some({tag:0<f.length&&(f[0].inline||f[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(u))}):N.none()}},onAction:R4(n),updateText:function(u){var f=function(b){var x=b.items;return x!==void 0&&0<x.length?ee(x,f):[{title:b.title,format:b.format}]},d=ee(dT(n),f),g=yO(n,ke(d)).fold(ke("Paragraph"),function(b){return b.title});V(u,wh,{text:g})},shouldHide:n.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(u){return!n.formatter.canApply(u.format)},dataset:o}}function uR(n){return{isDisabled:function(){return bn.isDisabled(n)},setDisabled:function(o){return bn.set(n,o)}}}function cR(n){return{setActive:function(o){Br.set(n,o)},isActive:function(){return Br.isOn(n)},isDisabled:function(){return bn.isDisabled(n)},setDisabled:function(o){return bn.set(n,o)}}}function vk(n,o){return n.map(function(u){return{"aria-label":o.translate(u),title:o.translate(u)}}).getOr({})}function q4(n,o,u,f,d,g){var b;return{dom:{tag:"button",classes:["tox-tbtn"].concat(o.isSome()?["tox-tbtn--select"]:[]),attributes:vk(u,g)},components:nh([n.map(function(x){return xt(x,g.icons)}),o.map(function(x){return xn(x,"tox-tbtn",g)})]),eventOrder:((b={})[Fc()]=["focusing","alloy.base.behaviour","common-button-display-events"],b),buttonBehaviours:Tt([q2(g.isDisabled),wi(),rr("common-button-display-events",[Pe(Fc(),function(x,S){S.event.prevent(),z(x,jw)})])].concat(f.map(function(x){return Vs.config({channel:x,initialData:{icon:n,text:o},renderComponents:function(S,T){return nh([S.icon.map(function(A){return xt(A,g.icons)}),S.text.map(function(A){return xn(A,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}}function G4(n,o,u){var f,d=Cn(dt),g=q4(n.icon,n.text,n.tooltip,N.none(),N.none(),u);return hc.sketch({dom:g.dom,components:g.components,eventOrder:oT,buttonBehaviours:Tt([rr("toolbar-button-events",[(f={onAction:n.onAction,getApi:o.getApi},Jl(function(b,x){Jg(f,b)(function(S){V(b,a4,{buttonApi:S}),f.onAction(S)})})),ym(o,d),Gp(o,d)]),q2(function(){return n.disabled||u.isDisabled()}),wi()].concat(o.toolbarButtonBehaviours))})}function Ww(n,o){return function(u,f,d){var g=n(u).mapError(function(b){return Co(b)}).getOrDie();return o(g,f,d)}}function Ub(n,o,u,f){var d,g=o.outerContainer,b=u.toolbar,x=u.buttons;jo(b,fr)?(d=b.map(function(S){var T={toolbar:S,buttons:x,allowToolbarGroups:u.allowToolbarGroups};return yk(n,T,{backstage:f},N.none())}),ti.setToolbars(g,d)):ti.setToolbar(g,yk(n,u,{backstage:f},N.none()))}function K4(n){return/^[0-9\.]+(|px)$/i.test(""+n)?N.some(parseInt(""+n,10)):N.none()}function X4(n){return hn(n)?n+"px":n}function dk(n,o,u){var f=o.filter(function(g){return n<g}),d=u.filter(function(g){return g<n});return f.or(d).getOr(n)}function CO(n){var o=Wg(n),u=eb(n),f=nb(n);return K4(o).map(function(d){return dk(d,u,f)})}function sR(n,o,u,f,d){function g(){return Y.get()&&!n.removed}function b(ue){return L?ue.fold(ke(0),function(de){return 1<de.components().length?$r(de.components()[1].element):0}):0}function x(){A.broadcastOn([of()],{})}function S(ue){var de,Re,xe,ze,Ke;ue===void 0&&(ue=!1),g()&&(F||(de=j.getOrThunk(function(){var Ie=K4(Zn(P(),"margin-left")).getOr(0);return Qo(P())-Xi(o).left+Ie}),pt(d.get().element,"max-width",de+"px")),L&&ti.refreshToolbar(R),F||(Re=b(ti.getToolbar(R)),xe=cn(o),ze=K()?Math.max(xe.y-$r(d.get().element)+Re,0):xe.bottom,Mn(R.element,{position:"absolute",top:Math.round(ze)+"px",left:Math.round(xe.x)+"px"})),q&&(Ke=d.get(),ue?So.reset(Ke):So.refresh(Ke)),x())}function T(ue){var de,Re;ue===void 0&&(ue=!0),!F&&q&&g()&&(de=G.getDockingMode(),(Re=function(xe){switch(qx(n)){case gm.auto:var ze=b(ti.getToolbar(R)),Ke=$r(xe.element)-ze,Ie=cn(o);if(Ie.y>Ke)return"top";var Ze=Aa(o),vt=Math.max(Ze.dom.scrollHeight,$r(Ze));return Ie.bottom<vt-Ke||Vr().bottom<Ie.bottom-Ke?"bottom":"top";case gm.bottom:return"bottom";default:return gm.top,"top"}}(d.get()))!==de&&(function(xe){var ze=d.get();So.setModes(ze,[xe]),G.setDockingMode(xe);var Ke=K()?Ps.TopToBottom:Ps.BottomToTop;nt(ze.element,$d,Ke)}(Re),ue&&S(!0)))}var A=u.uiMothership,R=u.outerContainer,M=Wp.DOM,F=Yg(n),q=lb(n),j=nb(n).or(CO(n)),G=f.shared.header,K=G.isPositionedAtTop,Q=qp(n),L=Q===Gu.sliding||Q===Gu.floating,Y=Cn(!1);return{isVisible:g,isPositionedAtTop:K,show:function(){Y.set(!0),pt(R.element,"display","flex"),M.addClass(n.getBody(),"mce-edit-focus"),Le(A.element,"display"),T(!1),S()},hide:function(){Y.set(!1),u.outerContainer&&(pt(R.element,"display","none"),M.removeClass(n.getBody(),"mce-edit-focus")),pt(A.element,"display","none")},update:S,updateMode:T,repositionPopups:x}}function xO(n,o){var u=cn(n);return{pos:o?u.y:u.bottom,bounds:u}}function Y4(n,o){return Pe(a4,function(u,f){var d,g=n.get(u),b=(d=g,{hide:function(){return z(d,Xl())},getValue:function(){return Pt.getValue(d)}});o.onAction(b,f.event.buttonApi)})}function J4(n,o,u){return o.bottom-n.y>=(u=u===void 0?.01:u)&&n.bottom-o.y>=u}function mk(n){var o=function(d){var g=d.getBoundingClientRect();if(g.height<=0&&g.width<=0){var b=le(gt.fromDom(d.startContainer),d.startOffset).element;return(kr(b)?Xr(b):N.some(b)).filter(ur).map(function(x){return x.dom.getBoundingClientRect()}).getOr(g)}return g}(n.selection.getRng());if(n.inline){var u=aa();return dn(u.left+o.left,u.top+o.top,o.width,o.height)}var f=X(gt.fromDom(n.getBody()));return dn(f.x+o.left,f.y+o.top,o.width,o.height)}function SO(n,o,u,f){f===void 0&&(f=0);var d,g,b,x,S=Ji(window),T=cn(gt.fromDom(n.getContentAreaContainer())),A=N2(n)||Zv(n)||jp(n),R=(d=T,g=S,b=f,{x:x=Math.max(d.x+b,g.x),width:Math.min(d.right-b,g.right)-x}),M=R.x,F=R.width;if(n.inline&&!A)return dn(M,S.y,F,S.height);var q=function(K,Q,L,Y,ue,de){var Re=gt.fromDom(K.getContainer()),xe=Ai(Re,".tox-editor-header").getOr(Re),ze=cn(xe),Ke=ze.y>=Q.bottom,Ie=Y&&!Ke;if(K.inline&&Ie)return{y:Math.max(ze.bottom+de,L.y),bottom:L.bottom};if(K.inline&&!Ie)return{y:L.y,bottom:Math.min(ze.y-de,L.bottom)};var Ze=ue==="line"?cn(Re):Q;return Ie?{y:Math.max(ze.bottom+de,L.y),bottom:Math.min(Ze.bottom-de,L.bottom)}:{y:Math.max(Ze.y+de,L.y),bottom:Math.min(ze.y-de,L.bottom)}}(n,T,S,o.header.isPositionedAtTop(),u,f),j=q.y,G=q.bottom;return dn(M,j,F,G-j)}function gk(n){return n==="node"}function lR(n,o,u,f,d){var g=mk(n),b=f.lastElement().exists(function(A){return or(u,A)}),x=u,S=n.selection.getRng(),T=le(gt.fromDom(S.startContainer),S.startOffset);return S.startContainer===S.endContainer&&S.startOffset===S.endOffset-1&&or(T.element,x)?b?xx:_l:b?function(A,R){var M=Bn(A,"position");pt(A,"position",R);var F=J4(g,cn(o))&&!f.isReposition()?w3:xx;return M.each(function(q){return pt(A,"position",q)}),F}(o,f.getMode()):(f.getMode()==="fixed"?d.y+aa().top:d.y)+($r(o)+12)<=g.y?_l:Ig}function Q4(n,o){var u=Eo(Je(o,function(f){return f.predicate(n.dom)}),function(f){return f.type==="contexttoolbar"});return{contextToolbars:u.pass,contextForms:u.fail}}function fR(n,o){function u(b){return or(b,d)}var f,d=gt.fromDom(o.getBody()),g=gt.fromDom(o.selection.getNode());return u(f=g)||Oa(d,f)?function(b,x,S){var T=Q4(b,x);if(0<T.contextForms.length)return N.some({elem:b,toolbars:[T.contextForms[0]]});var A=Q4(b,S);if(0<A.contextForms.length)return N.some({elem:b,toolbars:[A.contextForms[0]]});if(0<T.contextToolbars.length||0<A.contextToolbars.length){var R=function(M){if(M.length<=1)return M;function F(L){return Ct(M,function(Y){return Y.position===L})}function q(L){return Je(M,function(Y){return Y.position===L})}var j=F("selection"),G=F("node");if(j||G){if(G&&j){var K=q("node"),Q=ot(q("selection"),function(L){return me(me({},L),{position:"node"})});return K.concat(Q)}return q(j?"selection":"node")}return q("line")}(T.contextToolbars.concat(A.contextToolbars));return N.some({elem:b,toolbars:R})}return N.none()}(g,n.inNodeScope,n.inEditorScope).orThunk(function(){return S=n,(b=u)(x=g)?N.none():F1(x,function(T){if(ur(T)){var A=Q4(T,S.inNodeScope),R=A.contextToolbars,M=A.contextForms,F=0<M.length?M:(j=R).length<=1?j:q("selection").orThunk(function(){return q("node")}).orThunk(function(){return q("line")}).map(function(G){return G.position}).fold(function(){return[]},function(G){return Je(j,function(K){return K.position===G})});return 0<F.length?N.some({elem:T,toolbars:F}):N.none()}function q(G){return Rr(j,function(K){return K.position===G})}var j;return N.none()},b);var b,x,S}):N.none()}function vR(n,o){var u={},f=[],d=[],g={},b={},x=Pr(n);return Yt(x,function(S){var T,A,R,M,F,q=n[S];q.type==="contextform"?(R=S,F=Ou(Fo("ContextForm",Hg,M=q)),(u[R]=F).launch.map(function(j){g["form:"+R]=me(me({},M.launch),{type:j.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){o(F)}})}),(F.scope==="editor"?d:f).push(F),b[R]=F):q.type==="contexttoolbar"&&(T=S,Fo("ContextToolbar",_2,A=q).each(function(j){(A.scope==="editor"?d:f).push(j),b[T]=j}))}),{forms:u,inNodeScope:f,inEditorScope:d,lookupTable:b,formNavigators:g}}function dR(n,o,u,f){function d(){var xe=L.get().getOr("node"),ze=gk(xe)?1:0;return SO(n,j,xe,ze)}function g(){return!(n.removed||G()&&q.isContextMenuOpen())}function b(){if(g()){var xe=d(),ze=Sa(L.get(),"node")?(Ke=n,K.get().filter(ui).map(X).getOrThunk(function(){return mk(Ke)})):mk(n);return xe.height<=0||!J4(ze,xe)}return 1;var Ke}function x(){K.clear(),Q.clear(),L.clear(),ca.hide(Y)}function S(){var xe;ca.isOpen(Y)&&(Le(xe=Y.element,"display"),b()?pt(xe,"display","none"):(Q.set(0),ca.reposition(Y)))}function T(xe){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[xe],behaviours:Tt([Sn.config({mode:"acyclic"}),rr("pop-dialog-wrap-events",[ua(function(ze){n.shortcuts.add("ctrl+F9","focus statusbar",function(){return Sn.focusIn(ze)})}),Bs(function(ze){n.shortcuts.remove("ctrl+F9")})])])}}function A(xe,ze){var Ke,Ie,Ze,vt,Lt,fn,Gn,xr=xe==="node"?j.anchors.node(ze):j.anchors.cursor(),jr=(Ke=n,Ie=xe,Ze=G(),vt={lastElement:K.get,isReposition:function(){return Sa(Q.get(),0)},getMode:function(){return fc.getMode(u)}},Ie==="line"?{bubble:Vc(12,0,RO),layouts:{onLtr:function(){return[xl]},onRtl:function(){return[Z1]}},overrides:_O}:{bubble:Vc(0,12,RO,1/12),layouts:(Lt=Ke,fn=vt,Gn=Ie,Ze?{onLtr:function(hr){return[Ba,Ri,ja,pa,_i,Ro].concat(ao(hr))},onRtl:function(hr){return[Ba,ja,Ri,_i,pa,Ro].concat(ao(hr))}}:{onLtr:function(hr){return[Ro,Ba,pa,Ri,_i,ja].concat(ao(hr))},onRtl:function(hr){return[Ro,Ba,_i,ja,pa,Ri].concat(ao(hr))}}),overrides:_O});function ao(hr){return gk(Gn)?[(Yr=hr,function(no,ko,Or,Wo,Ni){var Xu=lR(Lt,Wo,Yr,fn,Ni),bc=me(me({},no),{y:Ni.y,height:Ni.height});return me(me({},Xu(bc,ko,Or,Wo,Ni)),{alwaysFit:!0})})]:[];var Yr}return Ir(xr,jr)}function R(xe,ze){var Ke,Ie,Ze,vt;Re.cancel(),g()&&(Ke=de(xe),Ze=A(Ie=xe[0].position,ze),L.set(Ie),Q.set(1),Le(vt=Y.element,"display"),Sa(xu(ze,K.get(),or),!0)||(ha(vt,oE),fc.reset(u,Y)),ca.showWithinBounds(Y,T(Ke),{anchor:Ze,transition:{classes:[oE],mode:"placement"}},function(){return N.some(d())}),ze.fold(K.clear,K.set),b()&&pt(vt,"display","none"))}var M,F,q=f.backstage,j=q.shared,G=Ia().deviceType.isTouch,K=mo(),Q=mo(),L=mo(),Y=Uu((M={sink:u,onEscape:function(){return n.focus(),N.some(!0)}},F=Cn([]),ca.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(xe){F.set([]),ca.getContent(xe).each(function(ze){Le(ze.element,"visibility")}),ha(xe.element,rE),Le(xe.element,"width")},inlineBehaviours:Tt([rr("context-toolbar-events",[Xm(eg(),function(xe,ze){ze.event.raw.propertyName==="width"&&(ha(xe.element,rE),Le(xe.element,"width"))}),Pe(Ck,function(xe,ze){var Ke=xe.element;Le(Ke,"width");var Ie=Qo(Ke);ca.setContent(xe,ze.event.contents),tu(Ke,rE);var Ze=Qo(Ke);pt(Ke,"width",Ie+"px"),ca.getContent(xe).each(function(vt){ze.event.focus.bind(function(Lt){return Zl(Lt),Ms(Ke)}).orThunk(function(){return Sn.focusIn(vt),Wf(Hi(Ke))})}),Jv.setTimeout(function(){pt(xe.element,"width",Ze+"px")},0)}),Pe(wk,function(xe,ze){ca.getContent(xe).each(function(Ke){F.set(F.get().concat([{bar:Ke,focus:Wf(Hi(xe.element))}]))}),V(xe,Ck,{contents:ze.event.forwardContents,focus:N.none()})}),Pe(BO,function(xe,ze){tt(F.get()).each(function(Ke){F.set(F.get().slice(0,F.get().length-1)),V(xe,Ck,{contents:mu(Ke.bar),focus:Ke.focus})})})]),Sn.config({mode:"special",onEscape:function(xe){return tt(F.get()).fold(function(){return M.onEscape()},function(ze){return z(xe,BO),N.some(!0)})}})]),lazySink:function(){return on.value(M.sink)}}))),ue=Po(function(){return vR(o,function(xe){var ze=de([xe]);V(Y,wk,{forwardContents:T(ze)})})}),de=function(xe){var ze=n.ui.registry.getAll().buttons,Ke=ue(),Ie=me(me({},ze),Ke.formNavigators),Ze=qp(n)===Gu.scrolling?Gu.scrolling:Gu.default,vt=br(ot(xe,function(Lt){return Lt.type==="contexttoolbar"?yk(n,{buttons:Ie,toolbar:Lt.items,allowToolbarGroups:!1},f,N.some(["form:"])):(fn=j.providers,xR(Lt,fn));var fn}));return ok({type:Ze,uid:un("context-toolbar"),initGroups:vt,onEscape:N.none,cyclicKeying:!0,providers:j.providers})},Re=E2(function(){n.hasFocus()&&!n.removed&&(uc(Y.element,oE)?Re.throttle():fR(ue(),n).fold(x,function(xe){R(xe.toolbars,N.some(xe.elem))}))},17);n.on("init",function(){n.on("remove",x),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",S),n.on("click keyup focus SetContent",Re.throttle),n.on(DO,x),n.on("contexttoolbar-show",function(xe){Ut(ue().lookupTable,xe.toolbarKey).each(function(ze){R([ze],ri(xe.target!==n,xe.target)),ca.getContent(Y).each(Sn.focusIn)})}),n.on("focusout",function(xe){Jv.setEditorTimeout(n,function(){Ms(u.element).isNone()&&Ms(Y.element).isNone()&&x()},0)}),n.on("SwitchMode",function(){n.mode.isReadOnly()&&x()}),n.on("AfterProgressState",function(xe){xe.state?x():n.hasFocus()&&Re.throttle()}),n.on("NodeChange",function(xe){Ms(Y.element).fold(Re.throttle,dt)})})}(ik=C1=C1||{})[ik.SemiColon=0]="SemiColon",ik[ik.Space=1]="Space";var hk,Z4,kO,eE=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],mR=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],gR={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},hR={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},EO=Object.freeze({__proto__:null,events:function(n,o){function u(f,d){n.updateState.each(function(g){var b=g(f,d);o.set(b)}),n.renderComponents.each(function(g){var b=ot(g(d,o.get()),f.getSystem().build);PC(f,b)})}return Uo([Pe(Rd(),function(f,d){var g,b=d;b.universal||(g=n.channel,pn(b.channels,g)&&u(f,b.data))}),ua(function(f,d){n.initialData.each(function(g){u(f,g)})})])}}),pR=Object.freeze({__proto__:null,getState:function(n,o,u){return u}}),Vs=ru({fields:[$e("channel"),jn("renderComponents"),jn("updateState"),jn("initialData")],name:"reflecting",active:EO,apis:pR,state:Object.freeze({__proto__:null,init:function(){var n=Cn(N.none());return{readState:function(){return n.get().getOr("none")},get:n.get,set:n.set,clear:function(){return n.set(N.none())}}}})}),tE=ke([$e("toggleClass"),$e("fetch"),Ns("onExecute"),Se("getHotspot",N.some),Se("getAnchorOverrides",ke({})),Tl(),Ns("onItemExecute"),jn("lazySink"),$e("dom"),Qr("onOpen"),ea("splitDropdownBehaviours",[Za,Sn,Hn]),Se("matchWidth",!1),Se("useMinWidth",!1),Se("eventOrder",{}),jn("role")].concat(cd())),pk=ke([Ru({factory:hc,schema:[$e("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Tt([Hn.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(o){o.getSystem().getByUid(n.uid).each(se)},buttonBehaviours:Tt([Br.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])}}}),Ru({factory:hc,schema:[$e("dom")],name:"button",defaults:function(){return{buttonBehaviours:Tt([Hn.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(o){o.getSystem().getByUid(n.uid).each(function(u){n.onExecute(u,o)})}}}}),Ac({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[$e("text")],name:"aria-descriptor"}),vc({schema:[zd()],name:"menu",defaults:function(n){return{onExecute:function(o,u){o.getSystem().getByUid(n.uid).each(function(f){n.onItemExecute(f,o,u)})}}}}),OS()]),bk=ju({name:"SplitDropdown",configFields:tE(),partFields:pk(),factory:function(n,o,u,f){function d(A){wr.getCurrent(A).each(function(R){Ur.highlightFirst(R),Sn.focusIn(R)})}function g(A){uv(n,Nt,A,f,d,Ml.HighlightFirst).get(dt)}function b(A){return se(tl(A,n,"button")),N.some(!0)}var x,S=me(me({},Uo([ua(function(A,R){po(A,n,"aria-descriptor").each(function(M){var F=un("aria");nt(M.element,"id",F),nt(A.element,"aria-describedby",F)})})])),am(N.some(g))),T={repositionMenus:function(A){Br.isOn(A)&&bw(A)}};return{uid:n.uid,dom:n.dom,components:o,apis:T,eventOrder:me(me({},n.eventOrder),((x={})[Ec()]=["disabling","toggling","alloy.base.behaviour"],x)),events:S,behaviours:yi(n.splitDropdownBehaviours,[Za.config({others:{sandbox:function(A){var R=tl(A,n,"arrow");return kb(n,A,{onOpen:function(){Br.on(R),Br.on(A)},onClose:function(){Br.off(R),Br.off(A)}})}}}),Sn.config({mode:"special",onSpace:b,onEnter:b,onDown:function(A){return g(A),N.some(!0)}}),Hn.config({}),Br.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(n,o){return n.repositionMenus(o)}}}),jw=un("focus-button"),TO=function(n,o,u){return G4(n,{toolbarButtonBehaviours:[].concat(0<u.length?[rr("toolbarButtonWith",u)]:[]),getApi:uR,onSetup:n.onSetup},o)},OO=function(n,o,u){return Ir(G4(n,{toolbarButtonBehaviours:[qn.config({}),Br.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<u.length?[rr("toolbarToggleButtonWith",u)]:[]),getApi:cR,onSetup:n.onSetup},o))},bR=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Wb={button:Ww(vm,function(n,o){return u=o.backstage.shared.providers,TO(n,u,[]);var u}),togglebutton:Ww(K0,function(n,o){return u=o.backstage.shared.providers,OO(n,u,[]);var u}),menubutton:Ww(RT,function(n,o){return gr(n,"tox-tbtn",o.backstage,N.none())}),splitbutton:Ww(function(n){return Fo("SplitButton",V5,n)},function(n,o){return f=n,d=o.backstage.shared,T=un("channel-update-split-dropdown-display"),A=Cn(dt),R={getApi:u,onSetup:f.onSetup},bk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:me({"aria-pressed":!1},vk(f.tooltip,d.providers))},onExecute:function(M){f.onAction(u(M))},onItemExecute:function(M,F,q){},splitDropdownBehaviours:Tt([W2(d.providers.isDisabled),wi(),rr("split-dropdown-events",[Pe(jw,Hn.focus),ym(R,A),Gp(R,A)]),Tf.config({})]),eventOrder:((g={})[Dv()]=["alloy.base.behaviour","split-dropdown-events"],g),toggleClass:"tox-tbtn--enabled",lazySink:d.getSink,fetch:(b=u,x=f,S=d.providers,function(M){return Yc(function(F){return x.fetch(F)}).map(function(F){return N.from(uw(Ir(ow(un("menu-value"),F,function(q){x.onItemAction(b(M),q)},x.columns,x.presets,pc.CLOSE_ON_EXECUTE,x.select.getOr(Fn),S),{movement:Qp(x.columns,x.presets),menuBehaviours:cb(x.columns!=="auto"?[]:[ua(function(q,j){Ug(q,4,$g(x.presets)).each(function(G){var K=G.numRows,Q=G.numColumns;Sn.setGridSize(q,K,Q)})})])})))})}),parts:{menu:mm(0,f.columns,f.presets)},components:[bk.parts.button(q4(f.icon,f.text,N.none(),N.some(T),N.some([Br.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),d.providers)),bk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:kx("chevron-down",d.providers.icons)},buttonBehaviours:Tt([W2(d.providers.isDisabled),wi(),H0()])}),bk.parts["aria-descriptor"]({text:d.providers.translate("To open the popup, press Shift+Enter")})]});function u(M){return{isDisabled:function(){return bn.isDisabled(M)},setDisabled:function(F){return bn.set(M,F)},setIconFill:function(F,q){Ai(M.element,'svg path[id="'+F+'"], rect[id="'+F+'"]').each(function(j){nt(j,"fill",q)})},setIconStroke:function(F,q){Ai(M.element,'svg path[id="'+F+'"], rect[id="'+F+'"]').each(function(j){nt(j,"stroke",q)})},setActive:function(F){nt(M.element,"aria-pressed",F),Ai(M.element,"span").each(function(q){M.getSystem().getByDom(q).each(function(j){return Br.set(j,F)})})},isActive:function(){return Ai(M.element,"span").exists(function(F){return M.getSystem().getByDom(F).exists(Br.isOn)})}}}var f,d,g,b,x,S,T,A,R}),grouptoolbarbutton:Ww(function(n){return Fo("GroupToolbarButton",L5,n)},function(n,o,u){var f,d,g,b,x,S,T=u.ui.registry.getAll().buttons,A=((f={})[$d]=o.backstage.shared.header.isPositionedAtTop()?Ps.TopToBottom:Ps.BottomToTop,f);if(qp(u)!==Gu.floating)throw new Error("Toolbar groups are only supported when using floating toolbar mode");return g=o.backstage,b=function(R){return yk(u,{buttons:T,toolbar:R,allowToolbarGroups:!1},o,N.none())},x=A,S=g.shared,S1.sketch({lazySink:S.getSink,fetch:function(){return Yc(function(R){R(ot(b(d.items),rk))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:q4((d=n).icon,d.text,d.tooltip,N.none(),N.none(),S.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:x}}}})}),styleSelectButton:function(n,o){return Lw(n,u=o.backstage,wO(n,me({type:"advanced"},u.styleselect)));var u},fontsizeSelectButton:function(n,o){return Lw(n,o.backstage,bO(n))},fontSelectButton:function(n,o){return Lw(n,o.backstage,j4(n))},formatButton:function(n,o){return Lw(n,o.backstage,fk(n))},alignMenuButton:function(n,o){return Lw(n,o.backstage,W4(n))}},AO={styleselect:Wb.styleSelectButton,fontsizeselect:Wb.fontsizeSelectButton,fontselect:Wb.fontSelectButton,formatselect:Wb.formatButton,align:Wb.alignMenuButton},yk=function(n,o,u,f){var d,g,b,x,S=(b=o.toolbar,x=o.buttons,b===!1?[]:b===void 0||b===!0?(d=x,g=ot(bR,function(T){var A=Je(T.items,function(R){return Jn(d,R)||Jn(AO,R)});return{name:T.name,items:A}}),Je(g,function(T){return 0<T.items.length})):fr(b)?ot(b.split("|"),function(T){return{items:T.trim().split(" ")}}):jo(b,function(T){return Jn(T,"name")&&Jn(T,"items")})?b:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[]));return Je(ot(S,function(T){var A=ee(T.items,function(R){return R.trim().length===0?[]:(M=n,F=o.buttons,q=R,j=o.allowToolbarGroups,G=u,K=f,Ut(F,q.toLowerCase()).orThunk(function(){return K.bind(function(Q){return En(Q,function(L){return Ut(F,L+q.toLowerCase())})})}).fold(function(){return Ut(AO,q.toLowerCase()).map(function(Q){return Q(M,G)}).orThunk(function(){return N.none()})},function(Q){return Q.type!=="grouptoolbarbutton"||j?(Y=G,ue=M,Ut(Wb,(L=Q).type).fold(function(){return console.error("skipping button defined by",L),N.none()},function(de){return N.some(de(L,Y,ue))})):(console.warn("Ignoring the '"+q+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),N.none());var L,Y,ue}).toArray());var M,F,q,j,G,K});return{title:N.from(n.translate(T.name)),items:A}}),function(T){return 0<T.items.length})},nE=Ia(),yR=nE.os.isiOS()&&nE.os.version.major<=12,wR=Object.freeze({__proto__:null,render:function(n,o,u,f,d){var g=Cn(0),b=o.outerContainer;aR(n);var x=gt.fromDom(d.targetNode),S=Oe(Hi(x)),T=o.mothership;S0(x,T,vo),Uv(S,o.uiMothership),n.on("PostRender",function(){Ub(n,o,u,f),g.set(n.getWin().innerWidth),ti.setMenubar(b,qT(n,u)),ti.setSidebar(b,u.sidebar),function(K,Q){function L(){var vt=ze.get();vt.left===Re.innerWidth&&vt.top===Re.innerHeight||(ze.set(te(Re.innerWidth,Re.innerHeight)),Cm(K))}function Y(){var vt=K.getDoc().documentElement,Lt=Ke.get();Lt.left===vt.offsetWidth&&Lt.top===vt.offsetHeight||(Ke.set(te(vt.offsetWidth,vt.offsetHeight)),Cm(K))}function ue(vt){return K.fire("ScrollContent",vt)}var de=K.dom,Re=K.getWin(),xe=K.getDoc().documentElement,ze=Cn(te(Re.innerWidth,Re.innerHeight)),Ke=Cn(te(xe.offsetWidth,xe.offsetHeight));de.bind(Re,"resize",L),de.bind(Re,"scroll",ue);var Ie=Lv(gt.fromDom(K.getBody()),"load",Y),Ze=Q.uiMothership.element;K.on("hide",function(){pt(Ze,"display","none")}),K.on("show",function(){Le(Ze,"display")}),K.on("NodeChange",Y),K.on("remove",function(){Ie.unbind(),de.unbind(Re,"resize",L),de.unbind(Re,"scroll",ue),Re=null})}(n,o)});var A,R,M,F,q=ti.getSocket(b).getOrDie("Could not find expected socket element");yR&&(Mn(q.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),R=function(){n.fire("ScrollContent")},M=null,F=function(){for(var K=[],Q=0;Q<arguments.length;Q++)K[Q]=arguments[Q];qo(M)&&(M=setTimeout(function(){M=null,R.apply(null,K)},20))},A=bi(q.element,"scroll",F),n.on("remove",A.unbind)),Xx(n,o),n.addCommand("ToggleSidebar",function(K,Q){ti.toggleSidebar(b,Q),n.fire("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",function(){return ti.whichSidebar(b)});var j=qp(n);j!==Gu.sliding&&j!==Gu.floating||n.on("ResizeWindow ResizeEditor ResizeContent",function(){var K=n.getWin().innerWidth;K!==g.get()&&(ti.refreshToolbar(o.outerContainer),g.set(K))});var G={enable:function(){pf(o,!1)},disable:function(){pf(o,!0)},isDisabled:function(){return bn.isDisabled(b)}};return{iframeContainer:q.element.dom,editorContainer:b.element.dom,api:G}}}),CR=Object.freeze({__proto__:null,render:function(n,o,u,f,d){var g=o.mothership,b=o.uiMothership,x=o.outerContainer,S=Cn(null),T=gt.fromDom(d.targetNode),A=sR(n,T,o,f,S),R=n.getParam("toolbar_persist",!1,"boolean");function M(){var q;S.get()?A.show():(S.set(ti.getHeader(x).getOrDie()),Uv(q=Kx(n),g),Uv(q,b),Ub(n,o,u,f),ti.setMenubar(x,qT(n,u)),A.show(),function(j,G,K,Q){function L(de){var Re=xO(G,K.isPositionedAtTop()),xe=Re.pos,ze=Re.bounds,Ke=Y.get(),Ie=Ke.pos,Ze=Ke.bounds,vt=ze.height!==Ze.height||ze.width!==Ze.width;Y.set({pos:xe,bounds:ze}),vt&&Cm(j,de),K.isVisible()&&(Ie!==xe?K.update(!0):vt&&(K.updateMode(),K.repositionPopups()))}var Y=Cn(xO(G,K.isPositionedAtTop()));Q||(j.on("activate",K.show),j.on("deactivate",K.hide)),j.on("SkinLoaded ResizeWindow",function(){return K.update(!0)}),j.on("NodeChange keydown",function(de){Jv.requestAnimationFrame(function(){return L(de)})}),j.on("ScrollWindow",function(){return K.updateMode()});var ue=sg();ue.set(Lv(gt.fromDom(j.getBody()),"load",L)),j.on("remove",function(){ue.clear()})}(n,T,A,R),n.nodeChanged())}iR(n),n.on("show",M),n.on("hide",A.hide),R||(n.on("focus",M),n.on("blur",A.hide)),n.on("init",function(){(n.hasFocus()||R)&&M()}),Xx(n,o);var F={show:function(){A.show()},hide:function(){A.hide()},enable:function(){pf(o,!1)},disable:function(){pf(o,!0)},isDisabled:function(){return bn.isDisabled(x)}};return{editorContainer:x.element.dom,api:F}}}),DO="contexttoolbar-hide",xR=function(n,o){var u,f,d,g,b=n.label.fold(function(){return{}},function(T){return{"aria-label":T}}),x=Zr(Rc.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:b,selectOnFocus:!0,inputBehaviours:Tt([Sn.config({mode:"special",onEnter:function(T){return S.findPrimary(T).map(function(A){return se(A),!0})},onLeft:function(T,A){return A.cut(),N.none()},onRight:function(T,A){return A.cut(),N.none()}})])})),S=(u=x,f=n.commands,d=o,g=ot(f,function(T){return Zr((T.type==="contextformtogglebutton"?function(A,R,M){var F=R.original;F.primary;var q=en(F,["primary"]),j=Ou(K0(me(me({},q),{type:"togglebutton",onAction:dt})));return OO(j,M.backstage.shared.providers,[Y4(A,R)])}:function(A,R,M){var F=R.original;F.primary;var q=en(F,["primary"]),j=Ou(vm(me(me({},q),{type:"button",onAction:dt})));return TO(j,M.backstage.shared.providers,[Y4(A,R)])})(u,T,{backstage:{shared:{providers:d}}}))}),{asSpecs:function(){return ot(g,function(T){return T.asSpec()})},findPrimary:function(T){return En(f,function(A,R){return A.primary?N.from(g[R]).bind(function(M){return M.getOpt(T)}).filter(tr(bn.isDisabled)):N.none()})}});return[{title:N.none(),items:[x.asSpec()]},{title:N.none(),items:S.asSpecs()}]},RO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},_O={maxHeightFunction:tp(),maxWidthFunction:U4()},wk=un("forward-slide"),BO=un("backward-slide"),Ck=un("change-slide-event"),rE="tox-pop--resizing",oE="tox-pop--transition",NO={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},qw=(kO=["Infinity",(hk="[0-9]+")+"\\."+xk(hk)+xk(Z4="[eE][+-]?[0-9]+"),"\\."+hk+xk(Z4),hk+xk(Z4)].join("|"),new RegExp("^([+-]?(?:"+kO+"))(.*)$"));function xk(n){return"(?:"+n+")?"}function MO(n,o){function u(){var f=o.getOptions(n),d=o.getCurrent(n).map(o.hash),g=mo();return ot(f,function(b){return{type:"togglemenuitem",text:o.display(b),onSetup:function(x){function S(A){A&&(g.on(function(R){return R.setActive(!1)}),g.set(x)),x.setActive(A)}S(Sa(d,o.hash(b)));var T=o.watcher(n,b,S);return function(){g.clear(),T()}},onAction:function(){return o.setCurrent(n,b)}}})}n.ui.registry.addMenuButton(o.name,{tooltip:o.text,icon:o.icon,fetch:function(f){return f(u())},onSetup:o.onToolbarSetup}),n.ui.registry.addNestedMenuItem(o.name,{type:"nestedmenuitem",text:o.text,getSubmenuItems:u,onSetup:o.onMenuSetup})}function aE(n,o){return function(){n.execCommand("mceToggleFormat",!1,o)}}function Sk(n){var o,u;(function(f){yh.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(b,x){f.ui.registry.addToggleButton(b.name,{tooltip:b.text,icon:b.icon,onSetup:ak(f,b.name),onAction:aE(f,b.name)})});for(var d=1;d<=6;d++){var g="h"+d;f.ui.registry.addToggleButton(g,{text:g.toUpperCase(),tooltip:"Heading "+d,onSetup:ak(f,g),onAction:aE(f,g)})}})(n),o=n,yh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(f){o.ui.registry.addButton(f.name,{tooltip:f.text,icon:f.icon,onAction:Il(o,f.action)})}),u=n,yh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(f){u.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:Il(u,f.action),onSetup:ak(u,f.name)})})}function kk(n,o){return w1(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(u){u.setDisabled(n.mode.isReadOnly()||!n.undoManager[o]())})}function SR(n){var o;n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Il(n,"mceToggleVisualAid")}),n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:w1(o=n,"VisualAid",function(u){u.setActive(o.hasVisual)}),onAction:Il(n,"mceToggleVisualAid")})}function PO(n,o){var u,f,d,g,b,x,S,T,A,R,M,F,q,j,G,K,Q,L,Y,ue,de,Re,xe,ze,Ke,Ie=n;Yt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],function(Ze){Ie.ui.registry.addToggleButton(Ze.name,{tooltip:Ze.text,icon:Ze.icon,onAction:Il(Ie,Ze.cmd),onSetup:ak(Ie,Ze.name)})}),Ie.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Il(Ie,"JustifyNone")}),Sk(ze=n),Ke=ze,yh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(Ze){Ke.ui.registry.addMenuItem(Ze.name,{text:Ze.text,icon:Ze.icon,shortcut:Ze.shortcut,onAction:Il(Ke,Ze.action)})}),Ke.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:aE(Ke,"code")}),xe=$b(0,M=A=o,W4(R=T=n)),R.ui.registry.addNestedMenuItem("align",{text:M.shared.providers.translate("Align"),getSubmenuItems:function(){return xe.items.validateItems(xe.getStyleItems())}}),j=$b(0,q=A,j4(F=T)),F.ui.registry.addNestedMenuItem("fontformats",{text:q.shared.providers.translate("Fonts"),getSubmenuItems:function(){return j.items.validateItems(j.getStyleItems())}}),G=T,Q=me({type:"advanced"},(K=A).styleselect),L=$b(0,K,wO(G,Q)),G.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return L.items.validateItems(L.getStyleItems())}}),ue=$b(0,A,fk(Y=T)),Y.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return ue.items.validateItems(ue.getStyleItems())}}),Re=$b(0,A,bO(de=T)),de.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return Re.items.validateItems(Re.getStyleItems())}}),(x=b=n).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:kk(x,"hasUndo"),onAction:Il(x,"undo")}),x.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:kk(x,"hasRedo"),onAction:Il(x,"redo")}),(S=b).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:kk(S,"hasUndo"),onAction:Il(S,"undo")}),S.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:kk(S,"hasRedo"),onAction:Il(S,"redo")}),function(Ze){var vt;(vt=Ze).addCommand("mceApplyTextcolor",function(Gn,xr){var jr,ao=Gn,hr=xr;(jr=vt).undoManager.transact(function(){jr.focus(),jr.formatter.apply(ao,{value:hr}),jr.nodeChanged()})}),vt.addCommand("mceRemoveTextcolor",function(Gn){var xr,jr=Gn;(xr=vt).undoManager.transact(function(){xr.focus(),xr.formatter.remove(jr,{value:null},null,!0),xr.nodeChanged()})});var Lt=Cn(yb),fn=Cn(yb);iS(Ze,"forecolor","forecolor","Text color",Lt),iS(Ze,"backcolor","hilitecolor","Background color",fn),rw(Ze,"forecolor","forecolor","Text color"),rw(Ze,"backcolor","hilitecolor","Background color")}(n),SR(n),(d=n).ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:w1(g=d,"NodeChange",function(Ze){Ze.setDisabled(!g.queryCommandState("outdent"))}),onAction:Il(d,"outdent")}),d.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Il(d,"indent")}),MO(u=n,fE),f=u,N.from(f.getParam("content_langs",void 0,"array")).map(function(Ze){return{name:"language",text:"Language",icon:"language",getOptions:ke(Ze),hash:function(vt){return mr(vt.customCode)?vt.code:vt.code+"/"+vt.customCode},display:function(vt){return vt.title},watcher:function(vt,Lt,fn){return vt.formatter.formatChanged("lang",fn,!1,{value:Lt.code,customValue:Lt.customCode}).unbind},getCurrent:function(vt){return Bh(gt.fromDom(vt.selection.getNode()),function(Lt){return N.some(Lt).filter(ur).bind(function(fn){return _e(fn,"lang").map(function(Gn){return{code:Gn,customCode:_e(fn,"data-mce-lang").getOrUndefined(),title:""}})})})},setCurrent:function(vt,Lt){return vt.execCommand("Lang",!1,Lt)},onToolbarSetup:function(vt){var Lt=sg();return vt.setActive(f.formatter.match("lang",{},void 0,!0)),Lt.set(f.formatter.formatChanged("lang",vt.setActive,!0)),Lt.clear}}}).each(function(Ze){return MO(u,Ze)})}function Gw(n,o){return{type:"makeshift",x:n,y:o}}function zO(n){return n.type==="longpress"||n.type.indexOf("touch")===0}function kR(n,o){return o.type==="contextmenu"||o.type==="longpress"?n.inline?function(x){if(zO(x)){var S=x.touches[0];return Gw(S.pageX,S.pageY)}return Gw(x.pageX,x.pageY)}(o):(u=n.getContentAreaContainer(),f=function(x){if(zO(x)){var S=x.touches[0];return Gw(S.clientX,S.clientY)}return Gw(x.clientX,x.clientY)}(o),d=Wp.DOM.getPos(u),g=d.x,b=d.y,Gw(f.x+g,f.y+b)):QO(n);var u,f,d,g,b}function FO(n,o,u){switch(u){case"node":return{type:"node",node:N.some(gt.fromDom((f=n).selection.getNode())),root:gt.fromDom(f.getBody())};case"point":return kR(n,o);case"selection":return QO(n)}var f}function ER(n,o,u,f,d,g){function b(){var F,q,j,G,K,Q,L,Y,ue,de,Re=u();j=Re,G=f,K=d,L=!(R||T||A&&M),ue=FO(F=n,q=o,Y=Q=g),de=me({bubble:Vc(0,Y==="point"?12:0,RR),layouts:DR,overrides:{maxWidthFunction:U4(),maxHeightFunction:tp()}},ue),Pn(j,pc.CLOSE_ON_EXECUTE,G,!0).map(function(xe){q.preventDefault(),ca.showMenuWithinBounds(K,{anchor:de},{menu:{markers:Vg("normal"),highlightImmediately:L},data:xe,type:"horizontal"},function(){return N.some(SO(F,G.shared,Q==="node"?"node":"selection"))}),F.fire(DO)})}var x,S=Ia(),T=S.os.isiOS(),A=S.os.isOSX(),R=S.os.isAndroid(),M=S.deviceType.isTouch();(A||T)&&g!=="node"?(x=function(){(function(F){function q(){Jv.setEditorTimeout(F,function(){F.selection.setRng(j)},10),Q()}var j=F.selection.getRng();function G(L){L.preventDefault(),L.stopImmediatePropagation()}function K(){return Q()}F.once("touchend",q),F.on("mousedown",G,!0),F.once("longpresscancel",K);var Q=function(){F.off("touchend",q),F.off("longpresscancel",K),F.off("mousedown",G)}})(n),b()},function(F,q){var j=F.selection;if(!(j.isCollapsed()||q.touches.length<1)){var G=q.touches[0],K=j.getRng();return My(F.getWin(),dg.domRange(K)).exists(function(Q){return Q.left<=G.clientX&&Q.right>=G.clientX&&Q.top<=G.clientY&&Q.bottom>=G.clientY})}}(n,o)?x():(n.once("selectionchange",x),n.once("touchend",function(){return n.off("selectionchange",x)}))):b()}function IO(n){return typeof n=="string"?n.split(/[ ,]/):n}function LO(n){return n.getParam("contextmenu_never_use_native",!1,"boolean")}function HO(n){return fr(n)?n==="|":n.type==="separator"}function $O(n,o){if(o.length===0)return n;var u=tt(n).filter(function(f){return!HO(f)}).fold(function(){return[]},function(f){return[jb]});return n.concat(u).concat(o).concat([jb])}function Ch(n,o){return o.type!=="longpress"&&(o.button!==2||o.target===n.getBody()&&o.pointerType==="")}function VO(n,o){return Ch(n,o)?n.selection.getStart(!0):o.target}function TR(n,o,u){function f(x){return ca.hide(b)}function d(x){var S;LO(n)&&x.preventDefault(),x.ctrlKey&&!LO(n)||n.getParam("contextmenu")===!1||(S=function(T,A){var R=T.getParam("contextmenu_avoid_overlap","","string"),M=Ch(T,A)?"selection":"point";if(fa(R)){var F=VO(T,A);return n1(gt.fromDom(F),R)?"node":M}return M}(n,x),(g()?ER:function(T,A,R,M,F,q){var j=R(),G=FO(T,A,q);Pn(j,pc.CLOSE_ON_EXECUTE,M,!1).map(function(K){A.preventDefault(),ca.showMenuAt(F,{anchor:G},{menu:{markers:Vg("normal")},data:K})})})(n,x,function(){var T,A,R,M=VO(n,x),F=n.ui.registry.getAll(),q=(R=(A=n).ui.registry.getAll().contextMenus,N.from(A.getParam("contextmenu")).map(IO).getOrThunk(function(){return Je(IO("link linkchecker image imagetools table spellchecker configurepermanentpen"),function(K){return Jn(R,K)})})),j=F.contextMenus,G=M;return 0<(T=Jr(q,function(K,Q){return Ut(j,Q.toLowerCase()).map(function(L){var Y=L.update(G);if(fr(Y))return $O(K,Y.split(" "));if(0<Y.length){var ue=ot(Y,ZO);return $O(K,ue)}return K}).getOrThunk(function(){return K.concat([Q])})},[])).length&&HO(T[T.length-1])&&T.pop(),T},u,b,S))}var g=Ia().deviceType.isTouch,b=Uu(ca.sketch({dom:{tag:"div"},lazySink:o,onEscape:function(){return n.focus()},onShow:function(){return u.setContextMenuState(!0)},onHide:function(){return u.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Tt([rr("dismissContextMenu",[Pe(fi(),function(x,S){Tr.close(x),n.focus()})])])}));n.on("init",function(){var x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(g()?"":" ResizeWindow");n.on(x,f),n.on("longpress contextmenu",d)})}function Ek(n){return function(o){return o.translate(-n.left,-n.top)}}function Tk(n){return function(o){return o.translate(n.left,n.top)}}function Df(n){return function(o,u){return Jr(n,function(f,d){return d(f)},te(o,u))}}function Kw(n,o,u){return n.fold(Df([Tk(u),Ek(o)]),Df([Ek(o)]),Df([]))}function k1(n,o,u){return n.fold(Df([Tk(u)]),Df([]),Df([Tk(o)]))}function UO(n,o,u){return n.fold(Df([]),Df([Ek(u)]),Df([Tk(o),Ek(u)]))}function WO(n,o,u){var f=n.fold(function(d,g){return{position:N.some("absolute"),left:N.some(d+"px"),top:N.some(g+"px")}},function(d,g){return{position:N.some("absolute"),left:N.some(d-u.left+"px"),top:N.some(g-u.top+"px")}},function(d,g){return{position:N.some("fixed"),left:N.some(d+"px"),top:N.some(g+"px")}});return me({right:N.none(),bottom:N.none()},f)}function iE(n,o,u,f){function d(g,b){return function(x,S){var T=g(o,u,f);return b(x.getOr(T.left),S.getOr(T.top))}}return n.fold(d(UO,Ok),d(k1,Hm),d(Kw,E1))}function jO(n,o){var u=fe(n,o);return mr(u)?NaN:parseInt(u,10)}function OR(n,o,u,f,d,g){var b,x,S,T,A,R,M=(b=u,x=f,A=jO(T=n.element,(S=o).leftAttr),R=jO(T,S.topAttr),(isNaN(A)||isNaN(R)?N.none():N.some(te(A,R))).fold(function(){return b},function(Q){return E1(Q.left+x.left,Q.top+x.top)})),F=(o.mustSnap?eA:_R)(n,o,M,d,g),q=Kw(M,d,g),j=o,G=q,K=n.element;return nt(K,j.leftAttr,G.left+"px"),nt(K,j.topAttr,G.top+"px"),F.fold(function(){return{coord:E1(q.left,q.top),extra:N.none()}},function(Q){return{coord:Q.output,extra:Q.extra}})}function qO(n,o,u,f){return En(n,function(d){var g,b,x=d.sensor,S=d.range.left,T=d.range.top,A=k1(o,g=u,b=f),R=k1(x,g,b);return Math.abs(A.left-R.left)<=S&&Math.abs(A.top-R.top)<=T?N.some({output:iE(d.output,o,u,f),extra:d.extra}):N.none()})}function GO(n,o){var u;n.getSystem().addToGui(o),Xr((u=o).element).filter(ur).each(function(f){Bn(f,"z-index").each(function(d){nt(f,Ak,d)}),pt(f,"z-index",Zn(u.element,"z-index"))})}function KO(n){Xr(n.element).filter(ur).each(function(o){_e(o,Ak).fold(function(){return Le(o,"z-index")},function(u){return pt(o,"z-index",u)}),qe(o,Ak)}),n.getSystem().removeFromGui(n)}function XO(n,o,u){return n.getSystem().build(bu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[o]},events:u}))}function YO(n,o){return{bounds:n.getBounds(),height:ii(o.element),width:ga(o.element)}}function uE(n,o,u,f,d){var g=u.update(f,d),b=u.getStartData().getOrThunk(function(){return YO(o,n)});g.each(function(x){var S,T,A,R,M,F,q,j,G,K,Q,L,Y,ue,de,Re,xe,ze,Ke,Ie,Ze,vt,Lt,fn,Gn,xr=n,jr=b,ao=x,hr=(S=o).getTarget(xr.element);S.repositionTarget&&(T=aa(Jt(xr.element)),A=zw(hr),vt=Bn(Ze=hr,"left"),Lt=Bn(Ze,"top"),fn=Bn(Ze,"position"),Gn=function(Yr,no,ko){return(ko==="fixed"?E1:Ok)(parseInt(Yr,10),parseInt(no,10))},R=(vt.isSome()&&Lt.isSome()&&fn.isSome()?N.some(Gn(vt.getOrDie(),Lt.getOrDie(),fn.getOrDie())):N.none()).getOrThunk(function(){var Yr=Xi(Ze);return Hm(Yr.left,Yr.top)}),M=xr,F=S.snaps,q=R,j=T,G=A,K=ao,Q=jr,Y=F.fold(function(){var Yr,no,ko=Kw((Yr=K.left,no=K.top,q.fold(function(Or,Wo){return Ok(Or+Yr,Wo+no)},function(Or,Wo){return Hm(Or+Yr,Wo+no)},function(Or,Wo){return E1(Or+Yr,Wo+no)})),j,G);return E1(ko.left,ko.top)},function(Yr){var no=OR(M,Yr,q,K,j,G);return no.extra.each(function(ko){Yr.onSensor(M,ko)}),no.coord}),ue=j,de=G,Re=(L=Q).bounds,xe=k1(Y,ue,de),ze=Hc(xe.left,Re.x,Re.x+Re.width-L.width),Ke=Hc(xe.top,Re.y,Re.y+Re.height-L.height),Ie=Hm(ze,Ke),Kn(hr,WO(Y.fold(function(){var Yr=UO(Ie,ue,de);return Ok(Yr.left,Yr.top)},ke(Ie),function(){var Yr=Kw(Ie,ue,de);return E1(Yr.left,Yr.top)}),0,A))),S.onDrag(xr,hr,ao)})}function cE(n,o,u,f){o.each(KO),u.snaps.each(function(g){var b,x;b=g,qe(x=n.element,b.leftAttr),qe(x,b.topAttr)});var d=u.getTarget(n.element);f.reset(),u.onDrop(n,d)}function Ll(n){return function(o,u){function f(d){u.setStartData(YO(o,d))}return Uo(On([Pe(rg(),function(d){u.getStartData().each(function(){return f(d)})})],n(o,u,f),!0))}}function Im(n,o,u){return[Pe(Fc(),function(f,d){var g,b,x,S,T;d.event.raw.button===0&&(d.stop(),x={drop:g=function(){return cE(f,N.some(S),n,o)},delayDrop:(b=Sm(g,200)).schedule,forceDrop:g,move:function(A){b.cancel(),uE(f,n,o,tA,A)}},S=XO(f,n.blockerClass,(T=x,Uo([Pe(Fc(),T.forceDrop),Pe(j1(),T.drop),Pe(W1(),function(A,R){T.move(R.event)}),Pe(cy(),T.delayDrop)]))),u(f),GO(f,S))})]}function JO(n,o,u){function f(g){cE(g,d.get(),n,o),d.clear()}var d=mo();return[Pe(Qa(),function(g,b){function x(){return f(g)}b.stop();var S,T,A,R=XO(g,n.blockerClass,(T=S=x,A=function(M){uE(g,n,o,rA,M)},Uo([Pe(Qa(),T),Pe(Rs(),S),Pe(Qm(),S),Pe(Ad(),function(M,F){A(F.event)})])));d.set(R),u(g),GO(g,R)}),Pe(Ad(),function(g,b){b.stop(),uE(g,n,o,rA,b.event)}),Pe(Rs(),function(g,b){b.stop(),f(g)}),Pe(Qm(),f)]}function sE(n,o,u,f,d,g){return n.fold(function(){return T1.snap({sensor:Hm(u-20,f-20),range:te(d,g),output:Hm(N.some(u),N.some(f)),extra:{td:o}})},function(b){var x=u-20,S=f-20,T=b.element.dom.getBoundingClientRect();return T1.snap({sensor:Hm(x,S),range:te(40,40),output:Hm(N.some(u-T.width/2),N.some(f-T.height/2)),extra:{td:o}})})}function lE(n,o,u){return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(f,d){var g=d.td,b=o.get(),x=g;b.exists(function(S){return or(S,x)})||(o.set(g),u(g))},mustSnap:!0}}function Xw(n){return Zr(hc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Tt([T1.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),Tf.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}function AR(n,o){function u(Q){var L=X(Q);return sE(q.getOpt(o),Q,L.x,L.y,L.width,L.height)}function f(Q){var L=X(Q);return sE(j.getOpt(o),Q,L.right,L.bottom,L.width,L.height)}function d(Q,L,Y,ue){var de=Y(L);T1.snapTo(Q,de),function(Re){var xe=L.dom.getBoundingClientRect();Le(Re.element,"display");var ze=Ya(gt.fromDom(n.getBody())).dom.innerHeight,Ke=xe[ue]<0,Ie=xe[ue]>ze;(Ke||Ie)&&pt(Re.element,"display","none")}(Q)}function g(Q){return d(G,Q,u,"top")}function b(Q){return d(K,Q,f,"bottom")}var x=Cn([]),S=Cn([]),T=Cn(!1),A=mo(),R=mo(),M=lE(function(){return ot(x.get(),u)},A,function(Q){R.get().each(function(L){n.fire("TableSelectorChange",{start:Q,finish:L})})}),F=lE(function(){return ot(S.get(),f)},R,function(Q){A.get().each(function(L){n.fire("TableSelectorChange",{start:L,finish:Q})})}),q=Xw(M),j=Xw(F),G=Uu(q.asSpec()),K=Uu(j.asSpec());Ia().deviceType.isTouch()&&(n.on("TableSelectionChange",function(Q){T.get()||(Xf(o,G),Xf(o,K),T.set(!0)),A.set(Q.start),R.set(Q.finish),Q.otherCells.each(function(L){x.set(L.upOrLeftCells),S.set(L.downOrRightCells),g(Q.start),b(Q.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",function(){A.get().each(g),R.get().each(b)}),n.on("TableSelectionClear",function(){T.get()&&(Yf(G),Yf(K),T.set(!1)),A.clear(),R.clear()}))}var Lm,xh,fE={name:"lineheight",text:"Line height",icon:"line-height",getOptions:function(n){return n.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},hash:function(n){return o=["fixed","relative","empty"],N.from(qw.exec(n)).bind(function(u){var f=Number(u[1]),d=u[2],g=d;return Ct(o,function(b){return Ct(NO[b],function(x){return g===x})})?N.some({value:f,unit:d}):N.none()}).map(function(u){return u.value+u.unit}).getOr(n);var o},display:Nt,watcher:function(n,o,u){return n.formatter.formatChanged("lineheight",u,!1,{value:o}).unbind},getCurrent:function(n){return N.from(n.queryCommandValue("LineHeight"))},setCurrent:function(n,o){return n.execCommand("LineHeight",!1,o)}},QO=function(n){return{type:"selection",root:gt.fromDom(n.selection.getNode())}},DR={onLtr:function(){return[Ba,Ri,ja,pa,_i,Ro,_l,Ig,_g,Ap,Rg,Op]},onRtl:function(){return[Ba,ja,Ri,_i,pa,Ro,_l,Ig,Rg,Op,_g,Ap]}},RR={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},jb={type:"separator"},ZO=function(n){function o(f){return{text:f.text,icon:f.icon,disabled:f.disabled,shortcut:f.shortcut}}var u;if(fr(n))return n;switch(n.type){case"separator":return jb;case"submenu":return me(me({type:"nestedmenuitem"},o(n)),{getSubmenuItems:function(){var f=n.getSubmenuItems();return fr(f)?f:ot(f,ZO)}});default:return me(me({type:"menuitem"},o(n)),{onAction:(u=n.onAction,function(){return u()})})}},vE=Sc([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Ok=vE.offset,Hm=vE.absolute,E1=vE.fixed,eA=function(n,o,u,f,d){var g=o.getSnapPoints(n);return qO(g,u,f,d).orThunk(function(){return Jr(g,function(b,x){var S,T,A,R,M,F,q,j=(S=x.sensor,x.range.left,x.range.top,R=k1(u,T=f,A=d),M=k1(S,T,A),F=Math.abs(R.left-M.left),q=Math.abs(R.top-M.top),te(F,q));return b.deltas.fold(function(){return{deltas:N.some(j),snap:N.some(x)}},function(G){return(j.left+j.top)/2<=(G.left+G.top)/2?{deltas:N.some(j),snap:N.some(x)}:b})},{deltas:N.none(),snap:N.none()}).snap.map(function(b){return{output:iE(b.output,u,f,d),extra:b.extra}})})},_R=function(n,o,u,f,d){return qO(o.getSnapPoints(n),u,f,d)},BR=Object.freeze({__proto__:null,snapTo:function(n,o,u,f){var d,g,b,x=o.getTarget(n.element);o.repositionTarget&&(d=aa(Jt(n.element)),g=zw(x),Kn(x,WO({coord:iE((b=f).output,b.output,d,g),extra:b.extra}.coord,0,g)))}}),Ak="data-initial-z-index",NR=$i("snaps",[$e("getSnapPoints"),Qr("onSensor"),$e("leftAttr"),$e("topAttr"),Se("lazyViewport",Vr),Se("mustSnap",!1)]),dE=[Se("useFixed",Fn),$e("blockerClass"),Se("getTarget",Nt),Se("onDrag",dt),Se("repositionTarget",!0),Se("onDrop",dt),Io("getBounds",Vr),NR],tA=Object.freeze({__proto__:null,getData:function(n){return N.from(te(n.x,n.y))},getDelta:function(n,o){return te(o.left-n.left,o.top-n.top)}}),nA=On(On([],dE,!0),[Lo("dragger",{handlers:Ll(Im)})],!1),rA=Object.freeze({__proto__:null,getData:function(n){var o,u=n.raw.touches;return u.length===1?(o=u[0],N.some(te(o.clientX,o.clientY))):N.none()},getDelta:function(n,o){return te(o.left-n.left,o.top-n.top)}}),MR=On(On([],dE,!0),[Lo("dragger",{handlers:Ll(JO)})],!1),PR=On(On([],dE,!0),[Lo("dragger",{handlers:Ll(function(n,o,u){return On(On([],Im(n,o,u),!0),JO(n,o,u),!0)})})],!1),T1=n0({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:nA,touch:MR,mouseOrTouch:PR}),name:"dragging",active:{events:function(n,o){return n.dragger.handlers(n,o)}},extra:{snap:function(n){return{sensor:n.sensor,range:n.range,output:n.output,extra:N.from(n.extra)}}},state:Object.freeze({__proto__:null,init:function(){var n=N.none(),o=N.none(),u=ke({});return cs({readState:u,reset:function(){n=N.none(),o=N.none()},update:function(f,d){return f.getData(d).bind(function(g){return b=f,x=g,S=n.map(function(T){return b.getDelta(T,x)}),n=N.some(x),S;var b,x,S})},getStartData:function(){return o},setStartData:function(f){o=N.some(f)}})}}),apis:BR});function oA(n,o,u){var f,d,g,b,x,S,T=gt.fromDom(n.getContainer());Vn((f=n,d=o,g=u,b=$r(T),x=Qo(T),(S={}).height=dk(b+d.top,tb(f),Hx(f)),g===Lm.Both&&(S.width=dk(x+d.left,eb(f),nb(f))),S),function(A,R){return pt(T,R,X4(A)),0}),n.fire("ResizeEditor")}function O1(n,o,u,f){return oA(n,te(20*u,20*f),o),N.some(!0)}function Jc(n,o){var u,f,d,g,b,x,S,T,A,R,M,F,q,j,G,K;return{dom:{tag:"div",classes:["tox-statusbar"]},components:(K=[],n.getParam("elementpath",!0,"boolean")&&K.push((q=n,G=o,(j={}).delimiter||(j.delimiter="\xBB"),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Tt([Sn.config({mode:"flow",selector:"div[role=button]"}),bn.config({disabled:G.isDisabled}),wi(),ba.config({}),qn.config({}),rr("elementPathEvents",[ua(function(L,Y){q.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Sn.focusIn(L)}),q.on("NodeChange",function(ue){var de,Re,xe=function(ze){for(var Ke=[],Ie=ze.length;0<Ie--;){var Ze=ze[Ie];if(Ze.nodeType===1&&!function(Lt){if(Lt.nodeType===1&&(Lt.nodeName==="BR"||Lt.getAttribute("data-mce-bogus")||Lt.getAttribute("data-mce-type")==="bookmark"))return 1}(Ze)){var vt=q.fire("ResolveName",{name:Ze.nodeName.toLowerCase(),target:Ze});if(vt.isDefaultPrevented()||Ke.push({name:vt.name,element:Ze}),vt.isPropagationStopped())break}}return Ke}(ue.parents);0<xe.length?qn.set(L,(de=ot(xe||[],function(ze,Ke){return hc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":Ke,"tab-index":-1,"aria-level":Ke+1},innerHtml:ze.name},action:function(Ie){q.focus(),q.selection.select(ze.element),q.nodeChanged()},buttonBehaviours:Tt([th(G.isDisabled),wi()])})}),Re={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+j.delimiter+" "}},Jr(de.slice(1),function(ze,Ke){var Ie=ze;return Ie.push(Re),Ie.push(Ke),Ie},[de[0]]))):qn.set(L,[])})})])]),components:[]})),n.hasPlugin("wordcount")&&K.push((R=n,M=o,hc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Tt([th(M.isDisabled),wi(),ba.config({}),qn.config({}),Pt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),rr("wordcount-events",[Jl(function(L){var Y=Pt.getValue(L),ue=Y.mode==="words"?"characters":"words";Pt.setValue(L,{mode:ue,count:Y.count}),Q(L,Y.count,ue)}),ua(function(L){R.on("wordCountUpdate",function(Y){var ue=Pt.getValue(L).mode;Pt.setValue(L,{mode:ue,count:Y.wordCount}),Q(L,Y.wordCount,ue)})})])]),eventOrder:((F={})[Ec()]=["disabling","alloy.base.behaviour","wordcount-events"],F)}))),n.getParam("branding",!0,"boolean")&&K.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(A=al.translate(["Powered by {0}","Tiny"]))+'">'+A+"</a>"}}),u=0<K.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:K}]:[],g=o,x=!(b=d=n).hasPlugin("autoresize"),f=(T=(S=b.getParam("resize",x))===!1?Lm.None:S==="both"?Lm.Both:Lm.Vertical)===Lm.None?N.none():N.some(Ls("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:g.translate("Resize")},behaviours:[T1.config({mode:"mouse",repositionTarget:!1,onDrag:function(L,Y,ue){return oA(d,ue,T)},blockerClass:"tox-blocker"}),Sn.config({mode:"special",onLeft:function(){return O1(d,T,-1,0)},onRight:function(){return O1(d,T,1,0)},onUp:function(){return O1(d,T,0,-1)},onDown:function(){return O1(d,T,0,1)}}),ba.config({}),Hn.config({})]},g.icons)),u.concat(f.toArray()))};function Q(L,Y,ue){return qn.set(L,[Od(M.translate(["{0} "+ue,Y[ue]]))])}}function aA(n){function o(){return ko.bind(ti.getHeader)}function u(){return on.value(Q)}function f(){return ko.bind(function(vr){return ti.getThrobber(vr)}).getOrDie("Could not find throbber element")}var d,g,b,x,S=n.inline,T=S?CR:wR,A=lb(n)?I5:z5,ko=N.none(),R=Ia(),M=R.browser.isIE()?["tox-platform-ie"]:[],F=R.deviceType.isTouch()?["tox-platform-touch"]:[],q=Gx(n),j=Kx(n),G=al.isRtl()?{attributes:{dir:"rtl"}}:{},K={attributes:((d={})[$d]=q?Ps.BottomToTop:Ps.TopToBottom,d)},Q=Uu((g=or(P(),j)&&Zn(j,"display")==="grid",b={dom:me({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(M).concat(F)},G),behaviours:Tt([fc.config({useFixed:function(){return A.isDocked(o)}})])},x={dom:{styles:{width:document.body.clientWidth+"px"}},events:Uo([Pe(cc(),function(){pt(Xn.element,"width",document.body.clientWidth+"px")})])},Ir(b,g?x:{}))),L=Zr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Y=p5(Q,n,function(){return ko.bind(function(vr){return L.getOpt(vr)}).getOrDie("Could not find a anchor bar element")}),ue=ti.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Y,onEscape:function(){n.focus()}}),de=qp(n),Re=ti.parts.toolbar(me({dom:{tag:"div",classes:["tox-toolbar"]},getSink:u,providers:Y.shared.providers,onEscape:function(){n.focus()},type:de,lazyToolbar:function(){return ko.bind(function(vr){return ti.getToolbar(vr)}).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return o().getOrDie("Could not find header element")}},K)),xe=ti.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Y.shared.providers,onEscape:function(){n.focus()},type:de}),ze=ti.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ke=ti.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Ie=ti.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Y}),Ze=n.getParam("statusbar",!0,"boolean")&&!S?N.some(Jc(n,Y.shared.providers)):N.none(),vt={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ze,Ke]},Lt=jp(n),fn=Zv(n),Gn=N2(n),xr=ti.parts.header({dom:me({tag:"div",classes:["tox-editor-header"]},K),components:br([Gn?[ue]:[],Lt?[xe]:fn?[Re]:[],Yg(n)?[]:[L.asSpec()]]),sticky:lb(n),editor:n,sharedBackstage:Y.shared}),jr=br([q?[]:[xr],S?[]:[vt],q?[xr]:[]]),ao=br([[{dom:{tag:"div",classes:["tox-editor-container"]},components:jr}],S?[]:Ze.toArray(),[Ie]]),hr=I2(n),Yr=me(me({role:"application"},al.isRtl()?{dir:"rtl"}:{}),hr?{"aria-hidden":"true"}:{}),no=Uu(ti.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(S?["tox-tinymce-inline"]:[]).concat(q?["tox-tinymce--toolbar-bottom"]:[]).concat(F).concat(M),styles:me({visibility:"hidden"},hr?{opacity:"0",border:"0"}:{}),attributes:Yr},components:ao,behaviours:Tt([wi(),bn.config({disableClass:"tox-tinymce--disabled"}),Sn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ko=N.some(no);n.shortcuts.add("alt+F9","focus menubar",function(){ti.focusMenubar(no)}),n.shortcuts.add("alt+F10","focus toolbar",function(){ti.focusToolbar(no)}),n.addCommand("ToggleToolbarDrawer",function(){ti.toggleToolbarDrawer(no)}),n.addQueryStateHandler("ToggleToolbarDrawer",function(){return ti.isToolbarDrawerToggled(no)});var Or,Wo,Ni,Xu,bc,Bo,gs,Ma,io,At=sw(no),Xn=sw(Q);function co(){var vr,wc,Yu,_f,yv,wv,Um=X4((_f=Qv(Yu=wc=n),yv=tb(Yu),wv=Hx(Yu),K4(_f).map(function(N1){return dk(N1,yv,wv)}).getOr(Qv(wc)))),B1=X4(CO(vr=n).getOr(Wg(vr)));return n.inline||(fo("div","width",B1)&&pt(no.element,"width",B1),fo("div","height",Um)?pt(no.element,"height",Um):pt(no.element,"height","200px")),Um}return Or=n,Wo=At,Ni=Xn,Xu=Uf(),bc=bi(Xu,"touchstart",yc),Bo=bi(Xu,"touchmove",function(vr){return No(ng(),vr)}),gs=bi(Xu,"touchend",function(vr){return No(bC(),vr)}),Ma=bi(Xu,"mousedown",yc),io=bi(Xu,"mouseup",function(vr){vr.raw.button===0&&Xo(wg(),{target:vr.target})}),Or.on("PostRender",function(){Or.on("click",xi),Or.on("tap",xi),Or.on("mouseup",Si),Or.on("mousedown",Mu),Or.on("ScrollWindow",cu),Or.on("ResizeWindow",Gi),Or.on("ResizeEditor",Mi),Or.on("AfterProgressState",Pi),Or.on("DismissPopups",vl)}),Or.on("remove",function(){Or.off("click",xi),Or.off("tap",xi),Or.off("mouseup",Si),Or.off("mousedown",Mu),Or.off("ScrollWindow",cu),Or.off("ResizeWindow",Gi),Or.off("ResizeEditor",Mi),Or.off("AfterProgressState",Pi),Or.off("DismissPopups",vl),Ma.unbind(),bc.unbind(),Bo.unbind(),gs.unbind(),io.unbind()}),Or.on("detach",function(){Ko(Wo),Ko(Ni),Wo.destroy(),Ni.destroy()}),{mothership:At,uiMothership:Xn,backstage:Y,renderUI:function(){var vr,wc;A.setup(n,Y.shared,o),PO(n,Y),TR(n,u,Y),wc=(vr=n).ui.registry.getAll().sidebars,Yt(Pr(wc),function(Bf){function Cv(){return Sa(N.from(vr.queryCommandValue("ToggleSidebar")),Bf)}var Wk=wc[Bf];vr.ui.registry.addToggleButton(Bf,{icon:Wk.icon,tooltip:Wk.tooltip,onAction:function(Qb){vr.execCommand("ToggleSidebar",!1,Bf),Qb.setActive(Cv())},onSetup:function(Qb){function Sr(){return Qb.setActive(Cv())}return vr.on("ToggleSidebar",Sr),function(){vr.off("ToggleSidebar",Sr)}}})}),C5(n,f,Y.shared),tn(n.getParam("toolbar_groups",{},"object"),function(Bf,Cv){n.ui.registry.addGroupToolbarButton(Cv,Bf)});var Yu,_f=n.ui.registry.getAll(),yv=_f.buttons,wv=_f.menuItems,Um=_f.contextToolbars,B1=_f.sidebars,N1=ed(n),oC={menuItems:wv,menus:(Yu=n.getParam("menu"))?tn(Yu,function(Bf){return me(me({},Bf),{items:Bf.items})}):{},menubar:n.getParam("menubar"),toolbar:N1.getOrThunk(function(){return n.getParam("toolbar",!0)}),allowToolbarGroups:de===Gu.floating,buttons:yv,sidebar:B1};dR(n,Um,Q,{backstage:Y}),AR(n,Q);var bd=n.getElement(),Jb=co();return T.render(n,{mothership:At,uiMothership:Xn,outerContainer:no},oC,Y,{targetNode:bd,height:Jb})},getUi:function(){return{channels:{broadcastAll:Xn.broadcast,broadcastOn:Xn.broadcastOn,register:dt}}}};function No(vr,wc){Yt([Wo,Ni],function(Yu){Yu.broadcastEvent(vr,wc)})}function Xo(vr,wc){Yt([Wo,Ni],function(Yu){Yu.broadcastOn([vr],wc)})}function yc(vr){return Xo(Is(),{target:vr.target})}function xi(vr){return Xo(Is(),{target:gt.fromDom(vr.target)})}function Si(vr){vr.button===0&&Xo(wg(),{target:gt.fromDom(vr.target)})}function Mu(){Yt(Or.editorManager.get(),function(vr){Or!==vr&&vr.fire("DismissPopups",{relatedTarget:Or})})}function cu(vr){return No(rg(),Zh(vr))}function Gi(vr){Xo(of(),{}),No(cc(),Zh(vr))}function Mi(){return Xo(of(),{})}function Pi(vr){vr.state&&Xo(Is(),{target:gt.fromDom(Or.getContainer())})}function vl(vr){Xo(Is(),{target:gt.fromDom(vr.relatedTarget.getContainer())})}}function mE(n){return Wa("items","items",Cs(),zo(Ss(function(o){return Fo("Checking item of "+n,Nk,o).fold(function(u){return on.error(Co(u))},function(u){return on.value(u)})})))}function zR(n){return fr(n.type)&&fr(n.name)}function iA(n){return{internalDialog:Ou(Fo("dialog",SA,n)),dataValidator:(o=ee(Je(xE(n),zR),function(u){return N.from(S_[u.type]).fold(function(){return[]},function(f){return[eu(u.name,f)]})}),Tn(o)),initialData:n.initialData};var o}function uA(n){var o=[],u={};return Vn(n,function(f,d){f.fold(function(){o.push(d)},function(g){u[d]=g})}),0<o.length?on.error(o):on.value(u)}function gE(n,o){pt(n,"height",o+"px"),Ia().browser.isIE()?Le(n,"flex-basis"):pt(n,"flex-basis",o+"px")}function Yw(n,o,u){K1(n,'[role="dialog"]').each(function(f){Ai(f,'[role="tablist"]').each(function(d){u.get().map(function(g){return pt(o,"height","0"),pt(o,"flex-basis","0"),Math.min(g,(x=o,S=d,T=Aa(b=f).dom,A=Zn(K1(b,".tox-dialog-wrap").getOr(b),"position")==="fixed"?Math.max(T.clientHeight,window.innerHeight):Math.max(T.offsetHeight,T.scrollHeight),R=$r(x),M=x.dom.offsetLeft>=S.dom.offsetLeft+Qo(S)?Math.max($r(S),R):R,F=parseInt(Zn(b,"margin-top"),10)||0,q=parseInt(Zn(b,"margin-bottom"),10)||0,A-($r(b)+F+q-M)));var b,x,S,T,A,R,M,F,q}).each(function(g){gE(o,g)})})})}function hE(n){return Ai(n,'[role="tabpanel"]')}function FR(n,o){function u(A){var R=uA(Pt.getValue(A)).getOr({}),M=b.get(),F=Ir(M,R);b.set(F)}function f(A){var R=b.get();Pt.setValue(A,R)}var d,g,b=Cn({}),x=Cn(null),S=ot(n.tabs,function(A){return{value:A.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:o.shared.providers.translate(A.title)},view:function(){return[zb.sketch(function(R){return{dom:{tag:"div",classes:["tox-form"]},components:ot(A.items,function(M){return g4(R,M,o)}),formBehaviours:Tt([Sn.config({mode:"acyclic",useTabstopAt:tr(m1)}),rr("TabView.form.events",[ua(f),Bs(u)]),au.config({channels:Qn([{key:OA,value:{onReceive:u}},{key:eC,value:{onReceive:f}}])})])}})]}}}),T=(d=S,g=mo(),{extraEvents:[ua(function(A){var R=A.element;hE(R).each(function(M){var F;pt(M,"visibility","hidden"),A.getSystem().getByDom(M).toOptional().each(function(q){var j,G,K;Vt(Et((G=M,K=q,ot(j=d,function(Q,L){qn.set(K,j[L].view());var Y=G.dom.getBoundingClientRect();return qn.set(K,[]),Y.height})),function(Q,L){return L<Q?-1:Q<L?1:0})).fold(g.clear,g.set)}),Yw(R,M,g),Le(M,"visibility"),F=A,Vt(d).each(function(q){return Vm.showTab(F,q.value)}),Jv.requestAnimationFrame(function(){Yw(R,M,g)})})}),Pe(cc(),function(A){var R=A.element;hE(R).each(function(M){Yw(R,M,g)})}),Pe(CS,function(A,R){var M=A.element;hE(M).each(function(F){var q=Wf(Hi(F));pt(F,"visibility","hidden");var j=Bn(F,"height").map(function(K){return parseInt(K,10)});Le(F,"height"),Le(F,"flex-basis");var G=F.dom.getBoundingClientRect().height;j.forall(function(K){return K<G})?(g.set(G),Yw(M,F,g)):j.each(function(K){gE(F,K)}),Le(F,"visibility"),q.each(Zl)})})],selectFirst:!1});return Vm.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(A,R,M){var F=Pt.getValue(R);V(A,u1,{name:F,oldName:x.get()}),x.set(F)},tabs:S,components:[Vm.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[EA.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Tt([ba.config({})])}),Vm.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:T.selectFirst,tabSectionBehaviours:Tt([rr("tabpanel",T.extraEvents),Sn.config({mode:"acyclic"}),wr.config({find:function(A){return Vt(Vm.getViewItems(A))}}),Pt.config({store:{mode:"manual",getValue:function(A){return A.getSystem().broadcastOn([OA],{}),b.get()},setValue:function(A,R){b.set(R),A.getSystem().broadcastOn([eC],{})}}})])})}function pE(n,o,u,f){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:me(me({},o.map(function(d){return{id:d}}).getOr({})),f?{"aria-live":"polite"}:{})},components:[],behaviours:Tt([Z3(0),Vs.config({channel:kE,updateState:function(d,g){return N.some({isTabPanel:function(){return g.body.type==="tabpanel"}})},renderComponents:function(d){return d.body.type!=="tabpanel"?[(g=d.body,b=u,{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[(x=Zr(zb.sketch(function(S){return{dom:{tag:"div",classes:["tox-form"].concat(g.classes)},components:ot(g.items,function(T){return g4(S,T,b)})}}))).asSpec()]}],behaviours:Tt([Sn.config({mode:"acyclic",useTabstopAt:tr(m1)}),qD(x),XD(x,{postprocess:function(S){return uA(S).fold(function(T){return console.error(T),{}},Nt)}})])})]:[FR(d.body,u)];var g,b,x},initialData:n})])}}(xh=Lm=Lm||{})[xh.None=0]="None",xh[xh.Both=1]="Both",xh[xh.Vertical=2]="Vertical";var bE,cA=ke([$e("lazySink"),jn("dragBlockClass"),Io("getBounds",Vr),Se("useTabstopAt",Zt),Se("eventOrder",{}),ea("modalBehaviours",[Sn]),Lc("onExecute"),hy("onEscape")]),Dk={sketch:Nt},sA=ke([Ac({name:"draghandle",overrides:function(n,o){return{behaviours:Tt([T1.config({mode:"mouse",getTarget:function(u){return K1(u,'[role="dialog"]').getOr(u)},blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(o,null,2)).message),getBounds:n.getDragBounds})])}}}),Ru({schema:[$e("dom")],name:"title"}),Ru({factory:Dk,schema:[$e("dom")],name:"close"}),Ru({factory:Dk,schema:[$e("dom")],name:"body"}),Ac({factory:Dk,schema:[$e("dom")],name:"footer"}),vc({factory:{sketch:function(n,o){return me(me({},n),{dom:o.dom,components:o.components})}},schema:[Se("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Se("components",[])],name:"blocker"})]),qi=ju({name:"ModalDialog",configFields:cA(),partFields:sA(),factory:function(n,o,u,f){var d,g=mo(),b=un("modal-events"),x=me(me({},n.eventOrder),((d={})[Dv()]=[b].concat(n.eventOrder["alloy.system.attached"]||[]),d));return{uid:n.uid,dom:n.dom,components:o,apis:{show:function(S){g.set(S);var T=n.lazySink(S).getOrDie(),A=f.blocker(),R=T.getSystem().build(me(me({},A),{components:A.components.concat([mu(S)]),behaviours:Tt([Hn.config({}),rr("dialog-blocker-events",[Xm($f(),function(){Sn.focusIn(S)})])])}));Xf(T,R),Sn.focusIn(S)},hide:function(S){g.clear(),Xr(S.element).each(function(T){S.getSystem().getByDom(T).each(function(A){Yf(A)})})},getBody:function(S){return tl(S,n,"body")},getFooter:function(S){return tl(S,n,"footer")},setIdle:function(S){Fm.unblock(S)},setBusy:function(S,T){Fm.block(S,T)}},eventOrder:x,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:yi(n.modalBehaviours,[qn.config({}),Sn.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt}),Fm.config({getRoot:g.get}),rr(b,[ua(function(S){var T,A,R,M=S.element,F=tl(S,n,"title").element,q=_e(M,"id").fold(function(){var j=un("dialog-label");return nt(F,"id",j),j},Nt);nt(M,"aria-labelledby",q),T=S.element,A=tl(S,n,"body").element,R=N.from(fe(T,"id")).fold(function(){var j=un("dialog-describe");return nt(A,"id",j),j},Nt),nt(T,"aria-describedby",R)})])])}},apis:{show:function(n,o){n.show(o)},hide:function(n,o){n.hide(o)},getBody:function(n,o){return n.getBody(o)},getFooter:function(n,o){return n.getFooter(o)},setBusy:function(n,o,u){n.setBusy(o,u)},setIdle:function(n,o){n.setIdle(o)}}}),IR=Tn([wn("type"),wn("name")].concat(Kg)),LR=Hf,lA=[Wa("name","name",Sv(function(){return un("button-name")}),Va),oo("icon"),rc("align","end",["start","end"]),yr("primary",!1),yr("disabled",!1)],fA=On(On([],lA,!0),[wn("text")],!1),yE=On([wd("type",["submit","cancel","custom"])],fA,!0),A1=Au("type",{submit:yE,cancel:yE,custom:yE,menu:On([wd("type",["menu"]),oo("text"),oo("tooltip"),oo("icon"),pi("items",IR)],lA,!0)}),HR=[wn("type"),wn("text"),wd("level",["info","warn","error","success"]),wn("icon"),Se("url","")],$R=Tn(HR),Sh=[wn("type"),wn("text"),yr("disabled",!1),yr("primary",!1),Wa("name","name",Sv(function(){return un("button-name")}),Va),oo("icon"),yr("borderless",!1)],VR=Tn(Sh),UR=[wn("type"),wn("name"),wn("label"),yr("disabled",!1)],Hl=Tn(UR),vA=Hf,Rk=[wn("type"),wn("name")],Rf=Rk.concat([oo("label")]),WR=Rf.concat([Se("columns","auto")]),_k=Tn(WR),jR=Os([wn("value"),wn("text"),wn("icon")]),dA=Tn(Rf),qR=Va,GR=Tn(Rf),KR=Va,wE=Rk.concat([os("tag","textarea"),wn("scriptId"),wn("scriptUrl"),Pc("settings",void 0,Js)]),XR=Rk.concat([os("tag","textarea"),_a("init")]),YR=Ss(function(n){return Fo("customeditor.old",hi(XR),n).orThunk(function(){return Fo("customeditor.new",hi(wE),n)})}),JR=Va,QR=Tn(Rf),ZR=zo(Ys),e_=[wn("type"),wn("html"),rc("presets","presentation",["presentation","document"])],t_=Tn(e_),mA=Rf.concat([yr("sandboxed",!0)]),gA=Tn(mA),n_=Va,r_=Rf.concat([eu("currentState",Tn([$e("blob"),wn("url")]))]),o_=Tn(r_),a_=Rf.concat([oo("inputMode"),oo("placeholder"),yr("maximized",!1),yr("disabled",!1)]),i_=Tn(a_),hA=Va,pA=[wn("text"),wn("value")],bA=[wn("text"),pi("items",(bE=Po(function(){return Jw}),{extract:function(n,o){return bE().extract(n,o)},toString:function(){return bE().toString()}}))],Jw=Hu([Tn(pA),Tn(bA)]),u_=Rf.concat([pi("items",Jw),yr("disabled",!1)]),yA=Tn(u_),c_=Va,s_=Rf.concat([If("items",[wn("text"),wn("value")]),Ts("size",1),yr("disabled",!1)]),l_=Tn(s_),f_=Va,Bk=Rf.concat([yr("constrain",!0),yr("disabled",!1)]),v_=Tn(Bk),wA=Tn([wn("width"),wn("height")]),$m=[wn("type"),pi("header",Va),pi("cells",zo(Va))],d_=Tn($m),qb=Rf.concat([oo("placeholder"),yr("maximized",!1),yr("disabled",!1)]),CA=Tn(qb),CE=Va,m_=Rf.concat([rc("filetype","file",["image","media","file"]),Se("disabled",!1)]),g_=Tn(m_),h_=Tn([wn("value"),Se("meta",{})]),Nk=rs(function(){return jl("type",{alertbanner:$R,bar:Tn((u=mE("bar"),[wn("type"),u])),button:VR,checkbox:Hl,colorinput:dA,colorpicker:GR,dropzone:QR,grid:Tn((n=mE("grid"),[wn("type"),eu("columns",xd),n])),iframe:gA,input:i_,listbox:yA,selectbox:l_,sizeinput:v_,textarea:CA,urlinput:g_,customeditor:YR,htmlpanel:t_,imagetools:o_,collection:_k,label:Tn((o=mE("label"),[wn("type"),wn("label"),o])),table:d_,panel:Qw});var n,o,u}),p_=[wn("type"),Se("classes",[]),pi("items",Nk)],Qw=Tn(p_),b_=[Wa("name","name",Sv(function(){return un("tab-name")}),Va),wn("title"),pi("items",Nk)],fl=[wn("type"),If("tabs",b_)],y_=Tn(fl),w_=fA,xA=A1,SA=Tn([wn("title"),eu("body",jl("type",{panel:Qw,tabpanel:y_})),os("size","normal"),pi("buttons",xA),Se("initialData",{}),Io("onAction",dt),Io("onChange",dt),Io("onSubmit",dt),Io("onClose",dt),Io("onCancel",dt),Se("onTabChange",dt)]),C_=Tn(On([wd("type",["cancel","custom"])],w_,!0)),x_=Tn([wn("title"),wn("url"),Rh("height"),Rh("width"),ci("buttons",C_),Io("onAction",dt),Io("onCancel",dt),Io("onClose",dt),Io("onMessage",dt)]),xE=function(n){return kn(n)?[n].concat(ee(mn(n),xE)):Mr(n)?ee(n,xE):[]},S_={checkbox:vA,colorinput:qR,colorpicker:KR,dropzone:ZR,input:hA,iframe:n_,sizeinput:wA,selectbox:f_,listbox:c_,size:wA,textarea:CE,urlinput:h_,customeditor:JR,collection:jR,togglemenuitem:LR},Zw={open:function(n,o){var u=iA(o);return n(u.internalDialog,u.initialData,u.dataValidator)},openUrl:function(n,o){return n(Ou(Fo("dialog",x_,o)))},redial:iA},k_=Oc({name:"TabButton",configFields:[Se("uid",void 0),$e("value"),Wa("dom","dom",zf(function(){return{attributes:{role:"tab",id:un("aria"),"aria-selected":"false"}}}),jt()),jn("action"),Se("domModification",{}),ea("tabButtonBehaviours",[Hn,Sn,Pt]),$e("view")],factory:function(n,o){return{uid:n.uid,dom:n.dom,components:n.components,events:am(n.action),behaviours:yi(n.tabButtonBehaviours,[Hn.config({}),Sn.config({mode:"execution",useSpace:!0,useEnter:!0}),Pt.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}}}),E_=ke([$e("tabs"),$e("dom"),Se("clickToDismiss",!1),ea("tabbarBehaviours",[Ur,Sn]),Ql(["tabClass","selectedClass"])]),kA=ke([wp({factory:k_,name:"tabs",unit:"tab",overrides:function(n){return{action:function(o){var u=o.getSystem().getByUid(n.uid).getOrDie(),f=Ur.isHighlighted(u,o);(f&&n.clickToDismiss?function(d,g){Ur.dehighlight(d,g),V(d,Ic(),{tabbar:d,button:g})}:f?dt:function(d,g){Ur.highlight(d,g),V(d,Rv(),{tabbar:d,button:g})})(u,o)},domModification:{classes:[n.markers.tabClass]}}}})]),EA=ju({name:"Tabbar",configFields:E_(),partFields:kA(),factory:function(n,o,u,f){return{uid:n.uid,dom:n.dom,components:o,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:yi(n.tabbarBehaviours,[Ur.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:function(d,g){nt(g.element,"aria-selected","true")},onDehighlight:function(d,g){nt(g.element,"aria-selected","false")}}),Sn.config({mode:"flow",getInitial:function(d){return Ur.getHighlighted(d).map(function(g){return g.element})},selector:"."+n.markers.tabClass,executeOnMove:!0})])}}}),T_=Oc({name:"Tabview",configFields:[ea("tabviewBehaviours",[qn])],factory:function(n,o){return{uid:n.uid,dom:n.dom,behaviours:yi(n.tabviewBehaviours,[qn.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),O_=ke([Se("selectFirst",!0),Qr("onChangeTab"),Qr("onDismissTab"),Se("tabs",[]),ea("tabSectionBehaviours",[])]),TA=ke([Ru({factory:EA,schema:[$e("dom"),$a("markers",[$e("tabClass"),$e("selectedClass")])],name:"tabbar",defaults:function(n){return{tabs:n.tabs}}}),Ru({factory:T_,name:"tabview"})]),Vm=ju({name:"TabSection",configFields:O_(),partFields:TA(),factory:function(n,o,u,f){function d(g,b){po(g,n,"tabbar").each(function(x){b(x).each(se)})}return{uid:n.uid,dom:n.dom,components:o,behaviours:Jf(n.tabSectionBehaviours),events:Uo(br([n.selectFirst?[ua(function(g,b){d(g,Ur.getFirst)})]:[],[Pe(Rv(),function(g,b){var x=b.event.button,S=Pt.getValue(x);po(x,n,"tabview").each(function(T){Rr(n.tabs,function(A){return A.value===S}).each(function(A){var R=A.view();_e(x.element,"id").each(function(M){nt(T.element,"aria-labelledby",M)}),qn.set(T,R),n.onChangeTab(T,x,R)})})}),Pe(Ic(),function(g,b){var x=b.event.button;n.onDismissTab(g,x)})]])),apis:{getViewItems:function(g){return po(g,n,"tabview").map(function(b){return qn.contents(b)}).getOr([])},showTab:function(g,b){d(g,function(x){return Rr(Ur.getCandidates(x),function(S){return Pt.getValue(S)===b}).filter(function(S){return!Ur.isHighlighted(x,S)})})}}}},apis:{getViewItems:function(n,o){return n.getViewItems(o)},showTab:function(n,o,u){n.showTab(o,u)}}}),OA="send-data-to-section",eC="send-data-to-view",kh=un("update-dialog"),SE=un("update-title"),kE=un("update-body"),EE=un("update-footer"),AA=un("body-send-message");function Gb(n){return(Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function tC(n,o){return(tC=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(n,o)}function DA(n,o,u){return(DA=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch{return}}}()?Reflect.construct:function(f,d,g){var b=[null];b.push.apply(b,d);var x=new(Function.bind.apply(f,b));return g&&tC(x,g.prototype),x}).apply(null,arguments)}function pv(n){return function(o){if(Array.isArray(o))return Mk(o)}(n)||function(){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}()||function(o){if(o){if(typeof o=="string")return Mk(o,void 0);var u=Object.prototype.toString.call(o).slice(8,-1);return(u=u==="Object"&&o.constructor?o.constructor.name:u)==="Map"||u==="Set"?Array.from(o):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Mk(o,void 0):void 0}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mk(n,o){(o==null||o>n.length)&&(o=n.length);for(var u=0,f=new Array(o);u<o;u++)f[u]=n[u];return f}var TE,OE=Object.hasOwnProperty,AE=Object.setPrototypeOf,Qc=Object.isFrozen,RA=Object.getPrototypeOf,A_=Object.getOwnPropertyDescriptor,Us=Object.freeze,gd=Object.seal,D_=Object.create,DE=typeof Reflect<"u"&&Reflect,_A=DE.apply||function(n,o,u){return n.apply(o,u)},Us=Us||function(n){return n},gd=gd||function(n){return n},BA=DE.construct||function(n,o){return DA(n,pv(o))},hd=$l(Array.prototype.forEach),Pk=$l(Array.prototype.pop),Kb=$l(Array.prototype.push),D1=$l(String.prototype.toLowerCase),RE=$l(String.prototype.match),Eh=$l(String.prototype.replace),R_=$l(String.prototype.indexOf),__=$l(String.prototype.trim),Ws=$l(RegExp.prototype.test),_E=(TE=TypeError,function(){for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return BA(TE,o)});function $l(n){return function(o){for(var u=arguments.length,f=new Array(1<u?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];return _A(n,o,f)}}function _o(n,o){AE&&AE(n,null);for(var u=o.length;u--;){var f,d=o[u];typeof d!="string"||(f=D1(d))!==d&&(Qc(o)||(o[u]=f),d=f),n[d]=!0}return n}function Th(n){var o,u=D_(null);for(o in n)_A(OE,n,[o])&&(u[o]=n[o]);return u}function zk(n,o){for(;n!==null;){var u=A_(n,o);if(u){if(u.get)return $l(u.get);if(typeof u.value=="function")return $l(u.value)}n=RA(n)}return function(f){return console.warn("fallback value for",f),null}}var bv=Us(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xb=Us(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),BE=Us(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B_=Us(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fk=Us(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),NA=Us(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ik=Us(["#text"]),NE=Us(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),R1=Us(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yb=Us(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lk=Us(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),N_=gd(/\{\{[\w\W]*|[\w\W]*\}\}/gm),M_=gd(/<%[\w\W]*|[\w\W]*%>/gm),P_=gd(/^data-[\-\w.\u00B7-\uFFFF]/),z_=gd(/^aria-[\-\w]+$/),F_=gd(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),I_=gd(/^(?:\w+script|data):/i),ME=gd(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_1=gd(/^html$/i);function MA(n,o){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,o]}}function PE(n,o){return qi.parts.close(hc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close")}},action:n,buttonBehaviours:Tt([ba.config({})])}))}function PA(){return qi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}function zA(n,o){return qi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Pm("<p>"+(u=o.translate(n),GA().sanitize(u))+"</p>")}]}]});var u}function FA(n){return qi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n})}function IA(n,o){return[bu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),bu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:o})]}function zE(n){var o,u="tox-dialog",f=u+"-wrap",d=f+"__backdrop",g=u+"__disable-scroll";return qi.sketch({lazySink:n.lazySink,onEscape:function(b){return n.onEscape(b),N.some(!0)},useTabstopAt:function(b){return!m1(b)},dom:{tag:"div",classes:[u].concat(n.extraClasses),styles:me({position:"relative"},n.extraStyles)},components:On([n.header,n.body],n.footer.toArray(),!0),parts:{blocker:{dom:Pm('<div class="'+f+'"></div>'),components:[{dom:{tag:"div",classes:VE?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:f,modalBehaviours:Tt(On([Hn.config({}),rr("dialog-events",n.dialogEvents.concat([Xm($f(),function(b,x){Sn.focusIn(b)})])),rr("scroll-lock",[ua(function(){tu(P(),g)}),Bs(function(){ha(P(),g)})])],n.extraBehaviours,!0)),eventOrder:me(((o={})[Ec()]=["dialog-events"],o[Dv()]=["scroll-lock","dialog-events","alloy.base.behaviour"],o[Lh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],o),n.eventOrder)})}function FE(n){return hc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},components:[Ls("close",{tag:"div",classes:["tox-icon"]},n.icons)],action:function(o){z(o,ud)}})}function Hk(n,o,u){function f(d){return[Od(u.translate(d.title))]}return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:me({},o.map(function(d){return{id:d}}).getOr({}))},components:f(n),behaviours:Tt([Vs.config({channel:SE,renderComponents:f})])}}function LA(){return{dom:Pm('<div class="tox-dialog__draghandle"></div>')}}function IE(n,o){return u={title:o.shared.providers.translate(n),draggable:o.dialog.isDraggableModal()},f=o.shared.providers,d=qi.parts.title(Hk(u,N.none(),f)),g=qi.parts.draghandle(LA()),b=qi.parts.close(FE(f)),x=[d].concat(u.draggable?[g]:[]).concat([b]),bu.sketch({dom:Pm('<div class="tox-dialog__header"></div>'),components:x});var u,f,d,g,b,x}function $k(n,o,u){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":u.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:o,components:[{dom:Pm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}function Vk(n,o,u){return{onClose:function(){return u.closeWindow()},onBlock:function(f){qi.setBusy(n(),function(d,g){return $k(f.message,g,o)})},onUnblock:function(){qi.setIdle(n())}}}function LE(n,o,u,f){var d;return Uu(zE(me(me({},n),{lazySink:f.shared.getSink,extraBehaviours:On([Vs.config({channel:kh,updateState:function(g,b){return N.some(b)},initialData:o}),US({})],n.extraBehaviours,!0),onEscape:function(g){z(g,ud)},dialogEvents:u,eventOrder:((d={})[Rd()]=[Vs.name(),au.name()],d[Dv()]=["scroll-lock",Vs.name(),"messages","dialog-events","alloy.base.behaviour"],d[Lh()]=["alloy.base.behaviour","dialog-events","messages",Vs.name(),"scroll-lock"],d)})))}function HA(n){return ot(n,function(o){return o.type==="menu"?(f=ot((u=o).items,function(d){var g=Cn(!1);return me(me({},d),{storage:g})}),me(me({},u),{items:f})):o;var u,f})}function $A(n){return Jr(n,function(o,u){return u.type!=="menu"?o:Jr(u.items,function(f,d){return f[d.name]=d.storage,f},o)},{})}function nC(n,o){return[ia($f(),Aw),n(ih,function(u,f){o.onClose(),f.onClose()}),n(ud,function(u,f,d,g){f.onCancel(u),z(g,ih)}),Pe(i1,function(u,f){return o.onUnblock()}),Pe(uh,function(u,f){return o.onBlock(f.event)})]}function VA(n,o){function u(d,g){return bu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+d]},components:ot(g,function(b){return b.memento.asSpec()})})}var f=Eo(o.map(function(d){return d.footerButtons}).getOr([]),function(d){return d.align==="start"});return[u("start",f.pass),u("end",f.fail)]}function UA(n,o){return{dom:Pm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Tt([Vs.config({channel:EE,initialData:n,updateState:function(u,f){var d=ot(f.buttons,function(g){var b=Zr($o(g,g.type,o));return{name:g.name,align:g.align,memento:b}});return N.some({lookupByName:function(g,b){return x=g,S=b,Rr(d,function(T){return T.name===S}).bind(function(T){return T.memento.getOpt(x)});var x,S},footerButtons:d})},renderComponents:VA})])}}function WA(n,o){return qi.parts.footer(UA(n,o))}function HE(n,o){if(n.getRoot().getSystem().isConnected()){var u=wr.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return zb.getField(u,o).fold(function(){var f=n.getFooter();return Vs.getState(f).get().bind(function(d){return d.lookupByName(u,o)})},function(f){return N.some(f)})}return N.none()}function jA(n,o,u){function f(g){var b=n.getRoot();b.getSystem().isConnected()&&g(b)}var d={getData:function(){var g=n.getRoot(),b=g.getSystem().isConnected()?n.getFormWrapper():g,x=Pt.getValue(b),S=tn(u,function(T){return T.get()});return me(me({},x),S)},setData:function(g){f(function(b){var x,S,T=d.getData(),A=me(me({},T),g),R=(x=A,S=n.getRoot(),Vs.getState(S).get().map(function(F){return Ou(Fo("data",F.dataValidator,x))}).getOr(x)),M=n.getFormWrapper();Pt.setValue(M,R),Vn(u,function(F,q){Jn(A,q)&&F.set(A[q])})})},disable:function(g){HE(n,g).each(bn.disable)},enable:function(g){HE(n,g).each(bn.enable)},focus:function(g){HE(n,g).each(Hn.focus)},block:function(g){if(!fr(g))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");f(function(b){V(b,uh,{message:g})})},unblock:function(){f(function(g){z(g,i1)})},showTab:function(g){f(function(b){var x=n.getBody();Vs.getState(x).get().exists(function(S){return S.isTabPanel()})&&wr.getCurrent(x).each(function(S){Vm.showTab(S,g)})})},redial:function(g){f(function(b){var x=o(g);b.getSystem().broadcastOn([kh],x),b.getSystem().broadcastOn([SE],x.internalDialog),b.getSystem().broadcastOn([kE],x.internalDialog),b.getSystem().broadcastOn([EE],x.internalDialog),d.setData(x.initialData)})},close:function(){f(function(g){z(g,ih)})}};return d}function pd(n){return kn(n)&&L_.indexOf(n.mceAction)!==-1}function $E(n,o,u,f){var d,g,b,x=IE(n.title,f),S=(g={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[PS({dom:{tag:"iframe",attributes:{src:n.url}},behaviours:Tt([ba.config({}),Hn.config({})])})]}],behaviours:Tt([Sn.config({mode:"acyclic",useTabstopAt:tr(m1)})])},qi.parts.body(g)),T=n.buttons.bind(function(L){return L.length===0?N.none():N.some(WA({buttons:L},f))}),A=KA(function(){return K},Vk(function(){return G},f.shared.providers,o)),R=me(me({},n.height.fold(function(){return{}},function(L){return{height:L+"px","max-height":L+"px"}})),n.width.fold(function(){return{}},function(L){return{width:L+"px","max-width":L+"px"}})),M=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],F=new Uk(n.url,{base_uri:new Uk(window.location.href)}),q=F.protocol+"://"+F.host+(F.port?":"+F.port:""),j=sg(),G=LE({header:x,body:S,footer:T,extraClasses:M,extraBehaviours:[rr("messages",[ua(function(){var L=bi(gt.fromDom(window),"message",function(Y){var ue,de;F.isSameOrigin(new Uk(Y.raw.origin))&&(pd(ue=Y.raw.data)?function(Re,xe,ze){switch(ze.mceAction){case"insertContent":Re.insertContent(ze.content);break;case"setContent":Re.setContent(ze.content);break;case"execCommand":var Ke=!!lt(ze.ui)&&ze.ui;Re.execCommand(ze.cmd,Ke,ze.value);break;case"close":xe.close();break;case"block":xe.block(ze.message);break;case"unblock":xe.unblock()}}(u,K,ue):!pd(de=ue)&&kn(de)&&Jn(de,"mceAction")&&n.onMessage(K,ue))});j.set(L)}),Bs(j.clear)]),au.config({channels:((d={})[AA]={onReceive:function(L,Y){Ai(L.element,"iframe").each(function(ue){ue.dom.contentWindow.postMessage(Y,q)})}},d)})],extraStyles:R},n,A,f),K={block:function(L){if(!fr(L))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");Q(function(Y){V(Y,uh,{message:L})})},unblock:function(){Q(function(L){z(L,i1)})},close:function(){Q(function(L){z(L,ih)})},sendMessage:function(L){Q(function(Y){Y.getSystem().broadcastOn([AA],L)})}};function Q(L){b.getSystem().isConnected()&&L(b)}return{dialog:b=G,instanceApi:K}}function qA(n){function o(M,F){return Zw.open(function(q,j,G){var K,Q,L,Y,ue,de,Re,xe,ze,Ke,Ie,Ze,vt,Lt,fn=j,Gn=(Q={redial:Zw.redial,closeWindow:function(){qi.hide(Gn.dialog),F(Gn.instanceApi)}},L=x,de=IE((K={dataValidator:G,initialData:fn,internalDialog:q}).internalDialog.title,L),Y=L,ue=pE({body:K.internalDialog.body},N.none(),Y,!1),Re=qi.parts.body(ue),xe=HA(K.internalDialog.buttons),ze=$A(xe),Ke=WA({buttons:xe},L),Ie=rC(function(){return Lt},Vk(function(){return vt},L.shared.providers,Q),L.shared.getSink),Ze=function(){switch(K.internalDialog.size){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}}(),vt=LE({header:de,body:Re,footer:N.some(Ke),extraClasses:Ze,extraBehaviours:[],extraStyles:{}},K,Ie,L),Lt=jA({getRoot:ke(vt),getBody:function(){return qi.getBody(vt)},getFooter:function(){return qi.getFooter(vt)},getFormWrapper:function(){var xr=qi.getBody(vt);return wr.getCurrent(xr).getOr(xr)}},Q.redial,ze),{dialog:vt,instanceApi:Lt});return qi.show(Gn.dialog),Gn.instanceApi.setData(fn),Gn.instanceApi},M)}function u(M,F,q,j){return Zw.open(function(G,K,Q){function L(){return bc.on(function(io){ca.reposition(io),So.refresh(io)})}var Y,ue,de,Re,xe,ze,Ke,Ie,Ze,vt,Lt,fn,Gn,xr,jr,ao,hr,Yr,no,ko,Or,Wo,Ni,Xu=Ou(Fo("data",Q,K)),bc=mo(),Bo=x.shared.header.isPositionedAtTop(),gs=(ue={dataValidator:Q,initialData:Xu,internalDialog:G},de={redial:Zw.redial,closeWindow:function(){bc.on(ca.hide),S.off("ResizeEditor",L),bc.clear(),q(gs.instanceApi)}},Re=x,xe=j,xr=un("dialog-label"),jr=un("dialog-content"),ao=Zr((Ie={title:ue.internalDialog.title,draggable:!0},Ze=xr,vt=Re.shared.providers,bu.sketch({dom:Pm('<div class="tox-dialog__header"></div>'),components:[Hk(Ie,N.some(Ze),vt),LA(),FE(vt)],containerBehaviours:Tt([T1.config({mode:"mouse",blockerClass:"blocker",getTarget:function(io){return Qs(io,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),hr=Zr((Lt={body:ue.internalDialog.body},fn=Re,Gn=xe,pE(Lt,N.some(jr),fn,Gn))),Yr=HA(ue.internalDialog.buttons),no=$A(Yr),ko=Zr(XA({buttons:Yr},Re)),Or=rC(function(){return Ni},{onBlock:function(io){Fm.block(Wo,function(At,Xn){return $k(io.message,Xn,Re.shared.providers)})},onUnblock:function(){Fm.unblock(Wo)},onClose:function(){return de.closeWindow()}},Re.shared.getSink),Wo=Uu({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:((ze={role:"dialog"})["aria-labelledby"]=xr,ze["aria-describedby"]=jr,ze)},eventOrder:((Ke={})[Rd()]=[Vs.name(),au.name()],Ke[Ec()]=["execute-on-form"],Ke[Dv()]=["reflecting","execute-on-form"],Ke),behaviours:Tt([Sn.config({mode:"cyclic",onEscape:function(io){return z(io,ih),N.some(!0)},useTabstopAt:function(io){return!m1(io)&&(da(io)!=="button"||fe(io,"disabled")!=="disabled")}}),Vs.config({channel:kh,updateState:function(io,At){return N.some(At)},initialData:ue}),Hn.config({}),rr("execute-on-form",Or.concat([Xm($f(),function(io,At){Sn.focusIn(io)})])),Fm.config({getRoot:function(){return N.some(Wo)}}),qn.config({}),US({})]),components:[ao.asSpec(),hr.asSpec(),ko.asSpec()]}),Ni=jA({getRoot:ke(Wo),getFooter:function(){return ko.get(Wo)},getBody:function(){return hr.get(Wo)},getFormWrapper:function(){var io=hr.get(Wo);return wr.getCurrent(io).getOr(io)}},de.redial,no),{dialog:Wo,instanceApi:Ni}),Ma=Uu(ca.sketch(me(me({lazySink:x.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Bo?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Tt(On([rr("window-manager-inline-events",[Pe(fi(),function(io,At){z(gs.dialog,ud)})])],(Y=S,T&&Bo?[]:[So.config({contextual:{lazyContext:function(){return N.some(cn(gt.fromDom(Y.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]),!0)),isExtraPart:function(io,At){return n1(Xn=At,".tox-alert-dialog")||n1(Xn,".tox-confirm-dialog");var Xn}})));return bc.set(Ma),ca.showWithin(Ma,mu(gs.dialog),{anchor:F},N.some(P())),T&&Bo||(So.refresh(Ma),S.on("ResizeEditor",L)),gs.instanceApi.setData(Xu),Sn.focusIn(gs.dialog),gs.instanceApi},M)}var f,d,g,b,x=n.backstage,S=n.editor,T=lb(S),A=(d=(f=n).backstage.shared,{open:function(M,F){function q(){qi.hide(Q),F()}var j=Zr($o({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:N.none()},"cancel",f.backstage)),G=PA(),K=PE(q,d.providers),Q=Uu(zE({lazySink:function(){return d.getSink()},header:MA(G,K),body:zA(M,d.providers),footer:N.some(FA(IA([],[j.asSpec()]))),onEscape:q,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Pe(ud,q)],eventOrder:{}}));qi.show(Q);var L=j.get(Q);Hn.focus(L)}}),R=(b=(g=n).backstage.shared,{open:function(M,F){function q(ue){qi.hide(L),F(ue)}var j=Zr($o({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:N.none()},"submit",g.backstage)),G=$o({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:N.none()},"cancel",g.backstage),K=PA(),Q=PE(function(){return q(!1)},b.providers),L=Uu(zE({lazySink:function(){return b.getSink()},header:MA(K,Q),body:zA(M,b.providers),footer:N.some(FA(IA([],[G,j.asSpec()]))),onEscape:function(){return q(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Pe(ud,function(){return q(!1)}),Pe(a1,function(){return q(!0)})],eventOrder:{}}));qi.show(L);var Y=j.get(L);Hn.focus(Y)}});return{open:function(M,F,q){return F!==void 0&&F.inline==="toolbar"?u(M,x.shared.anchors.inlineDialog(),q,F.ariaAttrs):F!==void 0&&F.inline==="cursor"?u(M,x.shared.anchors.cursor(),q,F.ariaAttrs):o(M,q)},openUrl:function(M,F){return q=F,Zw.openUrl(function(j){var G=$E(j,{closeWindow:function(){qi.hide(G.dialog),q(G.instanceApi)}},S,x);return qi.show(G.dialog),G.instanceApi},M);var q},alert:function(M,F){A.open(M,function(){F()})},close:function(M){M.close()},confirm:function(M,F){R.open(M,function(q){F(q)})}}}var GA=function n(o){function u(Ne){return n(Ne)}var f=0<arguments.length&&o!==void 0?o:typeof window>"u"?null:window;if(u.version="2.3.8",u.removed=[],!f||!f.document||f.document.nodeType!==9)return u.isSupported=!1,u;var d,g=f.document,b=f.document,x=f.DocumentFragment,S=f.HTMLTemplateElement,T=f.Node,A=f.Element,R=f.NodeFilter,M=f.NamedNodeMap,F=M===void 0?f.NamedNodeMap||f.MozNamedAttrMap:M,q=f.HTMLFormElement,j=f.DOMParser,G=f.trustedTypes,K=A.prototype,Q=zk(K,"cloneNode"),L=zk(K,"nextSibling"),Y=zk(K,"childNodes"),ue=zk(K,"parentNode");typeof S!="function"||(d=b.createElement("template")).content&&d.content.ownerDocument&&(b=d.content.ownerDocument);var de=function(Ne,ar){if(Gb(Ne)!=="object"||typeof Ne.createPolicy!="function")return null;var Yn=null,Ju="data-tt-policy-suffix",su="dompurify"+((Yn=ar.currentScript&&ar.currentScript.hasAttribute(Ju)?ar.currentScript.getAttribute(Ju):Yn)?"#"+Yn:"");try{return Ne.createPolicy(su,{createHTML:function(Pu){return Pu}})}catch{return console.warn("TrustedTypes policy "+su+" could not be created."),null}}(G,g),Re=de?de.createHTML(""):"",xe=b,ze=xe.implementation,Ke=xe.createNodeIterator,Ie=xe.createDocumentFragment,Ze=xe.getElementsByTagName,vt=g.importNode,Lt={};try{Lt=Th(b).documentMode?b.documentMode:{}}catch{}var fn={};function Gn(Ne){return Ne instanceof RegExp||Ne instanceof Function}function xr(Ne){Cv&&Cv===Ne||(Ne=Th(Ne=Ne&&Gb(Ne)==="object"?Ne:{}),Bo="ALLOWED_TAGS"in Ne?_o({},Ne.ALLOWED_TAGS):gs,Ma="ALLOWED_ATTR"in Ne?_o({},Ne.ALLOWED_ATTR):io,Um="ADD_URI_SAFE_ATTR"in Ne?_o(Th(B1),Ne.ADD_URI_SAFE_ATTR):B1,yv="ADD_DATA_URI_TAGS"in Ne?_o(Th(wv),Ne.ADD_DATA_URI_TAGS):wv,Yu="FORBID_CONTENTS"in Ne?_o({},Ne.FORBID_CONTENTS):_f,Xn="FORBID_TAGS"in Ne?_o({},Ne.FORBID_TAGS):{},co="FORBID_ATTR"in Ne?_o({},Ne.FORBID_ATTR):{},jr="USE_PROFILES"in Ne&&Ne.USE_PROFILES,No=Ne.ALLOW_ARIA_ATTR!==!1,Xo=Ne.ALLOW_DATA_ATTR!==!1,yc=Ne.ALLOW_UNKNOWN_PROTOCOLS||!1,xi=Ne.SAFE_FOR_TEMPLATES||!1,Si=Ne.WHOLE_DOCUMENT||!1,Gi=Ne.RETURN_DOM||!1,Mi=Ne.RETURN_DOM_FRAGMENT||!1,Pi=Ne.RETURN_TRUSTED_TYPE||!1,cu=Ne.FORCE_BODY||!1,vl=Ne.SANITIZE_DOM!==!1,vr=Ne.KEEP_CONTENT!==!1,wc=Ne.IN_PLACE||!1,bc=Ne.ALLOWED_URI_REGEXP||bc,Jb=Ne.NAMESPACE||bd,Ne.CUSTOM_ELEMENT_HANDLING&&Gn(Ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(At.tagNameCheck=Ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ne.CUSTOM_ELEMENT_HANDLING&&Gn(Ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(At.attributeNameCheck=Ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ne.CUSTOM_ELEMENT_HANDLING&&typeof Ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(At.allowCustomizedBuiltInElements=Ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ao=Bf.indexOf(Ne.PARSER_MEDIA_TYPE)===-1?"text/html":Ne.PARSER_MEDIA_TYPE,hr=ao==="application/xhtml+xml"?function(ar){return ar}:D1,xi&&(Xo=!1),Mi&&(Gi=!0),jr&&(Bo=_o({},pv(Ik)),Ma=[],jr.html===!0&&(_o(Bo,bv),_o(Ma,NE)),jr.svg===!0&&(_o(Bo,Xb),_o(Ma,R1),_o(Ma,Lk)),jr.svgFilters===!0&&(_o(Bo,BE),_o(Ma,R1),_o(Ma,Lk)),jr.mathMl===!0&&(_o(Bo,Fk),_o(Ma,Yb),_o(Ma,Lk))),Ne.ADD_TAGS&&_o(Bo=Bo===gs?Th(Bo):Bo,Ne.ADD_TAGS),Ne.ADD_ATTR&&_o(Ma=Ma===io?Th(Ma):Ma,Ne.ADD_ATTR),Ne.ADD_URI_SAFE_ATTR&&_o(Um,Ne.ADD_URI_SAFE_ATTR),Ne.FORBID_CONTENTS&&_o(Yu=Yu===_f?Th(Yu):Yu,Ne.FORBID_CONTENTS),vr&&(Bo["#text"]=!0),Si&&_o(Bo,["html","head","body"]),Bo.table&&(_o(Bo,["tbody"]),delete Xn.tbody),Us&&Us(Ne),Cv=Ne)}u.isSupported=typeof ue=="function"&&ze&&ze.createHTMLDocument!==void 0&&Lt!==9;var jr,ao,hr,Yr,no=N_,ko=M_,Or=P_,Wo=z_,Ni=I_,Xu=ME,bc=F_,Bo=null,gs=_o({},[].concat(pv(bv),pv(Xb),pv(BE),pv(Fk),pv(Ik))),Ma=null,io=_o({},[].concat(pv(NE),pv(R1),pv(Yb),pv(Lk))),At=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xn=null,co=null,No=!0,Xo=!0,yc=!1,xi=!1,Si=!1,Mu=!1,cu=!1,Gi=!1,Mi=!1,Pi=!1,vl=!0,vr=!0,wc=!1,Yu=null,_f=_o({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),yv=null,wv=_o({},["audio","video","img","source","image","track"]),Um=null,B1=_o({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),N1="http://www.w3.org/1998/Math/MathML",oC="http://www.w3.org/2000/svg",bd="http://www.w3.org/1999/xhtml",Jb=bd,Bf=["application/xhtml+xml","text/html"],Cv=null,Wk=b.createElement("form"),Qb=_o({},["mi","mo","mn","ms","mtext"]),Sr=_o({},["foreignobject","desc","title","annotation-xml"]),Zb=_o({},["title","style","font","a","script"]),aC=_o({},Xb);_o(aC,BE),_o(aC,B_);var jk=_o({},Fk);function Wm(Ne){Kb(u.removed,{element:Ne});try{Ne.parentNode.removeChild(Ne)}catch{try{Ne.outerHTML=Re}catch{Ne.remove()}}}function YA(Ne,ar){try{Kb(u.removed,{attribute:ar.getAttributeNode(Ne),from:ar})}catch{Kb(u.removed,{attribute:null,from:ar})}if(ar.removeAttribute(Ne),Ne==="is"&&!Ma[Ne])if(Gi||Mi)try{Wm(ar)}catch{}else try{ar.setAttribute(Ne,"")}catch{}}function JA(Ne){var ar,Yn,Ju;cu?Ne="<remove></remove>"+Ne:Ju=(Yn=RE(Ne,/^[\r\n\t ]+/))&&Yn[0],ao==="application/xhtml+xml"&&(Ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ne+"</body></html>");var su=de?de.createHTML(Ne):Ne;if(Jb===bd)try{ar=new j().parseFromString(su,ao)}catch{}if(!ar||!ar.documentElement){ar=ze.createDocument(Jb,"template",null);try{ar.documentElement.innerHTML=Yr?"":su}catch{}}var Pu=ar.body||ar.documentElement;return Ne&&Ju&&Pu.insertBefore(b.createTextNode(Ju),Pu.childNodes[0]||null),Jb===bd?Ze.call(ar,Si?"html":"body")[0]:Si?ar.documentElement:Pu}function QA(Ne){return Ke.call(Ne.ownerDocument||Ne,Ne,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null,!1)}function ey(Ne){return Gb(T)==="object"?Ne instanceof T:Ne&&Gb(Ne)==="object"&&typeof Ne.nodeType=="number"&&typeof Ne.nodeName=="string"}function jm(Ne,ar,Yn){fn[Ne]&&hd(fn[Ne],function(Ju){Ju.call(u,ar,Yn,Cv)})}function ZA(Ne){var ar;if(jm("beforeSanitizeElements",Ne,null),Ne instanceof q&&(typeof Ne.nodeName!="string"||typeof Ne.textContent!="string"||typeof Ne.removeChild!="function"||!(Ne.attributes instanceof F)||typeof Ne.removeAttribute!="function"||typeof Ne.setAttribute!="function"||typeof Ne.namespaceURI!="string"||typeof Ne.insertBefore!="function")||Ws(/[\u0080-\uFFFF]/,Ne.nodeName))return Wm(Ne),1;var Yn=hr(Ne.nodeName);if(jm("uponSanitizeElement",Ne,{tagName:Yn,allowedTags:Bo}),Ne.hasChildNodes()&&!ey(Ne.firstElementChild)&&(!ey(Ne.content)||!ey(Ne.content.firstElementChild))&&Ws(/<[/\w]/g,Ne.innerHTML)&&Ws(/<[/\w]/g,Ne.textContent)||Yn==="select"&&Ws(/<template/i,Ne.innerHTML))return Wm(Ne),1;if(Bo[Yn]&&!Xn[Yn])return Ne instanceof A&&!function(Zc){var Ki=ue(Zc);Ki&&Ki.tagName||(Ki={namespaceURI:bd,tagName:"template"});var dl=D1(Zc.tagName),js=D1(Ki.tagName);return Zc.namespaceURI===oC?Ki.namespaceURI===bd?dl==="svg":Ki.namespaceURI===N1?dl==="svg"&&(js==="annotation-xml"||Qb[js]):Boolean(aC[dl]):Zc.namespaceURI===N1?Ki.namespaceURI===bd?dl==="math":Ki.namespaceURI===oC?dl==="math"&&Sr[js]:Boolean(jk[dl]):Zc.namespaceURI===bd&&(Ki.namespaceURI!==oC||Sr[js])&&(Ki.namespaceURI!==N1||Qb[js])&&!jk[dl]&&(Zb[dl]||!aC[dl])}(Ne)||(Yn==="noscript"||Yn==="noembed")&&Ws(/<\/no(script|embed)/i,Ne.innerHTML)?(Wm(Ne),1):(xi&&Ne.nodeType===3&&(ar=Ne.textContent,ar=Eh(ar,no," "),ar=Eh(ar,ko," "),Ne.textContent!==ar&&(Kb(u.removed,{element:Ne.cloneNode()}),Ne.textContent=ar)),jm("afterSanitizeElements",Ne,null),0);if(!(!Xn[Yn]&&nD(Yn)&&(At.tagNameCheck instanceof RegExp&&Ws(At.tagNameCheck,Yn)||At.tagNameCheck instanceof Function&&At.tagNameCheck(Yn)))){if(vr&&!Yu[Yn]){var Ju=ue(Ne)||Ne.parentNode,su=Y(Ne)||Ne.childNodes;if(su&&Ju)for(var Pu=su.length-1;0<=Pu;--Pu)Ju.insertBefore(Q(su[Pu],!0),L(Ne))}return Wm(Ne),1}}function eD(Ne,ar,Yn){if(vl&&(ar==="id"||ar==="name")&&(Yn in b||Yn in Wk))return!1;if((!Xo||co[ar]||!Ws(Or,ar))&&(!No||!Ws(Wo,ar))){if(!Ma[ar]||co[ar]){if(!(nD(Ne)&&(At.tagNameCheck instanceof RegExp&&Ws(At.tagNameCheck,Ne)||At.tagNameCheck instanceof Function&&At.tagNameCheck(Ne))&&(At.attributeNameCheck instanceof RegExp&&Ws(At.attributeNameCheck,ar)||At.attributeNameCheck instanceof Function&&At.attributeNameCheck(ar))||ar==="is"&&At.allowCustomizedBuiltInElements&&(At.tagNameCheck instanceof RegExp&&Ws(At.tagNameCheck,Yn)||At.tagNameCheck instanceof Function&&At.tagNameCheck(Yn))))return!1}else if(!Um[ar]&&!Ws(bc,Eh(Yn,Xu,""))&&(ar!=="src"&&ar!=="xlink:href"&&ar!=="href"||Ne==="script"||R_(Yn,"data:")!==0||!yv[Ne])&&(!yc||Ws(Ni,Eh(Yn,Xu,"")))&&Yn)return!1}return!0}function tD(Ne){jm("beforeSanitizeAttributes",Ne,null);var ar=Ne.attributes;if(ar){for(var Yn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ma},Ju=ar.length;Ju--;){var su,Pu=(su=ar[Ju]).name,Zc=su.namespaceURI,Ki=Pu==="value"?su.value:__(su.value),dl=hr(Pu);if(Yn.attrName=dl,Yn.attrValue=Ki,Yn.keepAttr=!0,Yn.forceKeepAttr=void 0,jm("uponSanitizeAttribute",Ne,Yn),Ki=Yn.attrValue,!Yn.forceKeepAttr&&(YA(Pu,Ne),Yn.keepAttr)){if(Ws(/\/>/i,Ki))YA(Pu,Ne);else if(xi&&(Ki=Eh(Ki,no," "),Ki=Eh(Ki,ko," ")),eD(hr(Ne.nodeName),dl,Ki))try{Zc?Ne.setAttributeNS(Zc,Pu,Ki):Ne.setAttribute(Pu,Ki),Pk(u.removed)}catch{}}}jm("afterSanitizeAttributes",Ne,null)}}_o(jk,NA);var nD=function(Ne){return 0<Ne.indexOf("-")};return u.sanitize=function(Ne,ar){var Yn,Ju,su,Pu,Zc;if(typeof(Ne=(Yr=!Ne)?"<!-->":Ne)!="string"&&!ey(Ne)){if(typeof Ne.toString!="function")throw _E("toString is not a function");if(typeof(Ne=Ne.toString())!="string")throw _E("dirty is not a string, aborting")}if(!u.isSupported){if(Gb(f.toStaticHTML)==="object"||typeof f.toStaticHTML=="function"){if(typeof Ne=="string")return f.toStaticHTML(Ne);if(ey(Ne))return f.toStaticHTML(Ne.outerHTML)}return Ne}if(Mu||xr(ar),u.removed=[],wc=typeof Ne!="string"&&wc){if(Ne.nodeName){var Ki=hr(Ne.nodeName);if(!Bo[Ki]||Xn[Ki])throw _E("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof T)(Ju=(Yn=JA("<!---->")).ownerDocument.importNode(Ne,!0)).nodeType===1&&Ju.nodeName==="BODY"||Ju.nodeName==="HTML"?Yn=Ju:Yn.appendChild(Ju);else{if(!Gi&&!xi&&!Si&&Ne.indexOf("<")===-1)return de&&Pi?de.createHTML(Ne):Ne;if(!(Yn=JA(Ne)))return Gi?null:Pi?Re:""}Yn&&cu&&Wm(Yn.firstChild);for(var dl=QA(wc?Ne:Yn);su=dl.nextNode();)su.nodeType===3&&su===Pu||ZA(su)||(su.content instanceof x&&function H_(UE){var ty,rD=QA(UE);for(jm("beforeSanitizeShadowDOM",UE,null);ty=rD.nextNode();)jm("uponSanitizeShadowNode",ty,null),ZA(ty)||(ty.content instanceof x&&H_(ty.content),tD(ty));jm("afterSanitizeShadowDOM",UE,null)}(su.content),tD(su),Pu=su);if(Pu=null,wc)return Ne;if(Gi){if(Mi)for(Zc=Ie.call(Yn.ownerDocument);Yn.firstChild;)Zc.appendChild(Yn.firstChild);else Zc=Yn;return Ma.shadowroot?vt.call(g,Zc,!0):Zc}var js=Si?Yn.outerHTML:Yn.innerHTML;return Si&&Bo["!doctype"]&&Yn.ownerDocument&&Yn.ownerDocument.doctype&&Yn.ownerDocument.doctype.name&&Ws(_1,Yn.ownerDocument.doctype.name)&&(js="<!DOCTYPE "+Yn.ownerDocument.doctype.name+`>
`+js),xi&&(js=Eh(js,no," "),js=Eh(js,ko," ")),de&&Pi?de.createHTML(js):js},u.setConfig=function(Ne){xr(Ne),Mu=!0},u.clearConfig=function(){Cv=null,Mu=!1},u.isValidAttribute=function(Ne,ar,Yn){return Cv||xr({}),eD(hr(Ne),hr(ar),Yn)},u.addHook=function(Ne,ar){typeof ar=="function"&&(fn[Ne]=fn[Ne]||[],Kb(fn[Ne],ar))},u.removeHook=function(Ne){if(fn[Ne])return Pk(fn[Ne])},u.removeHooks=function(Ne){fn[Ne]&&(fn[Ne]=[])},u.removeAllHooks=function(){fn={}},u}(),VE=xm.deviceType.isTouch(),KA=function(n,o){function u(f,d){return Pe(f,function(g,b){var x,S;x=g,S=function(T,A){d(n(),T,b.event,g)},Vs.getState(x).get().each(function(T){S(T,x)})})}return On(On([],nC(u,o),!0),[u(xf,function(f,d,g){d.onAction(f,{name:g.name})})],!1)},rC=function(n,o,u){function f(d,g){return Pe(d,function(b,x){var S,T;S=b,T=function(A,R){g(n(),A,x.event,b)},Vs.getState(S).get().each(function(A){T(A.internalDialog,S)})})}return On(On([],nC(f,o),!0),[f(a1,function(d,g){return g.onSubmit(d)}),f(Bu,function(d,g,b){g.onChange(d,{name:b.name})}),f(xf,function(d,g,b,x){function S(){return Sn.focusIn(x)}function T(M){return Xe(M,"disabled")||_e(M,"aria-disabled").exists(function(F){return F==="true"})}var A=Hi(x.element),R=Wf(A);g.onAction(d,{name:b.name,value:b.value}),Wf(A).fold(S,function(M){T(M)||R.exists(function(F){return Oa(M,F)&&T(F)})?S():u().toOptional().filter(function(F){return!Oa(F.element,M)}).each(S)})}),f(u1,function(d,g,b){g.onTabChange(d,{newTabName:b.name,oldTabName:b.oldName})}),Bs(function(d){var g=n();Pt.setValue(d,g.getData())})],!1)},XA=UA,Uk=tinymce.util.Tools.resolve("tinymce.util.URI"),L_=["insertContent","setContent","execCommand","close","block","unblock"];Wt.add("silver",function(n){var o=aA(n),u=o.uiMothership,f=o.backstage,d=o.renderUI,g=o.getUi;return pS(n,f.shared),{renderUI:d,getWindowManagerImpl:ke(qA({editor:n,backstage:f})),getNotificationManagerImpl:function(){return b=n,x=u,S=f.shared,{open:function(T,A){function R(){A(),ca.hide(q)}var M=!T.closeButton&&T.timeout&&(0<T.timeout||T.timeout<0),F=Uu(k2.sketch({text:T.text,level:pn(["success","error","warning","warn","info"],T.type)?T.type:void 0,progress:T.progressBar===!0,icon:N.from(T.icon),closeButton:!M,onAction:R,iconProvider:S.providers.icons,translationProvider:S.providers.translate})),q=Uu(ca.sketch(me({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:S.getSink,fireDismissalEventInstead:{}},S.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));function j(){var G=cn(gt.fromDom(b.getContentAreaContainer())),K=Vr(),Q=Hc(K.x,G.x,G.right),L=Hc(K.y,G.y,G.bottom),Y=Math.max(G.right,K.right),ue=Math.max(G.bottom,K.bottom);return N.some(dn(Q,L,Y-Q,ue-L))}return x.add(q),0<T.timeout&&Jv.setTimeout(function(){R()},T.timeout),{close:R,moveTo:function(G,K){ca.showAt(q,mu(F),{anchor:{type:"makeshift",x:G,y:K}})},moveRel:function(G,K){var Q,L,Y,ue=mu(F),de={maxHeightFunction:tp()};K!=="banner"&&Gt(G)?(Q=function(){switch(K){case"bc-bc":return Ig;case"tc-tc":return _l;case"tc-bc":return Ro;default:return Ba}}(),L={type:"node",root:P(),node:N.some(gt.fromDom(G)),overrides:de,layouts:{onRtl:function(){return[Q]},onLtr:function(){return[Q]}}},ca.showWithinBounds(q,ue,{anchor:L},j)):(Y=me(me({},S.anchors.banner()),{overrides:de}),ca.showWithinBounds(q,ue,{anchor:Y},j))},text:function(G){k2.updateText(F,G)},settings:T,getEl:function(){return F.element.dom},progressBar:{value:function(G){k2.updateProgress(F,G)}}}},close:function(T){T.close()},reposition:function(T){0<T.length&&Yt(T,function(A,R){R===0?A.moveRel(null,"banner"):A.moveRel(T[R-1].getEl(),"bc-tc")})},getArgs:function(T){return T.settings}};var b,x,S},ui:g()}})})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager"),lr=function(){return lr=Object.assign||function(k){for(var w,D=1,W=arguments.length;D<W;D++){w=arguments[D];for(var te in w)Object.prototype.hasOwnProperty.call(w,te)&&(k[te]=w[te])}return k},lr.apply(this,arguments)},ro=function(P){var k=typeof P;return P===null?"null":k==="object"&&(Array.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="Array")?"array":k==="object"&&(String.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="String")?"string":k},sa=function(P){return function(k){return ro(k)===P}},jo=function(P){return function(k){return typeof k===P}},dt=function(P){return function(k){return P===k}},qr=sa("string"),ke=sa("object"),Nt=sa("array"),zi=dt(null),fr=jo("boolean"),kn=function(P){return P==null},Mr=function(P){return!kn(P)},qo=jo("function"),lt=jo("number"),mr=function(){},Gt=function(P){return function(){return P}},yt=function(P){return P},hn=Gt(!1),Dr=Gt(!0),tr=function(){return Ft},Ft=function(){var P=function(D){return D()},k=yt,w={fold:function(D,W){return D()},isSome:hn,isNone:Dr,getOr:k,getOrThunk:P,getOrDie:function(D){throw new Error(D||"error: getOrDie called on none.")},getOrNull:Gt(null),getOrUndefined:Gt(void 0),or:k,orThunk:P,map:tr,each:mr,bind:tr,exists:hn,forall:Dr,filter:function(){return tr()},toArray:function(){return[]},toString:Gt("none()")};return w}(),Fn=function(P){var k=Gt(P),w=function(){return W},D=function(te){return te(P)},W={fold:function(te,Ce){return Ce(P)},isSome:Dr,isNone:hn,getOr:k,getOrThunk:k,getOrDie:k,getOrNull:k,getOrUndefined:k,or:w,orThunk:w,map:function(te){return Fn(te(P))},each:function(te){te(P)},bind:D,exists:D,forall:D,filter:function(te){return te(P)?W:Ft},toArray:function(){return[P]},toString:function(){return"some("+P+")"}};return W},Zt=function(P){return P==null?Ft:Fn(P)},Wt={some:Fn,none:tr,from:Zt},me=Object.keys,en=Object.hasOwnProperty,On=function(P,k){for(var w=me(P),D=0,W=w.length;D<W;D++){var te=w[D],Ce=P[te];k(Ce,te)}},Ca=function(P){return function(k,w){P[w]=k}},oe=function(P,k,w,D){var W={};return On(P,function(te,Ce){(k(te,Ce)?w:D)(te,Ce)}),W},ho=function(P,k){var w={};return oe(P,k,Ca(w),mr),w},Ka=function(P,k){return en.call(P,k)},Ct=function(P,k){return Ka(P,k)&&P[k]!==void 0&&P[k]!==null},la=Array.prototype.push,Hr=function(P){for(var k=[],w=0,D=P.length;w<D;++w){if(!Nt(P[w]))throw new Error("Arr.flatten item "+w+" was not an array, input: "+P);la.apply(k,P[w])}return k},ot=function(P,k){return k>=0&&k<P.length?Wt.some(P[k]):Wt.none()},Eo=function(P){return ot(P,0)},Je=function(P,k){for(var w=0;w<P.length;w++){var D=k(P[w],w);if(D.isSome())return D}return Wt.none()};typeof window<"u"||Function("return this;")();var zt=function(P,k,w){if(qr(w)||fr(w)||lt(w))P.setAttribute(k,w+"");else throw console.error("Invalid call to Attribute.set. Key ",k,":: Value ",w,":: Element ",P),new Error("Attribute value was not simple")},Jr=function(P,k,w){zt(P.dom,k,w)},Rr=function(P,k){P.dom.removeAttribute(k)},Gr=function(P,k){var w=k||document,D=w.createElement("div");if(D.innerHTML=P,!D.hasChildNodes()||D.childNodes.length>1)throw console.error("HTML does not have a single root node",P),new Error("HTML must have a single root node");return Go(D.childNodes[0])},br=function(P,k){var w=k||document,D=w.createElement(P);return Go(D)},ee=function(P,k){var w=k||document,D=w.createTextNode(P);return Go(D)},Go=function(P){if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},Mo=function(P,k,w){return Wt.from(P.dom.elementFromPoint(k,w)).map(Go)},Kr={fromHtml:Gr,fromTag:br,fromText:ee,fromDom:Go,fromPoint:Mo},Pa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),it=tinymce.util.Tools.resolve("tinymce.util.Promise"),Et=tinymce.util.Tools.resolve("tinymce.util.URI"),Ot=tinymce.util.Tools.resolve("tinymce.util.XHR"),Vt=function(P){return P.getParam("image_dimensions",!0,"boolean")},tt=function(P){return P.getParam("image_advtab",!1,"boolean")},En=function(P){return P.getParam("image_uploadtab",!0,"boolean")},Vn=function(P){return P.getParam("image_prepend_url","","string")},tn=function(P){return P.getParam("image_class_list")},xa=function(P){return P.getParam("image_description",!0,"boolean")},eo=function(P){return P.getParam("image_title",!1,"boolean")},mn=function(P){return P.getParam("image_caption",!1,"boolean")},Ut=function(P){return P.getParam("image_list",!1)},To=function(P){return Mr(P.getParam("images_upload_url"))},Sa=function(P){return Mr(P.getParam("images_upload_handler"))},ka=function(P){return P.getParam("a11y_advanced_options",!1,"boolean")},ri=function(P){return P.getParam("automatic_uploads",!0,"boolean")},Fi=function(P,k){return Math.max(parseInt(P,10),parseInt(k,10))},Oo=function(P){return new it(function(k){var w=document.createElement("img"),D=function(te){w.onload=w.onerror=null,w.parentNode&&w.parentNode.removeChild(w),k(te)};w.onload=function(){var te=Fi(w.width,w.clientWidth),Ce=Fi(w.height,w.clientHeight),Ye={width:te,height:Ce};D(it.resolve(Ye))},w.onerror=function(){D(it.reject("Failed to get image dimensions for: "+P))};var W=w.style;W.visibility="hidden",W.position="fixed",W.bottom=W.left="0px",W.width=W.height="auto",document.body.appendChild(w),w.src=P})},fa=function(P){return P&&(P=P.replace(/px$/,"")),P},Ao=function(P){return P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P},Ea=function(P){if(P.margin){var k=String(P.margin).split(" ");switch(k.length){case 1:P["margin-top"]=P["margin-top"]||k[0],P["margin-right"]=P["margin-right"]||k[0],P["margin-bottom"]=P["margin-bottom"]||k[0],P["margin-left"]=P["margin-left"]||k[0];break;case 2:P["margin-top"]=P["margin-top"]||k[0],P["margin-right"]=P["margin-right"]||k[1],P["margin-bottom"]=P["margin-bottom"]||k[0],P["margin-left"]=P["margin-left"]||k[1];break;case 3:P["margin-top"]=P["margin-top"]||k[0],P["margin-right"]=P["margin-right"]||k[1],P["margin-bottom"]=P["margin-bottom"]||k[2],P["margin-left"]=P["margin-left"]||k[1];break;case 4:P["margin-top"]=P["margin-top"]||k[0],P["margin-right"]=P["margin-right"]||k[1],P["margin-bottom"]=P["margin-bottom"]||k[2],P["margin-left"]=P["margin-left"]||k[3]}delete P.margin}return P},Vo=function(P,k){var w=Ut(P);qr(w)?Ot.send({url:w,success:function(D){k(JSON.parse(D))}}):qo(w)?w(k):k(w)},Ta=function(P,k,w){var D=function(){w.onload=w.onerror=null,P.selection&&(P.selection.select(w),P.nodeChanged())};w.onload=function(){!k.width&&!k.height&&Vt(P)&&P.dom.setAttribs(w,{width:String(w.clientWidth),height:String(w.clientHeight)}),D()},w.onerror=D},N=function(P){return new it(function(k,w){var D=new FileReader;D.onload=function(){k(D.result)},D.onerror=function(){w(D.error.message)},D.readAsDataURL(P)})},va=function(P){return P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder"))},Xa=function(P,k){return Et.isDomSafe(k,"img",P.settings)},lo=Pa.DOM,pn=function(P){return P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?fa(P.style.marginLeft):""},Yt=function(P){return P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?fa(P.style.marginTop):""},za=function(P){return P.style.borderWidth?fa(P.style.borderWidth):""},Pr=function(P,k){return P.hasAttribute(k)?P.getAttribute(k):""},Cu=function(P,k){return P.style[k]?P.style[k]:""},Ii=function(P){return P.parentNode!==null&&P.parentNode.nodeName==="FIGURE"},Jn=function(P,k,w){w===""?P.removeAttribute(k):P.setAttribute(k,w)},xu=function(P){var k=lo.create("figure",{class:"image"});lo.insertAfter(k,P),k.appendChild(P),k.appendChild(lo.create("figcaption",{contentEditable:"true"},"Caption")),k.contentEditable="false"},Su=function(P){var k=P.parentNode;lo.insertAfter(P,k),lo.remove(k)},_r=function(P){Ii(P)?Su(P):xu(P)},Un=function(P,k){var w=P.getAttribute("style"),D=k(w!==null?w:"");D.length>0?(P.setAttribute("style",D),P.setAttribute("data-mce-style",D)):P.removeAttribute("style")},gt=function(P,k){return function(w,D,W){w.style[D]?(w.style[D]=Ao(W),Un(w,k)):Jn(w,D,W)}},da=function(P,k){return P.style[k]?fa(P.style[k]):Pr(P,k)},na=function(P,k){var w=Ao(k);P.style.marginLeft=w,P.style.marginRight=w},Po=function(P,k){var w=Ao(k);P.style.marginTop=w,P.style.marginBottom=w},Fa=function(P,k){var w=Ao(k);P.style.borderWidth=w},ra=function(P,k){P.style.borderStyle=k},oi=function(P){return Cu(P,"borderStyle")},oa=function(P){return P.nodeName==="FIGURE"},ki=function(P){return P.nodeName==="IMG"},or=function(P){return lo.getAttrib(P,"alt").length===0&&lo.getAttrib(P,"role")==="presentation"},Oa=function(P){return or(P)?"":Pr(P,"alt")},Jt=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Li=function(P,k){var w=document.createElement("img");return Jn(w,"style",k.style),(pn(w)||k.hspace!=="")&&na(w,k.hspace),(Yt(w)||k.vspace!=="")&&Po(w,k.vspace),(za(w)||k.border!=="")&&Fa(w,k.border),(oi(w)||k.borderStyle!=="")&&ra(w,k.borderStyle),P(w.getAttribute("style"))},Aa=function(P,k){var w=document.createElement("img");if(Lu(P,lr(lr({},k),{caption:!1}),w),ku(w,k.alt,k.isDecorative),k.caption){var D=lo.create("figure",{class:"image"});return D.appendChild(w),D.appendChild(lo.create("figcaption",{contentEditable:"true"},"Caption")),D.contentEditable="false",D}else return w},Ya=function(P,k){return{src:Pr(k,"src"),alt:Oa(k),title:Pr(k,"title"),width:da(k,"width"),height:da(k,"height"),class:Pr(k,"class"),style:P(Pr(k,"style")),caption:Ii(k),hspace:pn(k),vspace:Yt(k),border:za(k),borderStyle:Cu(k,"borderStyle"),isDecorative:or(k)}},Xr=function(P,k,w,D,W){w[D]!==k[D]&&W(P,D,w[D])},ku=function(P,k,w){if(w){lo.setAttrib(P,"role","presentation");var D=Kr.fromDom(P);Jr(D,"alt","")}else{if(zi(k)){var D=Kr.fromDom(P);Rr(D,"alt")}else{var D=Kr.fromDom(P);Jr(D,"alt",k)}lo.getAttrib(P,"role")==="presentation"&&lo.setAttrib(P,"role","")}},ma=function(P,k,w){(w.alt!==k.alt||w.isDecorative!==k.isDecorative)&&ku(P,w.alt,w.isDecorative)},ai=function(P,k){return function(w,D,W){P(w,W),Un(w,k)}},Lu=function(P,k,w){var D=Ya(P,w);Xr(w,D,k,"caption",function(W,te,Ce){return _r(W)}),Xr(w,D,k,"src",Jn),Xr(w,D,k,"title",Jn),Xr(w,D,k,"width",gt("width",P)),Xr(w,D,k,"height",gt("height",P)),Xr(w,D,k,"class",Jn),Xr(w,D,k,"style",ai(function(W,te){return Jn(W,"style",te)},P)),Xr(w,D,k,"hspace",ai(na,P)),Xr(w,D,k,"vspace",ai(Po,P)),Xr(w,D,k,"border",ai(Fa,P)),Xr(w,D,k,"borderStyle",ai(ra,P)),ma(w,D,k)},le=function(P,k){var w=P.dom.styles.parse(k),D=Ea(w),W=P.dom.styles.parse(P.dom.styles.serialize(D));return P.dom.styles.serialize(W)},ye=function(P){var k=P.selection.getNode(),w=P.dom.getParent(k,"figure.image");return w?P.dom.select("img",w)[0]:k&&(k.nodeName!=="IMG"||va(k))?null:k},Oe=function(P,k){var w=P.dom,D=ho(P.schema.getTextBlockElements(),function(te,Ce){return!P.schema.isValidChild(Ce,"figure")}),W=w.getParent(k.parentNode,function(te){return Ct(D,te.nodeName)},P.getBody());return W?w.split(W,k):k},Me=function(P){var k=ye(P);return k?Ya(function(w){return le(P,w)},k):Jt()},Rt=function(P,k){var w=Aa(function(te){return le(P,te)},k);P.dom.setAttrib(w,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(w.outerHTML);var D=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(D,"data-mce-id",null),oa(D)){var W=Oe(P,D);P.selection.select(W)}else P.selection.select(D)},nt=function(P,k){P.dom.setAttrib(k,"src",k.getAttribute("src"))},re=function(P,k){if(k){var w=P.dom.is(k.parentNode,"figure.image")?k.parentNode:k;P.dom.remove(w),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},fe=function(P,k){var w=ye(P);if(Lu(function(W){return le(P,W)},k,w),nt(P,w),oa(w.parentNode)){var D=w.parentNode;Oe(P,D),P.selection.select(w.parentNode)}else P.selection.select(w),Ta(P,k,w)},_e=function(P,k){var w=k.src;return lr(lr({},k),{src:Xa(P,w)?w:""})},Xe=function(P,k){var w=ye(P);if(w){var D=Ya(function(Ce){return le(P,Ce)},w),W=lr(lr({},D),k),te=_e(P,W);W.src?fe(P,te):re(P,w)}else k.src&&Rt(P,lr(lr({},Jt()),k))},qe=function(P,k){var w=ke(P)&&ke(k);return w?It(P,k):k},Mt=function(P){return function(){for(var k=[],w=0;w<arguments.length;w++)k[w]=arguments[w];if(k.length===0)throw new Error("Can't merge zero objects");for(var D={},W=0;W<k.length;W++){var te=k[W];for(var Ce in te)Ka(te,Ce)&&(D[Ce]=P(D[Ce],te[Ce]))}return D}},It=Mt(qe),pt=function(P){return P.length>0},Mn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Kn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zn=function(P){return qr(P.value)?P.value:""},Bn=function(P){return qr(P.text)?P.text:qr(P.title)?P.title:""},fo=function(P,k){var w=[];return Kn.each(P,function(D){var W=Bn(D);if(D.menu!==void 0){var te=fo(D.menu,k);w.push({text:W,items:te})}else{var Ce=k(D);w.push({text:W,value:Ce})}}),w},Le=function(P){return P===void 0&&(P=Zn),function(k){return k?Wt.from(k).map(function(w){return fo(w,P)}):Wt.none()}},Dn=function(P){return Le(Zn)(P)},to=function(P){return Ka(P,"items")},$r=function(P,k){return Je(P,function(w){return to(w)?$r(w.items,k):w.value===k?Wt.some(w):Wt.none()})},ii=function(P,k){return P.bind(function(w){return $r(w,k)})},ir={sanitizer:Le,sanitize:Dn,findEntry:ii},Xi=function(P){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Qo={makeTab:Xi},ga=function(P){var k=ir.sanitizer(function(zn){return P.convertURL(zn.value||zn.url,"src")}),w=new it(function(zn){Vo(P,function(wo){zn(k(wo).map(function(on){return Hr([[{text:"None",value:""}],on])}))})}),D=ir.sanitize(tn(P)),W=tt(P),te=En(P),Ce=To(P),Ye=Sa(P),nn=Me(P),vn=xa(P),wt=eo(P),Qt=Vt(P),Wn=mn(P),dn=ka(P),cn=ri(P),Vr=Wt.some(Vn(P)).filter(function(zn){return qr(zn)&&zn.length>0});return w.then(function(zn){return{image:nn,imageList:zn,classList:D,hasAdvTab:W,hasUploadTab:te,hasUploadUrl:Ce,hasUploadHandler:Ye,hasDescription:vn,hasImageTitle:wt,hasDimensions:Qt,hasImageCaption:Wn,prependURL:Vr,hasAccessibilityOptions:dn,automaticUploads:cn}})},Cc=function(P){var k={name:"src",type:"urlinput",filetype:"image",label:"Source"},w=P.imageList.map(function(wt){return{name:"images",type:"listbox",label:"Image list",items:wt}}),D={name:"alt",type:"input",label:"Alternative description",disabled:P.hasAccessibilityOptions&&P.image.isDecorative},W={name:"title",type:"input",label:"Image title"},te={name:"dimensions",type:"sizeinput"},Ce={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ye=P.classList.map(function(wt){return{name:"classes",type:"listbox",label:"Class",items:wt}}),nn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},vn=function(wt){return wt?{type:"grid",columns:2}:{type:"panel"}};return Hr([[k],w.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[Ce]:[],P.hasDescription?[D]:[],P.hasImageTitle?[W]:[],P.hasDimensions?[te]:[],[lr(lr({},vn(P.classList.isSome()&&P.hasImageCaption)),{items:Hr([Ye.toArray(),P.hasImageCaption?[nn]:[]])})]])},di=function(P){return{title:"General",name:"general",items:Cc(P)}},mi={makeTab:di,makeItems:Cc},vo=function(P){var k=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:k}},es={makeTab:vo},Zu=function(P){return{prevImage:ir.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}},ec=function(P){return{src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}},bs=function(P,k){return{src:P.src.value,alt:P.alt.length===0&&k?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}},aa=function(P,k){return/^(?:[a-zA-Z]+:)?\/\//.test(k)?Wt.none():P.prependURL.bind(function(w){return k.substring(0,w.length)!==w?Wt.some(w+k):Wt.none()})},Yi=function(P,k){var w=k.getData();aa(P,w.src.value).each(function(D){k.setData({src:{value:D,meta:w.src.meta}})})},ts=function(P,k,w){P.hasDescription&&qr(w.alt)&&(k.alt=w.alt),P.hasAccessibilityOptions&&(k.isDecorative=w.isDecorative||k.isDecorative||!1),P.hasImageTitle&&qr(w.title)&&(k.title=w.title),P.hasDimensions&&(qr(w.width)&&(k.dimensions.width=w.width),qr(w.height)&&(k.dimensions.height=w.height)),qr(w.class)&&ir.findEntry(P.classList,w.class).each(function(D){k.classes=D.value}),P.hasImageCaption&&fr(w.caption)&&(k.caption=w.caption),P.hasAdvTab&&(qr(w.style)&&(k.style=w.style),qr(w.vspace)&&(k.vspace=w.vspace),qr(w.border)&&(k.border=w.border),qr(w.hspace)&&(k.hspace=w.hspace),qr(w.borderstyle)&&(k.borderstyle=w.borderstyle))},Ji=function(P,k){var w=k.getData(),D=w.src.meta;if(D!==void 0){var W=It({},w);ts(P,W,D),k.setData(W)}},Ei=function(P,k,w,D){var W=D.getData(),te=W.src.value,Ce=W.src.meta||{};!Ce.width&&!Ce.height&&k.hasDimensions&&(pt(te)?P.imageSize(te).then(function(Ye){w.open&&D.setData({dimensions:Ye})}).catch(function(Ye){return console.error(Ye)}):D.setData({dimensions:{width:"",height:""}}))},X=function(P,k,w){var D=w.getData(),W=ir.findEntry(P.imageList,D.src.value);k.prevImage=W,w.setData({images:W.map(function(te){return te.value}).getOr("")})},he=function(P,k,w,D){Yi(k,D),Ji(k,D),Ei(P,k,w,D),X(k,w,D)},Ae=function(P,k,w,D){var W=D.getData(),te=ir.findEntry(k.imageList,W.images);te.each(function(Ce){var Ye=W.alt===""||w.prevImage.map(function(nn){return nn.text===W.alt}).getOr(!1);Ye?Ce.value===""?D.setData({src:Ce,alt:w.prevAlt}):D.setData({src:Ce,alt:Ce.text}):D.setData({src:Ce})}),w.prevImage=te,he(P,k,w,D)},Ge=function(P){var k=P["margin-top"]&&P["margin-bottom"]&&P["margin-top"]===P["margin-bottom"];return k?fa(String(P["margin-top"])):""},ut=function(P){var k=P["margin-right"]&&P["margin-left"]&&P["margin-right"]===P["margin-left"];return k?fa(String(P["margin-right"])):""},an=function(P){return P["border-width"]?fa(String(P["border-width"])):""},ur=function(P){return P["border-style"]?String(P["border-style"]):""},kr=function(P,k,w){return k(P(k(w)))},er=function(P,k,w){var D=Ea(P(w.style)),W=It({},w);return W.vspace=Ge(D),W.hspace=ut(D),W.border=an(D),W.borderstyle=ur(D),W.style=kr(P,k,D),W},bo=function(P,k){var w=k.getData(),D=er(P.parseStyle,P.serializeStyle,w);k.setData(D)},yo=function(P,k,w){var D=It(ec(k.image),w.getData()),W=Li(P.normalizeCss,bs(D,!1));w.setData({style:W})},Qi=function(P,k,w,D){var W=D.getData();D.block("Uploading image"),Eo(W.fileinput).fold(function(){D.unblock()},function(te){var Ce=URL.createObjectURL(te),Ye=function(){D.unblock(),URL.revokeObjectURL(Ce)},nn=function(vn){D.setData({src:{value:vn,meta:{}}}),D.showTab("general"),he(P,k,w,D)};N(te).then(function(vn){var wt=P.createBlobCache(te,Ce,vn);k.automaticUploads?P.uploadImage(wt).then(function(Qt){nn(Qt.url),Ye()}).catch(function(Qt){Ye(),P.alertErr(Qt)}):(P.addToBlobCache(wt),nn(wt.blobUri()),D.unblock())})})},Da=function(P,k,w){return function(D,W){W.name==="src"?he(P,k,w,D):W.name==="images"?Ae(P,k,w,D):W.name==="alt"?w.prevAlt=D.getData().alt:W.name==="style"?bo(P,D):W.name==="vspace"||W.name==="hspace"||W.name==="border"||W.name==="borderstyle"?yo(P,k,D):W.name==="fileinput"?Qi(P,k,w,D):W.name==="isDecorative"&&(D.getData().isDecorative?D.disable("alt"):D.enable("alt"))}},Eu=function(P){return function(){P.open=!1}},In=function(P){if(P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler){var k={type:"tabpanel",tabs:Hr([[mi.makeTab(P)],P.hasAdvTab?[Qo.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[es.makeTab(P)]:[]])};return k}else{var w={type:"panel",items:mi.makeItems(P)};return w}},xc=function(P){return function(k){var w=Zu(k);return{title:"Insert/Edit Image",size:"normal",body:In(k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ec(k.image),onSubmit:P.onSubmit(k),onChange:Da(P,k,w),onClose:Eu(w)}}},gl=function(P){return function(k){return function(w){var D=It(ec(k.image),w.getData());P.execCommand("mceUpdateImage",!1,bs(D,k.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),w.close()}}},zr=function(P){return function(k){return Xa(P,k)?Oo(P.documentBaseURI.toAbsolute(k)).then(function(w){return{width:String(w.width),height:String(w.height)}}):it.resolve({width:"",height:""})}},hl=function(P){return function(k,w,D){return P.editorUpload.blobCache.create({blob:k,blobUri:w,name:k.name?k.name.replace(/\.[^\.]+$/,""):null,filename:k.name,base64:D.split(",")[1]})}},Ks=function(P){return function(k){P.editorUpload.blobCache.add(k)}},Ul=function(P){return function(k){P.windowManager.alert(k)}},tc=function(P){return function(k){return le(P,k)}},lu=function(P){return function(k){return P.dom.parseStyle(k)}},Pf=function(P){return function(k,w){return P.dom.serializeStyle(k,w)}},Ia=function(P){return function(k){return Mn(P).upload([k],!1).then(function(w){return w.length===0?it.reject("Failed to upload image"):w[0].status===!1?it.reject(w[0].error.message):w[0]})}},Zi=function(P){var k={onSubmit:gl(P),imageSize:zr(P),addToBlobCache:Ks(P),createBlobCache:hl(P),alertErr:Ul(P),normalizeCss:tc(P),parseStyle:lu(P),serializeStyle:Pf(P),uploadImage:Ia(P)},w=function(){ga(P).then(xc(k)).then(P.windowManager.open)};return{open:w}},ys=function(P){P.addCommand("mceImage",Zi(P).open),P.addCommand("mceUpdateImage",function(k,w){P.undoManager.transact(function(){return Xe(P,w)})})},je=function(P){var k=P.attr("class");return k&&/\bimage\b/.test(k)},Hi=function(P){return function(k){for(var w=k.length,D=function(te){te.attr("contenteditable",P?"true":null)};w--;){var W=k[w];je(W)&&(W.attr("contenteditable",P?"false":null),Kn.each(W.getAll("figcaption"),D))}}},nc=function(P){P.on("PreInit",function(){P.parser.addNodeFilter("figure",Hi(!0)),P.serializer.addNodeFilter("figure",Hi(!1))})},pl=function(P){P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Zi(P).open,onSetup:function(k){return k.setActive(Mr(ye(P))),P.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",k.setActive).unbind}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Zi(P).open}),P.ui.registry.addContextMenu("image",{update:function(k){return oa(k)||ki(k)&&!va(k)?["image"]:[]}})};function ui(){Jo.add("image",function(P){nc(P),pl(P),ys(P)})}ui()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager"),lr=function(){return lr=Object.assign||function(ye){for(var Oe,Me=1,Rt=arguments.length;Me<Rt;Me++){Oe=arguments[Me];for(var nt in Oe)Object.prototype.hasOwnProperty.call(Oe,nt)&&(ye[nt]=Oe[nt])}return ye},lr.apply(this,arguments)},ro=function(le){var ye=typeof le;return le===null?"null":ye==="object"&&(Array.prototype.isPrototypeOf(le)||le.constructor&&le.constructor.name==="Array")?"array":ye==="object"&&(String.prototype.isPrototypeOf(le)||le.constructor&&le.constructor.name==="String")?"string":ye},sa=function(le){return function(ye){return ro(ye)===le}},jo=sa("string"),dt=sa("object"),qr=sa("array"),ke=function(le){return le==null},Nt=function(le){return!ke(le)},zi=function(){},fr=function(le){return function(){return le}},kn=function(le){return le},Mr=fr(!1),qo=fr(!0),lt=function(){return mr},mr=function(){var le=function(Me){return Me()},ye=kn,Oe={fold:function(Me,Rt){return Me()},isSome:Mr,isNone:qo,getOr:ye,getOrThunk:le,getOrDie:function(Me){throw new Error(Me||"error: getOrDie called on none.")},getOrNull:fr(null),getOrUndefined:fr(void 0),or:ye,orThunk:le,map:lt,each:zi,bind:lt,exists:Mr,forall:qo,filter:function(){return lt()},toArray:function(){return[]},toString:fr("none()")};return Oe}(),Gt=function(le){var ye=fr(le),Oe=function(){return Rt},Me=function(nt){return nt(le)},Rt={fold:function(nt,re){return re(le)},isSome:qo,isNone:Mr,getOr:ye,getOrThunk:ye,getOrDie:ye,getOrNull:ye,getOrUndefined:ye,or:Oe,orThunk:Oe,map:function(nt){return Gt(nt(le))},each:function(nt){nt(le)},bind:Me,exists:Me,forall:Me,filter:function(nt){return nt(le)?Rt:mr},toArray:function(){return[le]},toString:function(){return"some("+le+")"}};return Rt},yt=function(le){return le==null?mr:Gt(le)},hn={some:Gt,none:lt,from:yt},Dr=Array.prototype.push,tr=function(le,ye){for(var Oe=0,Me=le.length;Oe<Me;Oe++){var Rt=le[Oe];ye(Rt,Oe)}},Ft=function(le){for(var ye=[],Oe=0,Me=le.length;Oe<Me;++Oe){if(!qr(le[Oe]))throw new Error("Arr.flatten item "+Oe+" was not an array, input: "+le);Dr.apply(ye,le[Oe])}return ye},Fn=function(le){var ye=le,Oe=function(){return ye},Me=function(Rt){ye=Rt};return{get:Oe,set:Me}},Zt=Object.keys,Wt=Object.hasOwnProperty,me=function(le,ye){for(var Oe=Zt(le),Me=0,Rt=Oe.length;Me<Rt;Me++){var nt=Oe[Me],re=le[nt];ye(re,nt)}},en=function(le,ye){return On(le,ye)?hn.from(le[ye]):hn.none()},On=function(le,ye){return Wt.call(le,ye)},Ca=function(le){return le.getParam("media_scripts")},oe=function(le){return le.getParam("audio_template_callback")},ho=function(le){return le.getParam("video_template_callback")},Ka=function(le){return le.getParam("media_live_embeds",!0)},Ct=function(le){return le.getParam("media_filter_html",!0)},la=function(le){return le.getParam("media_url_resolver")},Hr=function(le){return le.getParam("media_alt_source",!0)},ot=function(le){return le.getParam("media_poster",!0)},Eo=function(le){return le.getParam("media_dimensions",!0)},Je=tinymce.util.Tools.resolve("tinymce.util.Tools"),zt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Jr=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Rr=function(le,ye){if(le){for(var Oe=0;Oe<le.length;Oe++)if(ye.indexOf(le[Oe].filter)!==-1)return le[Oe]}},Gr=zt.DOM,br=function(le){return le.replace(/px$/,"")},ee=function(le){var ye=le.map.style,Oe=ye?Gr.parseStyle(ye):{};return{type:"ephox-embed-iri",source:le.map["data-ephox-embed-iri"],altsource:"",poster:"",width:en(Oe,"max-width").map(br).getOr(""),height:en(Oe,"max-height").map(br).getOr("")}},Go=function(le,ye){var Oe=Fn(!1),Me={};return Jr({validate:!1,allow_conditional_comments:!0,start:function(Rt,nt){if(!Oe.get())if(On(nt.map,"data-ephox-embed-iri"))Oe.set(!0),Me=ee(nt);else{if(!Me.source&&Rt==="param"&&(Me.source=nt.map.movie),(Rt==="iframe"||Rt==="object"||Rt==="embed"||Rt==="video"||Rt==="audio")&&(Me.type||(Me.type=Rt),Me=Je.extend(nt.map,Me)),Rt==="script"){var re=Rr(le,nt.map.src);if(!re)return;Me={type:"script",source:nt.map.src,width:String(re.width),height:String(re.height)}}Rt==="source"&&(Me.source?Me.altsource||(Me.altsource=nt.map.src):Me.source=nt.map.src),Rt==="img"&&!Me.poster&&(Me.poster=nt.map.src)}}}).parse(ye),Me.source=Me.source||Me.src||Me.data,Me.altsource=Me.altsource||"",Me.poster=Me.poster||"",Me},Mo=function(le){var ye={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Oe=le.toLowerCase().split(".").pop(),Me=ye[Oe];return Me||""},Kr=tinymce.util.Tools.resolve("tinymce.html.Schema"),Pa=tinymce.util.Tools.resolve("tinymce.html.Writer"),it=zt.DOM,Et=function(le){return/^[0-9.]+$/.test(le)?le+"px":le},Ot=function(le,ye){me(ye,function(Oe,Me){var Rt=""+Oe;if(le.map[Me])for(var nt=le.length;nt--;){var re=le[nt];re.name===Me&&(Rt?(le.map[Me]=Rt,re.value=Rt):(delete le.map[Me],le.splice(nt,1)))}else Rt&&(le.push({name:Me,value:Rt}),le.map[Me]=Rt)})},Vt=function(le,ye){var Oe=ye.map.style,Me=Oe?it.parseStyle(Oe):{};Me["max-width"]=Et(le.width),Me["max-height"]=Et(le.height),Ot(ye,{style:it.serializeStyle(Me)})},tt=["source","altsource"],En=function(le,ye,Oe){var Me=Pa(),Rt=Fn(!1),nt=0,re;return Jr({validate:!1,allow_conditional_comments:!0,comment:function(fe){Me.comment(fe)},cdata:function(fe){Me.cdata(fe)},text:function(fe,_e){Me.text(fe,_e)},start:function(fe,_e,Xe){if(!Rt.get())if(On(_e.map,"data-ephox-embed-iri"))Rt.set(!0),Vt(ye,_e);else{switch(fe){case"video":case"object":case"embed":case"img":case"iframe":ye.height!==void 0&&ye.width!==void 0&&Ot(_e,{width:ye.width,height:ye.height});break}if(Oe)switch(fe){case"video":Ot(_e,{poster:ye.poster,src:""}),ye.altsource&&Ot(_e,{src:""});break;case"iframe":Ot(_e,{src:ye.source});break;case"source":if(nt<2&&(Ot(_e,{src:ye[tt[nt]],type:ye[tt[nt]+"mime"]}),!ye[tt[nt]]))return;nt++;break;case"img":if(!ye.poster)return;re=!0;break}}Me.start(fe,_e,Xe)},end:function(fe){if(!Rt.get()){if(fe==="video"&&Oe){for(var _e=0;_e<2;_e++)if(ye[tt[_e]]){var Xe=[];Xe.map={},nt<=_e&&(Ot(Xe,{src:ye[tt[_e]],type:ye[tt[_e]+"mime"]}),Me.start("source",Xe,!0))}}if(ye.poster&&fe==="object"&&Oe&&!re){var qe=[];qe.map={},Ot(qe,{src:ye.poster,width:ye.width,height:ye.height}),Me.start("img",qe,!0)}}Me.end(fe)}},Kr({})).parse(le),Me.getContent()},Vn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],tn=function(le){var ye=le.match(/^(https?:\/\/|www\.)(.+)$/i);return ye&&ye.length>1?ye[1]==="www."?"https://":ye[1]:"https://"},xa=function(le,ye){for(var Oe=tn(ye),Me=le.regex.exec(ye),Rt=Oe+le.url,nt=function(fe){Rt=Rt.replace("$"+fe,function(){return Me[fe]?Me[fe]:""})},re=0;re<Me.length;re++)nt(re);return Rt.replace(/\?$/,"")},eo=function(le){var ye=Vn.filter(function(Oe){return Oe.regex.test(le)});return ye.length>0?Je.extend({},ye[0],{url:xa(ye[0],le)}):null},mn=function(le){var ye=le.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+le.source+'" width="'+le.width+'" height="'+le.height+'"'+ye+"></iframe>"},Ut=function(le){var ye='<object data="'+le.source+'" width="'+le.width+'" height="'+le.height+'" type="application/x-shockwave-flash">';return le.poster&&(ye+='<img src="'+le.poster+'" width="'+le.width+'" height="'+le.height+'" />'),ye+="</object>",ye},To=function(le,ye){return ye?ye(le):'<audio controls="controls" src="'+le.source+'">'+(le.altsource?`
<source src="`+le.altsource+'"'+(le.altsourcemime?' type="'+le.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Sa=function(le,ye){return ye?ye(le):'<video width="'+le.width+'" height="'+le.height+'"'+(le.poster?' poster="'+le.poster+'"':"")+` controls="controls">
<source src="`+le.source+'"'+(le.sourcemime?' type="'+le.sourcemime+'"':"")+` />
`+(le.altsource?'<source src="'+le.altsource+'"'+(le.altsourcemime?' type="'+le.altsourcemime+'"':"")+` />
`:"")+"</video>"},ka=function(le){return'<script src="'+le.source+'"><\/script>'},ri=function(le,ye){var Oe=Je.extend({},ye);if(!Oe.source&&(Je.extend(Oe,Go(Ca(le),Oe.embed)),!Oe.source))return"";Oe.altsource||(Oe.altsource=""),Oe.poster||(Oe.poster=""),Oe.source=le.convertURL(Oe.source,"source"),Oe.altsource=le.convertURL(Oe.altsource,"source"),Oe.sourcemime=Mo(Oe.source),Oe.altsourcemime=Mo(Oe.altsource),Oe.poster=le.convertURL(Oe.poster,"poster");var Me=eo(Oe.source);if(Me&&(Oe.source=Me.url,Oe.type=Me.type,Oe.allowfullscreen=Me.allowFullscreen,Oe.width=Oe.width||String(Me.w),Oe.height=Oe.height||String(Me.h)),Oe.embed)return En(Oe.embed,Oe,!0);var Rt=Rr(Ca(le),Oe.source);Rt&&(Oe.type="script",Oe.width=String(Rt.width),Oe.height=String(Rt.height));var nt=oe(le),re=ho(le);return Oe.width=Oe.width||"300",Oe.height=Oe.height||"150",Je.each(Oe,function(fe,_e){Oe[_e]=le.dom.encode(""+fe)}),Oe.type==="iframe"?mn(Oe):Oe.sourcemime==="application/x-shockwave-flash"?Ut(Oe):Oe.sourcemime.indexOf("audio")!==-1?To(Oe,nt):Oe.type==="script"?ka(Oe):Sa(Oe,re)},Fi=function(le){return le.hasAttribute("data-mce-object")||le.hasAttribute("data-ephox-embed-iri")},Oo=function(le){le.on("click keyup touchend",function(){var ye=le.selection.getNode();ye&&le.dom.hasClass(ye,"mce-preview-object")&&le.dom.getAttrib(ye,"data-mce-selected")&&ye.setAttribute("data-mce-selected","2")}),le.on("ObjectSelected",function(ye){var Oe=ye.target.getAttribute("data-mce-object");Oe==="script"&&ye.preventDefault()}),le.on("ObjectResized",function(ye){var Oe=ye.target;if(Oe.getAttribute("data-mce-object")){var Me=Oe.getAttribute("data-mce-html");Me&&(Me=unescape(Me),Oe.setAttribute("data-mce-html",escape(En(Me,{width:String(ye.width),height:String(ye.height)}))))}})},fa=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ao={},Ea=function(le,ye,Oe){return new fa(function(Me,Rt){var nt=function(re){return re.html&&(Ao[le.source]=re),Me({url:le.source,html:re.html?re.html:ye(le)})};Ao[le.source]?nt(Ao[le.source]):Oe({url:le.source},nt,Rt)})},Vo=function(le,ye){return fa.resolve({html:ye(le),url:le.source})},Ta=function(le){return function(ye){return ri(le,ye)}},N=function(le,ye){var Oe=la(le);return Oe?Ea(ye,Ta(le),Oe):Vo(ye,Ta(le))},va=function(le){return On(Ao,le)},Xa=function(le,ye){return en(ye,le).bind(function(Oe){return en(Oe,"meta")})},lo=function(le,ye,Oe){return function(Me){var Rt,nt=function(){return en(le,Me)},re=function(){return en(ye,Me)},fe=function(qe){return en(qe,"value").bind(function(Mt){return Mt.length>0?hn.some(Mt):hn.none()})},_e=function(){return nt().bind(function(qe){return dt(qe)?fe(qe).orThunk(re):re().orThunk(function(){return hn.from(qe)})})},Xe=function(){return re().orThunk(function(){return nt().bind(function(qe){return dt(qe)?fe(qe):hn.from(qe)})})};return Rt={},Rt[Me]=(Me===Oe?_e():Xe()).getOr(""),Rt}},pn=function(le,ye){var Oe={};return en(le,"dimensions").each(function(Me){tr(["width","height"],function(Rt){en(ye,Rt).orThunk(function(){return en(Me,Rt)}).each(function(nt){return Oe[Rt]=nt})})}),Oe},Yt=function(le,ye){var Oe=ye?Xa(ye,le).getOr({}):{},Me=lo(le,Oe,ye);return lr(lr(lr(lr(lr({},Me("source")),Me("altsource")),Me("poster")),Me("embed")),pn(le,Oe))},za=function(le){var ye=lr(lr({},le),{source:{value:en(le,"source").getOr("")},altsource:{value:en(le,"altsource").getOr("")},poster:{value:en(le,"poster").getOr("")}});return tr(["width","height"],function(Oe){en(le,Oe).each(function(Me){var Rt=ye.dimensions||{};Rt[Oe]=Me,ye.dimensions=Rt})}),ye},Pr=function(le){return function(ye){var Oe=ye&&ye.msg?"Media embed handler error: "+ye.msg:"Media embed handler threw unknown error.";le.notificationManager.open({type:"error",text:Oe})}},Cu=function(le,ye){return Go(Ca(le),ye)},Ii=function(le){var ye=le.selection.getNode(),Oe=Fi(ye)?le.serializer.serialize(ye,{selection:!0}):"";return lr({embed:Oe},Go(Ca(le),Oe))},Jn=function(le,ye){return function(Oe){if(jo(Oe.url)&&Oe.url.trim().length>0){var Me=Oe.html,Rt=Cu(ye,Me),nt=lr(lr({},Rt),{source:Oe.url,embed:Me});le.setData(za(nt))}}},xu=function(le,ye){for(var Oe=le.dom.select("*[data-mce-object]"),Me=0;Me<ye.length;Me++)for(var Rt=Oe.length-1;Rt>=0;Rt--)ye[Me]===Oe[Rt]&&Oe.splice(Rt,1);le.selection.select(Oe[0])},Su=function(le,ye){var Oe=le.dom.select("*[data-mce-object]");le.insertContent(ye),xu(le,Oe),le.nodeChanged()},_r=function(le,ye,Oe){ye.embed=En(ye.embed,ye),ye.embed&&(le.source===ye.source||va(ye.source))?Su(Oe,ye.embed):N(Oe,ye).then(function(Me){Su(Oe,Me.html)}).catch(Pr(Oe))},Un=function(le){var ye=Ii(le),Oe=Fn(ye),Me=za(ye),Rt=function(Bn,fo){var Le=Yt(fo.getData(),"source");Bn.source!==Le.source&&(Jn(Zn,le)({url:Le.source,html:""}),N(le,Le).then(Jn(Zn,le)).catch(Pr(le)))},nt=function(Bn){var fo=Yt(Bn.getData()),Le=Cu(le,fo.embed);Bn.setData(za(Le))},re=function(Bn,fo){var Le=Yt(Bn.getData(),fo),Dn=ri(le,Le);Bn.setData(za(lr(lr({},Le),{embed:Dn})))},fe=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],_e=Eo(le)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Xe={title:"General",name:"general",items:Ft([fe,_e])},qe={type:"textarea",name:"embed",label:"Paste your embed code below:"},Mt={title:"Embed",items:[qe]},It=[];Hr(le)&&It.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ot(le)&&It.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var pt={title:"Advanced",name:"advanced",items:It},Mn=[Xe,Mt];It.length>0&&Mn.push(pt);var Kn={type:"tabpanel",tabs:Mn},Zn=le.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Kn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Bn){var fo=Yt(Bn.getData());_r(Oe.get(),fo,le),Bn.close()},onChange:function(Bn,fo){switch(fo.name){case"source":Rt(Oe.get(),Bn);break;case"embed":nt(Bn);break;case"dimensions":case"altsource":case"poster":re(Bn,fo.name);break}Oe.set(Yt(Bn.getData()))},initialData:Me})},gt=function(le){var ye=function(){Un(le)};return{showDialog:ye}},da=function(le){var ye=function(){Un(le)};le.addCommand("mceMedia",ye)},na=tinymce.util.Tools.resolve("tinymce.html.Node"),Po=tinymce.util.Tools.resolve("tinymce.Env"),Fa=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ra=function(le,ye){if(Ct(le)===!1)return ye;var Oe=Pa(),Me;return Jr({validate:!1,allow_conditional_comments:!1,comment:function(Rt){Me||Oe.comment(Rt)},cdata:function(Rt){Me||Oe.cdata(Rt)},text:function(Rt,nt){Me||Oe.text(Rt,nt)},start:function(Rt,nt,re){if(Me=!0,!(Rt==="script"||Rt==="noscript"||Rt==="svg")){for(var fe=nt.length-1;fe>=0;fe--){var _e=nt[fe].name;_e.indexOf("on")===0&&(delete nt.map[_e],nt.splice(fe,1)),_e==="style"&&(nt[fe].value=le.dom.serializeStyle(le.dom.parseStyle(nt[fe].value),Rt))}Oe.start(Rt,nt,re),Me=!1}},end:function(Rt){Me||Oe.end(Rt)}},Kr({})).parse(ye),Oe.getContent()},oi=function(le){var ye=le.name;return ye==="iframe"||ye==="video"||ye==="audio"},oa=function(le,ye,Oe,Me){Me===void 0&&(Me=null);var Rt=le.attr(Oe);return Nt(Rt)?Rt:On(ye,Oe)?null:Me},ki=function(le,ye,Oe){var Me=ye.name==="img"||le.name==="video",Rt=Me?"300":null,nt=le.name==="audio"?"30":"150",re=Me?nt:null;ye.attr({width:oa(le,Oe,"width",Rt),height:oa(le,Oe,"height",re)})},or=function(le,ye,Oe,Me){for(var Rt=Fa({forced_root_block:!1,validate:!1},le.schema).parse(Me,{context:ye});Rt.firstChild;)Oe.append(Rt.firstChild)},Oa=function(le,ye){var Oe=ye.name,Me=new na("img",1);return Me.shortEnded=!0,Li(le,ye,Me),ki(ye,Me,{}),Me.attr({style:ye.attr("style"),src:Po.transparentSrc,"data-mce-object":Oe,class:"mce-object mce-object-"+Oe}),Me},Jt=function(le,ye){var Oe=ye.name,Me=new na("span",1);Me.attr({contentEditable:"false",style:ye.attr("style"),"data-mce-object":Oe,class:"mce-preview-object mce-object-"+Oe}),Li(le,ye,Me);var Rt=le.dom.parseStyle(ye.attr("style")),nt=new na(Oe,1);if(ki(ye,nt,Rt),nt.attr({src:ye.attr("src"),style:ye.attr("style"),class:ye.attr("class")}),Oe==="iframe")nt.attr({allowfullscreen:ye.attr("allowfullscreen"),frameborder:"0"});else{var re=["controls","crossorigin","currentTime","loop","muted","poster","preload"];tr(re,function(Xe){nt.attr(Xe,ye.attr(Xe))});var fe=Me.attr("data-mce-html");Nt(fe)&&or(le,Oe,nt,unescape(fe))}var _e=new na("span",1);return _e.attr("class","mce-shim"),Me.append(nt),Me.append(_e),Me},Li=function(le,ye,Oe){for(var Me=ye.attributes,Rt=Me.length;Rt--;){var nt=Me[Rt].name,re=Me[Rt].value;nt!=="width"&&nt!=="height"&&nt!=="style"&&((nt==="data"||nt==="src")&&(re=le.convertURL(re,nt)),Oe.attr("data-mce-p-"+nt,re))}var fe=ye.firstChild&&ye.firstChild.value;fe&&(Oe.attr("data-mce-html",escape(ra(le,fe))),Oe.firstChild=null)},Aa=function(le){var ye=le.attr("class");return ye&&/\btiny-pageembed\b/.test(ye)},Ya=function(le){for(;le=le.parent;)if(le.attr("data-ephox-embed-iri")||Aa(le))return!0;return!1},Xr=function(le){return function(ye){for(var Oe=ye.length,Me,Rt;Oe--;)Me=ye[Oe],Me.parent&&(Me.parent.attr("data-mce-object")||Me.name==="script"&&(Rt=Rr(Ca(le),Me.attr("src")),!Rt)||(Rt&&(Rt.width&&Me.attr("width",Rt.width.toString()),Rt.height&&Me.attr("height",Rt.height.toString())),oi(Me)&&Ka(le)&&Po.ceFalse?Ya(Me)||Me.replace(Jt(le,Me)):Ya(Me)||Me.replace(Oa(le,Me))))}},ku=function(le){le.on("preInit",function(){var ye=le.schema.getSpecialElements();Je.each("video audio iframe object".split(" "),function(Me){ye[Me]=new RegExp("</"+Me+"[^>]*>","gi")});var Oe=le.schema.getBoolAttrs();Je.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Me){Oe[Me]={}}),le.parser.addNodeFilter("iframe,video,audio,object,embed,script",Xr(le)),le.serializer.addAttributeFilter("data-mce-object",function(Me,Rt){for(var nt=Me.length,re,fe,_e,Xe,qe,Mt,It,pt;nt--;)if(re=Me[nt],!!re.parent){for(It=re.attr(Rt),fe=new na(It,1),It!=="audio"&&It!=="script"&&(pt=re.attr("class"),pt&&pt.indexOf("mce-preview-object")!==-1?fe.attr({width:re.firstChild.attr("width"),height:re.firstChild.attr("height")}):fe.attr({width:re.attr("width"),height:re.attr("height")})),fe.attr({style:re.attr("style")}),Xe=re.attributes,_e=Xe.length;_e--;){var Mn=Xe[_e].name;Mn.indexOf("data-mce-p-")===0&&fe.attr(Mn.substr(11),Xe[_e].value)}It==="script"&&fe.attr("type","text/javascript"),qe=re.attr("data-mce-html"),qe&&(Mt=new na("#text",3),Mt.raw=!0,Mt.value=ra(le,unescape(qe)),fe.append(Mt)),re.replace(fe)}})}),le.on("SetContent",function(){le.$("span.mce-preview-object").each(function(ye,Oe){var Me=le.$(Oe);Me.find("span.mce-shim").length===0&&Me.append('<span class="mce-shim"></span>')})})},ma=function(le){le.on("ResolveName",function(ye){var Oe;ye.target.nodeType===1&&(Oe=ye.target.getAttribute("data-mce-object"))&&(ye.name=Oe)})},ai=function(le){var ye=function(){return le.execCommand("mceMedia")};le.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:ye,onSetup:function(Oe){var Me=le.selection;return Oe.setActive(Fi(Me.getNode())),Me.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Oe.setActive).unbind}}),le.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:ye})};function Lu(){Jo.add("media",function(le){return da(le),ai(le),ma(le),ku(le),Oo(le),gt(le)})}Lu()})();(function(){var Jo=function(i){var s=typeof i;return i===null?"null":s==="object"&&(Array.prototype.isPrototypeOf(i)||i.constructor&&i.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(i)||i.constructor&&i.constructor.name==="String")?"string":s},lr=function(i){return function(s){return Jo(s)===i}},ro=function(i){return function(s){return typeof s===i}},sa=function(i){return function(s){return i===s}},jo=lr("string"),dt=lr("object"),qr=lr("array"),ke=sa(null),Nt=ro("boolean"),zi=sa(void 0),fr=function(i){return i==null},kn=function(i){return!fr(i)},Mr=ro("function"),qo=ro("number"),lt=function(){},mr=function(i,s){return function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];return i(s.apply(null,v))}},Gt=function(i,s){return function(v){return i(s(v))}},yt=function(i){return function(){return i}},hn=function(i){return i},Dr=function(i,s){return i===s};function tr(i){for(var s=[],v=1;v<arguments.length;v++)s[v-1]=arguments[v];return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var E=s.concat(h);return i.apply(null,E)}}var Ft=function(i){return function(s){return!i(s)}},Fn=function(i){return function(){throw new Error(i)}},Zt=yt(!1),Wt=yt(!0),me=function(){return en},en=function(){var i=function(h){return h()},s=hn,v={fold:function(h,y){return h()},isSome:Zt,isNone:Wt,getOr:s,getOrThunk:i,getOrDie:function(h){throw new Error(h||"error: getOrDie called on none.")},getOrNull:yt(null),getOrUndefined:yt(void 0),or:s,orThunk:i,map:me,each:lt,bind:me,exists:Zt,forall:Wt,filter:function(){return me()},toArray:function(){return[]},toString:yt("none()")};return v}(),On=function(i){var s=yt(i),v=function(){return y},h=function(E){return E(i)},y={fold:function(E,B){return B(i)},isSome:Wt,isNone:Zt,getOr:s,getOrThunk:s,getOrDie:s,getOrNull:s,getOrUndefined:s,or:v,orThunk:v,map:function(E){return On(E(i))},each:function(E){E(i)},bind:h,exists:h,forall:h,filter:function(E){return E(i)?y:en},toArray:function(){return[i]},toString:function(){return"some("+i+")"}};return y},Ca=function(i){return i==null?en:On(i)},oe={some:On,none:me,from:Ca},ho=Array.prototype.slice,Ka=Array.prototype.indexOf,Ct=Array.prototype.push,la=function(i,s){return Ka.call(i,s)},Hr=function(i,s){return la(i,s)>-1},ot=function(i,s){for(var v=0,h=i.length;v<h;v++){var y=i[v];if(s(y,v))return!0}return!1},Eo=function(i,s){for(var v=[],h=0;h<i;h++)v.push(s(h));return v},Je=function(i,s){for(var v=i.length,h=new Array(v),y=0;y<v;y++){var E=i[y];h[y]=s(E,y)}return h},zt=function(i,s){for(var v=0,h=i.length;v<h;v++){var y=i[v];s(y,v)}},Jr=function(i,s){for(var v=i.length-1;v>=0;v--){var h=i[v];s(h,v)}},Rr=function(i,s){for(var v=[],h=[],y=0,E=i.length;y<E;y++){var B=i[y],I=s(B,y)?v:h;I.push(B)}return{pass:v,fail:h}},Gr=function(i,s){for(var v=[],h=0,y=i.length;h<y;h++){var E=i[h];s(E,h)&&v.push(E)}return v},br=function(i,s,v){return Jr(i,function(h,y){v=s(v,h,y)}),v},ee=function(i,s,v){return zt(i,function(h,y){v=s(v,h,y)}),v},Go=function(i,s,v){for(var h=0,y=i.length;h<y;h++){var E=i[h];if(s(E,h))return oe.some(E);if(v(E,h))break}return oe.none()},Mo=function(i,s){return Go(i,s,Zt)},Kr=function(i,s){for(var v=0,h=i.length;v<h;v++){var y=i[v];if(s(y,v))return oe.some(v)}return oe.none()},Pa=function(i){for(var s=[],v=0,h=i.length;v<h;++v){if(!qr(i[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+i);Ct.apply(s,i[v])}return s},it=function(i,s){return Pa(Je(i,s))},Et=function(i,s){for(var v=0,h=i.length;v<h;++v){var y=i[v];if(s(y,v)!==!0)return!1}return!0},Ot=function(i){var s=ho.call(i,0);return s.reverse(),s},Vt=function(i,s){for(var v={},h=0,y=i.length;h<y;h++){var E=i[h];v[String(E)]=s(E,h)}return v},tt=function(i){return[i]},En=function(i,s){var v=ho.call(i,0);return v.sort(s),v},Vn=function(i,s){return s>=0&&s<i.length?oe.some(i[s]):oe.none()},tn=function(i){return Vn(i,0)},xa=function(i){return Vn(i,i.length-1)},eo=function(i,s){for(var v=0;v<i.length;v++){var h=s(i[v],v);if(h.isSome())return h}return oe.none()},mn=function(){return mn=Object.assign||function(s){for(var v,h=1,y=arguments.length;h<y;h++){v=arguments[h];for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(s[E]=v[E])}return s},mn.apply(this,arguments)};function Ut(i,s,v){if(v||arguments.length===2)for(var h=0,y=s.length,E;h<y;h++)(E||!(h in s))&&(E||(E=Array.prototype.slice.call(s,0,h)),E[h]=s[h]);return i.concat(E||Array.prototype.slice.call(s))}var To=function(i){var s=!1,v;return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return s||(s=!0,v=i.apply(null,h)),v}},Sa=function(i,s,v,h){var y=i.isiOS()&&/ipad/i.test(v)===!0,E=i.isiOS()&&!y,B=i.isiOS()||i.isAndroid(),I=B||h("(pointer:coarse)"),J=y||!E&&B&&h("(min-device-width:768px)"),ce=E||B&&!J,be=s.isSafari()&&i.isiOS()&&/safari/i.test(v)===!1,We=!ce&&!J&&!be;return{isiPad:yt(y),isiPhone:yt(E),isTablet:yt(J),isPhone:yt(ce),isTouch:yt(I),isAndroid:i.isAndroid,isiOS:i.isiOS,isWebView:yt(be),isDesktop:yt(We)}},ka=function(i,s){for(var v=0;v<i.length;v++){var h=i[v];if(h.test(s))return h}},ri=function(i,s){var v=ka(i,s);if(!v)return{major:0,minor:0};var h=function(y){return Number(s.replace(v,"$"+y))};return fa(h(1),h(2))},Fi=function(i,s){var v=String(s).toLowerCase();return i.length===0?Oo():ri(i,v)},Oo=function(){return fa(0,0)},fa=function(i,s){return{major:i,minor:s}},Ao={nu:fa,detect:Fi,unknown:Oo},Ea=function(i,s){return eo(s.brands,function(v){var h=v.brand.toLowerCase();return Mo(i,function(y){var E;return h===((E=y.brand)===null||E===void 0?void 0:E.toLowerCase())}).map(function(y){return{current:y.name,version:Ao.nu(parseInt(v.version,10),0)}})})},Vo=function(i,s){var v=String(s).toLowerCase();return Mo(i,function(h){return h.search(v)})},Ta=function(i,s){return Vo(i,s).map(function(v){var h=Ao.detect(v.versionRegexes,s);return{current:v.name,version:h}})},N=function(i,s){return Vo(i,s).map(function(v){var h=Ao.detect(v.versionRegexes,s);return{current:v.name,version:h}})},va=function(i,s){return i.substring(s)},Xa=function(i,s,v){return s===""||i.length>=s.length&&i.substr(v,v+s.length)===s},lo=function(i,s){return Yt(i,s)?va(i,s.length):i},pn=function(i,s){return i.indexOf(s)!==-1},Yt=function(i,s){return Xa(i,s,0)},za=function(i,s){return Xa(i,s,i.length-s.length)},Pr=function(i){return function(s){return s.replace(i,"")}},Cu=Pr(/^\s+|\s+$/g),Ii=function(i){return i.length>0},Jn=function(i){return!Ii(i)},xu=function(i){var s=parseFloat(i);return isNaN(s)?oe.none():oe.some(s)},Su=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_r=function(i){return function(s){return pn(s,i)}},Un=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(i){return pn(i,"edge/")&&pn(i,"chrome")&&pn(i,"safari")&&pn(i,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Su],search:function(i){return pn(i,"chrome")&&!pn(i,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(i){return pn(i,"msie")||pn(i,"trident")}},{name:"Opera",versionRegexes:[Su,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_r("firefox")},{name:"Safari",versionRegexes:[Su,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(i){return(pn(i,"safari")||pn(i,"mobile/"))&&pn(i,"applewebkit")}}],gt=[{name:"Windows",search:_r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(i){return pn(i,"iphone")||pn(i,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_r("linux"),versionRegexes:[]},{name:"Solaris",search:_r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],da={browsers:yt(Un),oses:yt(gt)},na="Edge",Po="Chrome",Fa="IE",ra="Opera",oi="Firefox",oa="Safari",ki=function(){return or({current:void 0,version:Ao.unknown()})},or=function(i){var s=i.current,v=i.version,h=function(y){return function(){return s===y}};return{current:s,version:v,isEdge:h(na),isChrome:h(Po),isIE:h(Fa),isOpera:h(ra),isFirefox:h(oi),isSafari:h(oa)}},Oa={unknown:ki,nu:or,edge:yt(na),chrome:yt(Po),ie:yt(Fa),opera:yt(ra),firefox:yt(oi),safari:yt(oa)},Jt="Windows",Li="iOS",Aa="Android",Ya="Linux",Xr="OSX",ku="Solaris",ma="FreeBSD",ai="ChromeOS",Lu=function(){return le({current:void 0,version:Ao.unknown()})},le=function(i){var s=i.current,v=i.version,h=function(y){return function(){return s===y}};return{current:s,version:v,isWindows:h(Jt),isiOS:h(Li),isAndroid:h(Aa),isOSX:h(Xr),isLinux:h(Ya),isSolaris:h(ku),isFreeBSD:h(ma),isChromeOS:h(ai)}},ye={unknown:Lu,nu:le,windows:yt(Jt),ios:yt(Li),android:yt(Aa),linux:yt(Ya),osx:yt(Xr),solaris:yt(ku),freebsd:yt(ma),chromeos:yt(ai)},Oe=function(i,s,v){var h=da.browsers(),y=da.oses(),E=s.bind(function(J){return Ea(h,J)}).orThunk(function(){return Ta(h,i)}).fold(Oa.unknown,Oa.nu),B=N(y,i).fold(ye.unknown,ye.nu),I=Sa(B,E,i,v);return{browser:E,os:B,deviceType:I}},Me={detect:Oe},Rt=function(i){return window.matchMedia(i).matches},nt=To(function(){return Me.detect(navigator.userAgent,oe.from(navigator.userAgentData),Rt)}),re=function(){return nt()},fe=function(i,s,v){return(i.compareDocumentPosition(s)&v)!==0},_e=function(i,s){return fe(i,s,Node.DOCUMENT_POSITION_CONTAINED_BY)},Xe=8,qe=9,Mt=11,It=1,pt=3,Mn=function(i,s){var v=s||document,h=v.createElement("div");if(h.innerHTML=i,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",i),new Error("HTML must have a single root node");return Bn(h.childNodes[0])},Kn=function(i,s){var v=s||document,h=v.createElement(i);return Bn(h)},Zn=function(i,s){var v=s||document,h=v.createTextNode(i);return Bn(h)},Bn=function(i){if(i==null)throw new Error("Node cannot be null or undefined");return{dom:i}},fo=function(i,s,v){return oe.from(i.dom.elementFromPoint(s,v)).map(Bn)},Le={fromHtml:Mn,fromTag:Kn,fromText:Zn,fromDom:Bn,fromPoint:fo},Dn=function(i,s){var v=i.dom;if(v.nodeType!==It)return!1;var h=v;if(h.matches!==void 0)return h.matches(s);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(s);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(s);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")},to=function(i){return i.nodeType!==It&&i.nodeType!==qe&&i.nodeType!==Mt||i.childElementCount===0},$r=function(i,s){var v=s===void 0?document:s.dom;return to(v)?[]:Je(v.querySelectorAll(i),Le.fromDom)},ii=function(i,s){var v=s===void 0?document:s.dom;return to(v)?oe.none():oe.from(v.querySelector(i)).map(Le.fromDom)},ir=function(i,s){return i.dom===s.dom},Xi=function(i,s){var v=i.dom,h=s.dom;return v===h?!1:v.contains(h)},Qo=function(i,s){return _e(i.dom,s.dom)},ga=function(i,s){return re().browser.isIE()?Qo(i,s):Xi(i,s)},Cc=Dn,di=Object.keys,mi=Object.hasOwnProperty,vo=function(i,s){for(var v=di(i),h=0,y=v.length;h<y;h++){var E=v[h],B=i[E];s(B,E)}},es=function(i,s){return Zu(i,function(v,h){return{k:h,v:s(v,h)}})},Zu=function(i,s){var v={};return vo(i,function(h,y){var E=s(h,y);v[E.k]=E.v}),v},ec=function(i){return function(s,v){i[v]=s}},bs=function(i,s,v,h){var y={};return vo(i,function(E,B){(s(E,B)?v:h)(E,B)}),y},aa=function(i,s){var v={};return bs(i,s,ec(v),lt),v},Yi=function(i,s){var v=[];return vo(i,function(h,y){v.push(s(h,y))}),v},ts=function(i){return Yi(i,hn)},Ji=function(i){return di(i).length},Ei=function(i,s){return X(i,s)?oe.from(i[s]):oe.none()},X=function(i,s){return mi.call(i,s)},he=function(i,s){return X(i,s)&&i[s]!==void 0&&i[s]!==null},Ae=function(i){for(var s in i)if(mi.call(i,s))return!1;return!0},Ge=["tfoot","thead","tbody","colgroup"],ut=function(i){return Hr(Ge,i)},an=function(i,s){return{rows:i,columns:s}},ur=function(i,s){return{row:i,column:s}},kr=function(i,s,v){return{element:i,rowspan:s,colspan:v}},er=function(i,s,v,h){return{element:i,rowspan:s,colspan:v,isNew:h}},bo=function(i,s,v,h,y,E){return{element:i,rowspan:s,colspan:v,row:h,column:y,isLocked:E}},yo=function(i,s,v){return{element:i,cells:s,section:v}},Qi=function(i,s,v,h){return{element:i,cells:s,section:v,isNew:h}},Da=function(i,s,v){return{element:i,isNew:s,isLocked:v}},Eu=function(i,s,v,h){return{element:i,cells:s,section:v,isNew:h}},In=function(i,s,v,h){return{startRow:i,startCol:s,finishRow:v,finishCol:h}},xc=function(i,s,v){return{element:i,colspan:s,column:v}},gl=function(i,s){return{element:i,columns:s}};typeof window<"u"||Function("return this;")();var zr=function(i){var s=i.dom.nodeName;return s.toLowerCase()},hl=function(i){return i.dom.nodeType},Ks=function(i){return function(s){return hl(s)===i}},Ul=function(i){return hl(i)===Xe||zr(i)==="#comment"},tc=Ks(It),lu=Ks(pt),Pf=Ks(qe),Ia=Ks(Mt),Zi=function(i){return function(s){return tc(s)&&zr(s)===i}},ys=function(i){return Le.fromDom(i.dom.ownerDocument)},je=function(i){return Pf(i)?i:ys(i)},Hi=function(i){return Le.fromDom(je(i).dom.defaultView)},nc=function(i){return oe.from(i.dom.parentNode).map(Le.fromDom)},pl=function(i){return oe.from(i.dom.parentElement).map(Le.fromDom)},ui=function(i,s){for(var v=Mr(s)?s:Zt,h=i.dom,y=[];h.parentNode!==null&&h.parentNode!==void 0;){var E=h.parentNode,B=Le.fromDom(E);if(y.push(B),v(B)===!0)break;h=E}return y},P=function(i){return oe.from(i.dom.previousSibling).map(Le.fromDom)},k=function(i){return oe.from(i.dom.nextSibling).map(Le.fromDom)},w=function(i){return Je(i.dom.childNodes,Le.fromDom)},D=function(i,s){var v=i.dom.childNodes;return oe.from(v[s]).map(Le.fromDom)},W=function(i){return D(i,0)},te=function(i){return Ia(i)&&kn(i.dom.host)},Ce=Mr(Element.prototype.attachShadow)&&Mr(Node.prototype.getRootNode),Ye=yt(Ce),nn=Ce?function(i){return Le.fromDom(i.dom.getRootNode())}:je,vn=function(i){var s=nn(i);return te(s)?oe.some(s):oe.none()},wt=function(i){return Le.fromDom(i.dom.host)},Qt=function(i){if(Ye()&&kn(i.target)){var s=Le.fromDom(i.target);if(tc(s)&&Wn(s)&&i.composed&&i.composedPath){var v=i.composedPath();if(v)return tn(v)}}return oe.from(i.target)},Wn=function(i){return kn(i.dom.shadowRoot)},dn=function(i){var s=lu(i)?i.dom.parentNode:i.dom;if(s==null||s.ownerDocument===null)return!1;var v=s.ownerDocument;return vn(Le.fromDom(s)).fold(function(){return v.body.contains(s)},Gt(dn,wt))},cn=function(){return Vr(Le.fromDom(document))},Vr=function(i){var s=i.dom.body;if(s==null)throw new Error("Body is not available yet");return Le.fromDom(s)},zn=function(i,s,v){return Gr(ui(i,v),s)},wo=function(i,s){return Gr(w(i),s)},on=function(i,s){var v=[];return zt(w(i),function(h){s(h)&&(v=v.concat([h])),v=v.concat(on(h,s))}),v},gi=function(i,s,v){return zn(i,function(h){return Dn(h,s)},v)},Wl=function(i,s){return wo(i,function(v){return Dn(v,s)})},ws=function(i,s){return $r(s,i)};function Mc(i,s,v,h,y){return i(v,h)?oe.some(v):Mr(y)&&y(v)?oe.none():s(v,h,y)}var fu=function(i,s,v){for(var h=i.dom,y=Mr(v)?v:Zt;h.parentNode;){h=h.parentNode;var E=Le.fromDom(h);if(s(E))return oe.some(E);if(y(E))break}return oe.none()},P1=function(i,s,v){var h=function(y,E){return E(y)};return Mc(h,fu,i,s,v)},Cs=function(i,s){var v=function(y){return s(Le.fromDom(y))},h=Mo(i.dom.childNodes,v);return h.map(Le.fromDom)},Sv=function(i,s){var v=function(h){for(var y=0;y<h.childNodes.length;y++){var E=Le.fromDom(h.childNodes[y]);if(s(E))return oe.some(E);var B=v(h.childNodes[y]);if(B.isSome())return B}return oe.none()};return v(i.dom)},ns=function(i,s,v){return fu(i,function(h){return Dn(h,s)},v)},xs=function(i,s){return Cs(i,function(v){return Dn(v,s)})},zf=function(i,s){return ii(s,i)},La=function(i,s,v){var h=function(y,E){return Dn(y,E)};return Mc(h,ns,i,s,v)},Tu=function(i,s,v){if(jo(v)||Nt(v)||qo(v))i.setAttribute(s,v+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",v,":: Element ",i),new Error("Attribute value was not simple")},Ha=function(i,s,v){Tu(i.dom,s,v)},kv=function(i,s){var v=i.dom;vo(s,function(h,y){Tu(v,y,h)})},Ff=function(i,s){vo(s,function(v,h){v.fold(function(){zo(i,h)},function(y){Tu(i.dom,h,y)})})},rs=function(i,s){var v=i.dom.getAttribute(s);return v===null?void 0:v},hi=function(i,s){return oe.from(rs(i,s))},zo=function(i,s){i.dom.removeAttribute(s)},Hu=function(i){return ee(i.dom.attributes,function(s,v){return s[v.name]=v.value,s},{})},Xs=function(i,s,v){return v===void 0&&(v=Dr),i.exists(function(h){return v(h,s)})},jl=function(i){for(var s=[],v=function(y){s.push(y)},h=0;h<i.length;h++)i[h].each(v);return s},Ss=function(i,s,v){return i.isSome()&&s.isSome()?oe.some(v(i.getOrDie(),s.getOrDie())):oe.none()},Dh=function(i,s){return i!=null?s(i):oe.none()},Fo=function(i){return i.bind(hn)},Ou=function(i,s){return i?oe.some(s):oe.none()},Ra=function(i){return i.style!==void 0&&Mr(i.style.getPropertyValue)},Au=function(i,s,v){if(!jo(v))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",v,":: Element ",i),new Error("CSS value must be a string: "+v);Ra(i)&&i.style.setProperty(s,v)},bl=function(i,s){Ra(i)&&i.style.removeProperty(s)},$e=function(i,s,v){var h=i.dom;Au(h,s,v)},eu=function(i,s){var v=i.dom;vo(s,function(h,y){Au(v,y,h)})},wn=function(i,s){var v=i.dom,h=window.getComputedStyle(v),y=h.getPropertyValue(s);return y===""&&!dn(i)?wd(v,s):y},wd=function(i,s){return Ra(i)?i.style.getPropertyValue(s):""},_a=function(i,s){var v=i.dom,h=wd(v,s);return oe.from(h).filter(function(y){return y.length>0})},$a=function(i,s){var v=i.dom;bl(v,s),Xs(hi(i,"style").map(Cu),"")&&zo(i,"style")},If=function(i,s){var v=i.dom,h=s.dom;Ra(v)&&Ra(h)&&(h.style.cssText=v.style.cssText)},pi=function(i,s,v){return v===void 0&&(v=0),hi(i,s).map(function(h){return parseInt(h,10)}).getOr(v)},jn=function(i,s){return pi(i,s,1)},ks=function(i){return Zi("col")(i)?pi(i,"span",1)>1:jn(i,"colspan")>1},Rh=function(i){return jn(i,"rowspan")>1},oo=function(i,s){return parseInt(wn(i,s),10)},Es=yt(10),ci=yt(10),$i=function(i,s){return Se(i,s,Wt)},Se=function(i,s,v){return it(w(i),function(h){return Dn(h,s)?v(h)?[h]:[]:Se(h,s,v)})},Pc=function(i,s,v){if(v===void 0&&(v=Zt),v(s))return oe.none();if(Hr(i,zr(s)))return oe.some(s);var h=function(y){return Dn(y,"table")||v(y)};return ns(s,i.join(","),h)},Ts=function(i,s){return Pc(["td","th"],i,s)},os=function(i){return $i(i,"th,td")},rc=function(i){return Dn(i,"colgroup")?Wl(i,"col"):it(Lf(i),function(s){return Wl(s,"col")})},yr=function(i,s){return La(i,"table",s)},Io=function(i){return $i(i,"tr")},Lf=function(i){return yr(i).fold(yt([]),function(s){return Wl(s,"colgroup")})},Ev=function(i,s){return Je(i,function(v){if(zr(v)==="colgroup"){var h=Je(rc(v),function(y){var E=pi(y,"span",1);return kr(y,1,E)});return yo(v,h,"colgroup")}else{var h=Je(os(v),function(E){var B=pi(E,"rowspan",1),I=pi(E,"colspan",1);return kr(E,B,I)});return yo(v,h,s(v))}})},Cn=function(i){return nc(i).map(function(s){var v=zr(s);return ut(v)?v:"tbody"}).getOr("tbody")},Sc=function(i){var s=Io(i),v=Lf(i),h=Ut(Ut([],v,!0),s,!0);return Ev(h,Cn)},z1=function(i,s){return Ev(i,function(){return s})},as=function(i,s,v){var h=i.cells,y=h.slice(0,s),E=h.slice(s),B=y.concat(v).concat(E);return Ln(i,B)},is=function(i,s,v){return as(i,s,[v])},ql=function(i,s,v){var h=i.cells;h[s]=v},Ln=function(i,s){return Eu(i.element,s,i.section,i.isNew)},us=function(i,s){var v=i.cells,h=Je(v,s);return Eu(i.element,h,i.section,i.isNew)},oc=function(i,s){return i.cells[s]},ac=function(i,s){return oc(i,s).element},Ir=function(i){return i.cells.length},Ja=function(i){var s=Rr(i,function(v){return v.section==="colgroup"});return{rows:s.fail,cols:s.pass}},Cd=function(i,s,v){var h=Je(i.cells,v);return Eu(s(i.element),h,i.section,!0)},Ys="data-snooker-locked-cols",Tn=function(i){return hi(i,Ys).bind(function(s){return oe.from(s.match(/\d+/g))}).map(function(s){return Vt(s,Wt)})},Os=function(i){var s=ee(Ja(i).rows,function(h,y){return zt(y.cells,function(E,B){E.isLocked&&(h[B]=!0)}),h},{}),v=Yi(s,function(h,y){return parseInt(y,10)});return En(v)},jt=function(i,s){return i+","+s},xd=function(i,s,v){return oe.from(i.access[jt(s,v)])},Va=function(i,s,v){var h=Hf(i,function(y){return v(s,y.element)});return h.length>0?oe.some(h[0]):oe.none()},Hf=function(i,s){var v=it(i.all,function(h){return h.cells});return Gr(v,s)},Ua=function(i){var s={},v=0;return zt(i.cells,function(h){var y=h.colspan;Eo(y,function(E){var B=v+E;s[B]=xc(h.element,y,B)}),v+=y}),s},_h=function(i){var s={},v=[],h=tn(i).map(function(xt){return xt.element}).bind(yr),y=h.bind(Tn).getOr({}),E=0,B=0,I=0,J=Rr(i,function(xt){return xt.section==="colgroup"}),ce=J.pass,be=J.fail;zt(be,function(xt){var _t=[];zt(xt.cells,function(xn){for(var Lr=0;s[jt(I,Lr)]!==void 0;)Lr++;for(var ln=he(y,Lr.toString()),Pn=bo(xn.element,xn.rowspan,xn.colspan,I,Lr,ln),pr=0;pr<xn.colspan;pr++)for(var gr=0;gr<xn.rowspan;gr++){var ei=I+gr,Wi=Lr+pr,ji=jt(ei,Wi);s[ji]=Pn,B=Math.max(B,Wi+1)}_t.push(Pn)}),E++,v.push(yo(xt.element,_t,xt.section)),I++});var We=xa(ce).map(function(xt){var _t=Ua(xt),xn=gl(xt.element,ts(_t));return{colgroups:[xn],columns:_t}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),ft=We.columns,et=We.colgroups,Ue=an(E,B);return{grid:Ue,access:s,all:v,columns:ft,colgroups:et}},Js=function(i){var s=Sc(i);return _h(s)},Co=function(i){return it(i.all,function(s){return s.cells})},Wa=function(i){return ts(i.columns)},Zo=function(i){return di(i.columns).length>0},zc=function(i,s){return oe.from(i.columns[s])},Qn={fromTable:Js,generate:_h,getAt:xd,findItem:Va,filterItems:Hf,justCells:Co,justColumns:Wa,hasColumns:Zo,getColumnAt:zc},$u=function(i,s){var v=s.column,h=s.column+s.colspan-1,y=s.row,E=s.row+s.rowspan-1;return v<=i.finishCol&&h>=i.startCol&&y<=i.finishRow&&E>=i.startRow},F1=function(i,s){return s.column>=i.startCol&&s.column+s.colspan-1<=i.finishCol&&s.row>=i.startRow&&s.row+s.rowspan-1<=i.finishRow},Bh=function(i,s){for(var v=!0,h=tr(F1,s),y=s.startRow;y<=s.finishRow;y++)for(var E=s.startCol;E<=s.finishCol;E++)v=v&&Qn.getAt(i,y,E).exists(h);return v?oe.some(s):oe.none()},Sd=function(i,s){return In(Math.min(i.row,s.row),Math.min(i.column,s.column),Math.max(i.row+i.rowspan-1,s.row+s.rowspan-1),Math.max(i.column+i.colspan-1,s.column+s.colspan-1))},Gl=function(i,s,v){var h=Qn.findItem(i,s,ir),y=Qn.findItem(i,v,ir);return h.bind(function(E){return y.map(function(B){return Sd(E,B)})})},O=function(i,s,v){return Gl(i,s,v).bind(function(h){return Bh(i,h)})},z=function(i,s,v,h){return Qn.findItem(i,s,ir).bind(function(y){var E=v>0?y.row+y.rowspan-1:y.row,B=h>0?y.column+y.colspan-1:y.column,I=Qn.getAt(i,E+v,B+h);return I.map(function(J){return J.element})})},V=function(i,s,v){return Gl(i,s,v).map(function(h){var y=Qn.filterItems(i,tr($u,h));return Je(y,function(E){return E.element})})},se=function(i,s){var v=function(h,y){return ga(y,h)};return Qn.findItem(i,s,v).map(function(h){return h.element})},Te=function(i,s,v){return yr(i).bind(function(h){var y=Pe(h);return z(y,i,s,v)})},ht=function(i,s,v){var h=Pe(i);return V(h,s,v)},sn=function(i,s,v,h,y){var E=Pe(i),B=ir(i,v)?oe.some(s):se(E,s),I=ir(i,y)?oe.some(h):se(E,h);return B.bind(function(J){return I.bind(function(ce){return V(E,J,ce)})})},cr=function(i,s,v){var h=Pe(i);return O(h,s,v)},Pe=Qn.fromTable,sr=function(i,s){var v=nc(i);v.each(function(h){h.dom.insertBefore(s.dom,i.dom)})},Do=function(i,s){var v=k(i);v.fold(function(){var h=nc(i);h.each(function(y){ia(y,s)})},function(h){sr(h,s)})},Ti=function(i,s){var v=W(i);v.fold(function(){ia(i,s)},function(h){i.dom.insertBefore(s.dom,h.dom)})},ia=function(i,s){i.dom.appendChild(s.dom)},kd=function(i,s,v){D(i,v).fold(function(){ia(i,s)},function(h){sr(h,s)})},Xm=function(i,s){sr(i,s),ia(s,i)},I1=function(i,s){zt(s,function(v){sr(i,v)})},Nh=function(i,s){zt(s,function(v,h){var y=h===0?i:s[h-1];Do(y,v)})},ic=function(i,s){zt(s,function(v){ia(i,v)})},un=function(i){i.dom.textContent="",zt(w(i),function(s){vu(s)})},vu=function(i){var s=i.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Mh=function(i){var s=w(i);s.length>0&&I1(i,s),vu(i)},Ph=function(i,s){var v=function(E){if(!i(E))throw new Error("Can only get "+s+" value of a "+s+" node");return h(E).getOr("")},h=function(E){return i(E)?oe.from(E.dom.nodeValue):oe.none()},y=function(E,B){if(!i(E))throw new Error("Can only set raw "+s+" value of a "+s+" node");E.dom.nodeValue=B};return{get:v,getOption:h,set:y}},Ym=Ph(lu,"text"),Ed=function(i){return Ym.get(i)},iy=function(i){return Ym.getOption(i)},yl=function(i,s){return Ym.set(i,s)},Tv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function L1(){var i=function(ce){return Le.fromDom(ce.dom.cloneNode(!1))},s=function(ce){return je(ce).dom},v=function(ce){return tc(ce)?zr(ce)==="body"?!0:Hr(Tv,zr(ce)):!1},h=function(ce){return tc(ce)?Hr(["br","img","hr","input"],zr(ce)):!1},y=function(ce){return tc(ce)&&rs(ce,"contenteditable")==="false"},E=function(ce,be){return ce.dom.compareDocumentPosition(be.dom)},B=function(ce,be){var We=Hu(ce);kv(be,We)},I=function(ce){var be=zr(ce);return Hr(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],be)},J=function(ce){return tc(ce)?hi(ce,"lang"):oe.none()};return{up:yt({selector:ns,closest:La,predicate:fu,all:ui}),down:yt({selector:ws,predicate:on}),styles:yt({get:wn,getRaw:_a,set:$e,remove:$a}),attrs:yt({get:rs,set:Ha,remove:zo,copyTo:B}),insert:yt({before:sr,after:Do,afterAll:Nh,append:ia,appendAll:ic,prepend:Ti,wrap:Xm}),remove:yt({unwrap:Mh,remove:vu}),create:yt({nu:Le.fromTag,clone:i,text:Le.fromText}),query:yt({comparePosition:E,prevSibling:P,nextSibling:k}),property:yt({children:w,name:zr,parent:nc,document:s,isText:lu,isComment:Ul,isElement:tc,isSpecial:I,getLanguage:J,getText:Ed,setText:yl,isBoundary:v,isEmptyTag:h,isNonEditable:y}),eq:ir,is:Cc}}var Kk=function(i,s,v,h){var y=v[0],E=v.slice(1);return h(i,s,y,E)},H1=function(i,s,v){return v.length>0?Kk(i,s,v,$1):oe.none()},$1=function(i,s,v,h){var y=s(i,v);return br(h,function(E,B){var I=s(i,B);return tu(i,E,I)},y)},tu=function(i,s,v){return s.bind(function(h){return v.filter(tr(i.eq,h))})},ha=function(i,s){return tr(i.eq,s)},uc=function(i,s,v,h){h===void 0&&(h=Zt);var y=[s].concat(i.up().all(s)),E=[v].concat(i.up().all(v)),B=function(be){var We=Kr(be,h);return We.fold(function(){return be},function(ft){return be.slice(0,ft+1)})},I=B(y),J=B(E),ce=Mo(I,function(be){return ot(J,ha(i,be))});return{firstpath:I,secondpath:J,shared:ce}},Td=H1,wl=uc,Ov=L1(),As=function(i,s){return Td(Ov,function(v,h){return i(h)},s)},mC=function(i,s,v){return wl(Ov,i,s,v)},V1=function(i){return ns(i,"table")},Av=function(i,s,v){var h=function(y){return function(E){return v!==void 0&&v(E)||ir(E,y)}};return ir(i,s)?oe.some({boxes:oe.some([i]),start:i,finish:s}):V1(i).bind(function(y){return V1(s).bind(function(E){if(ir(y,E))return oe.some({boxes:ht(y,i,s),start:i,finish:s});if(ga(y,E)){var B=gi(s,"td,th",h(y)),I=B.length>0?B[B.length-1]:s;return oe.some({boxes:sn(y,i,y,s,E),start:i,finish:I})}else if(ga(E,y)){var B=gi(i,"td,th",h(E)),J=B.length>0?B[B.length-1]:i;return oe.some({boxes:sn(E,i,y,s,E),start:i,finish:J})}else return mC(i,s).shared.bind(function(ce){return La(ce,"table",v).bind(function(be){var We=gi(s,"td,th",h(be)),ft=We.length>0?We[We.length-1]:s,et=gi(i,"td,th",h(be)),Ue=et.length>0?et[et.length-1]:i;return oe.some({boxes:sn(be,i,y,s,E),start:Ue,finish:ft})})})})})},Jm=function(i,s){var v=ws(i,s);return v.length>0?oe.some(v):oe.none()},Od=function(i,s){return Mo(i,function(v){return Dn(v,s)})},uy=function(i,s,v){return zf(i,s).bind(function(h){return zf(i,v).bind(function(y){return As(V1,[h,y]).map(function(E){return{first:h,last:y,table:E}})})})},Ds=function(i,s){return ns(i,"table").bind(function(v){return zf(v,s).bind(function(h){return Av(h,i).bind(function(y){return y.boxes.map(function(E){return{boxes:E,start:y.start,finish:y.finish}})})})})},U1=function(i,s,v,h,y){return Od(i,y).bind(function(E){return Te(E,s,v).bind(function(B){return Ds(B,h)})})},Oi=function(i,s){return Jm(i,s)},Qa=function(i,s,v){return uy(i,s,v).bind(function(h){var y=function(J){return ir(i,J)},E="thead,tfoot,tbody,table",B=ns(h.first,E,y),I=ns(h.last,E,y);return B.bind(function(J){return I.bind(function(ce){return ir(J,ce)?cr(h.table,h.first,h.last):oe.none()})})})},Ad=function(i){if(!qr(i))throw new Error("cases must be an array");if(i.length===0)throw new Error("there must be at least one case");var s=[],v={};return zt(i,function(h,y){var E=di(h);if(E.length!==1)throw new Error("one and only one name per case");var B=E[0],I=h[B];if(v[B]!==void 0)throw new Error("duplicate key detected:"+B);if(B==="cata")throw new Error("cannot have a case named cata (sorry)");if(!qr(I))throw new Error("case arguments must be an array");s.push(B),v[B]=function(){for(var J=[],ce=0;ce<arguments.length;ce++)J[ce]=arguments[ce];var be=J.length;if(be!==I.length)throw new Error("Wrong number of arguments to case "+B+". Expected "+I.length+" ("+I+"), got "+be);var We=function(ft){var et=di(ft);if(s.length!==et.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+et.join(","));var Ue=Et(s,function(xt){return Hr(et,xt)});if(!Ue)throw new Error("Not all branches were specified when using match. Specified: "+et.join(", ")+`
Required: `+s.join(", "));return ft[B].apply(null,J)};return{fold:function(){for(var ft=[],et=0;et<arguments.length;et++)ft[et]=arguments[et];if(ft.length!==i.length)throw new Error("Wrong number of arguments to fold. Expected "+i.length+", got "+ft.length);var Ue=ft[y];return Ue.apply(null,J)},match:We,log:function(ft){console.log(ft,{constructors:s,constructor:B,params:J})}}}}),v},Rs={generate:Ad},Qm=Rs.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Fc=function(i,s,v,h){return i.fold(s,v,h)},W1=Qm.none,cy=Qm.multiple,j1=Qm.single,si=function(i,s,v){var h=function(){return Oi(i(),v).fold(function(){return s().fold(W1,j1)},function(y){return cy(y)})};return{get:h}},$f=tinymce.util.Tools.resolve("tinymce.PluginManager"),gC=function(i,s){return Le.fromDom(i.dom.cloneNode(s))},Zm=function(i){return gC(i,!1)},li=function(i){return gC(i,!0)},Dd=function(i,s){var v=Le.fromTag(s),h=Hu(i);return kv(v,h),v},zh=function(i,s){var v=Dd(i,s),h=w(li(i));return ic(v,h),v},Fh=function(i,s){var v=Dd(i,s);sr(i,v);var h=w(i);return ic(v,h),vu(i),v},hC=function(i,s){var v=function(I,J){if(!qo(J)&&!J.match(/^[0-9]+$/))throw new Error(i+".set accepts only positive integer values. Value was "+J);var ce=I.dom;Ra(ce)&&(ce.style[i]=J+"px")},h=function(I){var J=s(I);if(J<=0||J===null){var ce=wn(I,i);return parseFloat(ce)||0}return J},y=h,E=function(I,J){return ee(J,function(ce,be){var We=wn(I,be),ft=We===void 0?0:parseInt(We,10);return isNaN(ft)?ce:ce+ft},0)},B=function(I,J,ce){var be=E(I,ce),We=J>be?J-be:0;return We};return{set:v,get:h,getOuter:y,aggregate:E,max:B}},eg=function(){var i=re().browser;return i.isIE()||i.isEdge()},Xk=function(i,s){return xu(i).getOr(s)},tg=function(i,s,v){return Xk(wn(i,s),v)},pC=function(i){return wn(i,"box-sizing")},kc=function(i,s,v,h){var y=tg(i,"padding-"+v,0),E=tg(i,"padding-"+h,0),B=tg(i,"border-"+v+"-width",0),I=tg(i,"border-"+h+"-width",0);return s-y-E-B-I},sy=function(i,s){var v=i.dom,h=v.getBoundingClientRect().height||v.offsetHeight;return s==="border-box"?h:kc(i,h,"top","bottom")},_s=function(i,s){var v=i.dom,h=v.getBoundingClientRect().width||v.offsetWidth;return s==="border-box"?h:kc(i,h,"left","right")},Rd=function(i){return eg()?sy(i,pC(i)):tg(i,"height",i.dom.offsetHeight)},Ec=function(i){return eg()?_s(i,pC(i)):tg(i,"width",i.dom.offsetWidth)},Kl=function(i){return _s(i,"content-box")},_d=hC("width",function(i){return i.dom.offsetWidth}),Cl=function(i){return _d.get(i)},Xl=function(i){return _d.getOuter(i)},Ih=Kl,Bd=Ec,ng=function(i,s){s===void 0&&(s=Wt);var v=i.grid,h=Eo(v.columns,hn),y=Eo(v.rows,hn);return Je(h,function(E){var B=function(){return it(y,function(ce){return Qn.getAt(i,ce,E).filter(function(be){return be.column===E}).toArray()})},I=function(ce){return ce.colspan===1&&s(ce.element)},J=function(){return Qn.getAt(i,0,E)};return bC(B,I,J)})},bC=function(i,s,v){var h=i(),y=Mo(h,s),E=y.orThunk(function(){return oe.from(h[0]).orThunk(v)});return E.map(function(B){return B.element})},rg=function(i){var s=i.grid,v=Eo(s.rows,hn),h=Eo(s.columns,hn);return Je(v,function(y){var E=function(){return it(h,function(J){return Qn.getAt(i,y,J).filter(function(ce){return ce.row===y}).fold(yt([]),function(ce){return[ce]})})},B=function(J){return J.rowspan===1},I=function(){return Qn.getAt(i,y,0)};return bC(E,B,I)})},cc=function(i,s){if(s<0||s>=i.length-1)return oe.none();var v=i[s].fold(function(){var y=Ot(i.slice(0,s));return eo(y,function(E,B){return E.map(function(I){return{value:I,delta:B+1}})})},function(y){return oe.some({value:y,delta:0})}),h=i[s+1].fold(function(){var y=i.slice(s+1);return eo(y,function(E,B){return E.map(function(I){return{value:I,delta:B+1}})})},function(y){return oe.some({value:y,delta:1})});return v.bind(function(y){return h.map(function(E){var B=E.delta+y.delta;return Math.abs(E.value-y.value)/B})})},Dv=function(i,s){return function(v){return Lh(v)==="rtl"?s:i}},Lh=function(i){return wn(i,"direction")==="rtl"?"rtl":"ltr"},fi=hC("height",function(i){var s=i.dom;return dn(i)?s.getBoundingClientRect().height:s.offsetHeight}),Nd=function(i){return fi.get(i)},Yl=function(i){return fi.getOuter(i)},ly=Rd,Rv=function(i,s){var v=function(h,y){return Rv(i+h,s+y)};return{left:i,top:s,translate:v}},Ic=Rv,Md=function(i){var s=i.getBoundingClientRect();return Ic(s.left,s.top)},Vu=function(i,s){return i!==void 0?i:s!==void 0?s:0},_v=function(i){var s=i.dom.ownerDocument,v=s.body,h=s.defaultView,y=s.documentElement;if(v===i.dom)return Ic(v.offsetLeft,v.offsetTop);var E=Vu(h==null?void 0:h.pageYOffset,y.scrollTop),B=Vu(h==null?void 0:h.pageXOffset,y.scrollLeft),I=Vu(y.clientTop,v.clientTop),J=Vu(y.clientLeft,v.clientLeft);return Uo(i).translate(B-J,E-I)},Uo=function(i){var s=i.dom,v=s.ownerDocument,h=v.body;return h===s?Ic(h.offsetLeft,h.offsetTop):dn(i)?Md(s):Ic(0,0)},ua=function(i,s){return{row:i,y:s}},Bs=function(i,s){return{col:i,x:s}},yC=function(i){var s=_v(i);return s.left+Xl(i)},Jl=function(i){return _v(i).left},Hh=function(i,s){return Bs(i,Jl(s))},$h=function(i,s){return Bs(i,yC(s))},fy=function(i){return _v(i).top},vy=function(i,s){return ua(i,fy(s))},wC=function(i,s){return ua(i,fy(s)+Yl(s))},q1=function(i,s,v){if(v.length===0)return[];var h=Je(v.slice(1),function(E,B){return E.map(function(I){return i(B,I)})}),y=v[v.length-1].map(function(E){return s(v.length-1,E)});return h.concat([y])},CC=function(i){return-i},Vh={delta:hn,positions:function(i){return q1(vy,wC,i)},edge:fy},og={delta:hn,edge:Jl,positions:function(i){return q1(Hh,$h,i)}},Yk={delta:CC,edge:yC,positions:function(i){return q1($h,Hh,i)}},G1=Dv(og,Yk),ag={delta:function(i,s){return G1(s).delta(i,s)},positions:function(i,s){return G1(s).positions(i,s)},edge:function(i){return G1(i).edge(i)}},xC={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},du=function(){var i="[0-9]+",s="[+-]?"+i,v="[eE]"+s,h="\\.",y=function(I){return"(?:"+I+")?"},E=["Infinity",i+h+y(i)+y(v),h+i+y(v),i+y(v)].join("|"),B="[+-]?(?:"+E+")";return new RegExp("^("+B+")(.*)$")}(),cs=function(i,s){return ot(s,function(v){return ot(xC[v],function(h){return i===h})})},dy=function(i,s){var v=oe.from(du.exec(i));return v.bind(function(h){var y=Number(h[1]),E=h[2];return cs(E,s)?oe.some({value:y,unit:E}):oe.none()})},Bv=/(\d+(\.\d+)?)%/,Jk=/(\d+(\.\d+)?)px|em/,my=Zi("col"),Uh=function(i,s,v){var h=pl(i).getOrThunk(function(){return Vr(ys(i))});return s(i)/v(h)*100},Uu=function(i,s){$e(i,"width",s+"px")},mu=function(i,s){$e(i,"width",s+"%")},Wh=function(i,s){$e(i,"height",s+"px")},SC=function(i){return ly(i)+"px"},kC=function(i,s,v,h){var y=yr(i).map(function(E){var B=v(E);return Math.floor(s/100*B)}).getOr(s);return h(i,y),y},jh=function(i,s,v,h){var y=parseFloat(i);return za(i,"%")&&zr(s)!=="table"?kC(s,y,v,h):y},K1=function(i){var s=SC(i);return s?jh(s,i,Nd,Wh):Nd(i)},Ai=function(i,s,v){var h=v(i),y=jn(i,s);return h/y},Qs=function(i,s){return _a(i,s).orThunk(function(){return hi(i,s).map(function(v){return v+"px"})})},Pd=function(i){return Qs(i,"width")},vi=function(i){return Qs(i,"height")},ig=function(i){return Uh(i,Cl,Ih)},Vf=function(i){return my(i)?Cl(i):Bd(i)},EC=function(i){return Ai(i,"rowspan",K1)},X1=function(i){var s=Pd(i);return s.bind(function(v){return dy(v,["fixed","relative","empty"])})},Y1=function(i,s,v){$e(i,"width",s+v)},Qk=function(i){return Cl(i)+"px"},TC=function(i){return Uh(i,Cl,Ih)+"%"},J1=function(i){return Pd(i).exists(function(s){return Bv.test(s)})},gy=function(i){return Pd(i).exists(function(s){return Jk.test(s)})},zd=function(i){return Pd(i).isNone()},Ql=yt(Bv),Q1=Zi("col"),Qr=function(i){return Pd(i).getOrThunk(function(){return Vf(i)+"px"})},Lc=function(i){return vi(i).getOrThunk(function(){return EC(i)+"px"})},Ns=function(i){return Je(Qn.justColumns(i),function(s){return oe.from(s.element)})},hy=function(i){var s=re().browser,v=s.isChrome()||s.isFirefox();return Q1(i)?v:!0},Lo=function(i,s,v,h,y,E){return i.filter(h).fold(function(){return E(cc(v,s))},function(B){return y(B)})},qh=function(i,s,v,h){var y=ng(i),E=Qn.hasColumns(i)?Ns(i):y,B=[oe.some(ag.edge(s))].concat(Je(ag.positions(y,s),function(J){return J.map(function(ce){return ce.x})})),I=Ft(ks);return Je(E,function(J,ce){return Lo(J,ce,B,I,function(be){if(hy(be))return v(be);var We=Dh(y[ce],hn);return Lo(We,ce,B,I,function(ft){return h(oe.some(Cl(ft)))},h)},h)})},Di=function(i){return i.map(function(s){return s+"px"}).getOr("")},Fd=function(i,s){return qh(i,s,Qr,Di)},gu=function(i,s,v){return qh(i,s,ig,function(h){return h.fold(function(){return v.minCellWidth()},function(y){return y/v.pixelWidth()*100})})},Gh=function(i,s,v){return qh(i,s,Vf,function(h){return h.getOrThunk(v.minCellWidth)})},Kh=function(i,s,v,h,y){var E=rg(i),B=[oe.some(v.edge(s))].concat(Je(v.positions(E,s),function(I){return I.map(function(J){return J.y})}));return Je(E,function(I,J){return Lo(I,J,B,Ft(Rh),h,y)})},py=function(i,s,v){return Kh(i,s,v,EC,function(h){return h.getOrThunk(ci)})},by=function(i,s,v){return Kh(i,s,v,Lc,Di)},Zs=function(i,s){return function(){return dn(i)?s(i):parseFloat(_a(i,"width").getOr("0"))}},xl=function(i){var s=Zs(i,Cl),v=yt(0),h=function(y,E){return Gh(y,i,E)};return{width:s,pixelWidth:s,getWidths:h,getCellDelta:v,singleColumnWidth:yt([0]),minCellWidth:v,setElementWidth:lt,adjustTableWidth:lt,isRelative:!0,label:"none"}},Z1=function(i){var s=Zs(i,function(J){return parseFloat(TC(J))}),v=Zs(i,Cl),h=function(J){return J/v()*100},y=function(J,ce){return[100-J]},E=function(){return Es()/v()*100},B=function(J){var ce=s(),be=J/100*ce,We=ce+be;mu(i,We)},I=function(J,ce){return gu(J,i,ce)};return{width:s,pixelWidth:v,getWidths:I,getCellDelta:h,singleColumnWidth:y,minCellWidth:E,setElementWidth:mu,adjustTableWidth:B,isRelative:!0,label:"percent"}},Nv=function(i){var s=Zs(i,Cl),v=hn,h=function(B,I){var J=Math.max(Es(),B+I);return[J-B]},y=function(B){var I=s()+B;Uu(i,I)},E=function(B,I){return Gh(B,i,I)};return{width:s,pixelWidth:s,getWidths:E,getCellDelta:v,singleColumnWidth:h,minCellWidth:Es,setElementWidth:Uu,adjustTableWidth:y,isRelative:!1,label:"pixel"}},Du=function(i,s){var v=Ql().exec(s);return v!==null?Z1(i):Nv(i)},e0=function(i){var s=Pd(i);return s.fold(function(){return xl(i)},function(v){return Du(i,v)})},Mv={getTableSize:e0,pixelSize:Nv,percentageSize:Z1,noneSize:xl},yy=function(i,s,v,h,y,E){return{minRow:i,minCol:s,maxRow:v,maxCol:h,allCells:y,selectedCells:E}},nu=function(i,s){var v=i.grid.columns,h=i.grid.rows,y=h,E=v,B=0,I=0,J=[],ce=[];return vo(i.access,function(be){if(J.push(be),s(be)){ce.push(be);var We=be.row,ft=We+be.rowspan-1,et=be.column,Ue=et+be.colspan-1;We<y?y=We:ft>B&&(B=ft),et<E?E=et:Ue>I&&(I=Ue)}}),yy(y,E,B,I,J,ce)},t0=function(i,s,v){var h=i[v].element,y=Le.fromTag("td");ia(y,Le.fromTag("br"));var E=s?ia:Ti;E(h,y)},OC=function(i,s,v,h){for(var y=s.grid.columns,E=s.grid.rows,B=0;B<E;B++)for(var I=!1,J=0;J<y;J++)if(!(B<v.minRow||B>v.maxRow||J<v.minCol||J>v.maxCol)){var ce=Qn.getAt(s,B,J).filter(h).isNone();ce?t0(i,I,B):I=!0}},ru=function(i,s,v,h){vo(v.columns,function(B){(B.column<s.minCol||B.column>s.maxCol)&&vu(B.element)});var y=Gr($i(i,"tr"),function(B){return B.dom.childElementCount===0});zt(y,vu),(s.minCol===s.maxCol||s.minRow===s.maxRow)&&zt($i(i,"th,td"),function(B){zo(B,"rowspan"),zo(B,"colspan")}),zo(i,Ys),zo(i,"data-snooker-col-series");var E=Mv.getTableSize(i);E.adjustTableWidth(h)},n0=function(i,s,v,h){if(h.minCol===0&&s.grid.columns===h.maxCol+1)return 0;var y=Gh(s,i,v),E=ee(y,function(ce,be){return ce+be},0),B=ee(y.slice(h.minCol,h.maxCol+1),function(ce,be){return ce+be},0),I=B/E*v.pixelWidth(),J=I-v.pixelWidth();return v.getCellDelta(J)},Uf=function(i,s){var v=function(ft){return Dn(ft.element,s)},h=li(i),y=Sc(h),E=Mv.getTableSize(i),B=Qn.generate(y),I=nu(B,v),J="th:not("+s+"),td:not("+s+")",ce=Se(h,"th,td",function(ft){return Dn(ft,J)});zt(ce,vu),OC(y,B,I,v);var be=Qn.fromTable(i),We=n0(i,be,E,I);return ru(h,I,B,We),h},Zl="\xA0",Sl=function(i){return zr(i)==="img"?1:iy(i).fold(function(){return w(i).length},function(s){return s.length})},Wf=function(i){return iy(i).filter(function(s){return s.trim().length!==0||s.indexOf(Zl)>-1}).isSome()},Ms=["img","br"],wy=function(i){var s=Wf(i);return s||Hr(Ms,zr(i))},ss=function(i){return Sv(i,wy)},r0=function(i){return Cy(i,wy)},Cy=function(i,s){var v=function(h){for(var y=w(h),E=y.length-1;E>=0;E--){var B=y[E];if(s(B))return oe.some(B);var I=v(B);if(I.isSome())return I}return oe.none()};return v(i)},AC={scope:["row","col"]},Xh=function(i){return function(){var s=Le.fromTag("td",i.dom);return ia(s,Le.fromTag("br",i.dom)),s}},Yh=function(i){return function(){return Le.fromTag("col",i.dom)}},ug=function(i){return function(){return Le.fromTag("colgroup",i.dom)}},jf=function(i){return function(){return Le.fromTag("tr",i.dom)}},qf=function(i,s,v){var h=zh(i,s);return vo(v,function(y,E){y===null?zo(h,E):Ha(h,E,y)}),h},xy=function(i){return i},Pv=function(i,s,v){var h=ss(i);return h.map(function(y){var E=v.join(","),B=gi(y,E,function(I){return ir(I,i)});return br(B,function(I,J){var ce=Zm(J);return zo(ce,"contenteditable"),ia(I,ce),ce},s)}).getOr(s)},Vi=function(i,s){vo(AC,function(v,h){return hi(i,h).filter(function(y){return Hr(v,y)}).each(function(y){return Ha(s,h,y)})})},Ho=function(i,s,v){var h=function(B,I){If(B.element,I),$a(I,"height"),B.colspan!==1&&$a(I,"width")},y=function(B){var I=Le.fromTag(zr(B.element),s.dom),J=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ce=J.length>0?Pv(B.element,I,J):I;return ia(ce,Le.fromTag("br")),h(B,I),Vi(B.element,I),i(B.element,I),I},E=function(B){var I=Le.fromTag(zr(B.element),s.dom);return h(B,I),i(B.element,I),I};return{col:E,colgroup:ug(s),row:jf(s),cell:y,replace:qf,colGap:Yh(s),gap:Xh(s)}},cg=function(i){return{col:Yh(i),colgroup:ug(i),row:jf(i),cell:Xh(i),replace:xy,colGap:Yh(i),gap:Xh(i)}},Sy=function(i,s){var v=s||document,h=v.createElement("div");return h.innerHTML=i,w(Le.fromDom(h))},zv=function(i){return Je(i,Le.fromDom)},Hc=function(i){return i.nodeName.toLowerCase()},$c=function(i){return Le.fromDom(i.getBody())},Ri=function(i){return i.getBoundingClientRect().width},ja=function(i){return i.getBoundingClientRect().height},pa=function(i){return function(s){return ir(s,$c(i))}},_i=function(i){return i?i.replace(/px$/,""):""},Ro=function(i){return/^\d+(\.\d+)?$/.test(i)?i+"px":i},Ba=function(i){zo(i,"data-mce-style");var s=function(v){return zo(v,"data-mce-style")};zt(os(i),s),zt(rc(i),s),zt(Io(i),s)},ef=function(i,s){var v=i.dom.getStyle(s,"width")||i.dom.getAttrib(s,"width");return oe.from(v).filter(Ii)},Fv=function(i){return/^(\d+(\.\d+)?)%$/.test(i)},Id=function(i){return/^(\d+(\.\d+)?)px$/.test(i)},Tt=function(i){return Le.fromDom(i.selection.getStart())},Jh=function(i){return Le.fromDom(i.selection.getEnd())},ou=function(i){return Fc(i.get(),yt([]),hn,tt)},kl=function(i){var s=function(y,E){return hi(y,E).exists(function(B){return parseInt(B,10)>1})},v=function(y){return s(y,"rowspan")||s(y,"colspan")},h=ou(i);return h.length>0&&Et(h,v)?oe.some(h):oe.none()},au=function(i,s,v){return Fc(s.get(),oe.none,function(h){return h.length<=1?oe.none():Qa(i,v.firstSelectedSelector,v.lastSelectedSelector).map(function(y){return{bounds:y,cells:h}})},oe.none)},o0="data-mce-selected",a0="td["+o0+"],th["+o0+"]",ky="["+o0+"]",Qh="data-mce-first-selected",Ey="td["+Qh+"],th["+Qh+"]",Iv="data-mce-last-selected",Ty="td["+Iv+"],th["+Iv+"]",sg=ky,mo={selected:o0,selectedSelector:a0,firstSelected:Qh,firstSelectedSelector:Ey,lastSelected:Iv,lastSelectedSelector:Ty},bi=function(i){return{element:i,mergable:oe.none(),unmergable:oe.none(),selection:[i]}},Lv=function(i,s,v){return{element:v,mergable:au(s,i,mo),unmergable:kl(i),selection:ou(i)}},Hv=function(i,s,v){return{element:i,clipboard:s,generators:v}},DC=function(i,s,v,h){return{selection:ou(i),clipboard:v,generators:h}},Ld=function(i){return yr(i).bind(function(s){return Oi(s,mo.firstSelectedSelector)}).fold(yt(i),function(s){return s[0]})},Oy=function(i){return function(s,v){var h=zr(s),y=h==="col"||h==="colgroup"?Ld(s):s;return La(y,i,v)}},qa=Oy("th,td,caption"),Vc=Oy("th,td"),Gf=function(i){return ou(i)},i0=function(i,s){var v=Vc(i),h=v.bind(function(y){return yr(y)}).map(function(y){return Io(y)});return Ss(v,h,function(y,E){return Gr(E,function(B){return ot(zv(B.dom.cells),function(I){return rs(I,s)==="1"||ir(I,y)})})}).getOr([])},Ps=function(i){return yr(i[0]).map(function(s){var v=Uf(s,sg);return Ba(v),[v]})},Zk=function(i,s){return Je(s,function(v){return i.selection.serializer.serialize(v.dom,{})}).join("")},e3=function(i){return Je(i,function(s){return s.dom.innerText}).join("")},Ay=function(i,s,v){i.on("BeforeGetContent",function(h){var y=function(E){h.preventDefault(),Ps(E).each(function(B){h.content=h.format==="text"?e3(B):Zk(i,B)})};h.selection===!0&&Fc(s.get(),lt,y,lt)}),i.on("BeforeSetContent",function(h){if(h.selection===!0&&h.paste===!0){var y=Gf(s);tn(y).each(function(E){yr(E).each(function(B){var I=Gr(Sy(h.content),function(ft){return zr(ft)!=="meta"}),J=Zi("table");if(I.length===1&&J(I[0])){h.preventDefault();var ce=Le.fromDom(i.getDoc()),be=cg(ce),We=Hv(E,I[0],be);v.pasteCells(B,We).each(function(){i.focus()})}})})}})},u0=Rs.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Hd=mn({},u0),Zh=function(i,s){return i.length===0?Hd.none():i.length===1?Hd.only(0):s===0?Hd.left(0,1):s===i.length-1?Hd.right(s-1,s):s>0&&s<i.length-1?Hd.middle(s-1,s,s+1):Hd.none()},RC=function(i,s,v,h,y){var E=i.slice(0),B=Zh(i,s),I=yt(Je(E,yt(0))),J=function(ft){return h.singleColumnWidth(E[ft],v)},ce=function(ft,et){return y.calcLeftEdgeDeltas(E,ft,et,v,h.minCellWidth(),h.isRelative)},be=function(ft,et,Ue){return y.calcMiddleDeltas(E,ft,et,Ue,v,h.minCellWidth(),h.isRelative)},We=function(ft,et){return y.calcRightEdgeDeltas(E,ft,et,v,h.minCellWidth(),h.isRelative)};return B.fold(I,J,ce,be,We)},ep=function(i,s,v){for(var h=0,y=i;y<s;y++)h+=v[y]!==void 0?v[y]:0;return h},Dy=function(i,s){var v=Qn.justCells(i);return Je(v,function(h){var y=ep(h.column,h.column+h.colspan,s);return{element:h.element,width:y,colspan:h.colspan}})},tp=function(i,s){var v=Qn.justColumns(i);return Je(v,function(h,y){return{element:h.element,width:s[y],colspan:h.colspan}})},Ry=function(i,s){var v=Qn.justCells(i);return Je(v,function(h){var y=ep(h.row,h.row+h.rowspan,s);return{element:h.element,height:y,rowspan:h.rowspan}})},t3=function(i,s){return Je(i.all,function(v,h){return{element:v.element,height:s[h]}})},El=function(i){return br(i,function(s,v){return s+v},0)},$v=function(i,s){return Qn.hasColumns(i)?tp(i,s):Dy(i,s)},xo=function(i,s,v){var h=$v(i,s);zt(h,function(y){v.setElementWidth(y.element,y.width)})},Tl=function(i,s,v,h,y){var E=Qn.fromTable(i),B=y.getCellDelta(s),I=y.getWidths(E,y),J=v===E.grid.columns-1,ce=h.clampTableDelta(I,v,B,y.minCellWidth(),J),be=RC(I,v,ce,y,h),We=Je(be,function(ft,et){return ft+I[et]});xo(E,We,y),h.resizeTable(y.adjustTableWidth,ce,J)},ls=function(i,s,v,h){var y=Qn.fromTable(i),E=py(y,i,h),B=Je(E,function(be,We){return v===We?Math.max(s+be,ci()):be}),I=Ry(y,B),J=t3(y,B);zt(J,function(be){Wh(be.element,be.height)}),zt(I,function(be){Wh(be.element,be.height)});var ce=El(B);Wh(i,ce)},_C=function(i,s,v,h,y){var E=Qn.generate(s),B=h.getWidths(E,h),I=h.pixelWidth(),J=y.calcRedestributedWidths(B,I,v.pixelDelta,h.isRelative),ce=J.newSizes,be=J.delta;xo(E,ce,h),h.adjustTableWidth(be)},n3=function(i,s,v,h){var y=Qn.generate(s),E=h.getWidths(y,h);xo(y,E,h)},np=function(i){return Je(i,yt(0))},Kf=function(i,s,v,h,y){return y(i.slice(0,s)).concat(h).concat(y(i.slice(v)))},rp=function(i){return function(s,v,h,y){if(i(h)){var E=Math.max(y,s[v]-Math.abs(h)),B=Math.abs(E-s[v]);return h>=0?B:-B}else return h}},lg=rp(function(i){return i<0}),op=rp(Wt),ap=function(){var i=function(I,J,ce,be,We){var ft=lg(I,J,be,We);return Kf(I,J,ce+1,[ft,0],np)},s=function(I,J,ce,be){var We=(100+ce)/100,ft=Math.max(be,(I[J]+ce)/We);return Je(I,function(et,Ue){var xt=Ue===J?ft:et/We;return xt-et})},v=function(I,J,ce,be,We,ft){return ft?s(I,J,be,We):i(I,J,ce,be,We)},h=function(I,J,ce,be,We,ft,et){return v(I,ce,be,We,ft,et)},y=function(I,J){return I(J)},E=function(I,J,ce,be,We,ft){if(ft)return s(I,ce,be,We);var et=lg(I,ce,be,We);return np(I.slice(0,ce)).concat([et])},B=function(I,J,ce,be){if(be){var We=J+ce,ft=We/J,et=Je(I,function(Ue){return Ue/ft});return{delta:ft*100-100,newSizes:et}}else return{delta:ce,newSizes:I}};return{resizeTable:y,clampTableDelta:lg,calcLeftEdgeDeltas:v,calcMiddleDeltas:h,calcRightEdgeDeltas:E,calcRedestributedWidths:B}},fg=function(){var i=function(B,I,J,ce,be){var We=ce>=0?J:I,ft=op(B,We,ce,be);return Kf(B,I,J+1,[ft,-ft],np)},s=function(B,I,J,ce,be,We){return i(B,J,ce,be,We)},v=function(B,I,J){J&&B(I)},h=function(B,I,J,ce,be,We){if(We)return np(B);var ft=ce/B.length;return Je(B,yt(ft))},y=function(B,I,J,ce,be){if(be){if(J>=0)return J;var We=ee(B,function(ft,et){return ft+et-ce},0);return Math.max(-We,J)}else return lg(B,I,J,ce)},E=function(B,I,J,ce){return{delta:0,newSizes:B}};return{resizeTable:v,clampTableDelta:y,calcLeftEdgeDeltas:i,calcMiddleDeltas:s,calcRightEdgeDeltas:h,calcRedestributedWidths:E}},BC=function(i,s){var v=oe.from(i.dom.documentElement).map(Le.fromDom).getOr(i);return{parent:yt(v),view:yt(i),origin:yt(Ic(0,0)),isResizable:s}},ip=function(i,s,v){var h=function(){return _v(s)};return{parent:yt(s),view:yt(i),origin:h,isResizable:v}},c0=function(i,s,v){return{parent:yt(s),view:yt(i),origin:yt(Ic(0,0)),isResizable:v}},$d={only:BC,detached:ip,body:c0},up=Rs.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),_y=function(i,s,v){var h=v.substring(0,v.length-i.length),y=parseFloat(h);return h===y.toString()?s(y):up.invalid(v)},s0=function(i){return za(i,"%")?_y("%",up.percent,i):za(i,"px")?_y("px",up.pixels,i):up.invalid(i)},Vd=mn(mn({},up),{from:s0}),r3=function(i,s){return Je(i,function(v){var h=Vd.from(v);return h.fold(function(){return v},function(y){var E=y/s*100;return E+"%"},function(y){return y+"%"})})},cp=function(i,s,v){var h=v/s;return Je(i,function(y){var E=Vd.from(y);return E.fold(function(){return y},function(B){return B*h+"px"},function(B){return B/100*v+"px"})})},By=function(i,s){var v=i.fold(function(){return yt("")},function(h){var y=h/s;return yt(y+"px")},function(){var h=100/s;return yt(h+"%")});return Eo(s,v)},Ud=function(i,s,v){return i.fold(function(){return s},function(h){return cp(s,v,h)},function(h){return r3(s,v)})},l0=function(i,s,v){var h=Vd.from(v),y=Et(i,function(E){return E==="0px"})?By(h,i.length):Ud(h,i,s);return Ny(y)},vg=function(i,s){return i.length===0?s:br(i,function(v,h){return Vd.from(h).fold(yt(0),hn,hn)+v},0)},dg=function(i,s){var v=Math.floor(i);return{value:v+s,remainder:i-v}},tf=function(i,s){return Vd.from(i).fold(yt(i),function(v){return v+s+"px"},function(v){return v+s+"%"})},Ny=function(i){if(i.length===0)return i;var s=br(i,function(h,y){var E=Vd.from(y).fold(function(){return{value:y,remainder:0}},function(B){return dg(B,"px")},function(B){return{value:B+"%",remainder:0}});return{output:[E.value].concat(h.output),remainder:h.remainder+E.remainder}},{output:[],remainder:0}),v=s.output;return v.slice(0,v.length-1).concat([tf(v[v.length-1],Math.round(s.remainder))])},NC=Vd.from,sc=function(i,s,v){zt(s,function(h){var y=i.slice(h.column,h.colspan+h.column),E=vg(y,Es());$e(h.element,"width",E+v)})},MC=function(i,s,v){zt(s,function(h,y){var E=vg([i[y]],Es());$e(h.element,"width",E+v)})},o3=function(i,s,v,h){zt(v,function(y){var E=i.slice(y.row,y.rowspan+y.row),B=vg(E,ci());$e(y.element,"height",B+h)}),zt(s,function(y,E){$e(y.element,"height",i[E])})},My=function(i){return NC(i).fold(yt("px"),yt("px"),yt("%"))},Wd=function(i,s,v){var h=Qn.fromTable(i),y=h.all,E=Qn.justCells(h),B=Qn.justColumns(h);s.each(function(I){var J=My(I),ce=Cl(i),be=Fd(h,i),We=l0(be,ce,I);Qn.hasColumns(h)?MC(We,B,J):sc(We,E,J),$e(i,"width",I)}),v.each(function(I){var J=My(I),ce=Nd(i),be=by(h,i,Vh),We=l0(be,ce,I);o3(We,y,E,J),$e(i,"height",I)})},sp=J1,Uc=gy,Py=zd,f0=function(i){var s=Qn.fromTable(i);return s.grid},fs=function(i){var s=[],v=function(E){if(E===void 0)throw new Error("Event bind error: undefined handler");s.push(E)},h=function(E){s=Gr(s,function(B){return B!==E})},y=function(){for(var E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];var I={};zt(i,function(J,ce){I[J]=E[ce]}),zt(s,function(J){J(I)})};return{bind:v,unbind:h,trigger:y}},Tc=function(i){var s=es(i,function(h){return{bind:h.bind,unbind:h.unbind}}),v=es(i,function(h){return h.trigger});return{registry:s,trigger:v}},zy=function(i,s){var v=null,h=function(){ke(v)||(clearTimeout(v),v=null)},y=function(){for(var E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];h(),v=setTimeout(function(){v=null,i.apply(null,E)},s)};return{cancel:h,throttle:y}},Vv=function(i){return i.slice(0).sort()},Fy=function(i,s){throw new Error("All required keys ("+Vv(i).join(", ")+") were not specified. Specified keys were: "+Vv(s).join(", ")+".")},v0=function(i){throw new Error("Unsupported keys for object: "+Vv(i).join(", "))},Iy=function(i,s){if(!qr(s))throw new Error("The "+i+" fields must be an array. Was: "+s+".");zt(s,function(v){if(!jo(v))throw new Error("The value "+v+" in the "+i+" fields was not a string.")})},nr=function(i,s){throw new Error("All values need to be of type: "+s+". Keys ("+Vv(i).join(", ")+") were not.")},mg=function(i){var s=Vv(i),v=Mo(s,function(h,y){return y<s.length-1&&h===s[y+1]});v.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+s.join(", ")+"].")})},PC=function(i,s){return Xf(i,s,{validate:Mr,label:"function"})},Xf=function(i,s,v){if(s.length===0)throw new Error("You must specify at least one required field.");return Iy("required",s),mg(s),function(h){var y=di(h),E=Et(s,function(I){return Hr(y,I)});E||Fy(s,y),i(s,y);var B=Gr(s,function(I){return!v.validate(h[I],I)});return B.length>0&&nr(B,v.label),h}},zC=function(i,s){var v=Gr(s,function(h){return!Hr(i,h)});v.length>0&&v0(v)},Yf=function(i){return PC(zC,i)},Ly=Yf(["compare","extract","mutate","sink"]),Uv=Yf(["element","start","stop","destroy"]),Ko=Yf(["forceDrop","drop","move","delayDrop"]),FC=function(){var i=oe.none(),s=function(){i=oe.none()},v=function(E,B){var I=i.map(function(J){return E.compare(J,B)});return i=oe.some(B),I},h=function(E,B){var I=B.extract(E);I.each(function(J){var ce=v(B,J);ce.each(function(be){y.trigger.move(be)})})},y=Tc({move:fs(["info"])});return{onEvent:h,reset:s,events:y.registry}},d0=function(){var i=Tc({move:fs(["info"])});return{onEvent:lt,reset:lt,events:i.registry}},IC=function(){var i=d0(),s=FC(),v=i,h=function(){v.reset(),v=s},y=function(){v.reset(),v=i},E=function(I,J){v.onEvent(I,J)},B=function(){return v===s};return{on:h,off:y,isOn:B,onEvent:E,events:s.events}},LC=function(i,s,v){var h=!1,y=Tc({start:fs([]),stop:fs([])}),E=IC(),B=function(){et.stop(),E.isOn()&&(E.off(),y.trigger.stop())},I=zy(B,200),J=function(xt){et.start(xt),E.on(),y.trigger.start()},ce=function(xt){I.cancel(),E.onEvent(xt,s)};E.events.move.bind(function(xt){s.mutate(i,xt.info)});var be=function(){h=!0},We=function(){h=!1},ft=function(xt){return function(){for(var _t=[],xn=0;xn<arguments.length;xn++)_t[xn]=arguments[xn];h&&xt.apply(null,_t)}},et=s.sink(Ko({forceDrop:B,drop:ft(B),move:ft(ce),delayDrop:ft(I.throttle)}),v),Ue=function(){et.destroy()};return{element:et.element,go:J,on:be,off:We,destroy:Ue,events:y.registry}},m0=function(i,s,v,h,y,E,B){return{target:i,x:s,y:v,stop:h,prevent:y,kill:E,raw:B}},jd=function(i){var s=Le.fromDom(Qt(i).getOr(i.target)),v=function(){return i.stopPropagation()},h=function(){return i.preventDefault()},y=mr(h,v);return m0(s,i.clientX,i.clientY,v,h,y,i)},g0=function(i,s){return function(v){i(v)&&s(jd(v))}},nf=function(i,s,v,h,y){var E=g0(v,h);return i.dom.addEventListener(s,E,y),{unbind:tr(HC,i,s,E,y)}},Wu=function(i,s,v,h){return nf(i,s,v,h,!1)},HC=function(i,s,v,h){i.dom.removeEventListener(s,v,h)},$C=Wt,ea=function(i,s,v){return Wu(i,s,$C,v)},Jf=jd,yi=function(i,s){var v=rs(i,s);return v===void 0||v===""?[]:v.split(" ")},Hy=function(i,s,v){var h=yi(i,s),y=h.concat([v]);return Ha(i,s,y.join(" ")),!0},VC=function(i,s,v){var h=Gr(yi(i,s),function(y){return y!==v});return h.length>0?Ha(i,s,h.join(" ")):zo(i,s),!1},lp=function(i){return i.dom.classList!==void 0},h0=function(i){return yi(i,"class")},$y=function(i,s){return Hy(i,"class",s)},Vy=function(i,s){return VC(i,"class",s)},Ol=function(i,s){lp(i)?i.dom.classList.add(s):$y(i,s)},el=function(i){var s=lp(i)?i.dom.classList:h0(i);s.length===0&&zo(i,"class")},Wc=function(i,s){if(lp(i)){var v=i.dom.classList;v.remove(s)}else Vy(i,s);el(i)},fp=function(i,s){return lp(i)&&i.dom.classList.contains(s)},Qf=function(i){var s=i.replace(/\./g,"-"),v=function(h){return s+"-"+h};return{resolve:v}},po=Qf("ephox-dragster"),tl=po.resolve,p0=function(i){var s=mn({layerClass:tl("blocker")},i),v=Le.fromTag("div");Ha(v,"role","presentation"),eu(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ol(v,tl("blocker")),Ol(v,s.layerClass);var h=yt(v),y=function(){vu(v)};return{element:h,destroy:y}},UC=function(i,s){return Ic(s.left-i.left,s.top-i.top)},WC=function(i){return oe.some(Ic(i.x,i.y))},gg=function(i,s){i.mutate(s.left,s.top)},jC=function(i,s){var v=p0(s),h=ea(v.element(),"mousedown",i.forceDrop),y=ea(v.element(),"mouseup",i.drop),E=ea(v.element(),"mousemove",i.move),B=ea(v.element(),"mouseout",i.delayDrop),I=function(){v.destroy(),y.unbind(),E.unbind(),B.unbind(),h.unbind()},J=function(be){ia(be,v.element())},ce=function(){vu(v.element())};return Uv({element:v.element,start:J,stop:ce,destroy:I})},Uy=Ly({compare:UC,extract:WC,sink:jC,mutate:gg}),qC=function(i,s){s===void 0&&(s={});var v=s.mode!==void 0?s.mode:Uy;return LC(i,v,s)},qd=function(i){return La(i,"[contenteditable]")},Oc=function(i,s){return s===void 0&&(s=!1),!re().browser.isIE()&&dn(i)?i.dom.isContentEditable:qd(i).fold(yt(s),function(v){return ju(v)==="true"})},ju=function(i){return i.dom.contentEditable},Gd=Qf("ephox-snooker"),hg=Gd.resolve,lc=function(){var i=Tc({drag:fs(["xDelta","yDelta"])}),s=function(v,h){i.trigger.drag(v,h)};return{mutate:s,events:i.registry}},b0=function(){var i=Tc({drag:fs(["xDelta","yDelta","target"])}),s=oe.none(),v=lc();v.events.drag.bind(function(E){s.each(function(B){i.trigger.drag(E.xDelta,E.yDelta,B)})});var h=function(E){s=oe.some(E)},y=function(){return s};return{assign:h,get:y,mutate:v.mutate,events:i.registry}},pg=function(i,s,v,h,y){var E=Le.fromTag("div");return eu(E,{position:"absolute",left:s-h/2+"px",top:v+"px",height:y+"px",width:h+"px"}),kv(E,{"data-column":i,role:"presentation"}),E},Wv=function(i,s,v,h,y){var E=Le.fromTag("div");return eu(E,{position:"absolute",left:s+"px",top:v-y/2+"px",height:y+"px",width:h+"px"}),kv(E,{"data-row":i,role:"presentation"}),E},vp=hg("resizer-bar"),GC=hg("resizer-rows"),KC=hg("resizer-cols"),XC=7,a3=function(i,s){return it(i.all,function(v,h){return s(v.element)?[h]:[]})},Er=function(i,s){var v=[];return Eo(i.grid.columns,function(h){var y=Qn.getColumnAt(i,h).map(function(E){return E.element});y.forall(s)&&v.push(h)}),Gr(v,function(h){var y=Qn.filterItems(i,function(E){return E.column===h});return Et(y,function(E){return s(E.element)})})},zs=function(i){var s=ws(i.parent(),"."+vp);zt(s,vu)},jv=function(i,s,v){var h=i.origin();zt(s,function(y){y.each(function(E){var B=v(h,E);Ol(B,vp),ia(i.parent(),B)})})},YC=function(i,s,v,h){jv(i,s,function(y,E){var B=pg(E.col,E.x-y.left,v.top-y.top,XC,h);return Ol(B,KC),B})},Fr=function(i,s,v,h){jv(i,s,function(y,E){var B=Wv(E.row,v.left-y.left,E.y-y.top,h,XC);return Ol(B,GC),B})},JC=function(i,s,v,h,y){var E=_v(v),B=s.isResizable,I=h.length>0?Vh.positions(h,v):[],J=I.length>0?a3(i,B):[],ce=Gr(I,function(et,Ue){return ot(J,function(xt){return Ue===xt})});Fr(s,ce,E,Xl(v));var be=y.length>0?ag.positions(y,v):[],We=be.length>0?Er(i,B):[],ft=Gr(be,function(et,Ue){return ot(We,function(xt){return Ue===xt})});YC(s,ft,E,Yl(v))},Kd=function(i,s){if(zs(i),i.isResizable(s)){var v=Qn.fromTable(s),h=rg(v),y=ng(v);JC(v,i,s,h,y)}},Wy=function(i,s){var v=ws(i.parent(),"."+vp);zt(v,s)},jy=function(i){Wy(i,function(s){$e(s,"display","none")})},qy=function(i){Wy(i,function(s){$e(s,"display","block")})},Xd=function(i){return fp(i,GC)},y0=function(i){return fp(i,KC)},Gy=hg("resizer-bar-dragging"),Ky=function(i){var s=b0(),v=qC(s,{}),h=oe.none(),y=function(Ue,xt){return oe.from(rs(Ue,xt))};s.events.drag.bind(function(Ue){y(Ue.target,"data-row").each(function(xt){var _t=oo(Ue.target,"top");$e(Ue.target,"top",_t+Ue.yDelta+"px")}),y(Ue.target,"data-column").each(function(xt){var _t=oo(Ue.target,"left");$e(Ue.target,"left",_t+Ue.xDelta+"px")})});var E=function(Ue,xt){var _t=oo(Ue,xt),xn=pi(Ue,"data-initial-"+xt,0);return _t-xn};v.events.stop.bind(function(){s.get().each(function(Ue){h.each(function(xt){y(Ue,"data-row").each(function(_t){var xn=E(Ue,"top");zo(Ue,"data-initial-top"),et.trigger.adjustHeight(xt,xn,parseInt(_t,10))}),y(Ue,"data-column").each(function(_t){var xn=E(Ue,"left");zo(Ue,"data-initial-left"),et.trigger.adjustWidth(xt,xn,parseInt(_t,10))}),Kd(i,xt)})})});var B=function(Ue,xt){et.trigger.startAdjust(),s.assign(Ue),Ha(Ue,"data-initial-"+xt,oo(Ue,xt)),Ol(Ue,Gy),$e(Ue,"opacity","0.2"),v.go(i.parent())},I=ea(i.parent(),"mousedown",function(Ue){Xd(Ue.target)&&B(Ue.target,"top"),y0(Ue.target)&&B(Ue.target,"left")}),J=function(Ue){return ir(Ue,i.view())},ce=function(Ue){return La(Ue,"table",J).filter(Oc)},be=ea(i.view(),"mouseover",function(Ue){ce(Ue.target).fold(function(){dn(Ue.target)&&zs(i)},function(xt){h=oe.some(xt),Kd(i,xt)})}),We=function(){I.unbind(),be.unbind(),v.destroy(),zs(i)},ft=function(Ue){Kd(i,Ue)},et=Tc({adjustHeight:fs(["table","delta","row"]),adjustWidth:fs(["table","delta","column"]),startAdjust:fs([])});return{destroy:We,refresh:ft,on:v.on,off:v.off,hideBars:tr(jy,i),showBars:tr(qy,i),events:et.registry}},Yd=function(i,s,v){var h=Vh,y=ag,E=Ky(i),B=Tc({beforeResize:fs(["table","type"]),afterResize:fs(["table","type"]),startDrag:fs([])});return E.events.adjustHeight.bind(function(I){var J=I.table;B.trigger.beforeResize(J,"row");var ce=h.delta(I.delta,J);ls(J,ce,I.row,h),B.trigger.afterResize(J,"row")}),E.events.startAdjust.bind(function(I){B.trigger.startDrag()}),E.events.adjustWidth.bind(function(I){var J=I.table;B.trigger.beforeResize(J,"col");var ce=y.delta(I.delta,J),be=v(J);Tl(J,ce,I.column,s,be),B.trigger.afterResize(J,"col")}),{on:E.on,off:E.off,hideBars:E.hideBars,showBars:E.showBars,destroy:E.destroy,events:B.registry}},rf={create:Yd},w0=function(i,s){return i.fire("newrow",{node:s})},dp=function(i,s){return i.fire("newcell",{node:s})},C0=function(i,s,v,h,y){i.fire("ObjectResizeStart",{target:s,width:v,height:h,origin:y})},Jd=function(i,s,v,h,y){i.fire("ObjectResized",{target:s,width:v,height:h,origin:y})},bg=function(i,s,v,h,y){i.fire("TableSelectionChange",{cells:s,start:v,finish:h,otherCells:y})},QC=function(i){i.fire("TableSelectionClear")},Fs=function(i,s,v){i.fire("TableModified",mn(mn({},v),{table:s}))},Qd={structure:!1,style:!0},Na={structure:!0,style:!1},i3={structure:!0,style:!0},u3="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",mp={"border-collapse":"collapse",width:"100%"},fc=Eo(5,function(i){var s=i+1+"px";return{title:s,value:s}}),x0=Je(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(i){return{title:i,value:i.toLowerCase()}}),gp=function(i){var s;if(ev(i)){var v=i.dom,h=(s=v.getParent(i.selection.getStart(),v.isBlock))!==null&&s!==void 0?s:i.getBody(),y=Ih(Le.fromDom(h));return mn(mn({},mp),{width:y+"px"})}else return pp(i)?aa(mp,function(E,B){return B!=="width"}):mp},ZC={border:"1"},S0="preservetable",Xy=function(i){return i.getParam("table_sizing_mode","auto")},yg=function(i){return i.getParam("table_responsive_width")},Tr=function(i){return i.getParam("table_border_widths",fc,"array")},Is=function(i){return i.getParam("table_border_styles",x0,"array")},of=function(i){return i.getParam("table_default_attributes",ZC,"object")},wg=function(i){return i.getParam("table_default_styles",gp(i),"object")},k0=function(i){return i.getParam("table_resize_bars",!0,"boolean")},Yy=function(i){return i.getParam("table_tab_navigation",!0,"boolean")},hp=function(i){return i.getParam("table_cell_advtab",!0,"boolean")},E0=function(i){return i.getParam("table_row_advtab",!0,"boolean")},Zf=function(i){return i.getParam("table_advtab",!0,"boolean")},c3=function(i){return i.getParam("table_appearance_options",!0,"boolean")},s3=function(i){return i.getParam("table_grid",!0,"boolean")},Pt=function(i){return i.getParam("table_style_by_css",!1,"boolean")},jc=function(i){return i.getParam("table_cell_class_list",[],"array")},nl=function(i){return i.getParam("table_row_class_list",[],"array")},T0=function(i){return i.getParam("table_class_list",[],"array")},He=function(i){return Xy(i)==="relative"||yg(i)===!0},ev=function(i){return Xy(i)==="fixed"||yg(i)===!1},pp=function(i){return Xy(i)==="responsive"},l3=function(i){return i.getParam("table_toolbar",u3)},O0=function(i){return i.getParam("table_use_colgroups",!1,"boolean")},qc=function(i){var s="section",v=i.getParam("table_header_type",s,"string"),h=["section","cells","sectionCells","auto"];return Hr(h,v)?v:s},Zd=function(i){var s=["preservetable","resizetable"],v=i.getParam("table_column_resizing",S0,"string");return Mo(s,function(h){return h===v}).getOr(S0)},bp=function(i){return Zd(i)==="preservetable"},Cg=function(i){return Zd(i)==="resizetable"},xg=function(i){var s=i.getParam("table_clone_elements");return jo(s)?oe.some(s.split(/[ ,]/)):Array.isArray(s)?oe.some(s):oe.none()},f3=function(i){var s=i.getParam("object_resizing",!0);return jo(s)?s==="table":s},Sg=function(i){return i.getParam("table_background_color_map",[],"array")},yp=function(i){return i.getParam("table_border_color_map",[],"array")},Jy=function(i,s){return He(i)?Mv.percentageSize(s):ev(i)?Mv.pixelSize(s):Mv.getTableSize(s)},A0=function(i){zo(i,"width")},ex=function(i){var s=TC(i);Wd(i,oe.some(s),oe.none()),A0(i)},v3=function(i){var s=Qk(i);Wd(i,oe.some(s),oe.none()),A0(i)},Ru=function(i){$a(i,"width");var s=rc(i),v=s.length>0?s:os(i);zt(v,function(h){$a(h,"width"),A0(h)}),A0(i)},vc=ex,Ac=v3,wp=Ru,D0=function(i){var s=Qn.fromTable(i);Qn.hasColumns(s)||zt(os(i),function(v){var h=wn(v,"width");$e(v,"width",h),zo(v,"width")})},d3=function(){var i=Le.fromTag("div");return eu(i,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ia(cn(),i),i},Qy=function(i,s){return i.inline?$d.body($c(i),d3(),s):$d.only(Le.fromDom(i.getDoc()),s)},tx=function(i,s){i.inline&&vu(s.parent())},Cp="bar-",Zy=function(i){return rs(i,"data-mce-resize")!=="false"},m3=function(i){var s=oe.none(),v=oe.none(),h=oe.none(),y,E,B=function(Ue){return Ue.nodeName==="TABLE"},I=function(){return v},J=function(){return h.getOr($d.only(Le.fromDom(i.getBody()),Zy))},ce=function(Ue){return Jy(i,Ue)},be=function(){return bp(i)?fg():ap()},We=function(Ue){return f0(Ue).columns},ft=function(Ue,xt,_t){var xn=za(xt,"e");if(E===""&&vc(Ue),_t!==y&&E!==""){$e(Ue,"width",E);var Lr=be(),ln=ce(Ue),Pn=bp(i)||xn?We(Ue)-1:0;Tl(Ue,_t-y,Pn,Lr,ln)}else if(Fv(E)){var pr=parseFloat(E.replace("%","")),gr=_t*pr/y;$e(Ue,"width",gr+"%")}Id(E)&&D0(Ue)},et=function(){v.each(function(Ue){Ue.destroy()}),h.each(function(Ue){tx(i,Ue)})};return i.on("init",function(){var Ue=Qy(i,Zy);if(h=oe.some(Ue),f3(i)&&k0(i)){var xt=be(),_t=rf.create(Ue,xt,ce);_t.on(),_t.events.startDrag.bind(function(xn){s=oe.some(i.selection.getRng())}),_t.events.beforeResize.bind(function(xn){var Lr=xn.table.dom;C0(i,Lr,Ri(Lr),ja(Lr),Cp+xn.type)}),_t.events.afterResize.bind(function(xn){var Lr=xn.table,ln=Lr.dom;Ba(Lr),s.each(function(Pn){i.selection.setRng(Pn),i.focus()}),Jd(i,ln,Ri(ln),ja(ln),Cp+xn.type),i.undoManager.add()}),v=oe.some(_t)}}),i.on("ObjectResizeStart",function(Ue){var xt=Ue.target;if(B(xt)){var _t=Le.fromDom(xt);zt(i.dom.select(".mce-clonedresizable"),function(xn){i.dom.addClass(xn,"mce-"+Zd(i)+"-columns")}),!Uc(_t)&&ev(i)?Ac(_t):!sp(_t)&&He(i)&&vc(_t),Py(_t)&&Yt(Ue.origin,Cp)&&vc(_t),y=Ue.width,E=pp(i)?"":ef(i,xt).getOr("")}}),i.on("ObjectResized",function(Ue){var xt=Ue.target;if(B(xt)){var _t=Le.fromDom(xt),xn=Ue.origin;Yt(xn,"corner-")&&ft(_t,xn,Ue.width),Ba(_t),Fs(i,_t.dom,Qd)}}),i.on("SwitchMode",function(){I().each(function(Ue){i.mode.isReadOnly()?Ue.hideBars():Ue.showBars()})}),{lazyResize:I,lazyWire:J,destroy:et}},kg=function(i,s){return{element:i,offset:s}},wr=function(i,s,v){return i.property().isText(s)&&i.property().getText(s).trim().length===0||i.property().isComment(s)?v(s).bind(function(h){return wr(i,h,v).orThunk(function(){return oe.some(h)})}):oe.none()},nx=function(i,s){if(i.property().isText(s))return i.property().getText(s).length;var v=i.property().children(s);return v.length},xp=function(i,s){var v=wr(i,s,i.query().prevSibling).getOr(s);if(i.property().isText(v))return kg(v,nx(i,v));var h=i.property().children(v);return h.length>0?xp(i,h[h.length-1]):kg(v,nx(i,v))},R0=xp,g3=L1(),rx=function(i){return R0(g3,i)},bn=function(i,s){var v=jn(i,"colspan");if(v===1){var h=X1(i);h.each(function(y){var E=y.value/2;Y1(i,E,y.unit),Y1(s,E,y.unit)})}},_0=Zi("th"),Ur=function(i){return Et(i,function(s){return _0(s.element)})},h3=function(i,s){return i&&s?"sectionCells":i?"section":"cells"},tv=function(i){var s=i.section==="thead",v=Xs(rl(i.cells),"th");return s||v?{type:"header",subType:h3(s,v)}:i.section==="tfoot"?{type:"footer"}:{type:"body"}},rl=function(i){var s=Gr(i,function(v){return _0(v.element)});return s.length===0?oe.some("td"):s.length===i.length?oe.some("th"):oe.none()},B0=function(i){var s=Je(i,function(E){return tv(E).type}),v=Hr(s,"header"),h=Hr(s,"footer");if(!v&&!h)return oe.some("body");var y=Hr(s,"body");return v&&!y&&!h?oe.some("header"):!v&&!y&&h?oe.some("footer"):oe.none()},Gc=function(i){return eo(i.all,function(s){var v=tv(s);return v.type==="header"?oe.from(v.subType):oe.none()})},em=function(i,s,v){return Da(v(i.element,s),!0,i.isLocked)},tm=function(i,s){return i.section!==s?Eu(i.element,i.cells,s,i.isNew):i},Ui=function(){return{transformRow:tm,transformCell:function(i,s,v){var h=v(i.element,s),y=zr(h)!=="td"?Fh(h,"td"):h;return Da(y,i.isNew,i.isLocked)}}},Al=function(){return{transformRow:tm,transformCell:em}},Eg=function(){return{transformRow:function(i,s){var v=s==="thead"?"tbody":s;return tm(i,v)},transformCell:em}},nm=function(){return{transformRow:hn,transformCell:em}},ox=function(i,s){var v=Qn.fromTable(i),h=Gc(v).getOr(s);switch(h){case"section":return Ui();case"sectionCells":return Al();case"cells":return Eg()}},nv={getTableSectionType:ox,section:Ui,sectionCells:Al,cells:Eg,fallback:nm},af=function(i,s,v,h){v===h?zo(i,s):Ha(i,s,v)},e2=function(i,s,v){xa(Wl(i,s)).fold(function(){return Ti(i,v)},function(h){return Do(h,v)})},ax=function(i,s){var v=xs(i,s).getOrThunk(function(){var h=Le.fromTag(s,ys(i).dom);return s==="thead"?e2(i,"caption,colgroup",h):s==="colgroup"?e2(i,"caption",h):ia(i,h),h});return un(v),v},t2=function(i,s){var v=[],h=[],y=function(et){return Je(et,function(Ue){Ue.isNew&&v.push(Ue.element);var xt=Ue.element;return un(xt),zt(Ue.cells,function(_t){_t.isNew&&h.push(_t.element),af(_t.element,"colspan",_t.colspan,1),af(_t.element,"rowspan",_t.rowspan,1),ia(xt,_t.element)}),xt})},E=function(et){return it(et,function(Ue){return Je(Ue.cells,function(xt){return af(xt.element,"span",xt.colspan,1),xt.element})})},B=function(et,Ue){var xt=ax(i,Ue),_t=Ue==="colgroup"?E:y,xn=_t(et);ic(xt,xn)},I=function(et){xs(i,et).each(vu)},J=function(et,Ue){et.length>0?B(et,Ue):I(Ue)},ce=[],be=[],We=[],ft=[];return zt(s,function(et){switch(et.section){case"thead":ce.push(et);break;case"tbody":be.push(et);break;case"tfoot":We.push(et);break;case"colgroup":ft.push(et);break}}),J(ft,"colgroup"),J(ce,"thead"),J(be,"tbody"),J(We,"tfoot"),{newRows:v,newCells:h}},n2=function(i){return Je(i,function(s){var v=Zm(s.element);return zt(s.cells,function(h){var y=li(h.element);af(y,"colspan",h.colspan,1),af(y,"rowspan",h.rowspan,1),ia(v,y)}),v})},r2=function(i,s){return Je(i,function(v){return oc(v,s)})},N0=function(i,s){return i[s]},o2=function(i,s){if(i.length===0)return 0;var v=i[0],h=Kr(i,function(y){return!s(v.element,y.element)});return h.getOr(i.length)},ix=function(i,s,v,h){var y=N0(i,s),E=y.section==="colgroup",B=o2(y.cells.slice(v),h),I=E?1:o2(r2(i.slice(s),v),h);return{colspan:B,rowspan:I}},ux=function(i,s){var v=Je(i,function(y){return Je(y.cells,Zt)}),h=function(y,E,B,I){for(var J=y;J<y+B;J++)for(var ce=E;ce<E+I;ce++)v[J][ce]=!0};return Je(i,function(y,E){var B=it(y.cells,function(I,J){if(v[E][J]===!1){var ce=ix(i,E,J,s);return h(E,J,ce.rowspan,ce.colspan),[er(I.element,ce.rowspan,ce.colspan,I.isNew)]}else return[]});return Qi(y.element,B,y.section,y.isNew)})},Tg=function(i,s,v){var h=[];zt(i.colgroups,function(be){for(var We=[],ft=0;ft<i.grid.columns;ft++){var et=Qn.getColumnAt(i,ft).map(function(Ue){return Da(Ue.element,v,!1)}).getOrThunk(function(){return Da(s.colGap(),!0,!1)});We.push(et)}h.push(Eu(be.element,We,"colgroup",v))});for(var y=0;y<i.grid.rows;y++){for(var E=[],B=0;B<i.grid.columns;B++){var I=Qn.getAt(i,y,B).map(function(be){return Da(be.element,v,be.isLocked)}).getOrThunk(function(){return Da(s.gap(),!0,!1)});E.push(I)}var J=i.all[y],ce=Eu(J.element,E,J.section,v);h.push(ce)}return h},cx=function(i,s){return Tg(i,s,!1)},Sp=function(i){return ux(i,ir)},M0=function(i,s){return eo(i.all,function(v){return Mo(v.cells,function(h){return ir(s,h.element)})})},rm=function(i,s,v){var h=Je(s.selection,function(E){return Ts(E).bind(function(B){return M0(i,B)}).filter(v)}),y=jl(h);return Ou(y.length>0,y)},iu=function(i,s,v,h,y){return function(E,B,I,J,ce){var be=Qn.fromTable(B),We=oe.from(ce==null?void 0:ce.section).getOrThunk(nv.fallback),ft=s(be,I).map(function(et){var Ue=cx(be,J),xt=i(Ue,et,ir,y(J),We),_t=Os(xt.grid),xn=Sp(xt.grid);return{info:et,grid:xn,cursor:xt.cursor,lockedColumns:_t}});return ft.bind(function(et){var Ue=t2(B,et.grid),xt=oe.from(ce==null?void 0:ce.sizing).getOrThunk(function(){return Mv.getTableSize(B)}),_t=oe.from(ce==null?void 0:ce.resize).getOrThunk(fg);return v(B,et.grid,et.info,{sizing:xt,resize:_t,section:We}),h(B),Kd(E,B),zo(B,Ys),et.lockedColumns.length>0&&Ha(B,Ys,et.lockedColumns.join(",")),oe.some({cursor:et.cursor,newRows:Ue.newRows,newCells:Ue.newCells})})}},kp=function(i,s){return Ts(s.element).bind(function(v){return M0(i,v).map(function(h){var y=mn(mn({},h),{generators:s.generators,clipboard:s.clipboard});return y})})},Ep=function(i,s){return rm(i,s,Wt).map(function(v){return{cells:v,generators:s.generators,clipboard:s.clipboard}})},p3=function(i,s){return s.mergable},a2=function(i,s){return s.unmergable},Dl=function(i,s){return rm(i,s,Wt)},uf=function(i,s){return rm(i,s,function(v){return!v.isLocked})},sx=function(i,s){return M0(i,s).exists(function(v){return!v.isLocked})},Tp=function(i,s){return Et(s,function(v){return sx(i,v)})},i2=function(i,s){return p3(i,s).filter(function(v){return Tp(i,v.cells)})},P0=function(i,s){return a2(i,s).filter(function(v){return Tp(i,v)})},lx=function(i,s,v,h){var y=Ja(i).rows;if(y.length===0)return i;for(var E=s.startRow;E<=s.finishRow;E++)for(var B=s.startCol;B<=s.finishCol;B++){var I=y[E],J=oc(I,B).isLocked;ql(I,B,Da(h(),!1,J))}return i},om=function(i,s,v,h){for(var y=Ja(i).rows,E=!0,B=0;B<y.length;B++)for(var I=0;I<Ir(y[0]);I++){var J=y[B],ce=oc(J,I),be=ce.element,We=v(be,s);We===!0&&E===!1?ql(J,I,Da(h(),!0,ce.isLocked)):We===!0&&(E=!1)}return i},b3=function(i,s){return ee(i,function(v,h){return ot(v,function(y){return s(y.element,h.element)})?v:v.concat([h])},[])},qv=function(i,s,v,h){return s>0&&s<i[0].cells.length&&zt(i,function(y){var E=y.cells[s-1],B=y.cells[s],I=v(B.element,E.element);I&&ql(y,s,Da(h(),!0,B.isLocked))}),i},fx=function(i,s,v,h){var y=Ja(i).rows;if(s>0&&s<y.length){var E=y[s-1].cells,B=b3(E,v);zt(B,function(I){for(var J=oe.none(),ce=s;ce<y.length;ce++)for(var be=function(ft){var et=y[ce],Ue=oc(et,ft),xt=v(Ue.element,I.element);xt&&(J.isNone()&&(J=oe.some(h())),J.each(function(_t){ql(et,ft,Da(_t,!0,Ue.isLocked))}))},We=0;We<Ir(y[0]);We++)be(We)})}return i},Og=function(i){var s=function(We){return Og(i)},v=function(We){return Og(i)},h=function(We){return Og(We(i))},y=function(We){return Og(i)},E=function(We){We(i)},B=function(We){return We(i)},I=function(We,ft){return ft(i)},J=function(We){return We(i)},ce=function(We){return We(i)},be=function(){return oe.some(i)};return{isValue:Wt,isError:Zt,getOr:yt(i),getOrThunk:yt(i),getOrDie:yt(i),or:s,orThunk:v,fold:I,map:h,mapError:y,each:E,bind:B,exists:J,forall:ce,toOptional:be}},Ag=function(i){var s=function(ce){return ce()},v=function(){return Fn(String(i))()},h=hn,y=function(ce){return ce()},E=function(ce){return Ag(i)},B=function(ce){return Ag(ce(i))},I=function(ce){return Ag(i)},J=function(ce,be){return ce(i)};return{isValue:Zt,isError:Wt,getOr:hn,getOrThunk:s,getOrDie:v,or:h,orThunk:y,fold:J,map:E,mapError:B,each:lt,bind:I,exists:Zt,forall:Wt,toOptional:oe.none}},vx=function(i,s){return i.fold(function(){return Ag(s)},Og)},z0={value:Og,error:Ag,fromOption:vx},dx=function(i,s,v){if(i.row>=s.length||i.column>Ir(s[0]))return z0.error("invalid start address out of table bounds, row: "+i.row+", column: "+i.column);var h=s.slice(i.row),y=h[0].cells.slice(i.column),E=Ir(v[0]),B=v.length;return z0.value({rowDelta:h.length-B,colDelta:y.length-E})},u2=function(i,s){var v=Ir(i[0]),h=Ir(s[0]);return{rowDelta:0,colDelta:v-h}},rr=function(i,s){var v=i.length,h=s.length;return{rowDelta:v-h,colDelta:0}},F0=function(i,s,v,h){var y=s.section==="colgroup"?v.col:v.cell;return Eo(i,function(E){return Da(y(),!0,h(E))})},mx=function(i,s,v,h){var y=i[i.length-1];return i.concat(Eo(s,function(){var E=y.section==="colgroup"?v.colgroup:v.row,B=Cd(y,E,hn),I=F0(B.cells.length,B,v,function(J){return X(h,J.toString())});return Ln(B,I)}))},gx=function(i,s,v,h){return Je(i,function(y){var E=F0(s,y,v,Zt);return as(y,h,E)})},hx=function(i,s,v){return Je(i,function(h){return ee(v,function(y,E){var B=F0(1,h,s,Wt)[0];return is(y,E,B)},h)})},Dg=function(i,s,v){var h=s.colDelta<0?gx:hn,y=s.rowDelta<0?mx:hn,E=Os(i),B=Ir(i[0]),I=ot(E,function(be){return be===B-1}),J=h(i,Math.abs(s.colDelta),v,I?B-1:B),ce=Os(J);return y(J,Math.abs(s.rowDelta),v,Vt(ce,Wt))},px=function(i,s,v,h){var y=oc(i[s],v),E=tr(h,y.element),B=i[s];return i.length>1&&Ir(B)>1&&(v>0&&E(ac(B,v-1))||v<B.cells.length-1&&E(ac(B,v+1))||s>0&&E(ac(i[s-1],v))||s<i.length-1&&E(ac(i[s+1],v)))},bx=function(i,s,v,h,y,E){for(var B=i.row,I=i.column,J=v.length,ce=Ir(v[0]),be=B+J,We=I+ce+E.length,ft=Vt(E,Wt),et=B;et<be;et++)for(var Ue=0,xt=I;xt<We;xt++){if(ft[xt]){Ue++;continue}px(s,et,xt,y)&&om(s,ac(s[et],xt),y,h.cell);var _t=xt-I-Ue,xn=oc(v[et-B],_t),Lr=xn.element,ln=h.replace(Lr);ql(s[et],xt,Da(ln,!0,xn.isLocked))}return s},yx=function(i,s,v){var h=Ir(s[0]),y=Ja(s).cols.length+i.row,E=Eo(h-i.column,function(I){return I+i.column}),B=Mo(E,function(I){return Et(v,function(J){return J!==I})}).getOr(h-1);return{row:y,column:B}},am=function(i,s,v){return Gr(v,function(h){return h>=i.column&&h<=Ir(s[0])+i.column})},wx=function(i,s,v,h,y){var E=Os(s),B=yx(i,s,E),I=Ja(v).rows,J=am(B,I,E),ce=dx(B,s,I);return ce.map(function(be){var We=mn(mn({},be),{colDelta:be.colDelta-J.length}),ft=Dg(s,We,h),et=Os(ft),Ue=am(B,I,et);return bx(B,ft,I,h,y,Ue)})},c2=function(i,s,v,h,y){qv(s,i,y,h.cell);var E=rr(v,s),B=Dg(v,E,h),I=rr(s,B),J=Dg(s,I,h);return Je(J,function(ce,be){return as(ce,i,B[be].cells)})},s2=function(i,s,v,h,y){fx(s,i,y,h.cell);var E=Os(s),B=u2(s,v),I=mn(mn({},B),{colDelta:B.colDelta-E.length}),J=Dg(s,I,h),ce=Ja(J),be=ce.cols,We=ce.rows,ft=Os(J),et=u2(v,s),Ue=mn(mn({},et),{colDelta:et.colDelta+ft.length}),xt=hx(v,h,ft),_t=Dg(xt,Ue,h);return be.concat(We.slice(0,i)).concat(_t).concat(We.slice(i,We.length))},l2=function(i,s,v,h){return Cd(i,function(y){return h(y,v)},s)},I0=function(i,s,v,h,y){var E=Ja(i),B=E.rows,I=E.cols,J=B.slice(0,s),ce=B.slice(s),be=l2(B[v],function(We,ft){var et=s>0&&s<B.length&&h(ac(B[s-1],ft),ac(B[s],ft)),Ue=et?oc(B[s],ft):Da(y(We.element,h),!0,We.isLocked);return Ue},h,y);return I.concat(J).concat([be]).concat(ce)},Cx=function(i,s,v,h,y,E,B){if(v==="colgroup"||!h){var I=oc(i,y);return Da(B(I.element,E),!0,!1)}else return oc(i,s)},Op=function(i,s,v,h,y){return Je(i,function(E){var B=s>0&&s<Ir(E)&&h(ac(E,s-1),ac(E,s)),I=Cx(E,s,E.section,B,v,h,y);return is(E,s,I)})},Ap=function(i,s){return it(i,function(v){var h=v.cells,y=br(s,function(E,B){return B>=0&&B<E.length?E.slice(0,B).concat(E.slice(B+1)):E},h);return y.length>0?[Eu(v.element,y,v.section,v.isNew)]:[]})},Rg=function(i,s,v){var h=Ja(i),y=h.rows,E=h.cols;return E.concat(y.slice(0,s)).concat(y.slice(v+1))},_g=function(i,s,v,h){return ac(i[s],v)!==void 0&&s>0&&h(ac(i[s-1],v),ac(i[s],v))},f2=function(i,s,v){return s>0&&v(ac(i,s-1),ac(i,s))},L0=function(i,s,v,h){return _g(i,s,v,h)||f2(i[s],v,h)},y3=function(i,s){var v=Et(s,hn)&&Ur(i.cells);return v?Wt:function(h,y,E){var B=zr(h.element);return!(B==="th"&&s[E])}},xx=function(i,s){var v=Et(s,hn)&&Ur(i);return v?Wt:function(h,y,E){var B=zr(h.element);return!(B==="th"&&s[y])}},Sx=function(i,s,v,h){var y=function(I){return I==="row"?Rh(s):ks(s)},E=function(I){return y(I)?I+"group":I};if(i)return _0(s)?E(v):null;if(h&&_0(s)){var B=v==="row"?"col":"row";return E(B)}else return null},w3=function(i,s){return function(v,h,y){return oe.some(Sx(i,v.element,"col",s[y]))}},Zr=function(i,s){return function(v,h){return oe.some(Sx(i,v.element,"row",s[h]))}},cf=function(i,s,v){return Da(v(i.element,s),!0,i.isLocked)},im=function(i,s,v,h,y,E,B){var I=function(J){return ot(s,function(ce){return v(J.element,ce.element)})};return Je(i,function(J,ce){return us(J,function(be,We){if(I(be)){var ft=B(be,ce,We)?y(be,v,h):be;return E(ft,ce,We).each(function(et){Ff(ft.element,{scope:oe.from(et)})}),ft}else return be})})},v2=function(i,s,v){return it(i,function(h,y){return L0(i,y,s,v)?[]:[oc(h,s)]})},kx=function(i,s,v){var h=i[s];return it(h.cells,function(y,E){return L0(i,s,E,v)?[]:[y]})},H0=function(i,s,v,h,y){var E=Ja(i).rows,B=it(s,function(be){return v2(E,be,h)}),I=Je(i,function(be){return Ur(be.cells)}),J=xx(B,I),ce=Zr(v,I);return im(i,B,h,y,cf,ce,J)},Ex=function(i,s,v,h,y,E,B){var I=Ja(i),J=I.cols,ce=I.rows,be=ce[s[0]],We=it(s,function(xn){return kx(ce,xn,y)}),ft=Je(be.cells,function(xn,Lr){return Ur(v2(ce,Lr,y))}),et=Ut([],ce,!0);zt(s,function(xn){et[xn]=B.transformRow(ce[xn],v)});var Ue=J.concat(et),xt=y3(be,ft),_t=w3(h,ft);return im(Ue,We,y,E,B.transformCell,_t,xt)},Ls=function(i,s,v,h){var y=Ja(i).rows,E=Je(s,function(B){return oc(y[B.row],B.column)});return im(i,E,v,h,cf,oe.none,Wt)},Gv=function(i){var s=function(v,h){var y=ot(v,function(E){return E.column===h.column});return y?v:v.concat([h])};return ee(i,s,[]).sort(function(v,h){return v.column-h.column})},d2=Zi("col"),$0=Zi("colgroup"),Bg=function(i){return zr(i)==="tr"||$0(i)},um=function(i){var s=pi(i,"colspan",1),v=pi(i,"rowspan",1);return{element:i,colspan:s,rowspan:v}},m2=function(i,s){s===void 0&&(s=um);var v=function(I){return d2(I.element)?i.col(I):i.cell(I)},h=function(I){return $0(I.element)?i.colgroup(I):i.row(I)},y=function(I){if(Bg(I))return h({element:I});var J=v(s(I));return E=oe.some({item:I,replacement:J}),J},E=oe.none(),B=function(I,J){return E.fold(function(){return y(I)},function(ce){return J(I,ce.item)?ce.replacement:y(I)})};return{getOrInit:B}},C3=function(i){return function(s){var v=[],h=function(B,I){return Mo(v,function(J){return I(J.item,B)})},y=function(B){var I=i==="td"?{scope:null}:{},J=s.replace(B,i,I);return v.push({item:B,sub:J}),J},E=function(B,I){return Bg(B)||d2(B)?B:h(B,I).fold(function(){return y(B)},function(J){return I(B,J.item)?J.sub:y(B)})};return{replaceOrInit:E}}},g2=function(i){return hi(i,"scope").map(function(s){return s.substr(0,3)})},h2=function(i){var s=function(h){var y=g2(h);return y.each(function(E){return Ha(h,"scope",E)}),function(){var E=i.cell({element:h,colspan:1,rowspan:1});return $a(E,"width"),$a(h,"width"),y.each(function(B){return Ha(E,"scope",B)}),E}},v=function(h){var y=function(){var E=jl(Je(h,g2));if(E.length===0)return oe.none();var B=E[0],I=["row","col"],J=ot(E,function(ce){return ce!==B&&Hr(I,ce)});return J?oe.none():oe.from(B)};return $a(h[0],"width"),y().fold(function(){return zo(h[0],"scope")},function(E){return Ha(h[0],"scope",E+"group")}),yt(h[0])};return{unmerge:s,merge:v}},dc={modification:m2,transform:C3,merging:h2},Dp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Tx=function(i,s){var v=i.property().name(s);return Hr(["ol","ul"],v)},cm=function(i,s){var v=i.property().name(s);return Hr(Dp,v)},sm=function(i,s){return Hr(["br","img","hr","input"],i.property().name(s))},Ng=L1(),Kv=function(i){return cm(Ng,i)},Xv=function(i){return Tx(Ng,i)},sf=function(i){return sm(Ng,i)},p2=function(i){var s=function(J){return zr(J)==="br"},v=function(J){return Et(J,function(ce){return s(ce)||lu(ce)&&Ed(ce).trim().length===0})},h=function(J){return zr(J)==="li"||fu(J,Xv).isSome()},y=function(J){return k(J).map(function(ce){return Kv(ce)?!0:sf(ce)?zr(ce)!=="img":!1}).getOr(!1)},E=function(J){return r0(J).bind(function(ce){var be=y(ce);return nc(ce).map(function(We){return be===!0||h(We)||s(ce)||Kv(We)&&!ir(J,We)?[]:[Le.fromTag("br")]})}).getOr([])},B=function(){var J=it(i,function(ce){var be=w(ce);return v(be)?[]:be.concat(E(ce))});return J.length===0?[Le.fromTag("br")]:J},I=B();un(i[0]),ic(i[0],I)},b2=function(i){return Oc(i,!0)},y2=function(i){var s=os(i);s.length===0&&vu(i)},Mg=function(i,s){return{grid:i,cursor:s}},Rp=function(i){return eo(i,function(s){return eo(s.cells,function(v){var h=v.element;return Ou(b2(h),h)})})},_p=function(i,s,v){var h,y,E=Ja(i).rows;return oe.from((y=(h=E[s])===null||h===void 0?void 0:h.cells[v])===null||y===void 0?void 0:y.element).filter(b2).orThunk(function(){return Rp(E)})},qu=function(i,s,v){var h=_p(i,s,v);return Mg(i,h)},Bp=function(i){var s=function(v,h){var y=ot(v,function(E){return E.row===h.row});return y?v:v.concat([h])};return ee(i,s,[]).sort(function(v,h){return v.row-h.row})},Np=function(i,s,v,h){var y=s[0].row,E=Bp(s),B=br(E,function(I,J){var ce=I0(I.grid,y,J.row+I.delta,v,h.getOrInit);return{grid:ce,delta:I.delta+1}},{grid:i,delta:0}).grid;return qu(B,y,s[0].column)},V0=function(i,s,v,h){var y=Bp(s),E=y[y.length-1],B=E.row+E.rowspan,I=br(y,function(J,ce){return I0(J,B,ce.row,v,h.getOrInit)},i);return qu(I,B,s[0].column)},x3=function(i,s,v,h){var y=s.details,E=Gv(y),B=E[0].column,I=br(E,function(J,ce){var be=Op(J.grid,B,ce.column+J.delta,v,h.getOrInit);return{grid:be,delta:J.delta+1}},{grid:i,delta:0}).grid;return qu(I,y[0].row,B)},w2=function(i,s,v,h){var y=s.details,E=y[y.length-1],B=E.column+E.colspan,I=Gv(y),J=br(I,function(ce,be){return Op(ce,B,be.column,v,h.getOrInit)},i);return qu(J,y[0].row,B)},U0=function(i,s,v,h){var y=Gv(s),E=Je(y,function(I){return I.column}),B=H0(i,E,!0,v,h.replaceOrInit);return qu(B,s[0].row,s[0].column)},hu=function(i,s,v,h){var y=Ls(i,s,v,h.replaceOrInit);return qu(y,s[0].row,s[0].column)},S3=function(i,s,v,h){var y=Gv(s),E=Je(y,function(I){return I.column}),B=H0(i,E,!1,v,h.replaceOrInit);return qu(B,s[0].row,s[0].column)},lf=function(i,s,v,h){var y=Ls(i,s,v,h.replaceOrInit);return qu(y,s[0].row,s[0].column)},W0=function(i,s){return function(v,h,y,E,B){var I=Bp(h),J=Je(I,function(be){return be.row}),ce=Ex(v,J,i,s,y,E.replaceOrInit,B);return qu(ce,h[0].row,h[0].column)}},C2=W0("thead",!0),Pg=W0("tbody",!1),Ox=W0("tfoot",!1),j0=function(i,s,v,h){var y=Gv(s.details),E=Ap(i,Je(y,function(I){return I.column})),B=E.length>0?E[0].cells.length-1:0;return qu(E,y[0].row,Math.min(y[0].column,B))},k3=function(i,s,v,h){var y=Bp(s),E=Rg(i,y[0].row,y[y.length-1].row),B=E.length>0?E.length-1:0;return qu(E,Math.min(s[0].row,B),s[0].column)},Sn=function(i,s,v,h){var y=s.cells;p2(y);var E=lx(i,s.bounds,v,h.merge(y));return Mg(E,oe.from(y[0]))},Mp=function(i,s,v,h){var y=function(B,I){return om(B,I,v,h.unmerge(I))},E=br(s,y,i);return Mg(E,oe.from(s[0]))},qn=function(i,s,v,h){var y=function(J,ce){var be=Qn.fromTable(J);return Tg(be,ce,!0)},E=y(s.clipboard,s.generators),B=ur(s.row,s.column),I=wx(B,i,E,s.generators,v);return I.fold(function(){return Mg(i,oe.some(s.element))},function(J){return qu(J,s.row,s.column)})},zg=function(i,s,v){var h=z1(i,v.section),y=Qn.generate(h);return Tg(y,s,!0)},Rl=function(i,s,v,h){var y=Ja(i).rows,E=s.cells[0].column,B=y[s.cells[0].row],I=zg(s.clipboard,s.generators,B),J=c2(E,i,I,s.generators,v);return qu(J,s.cells[0].row,s.cells[0].column)},Hn=function(i,s,v,h){var y=Ja(i).rows,E=s.cells[s.cells.length-1].column+s.cells[s.cells.length-1].colspan,B=y[s.cells[0].row],I=zg(s.clipboard,s.generators,B),J=c2(E,i,I,s.generators,v);return qu(J,s.cells[0].row,s.cells[0].column)},E3=function(i,s,v,h){var y=Ja(i).rows,E=s.cells[0].row,B=y[E],I=zg(s.clipboard,s.generators,B),J=s2(E,i,I,s.generators,v);return qu(J,s.cells[0].row,s.cells[0].column)},Ax=function(i,s,v,h){var y=Ja(i).rows,E=s.cells[s.cells.length-1].row+s.cells[s.cells.length-1].rowspan,B=y[s.cells[0].row],I=zg(s.clipboard,s.generators,B),J=s2(E,i,I,s.generators,v);return qu(J,s.cells[0].row,s.cells[0].column)},Br=function(i,s){var v=Qn.fromTable(i),h=Dl(v,s);return h.bind(function(y){var E=y[y.length-1],B=y[0].column,I=E.column+E.colspan,J=Pa(Je(v.all,function(ce){return Gr(ce.cells,function(be){return be.column>=B&&be.column<I})}));return rl(J)}).getOr("")},x2=function(i,s){var v=Qn.fromTable(i),h=Dl(v,s);return h.bind(rl).getOr("")},Dx=function(i,s){var v=Qn.fromTable(i),h=Dl(v,s);return h.bind(function(y){var E=y[y.length-1],B=y[0].row,I=E.row+E.rowspan,J=v.all.slice(B,I);return B0(J)}).getOr("")},q0=function(i,s,v,h){return n3(i,s,v,h.sizing)},Kc=function(i,s,v,h){return _C(i,s,v,h.sizing,h.resize)},Pp=function(i,s){return ot(s,function(v){return v.column===0&&v.isLocked})},S2=function(i,s){return ot(s,function(v){return v.column+v.colspan>=i.grid.columns&&v.isLocked})},rv=function(i,s){var v=ng(i),h=Gv(s);return ee(h,function(y,E){var B=v[E.column],I=B.map(Xl).getOr(0);return y+I},0)},vs=function(i){return function(s,v){return Dl(s,v).filter(function(h){var y=i?Pp:S2;return!y(s,h)}).map(function(h){return{details:h,pixelDelta:rv(s,h)}})}},ff=function(i,s){return uf(i,s).map(function(v){return{details:v,pixelDelta:-rv(i,v)}})},mc=function(i){return function(s,v){return Ep(s,v).filter(function(h){var y=i?Pp:S2;return!y(s,h.cells)})}},ol=dc.transform("th"),Fg=dc.transform("td"),gc=iu(Np,Dl,lt,lt,dc.modification),Yv=iu(V0,Dl,lt,lt,dc.modification),T3=iu(x3,vs(!0),Kc,lt,dc.modification),O3=iu(w2,vs(!1),Kc,lt,dc.modification),A3=iu(j0,ff,Kc,y2,dc.modification),lm=iu(k3,Dl,lt,y2,dc.modification),ca=iu(U0,uf,lt,lt,ol),ov=iu(S3,uf,lt,lt,Fg),_l=iu(C2,uf,lt,lt,ol),Ig=iu(Pg,uf,lt,lt,Fg),Jv=iu(Ox,uf,lt,lt,Fg),hc=iu(hu,uf,lt,lt,ol),al=iu(lf,uf,lt,lt,Fg),Rx=iu(Sn,i2,q0,lt,dc.merging),G0=iu(Mp,P0,q0,lt,dc.merging),_x=iu(qn,kp,q0,lt,dc.modification),k2=iu(Rl,mc(!0),lt,lt,dc.modification),E2=iu(Hn,mc(!1),lt,lt,dc.modification),Bx=iu(E3,Ep,lt,lt,dc.modification),D3=iu(Ax,Ep,lt,lt,dc.modification),Nx=Br,Mx=x2,Dc=Dx,T2=function(i,s,v){var h=function(yu){return zr($c(yu))==="table"},y=function(yu){return h(i)===!1||f0(yu).rows>1},E=function(yu){return h(i)===!1||f0(yu).columns>1},B=xg(i),I=Cg(i)?lt:bn,J=function(yu){switch(qc(i)){case"section":return nv.section();case"sectionCells":return nv.sectionCells();case"cells":return nv.cells();default:return nv.getTableSectionType(yu,"section")}},ce=function(yu,Mb){return Mb.cursor.fold(function(){var vv=os(yu);return tn(vv).filter(dn).map(function(dv){s.clear(yu);var Ku=i.dom.createRng();return Ku.selectNode(dv.dom),i.selection.setRng(Ku),Ha(dv,"data-mce-selected","1"),Ku})},function(vv){var dv=rx(vv),Ku=i.dom.createRng();return Ku.setStart(dv.element.dom,dv.offset),Ku.setEnd(dv.element.dom,dv.offset),i.selection.setRng(Ku),s.clear(yu),oe.some(Ku)})},be=function(yu,Mb,vv,dv,Ku){return function(mv,FS,Pb){Pb===void 0&&(Pb=!1),Ba(mv);var _w=dv(),Bw=Le.fromDom(i.getDoc()),IS=Ho(vv,Bw,B),q3={sizing:Jy(i,mv),resize:Cg(i)?ap():fg(),section:J(mv)};return Mb(mv)?yu(_w,mv,FS,IS,q3).bind(function(h1){zt(h1.newRows,function(Tf){w0(i,Tf.dom)}),zt(h1.newCells,function(Tf){dp(i,Tf.dom)});var $s=ce(mv,h1);return dn(mv)&&(Ba(mv),Pb||Fs(i,mv.dom,Ku)),$s.map(function(Tf){return{rng:Tf,effect:Ku}})}):oe.none()}},We=be(lm,y,lt,v,Na),ft=be(A3,E,lt,v,Na),et=be(gc,Wt,lt,v,Na),Ue=be(Yv,Wt,lt,v,Na),xt=be(T3,Wt,I,v,Na),_t=be(O3,Wt,I,v,Na),xn=be(Rx,Wt,lt,v,Na),Lr=be(G0,Wt,lt,v,Na),ln=be(k2,Wt,lt,v,Na),Pn=be(E2,Wt,lt,v,Na),pr=be(Bx,Wt,lt,v,Na),gr=be(D3,Wt,lt,v,Na),ei=be(_x,Wt,lt,v,i3),Wi=be(hc,Wt,lt,v,Na),ji=be(al,Wt,lt,v,Na),Nr=be(ca,Wt,lt,v,Na),$n=be(ov,Wt,lt,v,Na),Cr=be(_l,Wt,lt,v,Na),$o=be(Ig,Wt,lt,v,Na),ya=be(Jv,Wt,lt,v,Na),Fl=Mx,ll=Nx,Ef=Dc;return{deleteRow:We,deleteColumn:ft,insertRowsBefore:et,insertRowsAfter:Ue,insertColumnsBefore:xt,insertColumnsAfter:_t,mergeCells:xn,unmergeCells:Lr,pasteColsBefore:ln,pasteColsAfter:Pn,pasteRowsBefore:pr,pasteRowsAfter:gr,pasteCells:ei,makeCellsHeader:Wi,unmakeCellsHeader:ji,makeColumnsHeader:Nr,unmakeColumnsHeader:$n,makeRowsHeader:Cr,makeRowsBody:$o,makeRowsFooter:ya,getTableRowType:Ef,getTableCellType:Fl,getTableColType:ll}},fm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},vm=function(){return Le.fromTag("th")},K0=function(){return Le.fromTag("td")},zp=function(){return Le.fromTag("col")},Px=function(i,s,v,h){for(var y=Le.fromTag("tr"),E=0;E<i;E++){var B=h<s||E<v?vm():K0();E<v&&Ha(B,"scope","row"),h<s&&Ha(B,"scope","col"),ia(B,Le.fromTag("br")),ia(y,B)}return y},Fp=function(i){var s=Le.fromTag("colgroup");return Eo(i,function(){return ia(s,zp())}),s},X0=function(i,s,v,h){return Eo(i,function(y){return Px(s,v,h,y)})},Lg=function(i,s,v,h,y,E){E===void 0&&(E=fm);var B=Le.fromTag("table"),I=y!=="cells";eu(B,E.styles),kv(B,E.attributes),E.colGroups&&ia(B,Fp(s));var J=Math.min(i,v);if(I&&v>0){var ce=Le.fromTag("thead");ia(B,ce);var be=y==="sectionCells"?J:0,We=X0(v,s,be,h);ic(ce,We)}var ft=Le.fromTag("tbody");ia(B,ft);var et=I?i-J:i,Ue=I?0:v,xt=X0(et,s,Ue,h);return ic(ft,xt),B},vf=function(i){return i.dom.innerHTML},Y0=function(i){var s=Le.fromTag("div"),v=Le.fromDom(i.dom.cloneNode(!0));return ia(s,v),vf(s)},zx=function(i,s){i.selection.select(s.dom,!0),i.selection.collapse(!0)},df=function(i,s){zf(s,"td,th").each(tr(zx,i))},O2=function(i,s){zt(ws(s,"tr"),function(v){w0(i,v.dom),zt(ws(v,"th,td"),function(h){dp(i,h.dom)})})},A2=function(i){return jo(i)&&i.indexOf("%")!==-1},av=function(i,s,v,h,y){var E=wg(i),B={styles:E,attributes:of(i),colGroups:O0(i)};return i.undoManager.ignore(function(){var I=Lg(v,s,y,h,qc(i),B);Ha(I,"data-mce-id","__mce");var J=Y0(I);i.insertContent(J),i.addVisual()}),zf($c(i),'table[data-mce-id="__mce"]').map(function(I){return ev(i)?Ac(I):pp(i)?wp(I):(He(i)||A2(E.width))&&vc(I),Ba(I),zo(I,"data-mce-id"),O2(i,I),df(i,I),I.dom}).getOr(null)},D2=function(i,s,v,h,y){h===void 0&&(h={});var E=function(J){return qo(J)&&J>0};if(E(s)&&E(v)){var B=h.headerRows||0,I=h.headerColumns||0;return av(i,v,s,I,B)}else return console.error(y),null},dm=function(i){return function(){return i().fold(function(){return[]},function(s){return Je(s,function(v){return v.dom})})}},Fx=function(i){return function(s){var v=s.length>0?oe.some(zv(s)):oe.none();i(v)}},Ix=function(i){return function(s,v,h){h===void 0&&(h={});var y=D2(i,v,s,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return i.undoManager.add(),y}},mf=function(i,s,v,h){return{insertTable:Ix(i),setClipboardRows:Fx(s.setRows),getClipboardRows:dm(s.getRows),setClipboardCols:Fx(s.setColumns),getClipboardCols:dm(s.getColumns),resizeHandler:v,selectionTargets:h}},Xc=function(i,s,v){var h=pi(i,s,1);v===1||h<=1?zo(i,s):Ha(i,s,Math.min(v,h))},pu=function(i,s,v){if(Qn.hasColumns(i)){var h=Gr(Qn.justColumns(i),function(B){return B.column>=s&&B.column<v}),y=Je(h,function(B){var I=li(B.element);return Xc(I,"span",v-s),I}),E=Le.fromTag("colgroup");return ic(E,y),[E]}else return[]},R3=function(i,s,v){return Je(i.all,function(h){var y=Gr(h.cells,function(I){return I.column>=s&&I.column<v}),E=Je(y,function(I){var J=li(I.element);return Xc(J,"colspan",v-s),J}),B=Le.fromTag("tr");return ic(B,E),B})},R2=function(i,s){var v=Qn.fromTable(i),h=uf(v,s);return h.map(function(y){var E=y[y.length-1],B=y[0].column,I=E.column+E.colspan,J=pu(v,B,I),ce=R3(v,B,I);return Ut(Ut([],J,!0),ce,!0)})},Hg=function(i,s,v){var h=Qn.fromTable(i),y=Dl(h,s);return y.bind(function(E){var B=Tg(h,v,!1),I=Ja(B).rows,J=I.slice(E[0].row,E[E.length-1].row+E[E.length-1].rowspan),ce=it(J,function(We){var ft=Gr(We.cells,function(et){return!et.isLocked});return ft.length>0?[mn(mn({},We),{cells:ft})]:[]}),be=Sp(ce);return Ou(be.length>0,be)}).map(function(E){return n2(E)})},_2=tinymce.util.Tools.resolve("tinymce.util.Tools"),$g=function(i,s,v){var h=i.select("td,th",s),y,E=function(B,I){for(var J=0;J<I.length;J++){var ce=i.getStyle(I[J],v);if(typeof B>"u"&&(B=ce),B!==ce)return""}return B};return E(y,h)},Ip=function(i,s,v){v&&i.formatter.apply("align"+v,{},s)},Vg=function(i,s,v){v&&i.formatter.apply("valign"+v,{},s)},mm=function(i,s){_2.each("left center right".split(" "),function(v){i.formatter.remove("align"+v,{},s)})},J0=function(i,s){_2.each("top middle bottom".split(" "),function(v){i.formatter.remove("valign"+v,{},s)})},Q0=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],B2=function(i){return{value:i}},Lp=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gf=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Lx=function(i){return Lp.test(i)||gf.test(i)},Z0=function(i){return lo(i,"#").toUpperCase()},Ug=function(i){return Lx(i)?oe.some({value:Z0(i)}):oe.none()},Hp=function(i){var s=i.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Qv=function(i){var s=Hp(i.red)+Hp(i.green)+Hp(i.blue);return B2(s)},Wg=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,eb=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,tb=function(i,s,v,h){return{red:i,green:s,blue:v,alpha:h}},nb=function(i,s,v,h){var y=parseInt(i,10),E=parseInt(s,10),B=parseInt(v,10),I=parseFloat(h);return tb(y,E,B,I)},Hx=function(i){if(i==="transparent")return oe.some(tb(0,0,0,0));var s=Wg.exec(i);if(s!==null)return oe.some(nb(s[1],s[2],s[3],"1"));var v=eb.exec(i);return v!==null?oe.some(nb(v[1],v[2],v[3],v[4])):oe.none()},N2=function(i){return Ug(i).orThunk(function(){return Hx(i).map(Qv)}).getOrThunk(function(){var s=document.createElement("canvas");s.height=1,s.width=1;var v=s.getContext("2d");v.clearRect(0,0,s.width,s.height),v.fillStyle="#FFFFFF",v.fillStyle=i,v.fillRect(0,0,1,1);var h=v.getImageData(0,0,1,1).data,y=h[0],E=h[1],B=h[2],I=h[3];return Qv(tb(y,E,B,I))})},Zv=function(i){var s=i,v=function(){return s},h=function(y){s=y};return{get:v,set:h}},ed=function(i){var s=Zv(oe.none()),v=function(){return s.get().each(i)},h=function(){v(),s.set(oe.none())},y=function(){return s.get().isSome()},E=function(){return s.get()},B=function(I){v(),s.set(oe.some(I))};return{clear:h,isSet:y,get:E,set:B}},Gu=function(){return ed(function(i){return i.unbind()})},jg=function(){var i=ed(lt),s=function(v){return i.get().each(v)};return mn(mn({},i),{on:s})},gm=function(i,s,v,h){return function(y){var E=Gu(),B=Jn(h),I=function(){var J=Gf(s),ce=function(be){return i.formatter.match(v,{value:h},be.dom,B)};B?(y.setActive(!ot(J,ce)),E.set(i.formatter.formatChanged(v,function(be){return y.setActive(!be)},!0))):(y.setActive(Et(J,ce)),E.set(i.formatter.formatChanged(v,y.setActive,!1,{value:h})))};return i.initialized?I():i.on("init",I),E.clear}},qg=function(i){return he(i,"menu")},pc=function(i){return Je(i,function(s){var v=s.text||s.title;return qg(s)?{text:v,items:pc(s.menu)}:{text:v,value:s.value}})},Bl=function(i,s,v,h,y){return Je(v,function(E){var B=E.text||E.title;return qg(E)?{type:"nestedmenuitem",text:B,getSubmenuItems:function(){return Bl(i,s,E.menu,h,y)}}:{text:B,type:"togglemenuitem",onAction:function(){return y(E.value)},onSetup:gm(i,s,h,E.value)}})},hf=function(i,s){return function(v){var h;i.execCommand("mceTableApplyCellStyle",!1,(h={},h[s]=v,h))}},td=function(i){return it(i,function(s){return qg(s)?[mn(mn({},s),{menu:td(s.menu)})]:Ii(s.value)?[s]:[]})},hm=function(i,s,v,h,y){return function(E){return E(Bl(i,s,v,h,y))}},pm=function(i,s,v){var h=Je(s,function(y){return{text:y.title,value:"#"+N2(y.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:h.length>0?h:void 0,allowCustomColors:!1},onAction:function(y){var E,B=y.value==="remove"?"":y.value;i.execCommand("mceTableApplyCellStyle",!1,(E={},E[v]=B,E))}}]},M2=function(i){return function(){var s=i.queryCommandValue("mceTableRowType"),v=s==="header"?"body":"header";i.execCommand("mceTableRowType",!1,{type:v})}},rb=function(i){return function(){var s=i.queryCommandValue("mceTableColType"),v=s==="th"?"td":"th";i.execCommand("mceTableColType",!1,{type:v})}},ob=function(i){var s=pc(jc(i));return s.length>0?oe.some({name:"class",type:"listbox",label:"Class",items:s}):oe.none()},$p=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Q0}],P2=function(i){return $p.concat(ob(i).toArray())},ab=function(i,s){var v=[{text:"Select...",value:""}],h=[{name:"borderstyle",type:"listbox",label:"Border style",items:v.concat(pc(Is(i)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],y={name:"borderwidth",type:"input",label:"Border width"},E=s==="cell"?[y].concat(h):h;return{title:"Advanced",name:"advanced",items:E}},z2=function(i){return function(s,v){var h=s.dom,y=function(I,J){(!i||J)&&h.setAttrib(v,I,J)},E=function(I,J){(!i||J)&&h.setStyle(v,I,J)},B=function(I,J){(!i||J)&&(J===""?s.formatter.remove(I,{value:null},v,!0):s.formatter.apply(I,{value:J},v))};return{setAttrib:y,setStyle:E,setFormat:B}}},bm={normal:z2(!1),ifTruthy:z2(!0)},ib=function(i){return function(s){return Yt(s,"rgb")?i.toHex(s):s}},ub=function(i,s){var v=Le.fromDom(s);return{borderwidth:_a(v,"border-width").getOr(""),borderstyle:_a(v,"border-style").getOr(""),bordercolor:_a(v,"border-color").map(ib(i)).getOr(""),backgroundcolor:_a(v,"background-color").map(ib(i)).getOr("")}},Gg=function(i){var s=i[0],v=i.slice(1);return zt(v,function(h){zt(di(s),function(y){vo(h,function(E,B){var I=s[y];I!==""&&y===B&&I!==E&&(s[y]="")})})}),s},nd=function(i,s,v,h){return Mo(i,function(y){return!zi(v.formatter.matchNode(h,s+y))}).getOr("")},Vp=tr(nd,["left","center","right"],"align"),Kg=tr(nd,["top","middle","bottom"],"valign"),_3=function(i,s){var v=wg(i),h=of(i),y=function(be){return{borderstyle:Ei(v,"border-style").getOr(""),bordercolor:ib(be)(Ei(v,"border-color").getOr("")),backgroundcolor:ib(be)(Ei(v,"background-color").getOr(""))}},E={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},B=function(){var be=v["border-width"];return Pt(i)&&be?{border:be}:Ei(h,"border").fold(function(){return{}},function(We){return{border:We}})},I=s?y(i.dom):{},J=function(){var be=Ei(v,"border-spacing").or(Ei(h,"cellspacing")).fold(function(){return{}},function(ft){return{cellspacing:ft}}),We=Ei(v,"border-padding").or(Ei(h,"cellpadding")).fold(function(){return{}},function(ft){return{cellpadding:ft}});return mn(mn({},be),We)},ce=mn(mn(mn(mn(mn(mn({},E),v),h),I),B()),J());return ce},B3=function(i){return yr(Le.fromDom(i)).map(function(s){var v={selection:zv(i.cells)};return Dc(s,v)}).getOr("")},$x=function(i,s,v){var h=function(I,J){var ce=_a(Le.fromDom(J),"border-width");return Pt(i)&&ce.isSome()?ce.getOr(""):I.getAttrib(J,"border")||$g(i.dom,J,"border-width")||$g(i.dom,J,"border")},y=i.dom,E=Pt(i)?y.getStyle(s,"border-spacing")||y.getAttrib(s,"cellspacing"):y.getAttrib(s,"cellspacing")||y.getStyle(s,"border-spacing"),B=Pt(i)?$g(y,s,"padding")||y.getAttrib(s,"cellpadding"):y.getAttrib(s,"cellpadding")||$g(y,s,"padding");return mn({width:y.getStyle(s,"width")||y.getAttrib(s,"width"),height:y.getStyle(s,"height")||y.getAttrib(s,"height"),cellspacing:E,cellpadding:B,border:h(y,s),caption:!!y.select("caption",s)[0],class:y.getAttrib(s,"class",""),align:Vp(i,s)},v?ub(y,s):{})},N3=function(i,s,v){var h=i.dom;return mn({height:h.getStyle(s,"height")||h.getAttrib(s,"height"),class:h.getAttrib(s,"class",""),type:B3(s),align:Vp(i,s)},v?ub(h,s):{})},M3=function(i,s,v,h){var y=i.dom,E=h.getOr(s),B=function(I,J){return y.getStyle(I,J)||y.getAttrib(I,J)};return mn({width:B(E,"width"),height:B(s,"height"),scope:y.getAttrib(s,"scope"),celltype:Hc(s),class:y.getAttrib(s,"class",""),halign:Vp(i,s),valign:Kg(i,s)},v?ub(y,s):{})},Vx=function(i,s){var v=Qn.fromTable(i),h=Qn.justCells(v),y=Gr(h,function(E){return ot(s,function(B){return ir(E.element,B)})});return Je(y,function(E){return{element:E.element.dom,column:Qn.getColumnAt(v,E.column).map(function(B){return B.element.dom})}})},P3=function(i,s,v){i.setAttrib("scope",v.scope),i.setAttrib("class",v.class),i.setStyle("height",Ro(v.height)),s.setStyle("width",Ro(v.width))},cb=function(i,s){i.setFormat("tablecellbackgroundcolor",s.backgroundcolor),i.setFormat("tablecellbordercolor",s.bordercolor),i.setFormat("tablecellborderstyle",s.borderstyle),i.setFormat("tablecellborderwidth",Ro(s.borderwidth))},Ux=function(i,s,v){var h=s.length===1;zt(s,function(y){var E=y.element,B=h?bm.normal(i,E):bm.ifTruthy(i,E),I=y.column.map(function(J){return h?bm.normal(i,J):bm.ifTruthy(i,J)}).getOr(B);P3(B,I,v),hp(i)&&cb(B,v),h&&(mm(i,E),J0(i,E)),v.halign&&Ip(i,E,v.halign),v.valign&&Vg(i,E,v.valign)})},Up=function(i,s){i.execCommand("mceTableCellType",!1,{type:s.celltype,no_events:!0})},Xg=function(i,s,v,h){var y=aa(h,function(E,B){return v[B]!==E});Ji(y)>0&&s.length>=1&&yr(s[0]).each(function(E){var B=Vx(E,s),I=Ji(aa(y,function(ce,be){return be!=="scope"&&be!=="celltype"}))>0,J=X(y,"celltype");(I||X(y,"scope"))&&Ux(i,B,h),J&&Up(i,h),Fs(i,E.dom,{structure:J,style:I})})},Wx=function(i,s,v,h){var y=h.getData();h.close(),i.undoManager.transact(function(){Xg(i,s,v,y),i.focus()})},F2=function(i,s){var v=yr(s[0]).map(function(h){return Je(Vx(h,s),function(y){return M3(i,y.element,hp(i),y.column)})});return Gg(v.getOrDie())},An=function(i,s){var v=Gf(s);if(v.length!==0){var h=F2(i,v),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:P2(i)},ab(i,"cell")]},E={type:"panel",items:[{type:"grid",columns:2,items:P2(i)}]};i.windowManager.open({title:"Cell Properties",size:"normal",body:hp(i)?y:E,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:tr(Wx,i,v,h)})}},Wp=function(i){var s=pc(nl(i));return s.length>0?oe.some({name:"class",type:"listbox",label:"Class",items:s}):oe.none()},jx=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],jp=function(i){return jx.concat(Wp(i).toArray())},qp=function(i,s){i.setAttrib("class",s.class),i.setStyle("height",Ro(s.height))},qx=function(i,s){i.setStyle("background-color",s.backgroundcolor),i.setStyle("border-color",s.bordercolor),i.setStyle("border-style",s.borderstyle)},Gx=function(i,s,v,h){var y=s.length===1;zt(s,function(E){var B=y?bm.normal(i,E):bm.ifTruthy(i,E);qp(B,v),E0(i)&&qx(B,v),v.align!==h.align&&(mm(i,E),Ip(i,E,v.align))})},sb=function(i,s){i.execCommand("mceTableRowType",!1,{type:s.type,no_events:!0})},Yg=function(i,s,v,h){var y=aa(h,function(I,J){return v[J]!==I});if(Ji(y)>0){var E=X(y,"type"),B=E?Ji(y)>1:!0;B&&Gx(i,s,h,v),E&&sb(i,h),yr(Le.fromDom(s[0])).each(function(I){return Fs(i,I.dom,{structure:E,style:B})})}},Kx=function(i,s,v,h){var y=h.getData();h.close(),i.undoManager.transact(function(){Yg(i,s,v,y),i.focus()})},I2=function(i){var s=i0(Tt(i),mo.selected);if(s.length!==0){var v=Je(s,function(B){return N3(i,B.dom,E0(i))}),h=Gg(v),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:jp(i)},ab(i,"row")]},E={type:"panel",items:[{type:"grid",columns:2,items:jp(i)}]};i.windowManager.open({title:"Row Properties",size:"normal",body:E0(i)?y:E,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:tr(Kx,i,Je(s,function(B){return B.dom}),h)})}},lb=function(i,s,v){var h=v?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],y=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],E=c3(i)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],B=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],I=s.length>0?[{type:"listbox",name:"class",label:"Class",items:s}]:[];return h.concat(y).concat(E).concat(B).concat(I)},pf=function(i,s,v,h){if(s.tagName==="TD"||s.tagName==="TH")jo(v)?i.setStyle(s,v,h):i.setStyle(s,v);else if(s.children)for(var y=0;y<s.children.length;y++)pf(i,s.children[y],v,h)},Xx=function(i,s,v){var h=i.dom,y={},E={};if(y.class=v.class,E.height=Ro(v.height),h.getAttrib(s,"width")&&!Pt(i)?y.width=_i(v.width):E.width=Ro(v.width),Pt(i)?(E["border-width"]=Ro(v.border),E["border-spacing"]=Ro(v.cellspacing)):(y.border=v.border,y.cellpadding=v.cellpadding,y.cellspacing=v.cellspacing),Pt(i)&&s.children)for(var B=0;B<s.children.length;B++)pf(h,s.children[B],{"border-width":Ro(v.border),padding:Ro(v.cellpadding)}),Zf(i)&&pf(h,s.children[B],{"border-color":v.bordercolor});Zf(i)&&(E["background-color"]=v.backgroundcolor,E["border-color"]=v.bordercolor,E["border-style"]=v.borderstyle),y.style=h.serializeStyle(mn(mn({},wg(i)),E)),h.setAttribs(s,mn(mn({},of(i)),y))},wi=function(i,s,v,h){var y=i.dom,E=h.getData(),B=aa(E,function(I,J){return v[J]!==I});h.close(),E.class===""&&delete E.class,i.undoManager.transact(function(){if(!s){var I=parseInt(E.cols,10)||1,J=parseInt(E.rows,10)||1;s=av(i,I,J,0,0)}if(Ji(B)>0){Xx(i,s,E);var ce=y.select("caption",s)[0];(ce&&!E.caption||!ce&&E.caption)&&i.execCommand("mceTableToggleCaption"),E.align===""?mm(i,s):Ip(i,s,E.align)}if(i.focus(),i.addVisual(),Ji(B)>0){var be=X(B,"caption"),We=be?Ji(B)>1:!0;Fs(i,s,{structure:be,style:We})}})},Jg=function(i,s){var v=i.dom,h,y=_3(i,Zf(i));s===!1?(h=v.getParent(i.selection.getStart(),"table",i.getBody()),h?y=$x(i,h,Zf(i)):Zf(i)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor="")):(y.cols="1",y.rows="1",Zf(i)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor=""));var E=pc(T0(i));E.length>0&&y.class&&(y.class=y.class.replace(/\s*mce\-item\-table\s*/g,""));var B={type:"grid",columns:2,items:lb(i,E,s)},I=function(){return{type:"panel",items:[B]}},J=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[B]},ab(i,"table")]}},ce=Zf(i)?J():I();i.windowManager.open({title:"Table Properties",size:"normal",body:ce,onSubmit:tr(wi,i,h,y),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y})},ym=function(i){return qa(Tt(i),pa(i))},Gp=function(i){return Vc(Tt(i),pa(i))},rd=function(i,s,v,h,y){var E=pa(i),B=function(){return ym(i).each(function(ln){yr(ln,E).filter(Ft(E)).each(function(Pn){var pr=Le.fromText("");if(Do(Pn,pr),vu(Pn),i.dom.isEmpty(i.getBody()))i.setContent(""),i.selection.setCursorLocation();else{var gr=i.dom.createRng();gr.setStart(pr.dom,0),gr.setEnd(pr.dom,0),i.selection.setRng(gr),i.nodeChanged()}})})},I=function(ln){return ym(i).each(function(Pn){var pr=pp(i)||ev(i)||He(i);pr||yr(Pn,E).each(function(gr){ln==="relative"&&!sp(gr)?vc(gr):ln==="fixed"&&!Uc(gr)?Ac(gr):ln==="responsive"&&!Py(gr)&&wp(gr),Ba(gr),Fs(i,gr.dom,Na)})})},J=function(ln){return yr(ln,E)},ce=function(ln){return Gp(i).bind(function(Pn){return J(Pn).map(function(pr){return ln(pr,Pn)})})},be=function(ln,Pn){ce(function(pr){i.formatter.toggle("tableclass",{value:Pn},pr.dom),Fs(i,pr.dom,Qd)})},We=function(ln,Pn){ce(function(pr){var gr=Gf(h),ei=Et(gr,function(ji){return i.formatter.match("tablecellclass",{value:Pn},ji.dom)}),Wi=ei?i.formatter.remove:i.formatter.apply;zt(gr,function(ji){return Wi("tablecellclass",{value:Pn},ji.dom)}),Fs(i,pr.dom,Qd)})},ft=function(){ym(i).each(function(ln){yr(ln,E).each(function(Pn){xs(Pn,"caption").fold(function(){var pr=Le.fromTag("caption");ia(pr,Le.fromText("Caption")),kd(Pn,pr,0),i.selection.setCursorLocation(pr.dom,0)},function(pr){Zi("caption")(ln)&&ii("td",Pn).each(function(gr){return i.selection.setCursorLocation(gr.dom,0)}),vu(pr)}),Fs(i,Pn.dom,Na)})})},et=function(ln){i.focus()},Ue=function(ln,Pn){return Pn===void 0&&(Pn=!1),ce(function(pr,gr){var ei=Lv(h,pr,gr);ln(pr,ei,Pn).each(et)})},xt=function(){return ce(function(ln,Pn){var pr=Lv(h,ln,Pn),gr=Ho(lt,Le.fromDom(i.getDoc()),oe.none());return Hg(ln,pr,gr)})},_t=function(){return ce(function(ln,Pn){var pr=Lv(h,ln,Pn);return R2(ln,pr)})},xn=function(ln,Pn){return Pn().each(function(pr){var gr=Je(pr,function(ei){return li(ei)});ce(function(ei,Wi){var ji=cg(Le.fromDom(i.getDoc())),Nr=DC(h,Wi,gr,ji);ln(ei,Nr).each(et)})})},Lr=function(ln){return function(Pn,pr){return Ei(pr,"type").each(function(gr){Ue(ln(gr),pr.no_events)})}};vo({mceTableSplitCells:function(){return Ue(s.unmergeCells)},mceTableMergeCells:function(){return Ue(s.mergeCells)},mceTableInsertRowBefore:function(){return Ue(s.insertRowsBefore)},mceTableInsertRowAfter:function(){return Ue(s.insertRowsAfter)},mceTableInsertColBefore:function(){return Ue(s.insertColumnsBefore)},mceTableInsertColAfter:function(){return Ue(s.insertColumnsAfter)},mceTableDeleteCol:function(){return Ue(s.deleteColumn)},mceTableDeleteRow:function(){return Ue(s.deleteRow)},mceTableCutCol:function(){return _t().each(function(ln){y.setColumns(ln),Ue(s.deleteColumn)})},mceTableCutRow:function(){return xt().each(function(ln){y.setRows(ln),Ue(s.deleteRow)})},mceTableCopyCol:function(){return _t().each(function(ln){return y.setColumns(ln)})},mceTableCopyRow:function(){return xt().each(function(ln){return y.setRows(ln)})},mceTablePasteColBefore:function(){return xn(s.pasteColsBefore,y.getColumns)},mceTablePasteColAfter:function(){return xn(s.pasteColsAfter,y.getColumns)},mceTablePasteRowBefore:function(){return xn(s.pasteRowsBefore,y.getRows)},mceTablePasteRowAfter:function(){return xn(s.pasteRowsAfter,y.getRows)},mceTableDelete:B,mceTableCellToggleClass:We,mceTableToggleClass:be,mceTableToggleCaption:ft,mceTableSizingMode:function(ln,Pn){return I(Pn)},mceTableCellType:Lr(function(ln){return ln==="th"?s.makeCellsHeader:s.unmakeCellsHeader}),mceTableColType:Lr(function(ln){return ln==="th"?s.makeColumnsHeader:s.unmakeColumnsHeader}),mceTableRowType:Lr(function(ln){switch(ln){case"header":return s.makeRowsHeader;case"footer":return s.makeRowsFooter;default:return s.makeRowsBody}})},function(ln,Pn){return i.addCommand(Pn,ln)}),vo({mceTableProps:tr(Jg,i,!1),mceTableRowProps:tr(I2,i),mceTableCellProps:tr(An,i,h)},function(ln,Pn){return i.addCommand(Pn,function(){return ln()})}),i.addCommand("mceInsertTable",function(ln,Pn){dt(Pn)&&di(Pn).length>0?D2(i,Pn.rows,Pn.columns,Pn.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Jg(i,!0)}),i.addCommand("mceTableApplyCellStyle",function(ln,Pn){var pr=function(Wi){return"tablecell"+Wi.toLowerCase().replace("-","")};if(!!dt(Pn)){var gr=Gf(h);if(gr.length!==0){var ei=aa(Pn,function(Wi,ji){return i.formatter.has(pr(ji))&&jo(Wi)});Ae(ei)||(vo(ei,function(Wi,ji){zt(gr,function(Nr){bm.normal(i,Nr.dom).setFormat(pr(ji),Wi)})}),J(gr[0]).each(function(Wi){return Fs(i,Wi.dom,Qd)}))}}})},wm=function(i,s,v){var h=pa(i),y=function(E){return Vc(Tt(i)).bind(function(B){return yr(B,h).map(function(I){var J=Lv(v,I,B);return E(I,J)})}).getOr("")};vo({mceTableRowType:function(){return y(s.getTableRowType)},mceTableCellType:function(){return y(s.getTableCellType)},mceTableColType:function(){return y(s.getTableColType)}},function(E,B){return i.addQueryValueHandler(B,E)})},Qg=function(){var i=jg(),s=jg();return{getRows:i.get,setRows:function(v){v.fold(i.clear,i.set),s.clear()},clearRows:i.clear,getColumns:s.get,setColumns:function(v){v.fold(s.clear,s.set),i.clear()},clearColumns:s.clear}},Zg={remove_similar:!0,inherit:!1},bf=mn({selector:"td,th"},Zg),Kp={tablecellbackgroundcolor:mn({styles:{backgroundColor:"%value"}},bf),tablecellverticalalign:mn({styles:{"vertical-align":"%value"}},bf),tablecellbordercolor:mn({styles:{borderColor:"%value"}},bf),tablecellclass:mn({classes:["%value"]},bf),tableclass:mn({selector:"table",classes:["%value"]},Zg),tablecellborderstyle:mn({styles:{borderStyle:"%value"}},bf),tablecellborderwidth:mn({styles:{borderWidth:"%value"}},bf)},z3=function(i){i.formatter.register(Kp)},L2=Rs.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Yx=function(i){return i===void 0&&(i=void 0),L2.none(i)},yf=mn(mn({},L2),{none:Yx}),fb=function(i,s,v,h,y){y===void 0&&(y=Wt);var E=h===1;if(!E&&v<=0)return yf.first(i[0]);if(E&&v>=i.length-1)return yf.last(i[i.length-1]);var B=v+h,I=i[B];return y(I)?yf.middle(s,I):fb(i,s,B,h,y)},H2=function(i,s){return yr(i,s).bind(function(v){var h=os(v),y=Kr(h,function(E){return ir(i,E)});return y.map(function(E){return{index:E,all:h}})})},Jx=function(i,s,v){var h=H2(i,v);return h.fold(function(){return yf.none(i)},function(y){return fb(y.all,i,y.index,1,s)})},Qx=function(i,s,v){var h=H2(i,v);return h.fold(function(){return yf.none()},function(y){return fb(y.all,i,y.index,-1,s)})},$2=function(i,s,v,h){return{start:i,soffset:s,finish:v,foffset:h}},Nl={create:$2},wf=Rs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),V2=function(i,s,v,h){return i.fold(s,v,h)},Zx=function(i){return i.fold(hn,hn,hn)},eh=wf.before,eS=wf.on,tS=wf.after,_u={before:eh,on:eS,after:tS,cata:V2,getStart:Zx},Cm=Rs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Xp=function(i){return Cm.exact(i.start,i.soffset,i.finish,i.foffset)},vb=function(i){return i.match({domRange:function(s){return Le.fromDom(s.startContainer)},relative:function(s,v){return _u.getStart(s)},exact:function(s,v,h,y){return s}})},nS=Cm.domRange,U2=Cm.relative,W2=Cm.exact,j2=function(i){var s=vb(i);return Hi(s)},db=Nl.create,od={domRange:nS,relative:U2,exact:W2,exactFromRange:Xp,getWin:j2,range:db},th=function(i,s){var v=i.document.createRange();return v.selectNode(s.dom),v},q2=function(i,s){var v=i.document.createRange();return F3(v,s),v},F3=function(i,s){return i.selectNodeContents(s.dom)},nh=function(i,s){s.fold(function(v){i.setStartBefore(v.dom)},function(v,h){i.setStart(v.dom,h)},function(v){i.setStartAfter(v.dom)})},xm=function(i,s){s.fold(function(v){i.setEndBefore(v.dom)},function(v,h){i.setEnd(v.dom,h)},function(v){i.setEndAfter(v.dom)})},G2=function(i,s,v){var h=i.document.createRange();return nh(h,s),xm(h,v),h},Yp=function(i,s,v,h,y){var E=i.document.createRange();return E.setStart(s.dom,v),E.setEnd(h.dom,y),E},K2=function(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom,width:i.width,height:i.height}},mb=function(i){var s=i.getClientRects(),v=s.length>0?s[0]:i.getBoundingClientRect();return v.width>0||v.height>0?oe.some(v).map(K2):oe.none()},rh=Rs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),X2=function(i,s,v){return s(Le.fromDom(v.startContainer),v.startOffset,Le.fromDom(v.endContainer),v.endOffset)},gb=function(i,s){return s.match({domRange:function(v){return{ltr:yt(v),rtl:oe.none}},relative:function(v,h){return{ltr:To(function(){return G2(i,v,h)}),rtl:To(function(){return oe.some(G2(i,h,v))})}},exact:function(v,h,y,E){return{ltr:To(function(){return Yp(i,v,h,y,E)}),rtl:To(function(){return oe.some(Yp(i,y,E,v,h))})}}})},Y2=function(i,s){var v=s.ltr();if(v.collapsed){var h=s.rtl().filter(function(y){return y.collapsed===!1});return h.map(function(y){return rh.rtl(Le.fromDom(y.endContainer),y.endOffset,Le.fromDom(y.startContainer),y.startOffset)}).getOrThunk(function(){return X2(i,rh.ltr,v)})}else return X2(i,rh.ltr,v)},J2=function(i,s){var v=gb(i,s);return Y2(i,v)},hb=function(i,s){var v=J2(i,s);return v.match({ltr:function(h,y,E,B){var I=i.document.createRange();return I.setStart(h.dom,y),I.setEnd(E.dom,B),I},rtl:function(h,y,E,B){var I=i.document.createRange();return I.setStart(E.dom,B),I.setEnd(h.dom,y),I}})};rh.ltr,rh.rtl;var pb=function(i,s,v,h,y){if(y===0)return 0;if(s===h)return y-1;for(var E=h,B=1;B<y;B++){var I=i(B),J=Math.abs(s-I.left);if(v<=I.bottom){if(v<I.top||J>E)return B-1;E=J}}return 0},Q2=function(i,s,v){return s>=i.left&&s<=i.right&&v>=i.top&&v<=i.bottom},rS=function(i,s,v,h,y){var E=function(ce){var be=i.dom.createRange();return be.setStart(s.dom,ce),be.collapse(!0),be},B=function(ce){var be=E(ce);return be.getBoundingClientRect()},I=Ed(s).length,J=pb(B,v,h,y.right,I);return E(J)},Z2=function(i,s,v,h){var y=i.dom.createRange();y.selectNode(s.dom);var E=y.getClientRects(),B=eo(E,function(I){return Q2(I,v,h)?oe.some(I):oe.none()});return B.map(function(I){return rS(i,s,v,h,I)})},Jp=function(i,s,v,h){var y=i.dom.createRange(),E=w(s);return eo(E,function(B){return y.selectNode(B.dom),Q2(y.getBoundingClientRect(),v,h)?ew(i,B,v,h):oe.none()})},ew=function(i,s,v,h){return lu(s)?Z2(i,s,v,h):Jp(i,s,v,h)},oS=function(i,s,v,h){var y=i.dom.createRange();y.selectNode(s.dom);var E=y.getBoundingClientRect(),B=Math.max(E.left,Math.min(E.right,v)),I=Math.max(E.top,Math.min(E.bottom,h));return ew(i,s,B,I)},bb=!0,aS=!1,tw=function(i,s){return s-i.left<i.right-s?bb:aS},nw=function(i,s,v){var h=i.dom.createRange();return h.selectNode(s.dom),h.collapse(v),h},iS=function(i,s,v){var h=i.dom.createRange();h.selectNode(s.dom);var y=h.getBoundingClientRect(),E=tw(y,v),B=E===bb?ss:r0;return B(s).map(function(I){return nw(i,I,E)})},rw=function(i,s,v){var h=s.dom.getBoundingClientRect(),y=tw(h,v);return oe.some(nw(i,s,y))},ow=function(i,s,v){var h=w(s).length===0?rw:iS;return h(i,s,v)},Qp=function(i,s,v){var h,y;return oe.from((y=(h=i.dom).caretPositionFromPoint)===null||y===void 0?void 0:y.call(h,s,v)).bind(function(E){if(E.offsetNode===null)return oe.none();var B=i.dom.createRange();return B.setStart(E.offsetNode,E.offset),B.collapse(),oe.some(B)})},uS=function(i,s,v){var h,y;return oe.from((y=(h=i.dom).caretRangeFromPoint)===null||y===void 0?void 0:y.call(h,s,v))},Zp=function(i,s,v,h){var y=i.dom.createRange();y.selectNode(s.dom);var E=y.getBoundingClientRect(),B=Math.max(E.left,Math.min(E.right,v)),I=Math.max(E.top,Math.min(E.bottom,h));return oS(i,s,B,I)},oh=function(i,s,v){return Le.fromPoint(i,s,v).bind(function(h){var y=function(){return ow(i,h,s)};return w(h).length===0?y():Zp(i,h,s,v).orThunk(y)})},Ci=function(){return document.caretPositionFromPoint?Qp:document.caretRangeFromPoint?uS:oh}(),cS=function(i,s,v){var h=Le.fromDom(i.document);return Ci(h,s,v).map(function(y){return Nl.create(Le.fromDom(y.startContainer),y.startOffset,Le.fromDom(y.endContainer),y.endOffset)})},e1=function(i,s){var v=zr(i);return v==="input"?_u.after(i):Hr(["br","img"],v)?s===0?_u.before(i):_u.after(i):_u.on(i,s)},yb=function(i,s){var v=i.fold(_u.before,e1,_u.after),h=s.fold(_u.before,e1,_u.after);return od.relative(v,h)},wb=function(i,s,v,h){var y=e1(i,s),E=e1(v,h);return od.relative(y,E)},I3=function(i){return i.match({domRange:function(s){var v=Le.fromDom(s.startContainer),h=Le.fromDom(s.endContainer);return wb(v,s.startOffset,h,s.endOffset)},relative:yb,exact:wb})},t1=function(i,s,v,h){var y=ys(i),E=y.dom.createRange();return E.setStart(i.dom,s),E.setEnd(v.dom,h),E},sS=function(i,s,v,h){var y=t1(i,s,v,h),E=ir(i,v)&&s===h;return y.collapsed&&!E},ah=function(i){return oe.from(i.getSelection())},aw=function(i,s){ah(i).each(function(v){v.removeAllRanges(),v.addRange(s)})},iw=function(i,s,v,h,y){var E=Yp(i,s,v,h,y);aw(i,E)},lS=function(i,s,v,h,y,E){s.collapse(v.dom,h),s.extend(y.dom,E)},fS=function(i,s){return J2(i,s).match({ltr:function(v,h,y,E){iw(i,v,h,y,E)},rtl:function(v,h,y,E){ah(i).each(function(B){if(B.setBaseAndExtent)B.setBaseAndExtent(v.dom,h,y.dom,E);else if(B.extend)try{lS(i,B,v,h,y,E)}catch{iw(i,y,E,v,h)}else iw(i,y,E,v,h)})}})},vS=function(i,s,v,h,y){var E=wb(s,v,h,y);fS(i,E)},dS=function(i,s,v){var h=yb(s,v);fS(i,h)},mS=function(i){var s=od.getWin(i).dom,v=function(y,E,B,I){return Yp(s,y,E,B,I)},h=I3(i);return J2(s,h).match({ltr:v,rtl:v})},uw=function(i){if(i.rangeCount>0){var s=i.getRangeAt(0),v=i.getRangeAt(i.rangeCount-1);return oe.some(Nl.create(Le.fromDom(s.startContainer),s.startOffset,Le.fromDom(v.endContainer),v.endOffset))}else return oe.none()},n1=function(i){if(i.anchorNode===null||i.focusNode===null)return uw(i);var s=Le.fromDom(i.anchorNode),v=Le.fromDom(i.focusNode);return sS(s,i.anchorOffset,v,i.focusOffset)?oe.some(Nl.create(s,i.anchorOffset,v,i.focusOffset)):uw(i)},Sm=function(i,s,v){v===void 0&&(v=!0);var h=v?q2:th,y=h(i,s);aw(i,y)},Cb=function(i){return ah(i).filter(function(s){return s.rangeCount>0}).bind(n1)},cw=function(i){return Cb(i).map(function(s){return od.exact(s.start,s.soffset,s.finish,s.foffset)})},L3=function(i,s){var v=hb(i,s);return mb(v)},r1=function(i,s,v){return cS(i,s,v)},gS=function(i){ah(i).each(function(s){return s.removeAllRanges()})},H3=tinymce.util.Tools.resolve("tinymce.util.VK"),sw=function(i,s,v){return lw(i,s,Jx(v,Oc))},o1=function(i,s,v){return lw(i,s,Qx(v,Oc))},ad=function(i,s){var v=od.exact(s,0,s,0);return mS(v)},lw=function(i,s,v){return v.fold(oe.none,oe.none,function(h,y){return ss(y).map(function(E){return ad(i,E)})},function(h){return i.execCommand("mceTableInsertRowAfter"),sw(i,s,h)})},hS=["table","li","dl"],pS=function(i,s,v){if(i.keyCode===H3.TAB){var h=$c(s),y=function(I){var J=zr(I);return ir(I,h)||Hr(hS,J)},E=s.selection.getRng(),B=Le.fromDom(i.shiftKey?E.startContainer:E.endContainer);Ts(B,y).each(function(I){i.preventDefault(),yr(I,y).each(v.clear),s.selection.collapse(i.shiftKey);var J=i.shiftKey?o1:sw,ce=J(s,y,I);ce.each(function(be){s.selection.setRng(be)})})}},km=function(i,s){return{selection:i,kill:s}},Em={create:km},bS=function(i,s,v,h){return{start:_u.on(i,s),finish:_u.on(v,h)}},bu={create:bS},yS=function(i,s){var v=hb(i,s);return Nl.create(Le.fromDom(v.startContainer),v.startOffset,Le.fromDom(v.endContainer),v.endOffset)},Cf=bu.create,Wr=function(i,s,v,h,y,E,B){return ir(v,y)&&h===E?oe.none():La(v,"td,th",s).bind(function(I){return La(y,"td,th",s).bind(function(J){return wS(i,s,I,J,B)})})},wS=function(i,s,v,h,y){return ir(v,h)?oe.none():Av(v,h,s).bind(function(E){var B=E.boxes.getOr([]);return B.length>1?(y(i,B,E.start,E.finish),oe.some(Em.create(oe.some(Cf(v,0,v,Sl(v))),!0))):oe.none()})},ba=function(i,s,v,h,y){var E=function(B){return y.clearBeforeUpdate(v),y.selectRange(v,B.boxes,B.start,B.finish),B.boxes};return U1(h,i,s,y.firstSelectedSelector,y.lastSelectedSelector).map(E)},fw=function(i,s){return{item:i,mode:s}},vw=function(i,s,v,h){return h===void 0&&(h=id),i.property().parent(s).map(function(y){return fw(y,h)})},id=function(i,s,v,h){return h===void 0&&(h=Bu),v.sibling(i,s).map(function(y){return fw(y,h)})},Bu=function(i,s,v,h){h===void 0&&(h=Bu);var y=i.property().children(s),E=v.first(y);return E.map(function(B){return fw(B,h)})},ih=[{current:vw,next:id,fallback:oe.none()},{current:id,next:Bu,fallback:oe.some(vw)},{current:Bu,next:Bu,fallback:oe.some(id)}],ud=function(i,s,v,h,y){y===void 0&&(y=ih);var E=Mo(y,function(B){return B.current===v});return E.bind(function(B){return B.current(i,s,h,B.next).orThunk(function(){return B.fallback.bind(function(I){return ud(i,s,I,h)})})})},xf=function(){var i=function(v,h){return v.query().prevSibling(h)},s=function(v){return v.length>0?oe.some(v[v.length-1]):oe.none()};return{sibling:i,first:s}},a1=function(){var i=function(v,h){return v.query().nextSibling(h)},s=function(v){return v.length>0?oe.some(v[0]):oe.none()};return{sibling:i,first:s}},uh={left:xf,right:a1},i1=function(i,s,v,h,y,E){var B=ud(i,s,h,y);return B.bind(function(I){return E(I.item)?oe.none():v(I.item)?oe.some(I.item):i1(i,I.item,v,I.mode,y,E)})},u1=function(i,s,v,h){return i1(i,s,v,id,uh.left(),h)},CS=function(i,s,v,h){return i1(i,s,v,id,uh.right(),h)},xb=function(i){return function(s){return i.property().children(s).length===0}},Rc=function(i,s,v){return ch(i,s,xb(i),v)},xS=function(i,s,v){return SS(i,s,xb(i),v)},ch=u1,SS=CS,sh=L1(),dw=function(i,s){return Rc(sh,i,s)},mw=function(i,s){return xS(sh,i,s)},kS=function(i,s,v){return ch(sh,i,s,v)},gw=function(i,s,v){return SS(sh,i,s,v)},Ml=function(i,s,v){return fu(i,s,v).isSome()},Tm=Rs.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),_c=function(i,s,v){var h=i.getRect(s),y=i.getRect(v);return y.right>h.left&&y.left<h.right},hw=function(i){return La(i,"tr")},$3=function(i,s,v,h,y,E,B){return La(h,"td,th",B).bind(function(I){return La(s,"td,th",B).map(function(J){return ir(I,J)?ir(h,I)&&Sl(I)===y?E(J):Tm.none("in same cell"):As(hw,[I,J]).fold(function(){return _c(i,J,I)?Tm.success():E(J)},function(ce){return E(J)})})}).getOr(Tm.none("default"))},lh=function(i,s,v,h,y){return i.fold(s,v,h,y)},Yc=mn(mn({},Tm),{verify:$3,cata:lh}),iv=function(i,s,v,h){return{parent:i,children:s,element:v,index:h}},pw=function(i){return nc(i).bind(function(s){var v=w(s);return V3(v,i).map(function(h){return iv(s,v,i,h)})})},V3=function(i,s){return Kr(i,tr(ir,s))},fh=function(i){return zr(i)==="br"},il=function(i,s,v){return s(i,v).bind(function(h){return lu(h)&&Ed(h).trim().length===0?il(h,s,v):oe.some(h)})},ES=function(i,s,v){return v.traverse(s).orThunk(function(){return il(s,v.gather,i)}).map(v.relative)},Za=function(i,s){return D(i,s).filter(fh).orThunk(function(){return D(i,s-1).filter(fh)})},TS=function(i,s,v,h){return Za(s,v).bind(function(y){return h.traverse(y).fold(function(){return il(y,h.gather,i).map(h.relative)},function(E){return pw(E).map(function(B){return _u.on(B.parent,B.index)})})})},OS=function(i,s,v,h){var y=fh(s)?ES(i,s,h):TS(i,s,v,h);return y.map(function(E){return{start:E,finish:E}})},AS=function(i){return Yc.cata(i,function(s){return oe.none()},function(){return oe.none()},function(s){return oe.some(kg(s,0))},function(s){return oe.some(kg(s,Sl(s)))})},vh=function(i,s){return{left:i.left,top:i.top+s,right:i.right,bottom:i.bottom+s}},uv=function(i,s){return{left:i.left,top:i.top-s,right:i.right,bottom:i.bottom-s}},Sb=function(i,s,v){return{left:i.left+s,top:i.top+v,right:i.right+s,bottom:i.bottom+v}},kb=function(i){return i.top},bw=function(i){return i.bottom},cd=function(i,s,v){return v>=0&&v<Sl(s)?i.getRangedRect(s,v,s,v+1):v>0?i.getRangedRect(s,v-1,s,v):oe.none()},ul=function(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}},c1=function(i,s){return oe.some(i.getRect(s))},Sf=function(i,s,v){return tc(s)?c1(i,s).map(ul):lu(s)?cd(i,s,v).map(ul):oe.none()},sd=function(i,s){return tc(s)?c1(i,s).map(ul):lu(s)?i.getRangedRect(s,0,s,Sl(s)).map(ul):oe.none()},cl=5,Eb=100,Bc=Rs.generate([{none:[]},{retry:["caret"]}]),ld=function(i,s){return i.left<s.left||Math.abs(s.right-i.left)<1||i.left>s.right},Om=function(i,s,v){return P1(s,Kv).fold(Zt,function(h){return sd(i,h).exists(function(y){return ld(v,y)})})},dh=function(i,s,v,h,y){var E=vh(y,cl);return Math.abs(v.bottom-h.bottom)<1||v.top>y.bottom?Bc.retry(E):v.top===y.bottom?Bc.retry(vh(y,1)):Om(i,s,y)?Bc.retry(Sb(E,cl,0)):Bc.none()},DS=function(i,s,v,h,y){var E=uv(y,cl);return Math.abs(v.top-h.top)<1||v.bottom<y.top?Bc.retry(E):v.bottom===y.top?Bc.retry(uv(y,1)):Om(i,s,y)?Bc.retry(Sb(E,cl,0)):Bc.none()},kf={point:kb,adjuster:DS,move:uv,gather:dw},Tb={point:bw,adjuster:dh,move:vh,gather:mw},yw=function(i,s,v){return i.elementFromPoint(s,v).filter(function(h){return zr(h)==="table"}).isSome()},RS=function(i,s,v,h,y){return fd(i,s,v,s.move(h,cl),y)},fd=function(i,s,v,h,y){return y===0?oe.some(h):yw(i,h.left,s.point(h))?RS(i,s,v,h,y-1):i.situsFromPoint(h.left,s.point(h)).bind(function(E){return E.start.fold(oe.none,function(B){return sd(i,B).bind(function(I){return s.adjuster(i,B,I,v,h).fold(oe.none,function(J){return fd(i,s,v,J,y-1)})}).orThunk(function(){return oe.some(h)})},oe.none)})},Am=function(i,s){return i.situsFromPoint(s.left,s.bottom+cl)},Dm=function(i,s){return i.situsFromPoint(s.left,s.top-cl)},ww=function(i,s,v){return i.point(s)>v.getInnerHeight()?oe.some(i.point(s)-v.getInnerHeight()):i.point(s)<0?oe.some(-i.point(s)):oe.none()},mh=function(i,s,v){var h=i.move(v,cl),y=fd(s,i,v,h,Eb).getOr(h);return ww(i,y,s).fold(function(){return s.situsFromPoint(y.left,i.point(y))},function(E){return s.scrollBy(0,E),s.situsFromPoint(y.left,i.point(y)-E)})},Hs={tryUp:tr(mh,kf),tryDown:tr(mh,Tb),ieTryUp:Dm,ieTryDown:Am,getJumpSize:yt(cl)},cv=20,_S=function(i,s,v){return i.getSelection().bind(function(h){return OS(s,h.finish,h.foffset,v).fold(function(){return oe.some(kg(h.finish,h.foffset))},function(y){var E=i.fromSitus(y),B=Yc.verify(i,h.finish,h.foffset,E.finish,E.foffset,v.failure,s);return AS(B)})})},Ob=function(i,s,v,h,y,E){return E===0?oe.none():sl(i,s,v,h,y).bind(function(B){var I=i.fromSitus(B),J=Yc.verify(i,v,h,I.finish,I.foffset,y.failure,s);return Yc.cata(J,function(){return oe.none()},function(){return oe.some(B)},function(ce){return ir(v,ce)&&h===0?Nc(i,v,h,uv,y):Ob(i,s,ce,0,y,E-1)},function(ce){return ir(v,ce)&&h===Sl(ce)?Nc(i,v,h,vh,y):Ob(i,s,ce,Sl(ce),y,E-1)})})},Nc=function(i,s,v,h,y){return Sf(i,s,v).bind(function(E){return sv(i,y,h(E,Hs.getJumpSize()))})},sv=function(i,s,v){var h=re().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?s.otherRetry(i,v):h.isIE()?s.ieRetry(i,v):oe.none()},sl=function(i,s,v,h,y){return Sf(i,v,h).bind(function(E){return sv(i,y,E)})},Cw=function(i,s,v){return _S(i,s,v).bind(function(h){return Ob(i,s,h.element,h.offset,v,cv).map(i.fromSitus)})},Ab=function(i,s){return Ml(i,function(v){return nc(v).exists(function(h){return ir(h,s)})})},Pl=function(i,s,v,h,y){return La(h,"td,th",s).bind(function(E){return La(E,"table",s).bind(function(B){return Ab(y,B)?Cw(i,s,v).bind(function(I){return La(I.finish,"td,th",s).map(function(J){return{start:E,finish:J,range:I}})}):oe.none()})})},s1=function(i,s,v,h,y,E){return re().browser.isIE()?oe.none():E(h,s).orThunk(function(){return Pl(i,s,v,h,y).map(function(B){var I=B.range;return Em.create(oe.some(Cf(I.start,I.soffset,I.finish,I.foffset)),!0)})})},xw=function(i,s){return La(i,"tr",s).bind(function(v){return La(v,"table",s).bind(function(h){var y=ws(h,"tr");return ir(v,y[0])?kS(h,function(E){return r0(E).isSome()},s).map(function(E){var B=Sl(E);return Em.create(oe.some(Cf(E,B,E,B)),!0)}):oe.none()})})},zl=function(i,s){return La(i,"tr",s).bind(function(v){return La(v,"table",s).bind(function(h){var y=ws(h,"tr");return ir(v,y[y.length-1])?gw(h,function(E){return ss(E).isSome()},s).map(function(E){return Em.create(oe.some(Cf(E,0,E,0)),!0)}):oe.none()})})},gh=function(i,s,v,h,y,E,B){return Pl(i,v,h,y,E).bind(function(I){return wS(s,v,I.start,I.finish,B)})},l1=function(i,s){return La(i,"td,th",s)},f1=function(i,s,v,h){var y=jg(),E=y.clear,B=function(be){y.on(function(We){h.clearBeforeUpdate(s),l1(be.target,v).each(function(ft){Av(We,ft,v).each(function(et){var Ue=et.boxes.getOr([]);if(Ue.length===1){var xt=Ue[0],_t=ju(xt)==="false",xn=Xs(qd(be.target),xt,ir);_t&&xn&&(h.selectRange(s,Ue,xt,xt),i.selectContents(xt))}else Ue.length>1&&(h.selectRange(s,Ue,et.start,et.finish),i.selectContents(ft))})})})},I=function(be){h.clear(s),l1(be.target,v).each(y.set)},J=function(be){B(be)},ce=function(be){B(be),E()};return{clearstate:E,mousedown:I,mouseover:J,mouseup:ce}},Sw={traverse:k,gather:mw,relative:_u.before,otherRetry:Hs.tryDown,ieRetry:Hs.ieTryDown,failure:Yc.failedDown},kw={traverse:P,gather:dw,relative:_u.before,otherRetry:Hs.tryUp,ieRetry:Hs.ieTryUp,failure:Yc.failedUp},Rm=function(i){return function(s){return s===i}},_m=Rm(38),Bm=Rm(40),lv=function(i){return i>=37&&i<=40},Ew={isBackward:Rm(37),isForward:Rm(39)},BS={isBackward:Rm(39),isForward:Rm(37)},Db=function(i){var s=i!==void 0?i.dom:document,v=s.body.scrollLeft||s.documentElement.scrollLeft,h=s.body.scrollTop||s.documentElement.scrollTop;return Ic(v,h)},v1=function(i,s,v){var h=v!==void 0?v.dom:document,y=h.defaultView;y&&y.scrollBy(i,s)},hh=function(i){var s=function(_t,xn){return Le.fromPoint(Le.fromDom(i.document),_t,xn)},v=function(_t){return _t.dom.getBoundingClientRect()},h=function(_t,xn,Lr,ln){var Pn=od.exact(_t,xn,Lr,ln);return L3(i,Pn)},y=function(){return cw(i).map(function(_t){return yS(i,_t)})},E=function(_t){var xn=od.relative(_t.start,_t.finish);return yS(i,xn)},B=function(_t,xn){return r1(i,_t,xn).map(function(Lr){return bu.create(Lr.start,Lr.soffset,Lr.finish,Lr.foffset)})},I=function(){gS(i)},J=function(_t){_t===void 0&&(_t=!1),cw(i).each(function(xn){return xn.fold(function(Lr){return Lr.collapse(_t)},function(Lr,ln){var Pn=_t?Lr:ln;dS(i,Pn,Pn)},function(Lr,ln,Pn,pr){var gr=_t?Lr:Pn,ei=_t?ln:pr;vS(i,gr,ei,gr,ei)})})},ce=function(_t){Sm(i,_t,!1)},be=function(_t){Sm(i,_t)},We=function(_t){vS(i,_t.start,_t.soffset,_t.finish,_t.foffset)},ft=function(_t,xn){dS(i,_t,xn)},et=function(){return i.innerHeight},Ue=function(){var _t=Db(Le.fromDom(i.document));return _t.top},xt=function(_t,xn){v1(_t,xn,Le.fromDom(i.document))};return{elementFromPoint:s,getRect:v,getRangedRect:h,getSelection:y,fromSitus:E,situsFromPoint:B,clearSelection:I,collapseSelection:J,setSelection:We,setRelativeSelection:ft,selectNode:ce,selectContents:be,getInnerHeight:et,getScrollY:Ue,scrollBy:xt}},vd=function(i,s){return{rows:i,cols:s}},Tw=function(i,s,v,h){var y=hh(i),E=f1(y,s,v,h);return{clearstate:E.clearstate,mousedown:E.mousedown,mouseover:E.mouseover,mouseup:E.mouseup}},ph=function(i,s,v,h){var y=hh(i),E=function(){return h.clear(s),oe.none()},B=function(J,ce,be,We,ft,et){var Ue=J.raw,xt=Ue.which,_t=Ue.shiftKey===!0,xn=Jm(s,h.selectedSelector).fold(function(){return lv(xt)&&!_t&&h.clearBeforeUpdate(s),Bm(xt)&&_t?tr(gh,y,s,v,Sw,We,ce,h.selectRange):_m(xt)&&_t?tr(gh,y,s,v,kw,We,ce,h.selectRange):Bm(xt)?tr(s1,y,v,Sw,We,ce,zl):_m(xt)?tr(s1,y,v,kw,We,ce,xw):oe.none},function(Lr){var ln=function(Pn){return function(){var pr=eo(Pn,function(gr){return ba(gr.rows,gr.cols,s,Lr,h)});return pr.fold(function(){return uy(s,h.firstSelectedSelector,h.lastSelectedSelector).map(function(gr){var ei=Bm(xt)||et.isForward(xt)?_u.after:_u.before;return y.setRelativeSelection(_u.on(gr.first,0),ei(gr.table)),h.clear(s),Em.create(oe.none(),!0)})},function(gr){return oe.some(Em.create(oe.none(),!0))})}};return Bm(xt)&&_t?ln([vd(1,0)]):_m(xt)&&_t?ln([vd(-1,0)]):et.isBackward(xt)&&_t?ln([vd(0,-1),vd(-1,0)]):et.isForward(xt)&&_t?ln([vd(0,1),vd(1,0)]):lv(xt)&&!_t?E:oe.none});return xn()},I=function(J,ce,be,We,ft){return Jm(s,h.selectedSelector).fold(function(){var et=J.raw,Ue=et.which,xt=et.shiftKey===!0;return xt&&lv(Ue)?Wr(s,v,ce,be,We,ft,h.selectRange):oe.none()},oe.none)};return{keydown:B,keyup:I}},Rb=function(i,s,v,h){var y=hh(i);return function(E,B){h.clearBeforeUpdate(s),Av(E,B,v).each(function(I){var J=I.boxes.getOr([]);h.selectRange(s,J,I.start,I.finish),y.selectContents(B),y.collapseSelection()})}},_b=function(i,s){zt(s,function(v){Wc(i,v)})},NS=function(i){return function(s){Ol(s,i)}},U3=function(i){return function(s){_b(s,i)}},Bb=function(i){var s=NS(i.selected),v=U3([i.selected,i.lastSelected,i.firstSelected]),h=function(E){var B=ws(E,i.selectedSelector);zt(B,v)},y=function(E,B,I,J){h(E),zt(B,s),Ol(I,i.firstSelected),Ol(J,i.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:y,selectedSelector:i.selectedSelector,firstSelectedSelector:i.firstSelectedSelector,lastSelectedSelector:i.lastSelectedSelector}},W3=function(i,s,v){var h=function(J){zo(J,i.selected),zo(J,i.firstSelected),zo(J,i.lastSelected)},y=function(J){Ha(J,i.selected,"1")},E=function(J){B(J),v()},B=function(J){var ce=ws(J,i.selectedSelector+","+i.firstSelectedSelector+","+i.lastSelectedSelector);zt(ce,h)},I=function(J,ce,be,We){E(J),zt(ce,y),Ha(be,i.firstSelected,"1"),Ha(We,i.lastSelected,"1"),s(ce,be,We)};return{clearBeforeUpdate:B,clear:E,selectRange:I,selectedSelector:i.selectedSelector,firstSelectedSelector:i.firstSelectedSelector,lastSelectedSelector:i.lastSelectedSelector}},d1={byClass:Bb,byAttr:W3},MS=function(i,s){var v=i.slice(0,s[s.length-1].row+1),h=Sp(v);return it(h,function(y){var E=y.cells.slice(0,s[s.length-1].column+1);return Je(E,function(B){return B.element})})},Ow=function(i,s){var v=i.slice(s[0].row+s[0].rowspan-1,i.length),h=Sp(v);return it(h,function(y){var E=y.cells.slice(s[0].column+s[0].colspan-1,y.cells.length);return Je(E,function(B){return B.element})})},PS=function(i,s,v){var h=Qn.fromTable(i),y=Dl(h,s);return y.map(function(E){var B=Tg(h,v,!1),I=MS(B,E),J=Ow(B,E);return{upOrLeftCells:I,downOrRightCells:J}})},zS=tinymce.util.Tools.resolve("tinymce.Env"),Aw=function(i){return fp(Le.fromDom(i.target),"ephox-snooker-resizer-bar")===!1};function m1(i,s,v){var h=function(B,I,J){v.targets().each(function(ce){var be=yr(I);be.each(function(We){var ft=xg(i),et=Ho(lt,Le.fromDom(i.getDoc()),ft),Ue=PS(We,ce,et);bg(i,B,I,J,Ue)})})},y=function(){return QC(i)},E=d1.byAttr(mo,h,y);return i.on("init",function(B){var I=i.getWin(),J=$c(i),ce=pa(i),be=function(){var Nr=i.selection,$n=Le.fromDom(Nr.getStart()),Cr=Le.fromDom(Nr.getEnd()),$o=As(yr,[$n,Cr]);$o.fold(function(){return E.clear(J)},lt)},We=Tw(I,J,ce,E),ft=ph(I,J,ce,E),et=Rb(I,J,ce,E),Ue=function(Nr){return Nr.raw.shiftKey===!0};i.on("TableSelectorChange",function(Nr){return et(Nr.start,Nr.finish)});var xt=function(Nr,$n){!Ue(Nr)||($n.kill&&Nr.kill(),$n.selection.each(function(Cr){var $o=od.relative(Cr.start,Cr.finish),ya=hb(I,$o);i.selection.setRng(ya)}))},_t=function(Nr){var $n=Jf(Nr);if($n.raw.shiftKey&&lv($n.raw.which)){var Cr=i.selection.getRng(),$o=Le.fromDom(Cr.startContainer),ya=Le.fromDom(Cr.endContainer);ft.keyup($n,$o,Cr.startOffset,ya,Cr.endOffset).each(function(Fl){xt($n,Fl)})}},xn=function(Nr){var $n=Jf(Nr);s().each(function(ll){return ll.hideBars()});var Cr=i.selection.getRng(),$o=Le.fromDom(Cr.startContainer),ya=Le.fromDom(Cr.endContainer),Fl=Dv(Ew,BS)(Le.fromDom(i.selection.getStart()));ft.keydown($n,$o,Cr.startOffset,ya,Cr.endOffset,Fl).each(function(ll){xt($n,ll)}),s().each(function(ll){return ll.showBars()})},Lr=function(Nr){return Nr.button===0},ln=function(Nr){return Nr.buttons===void 0||zS.browser.isEdge()&&Nr.buttons===0?!0:(Nr.buttons&1)!==0},Pn=function(Nr){We.clearstate()},pr=function(Nr){Lr(Nr)&&Aw(Nr)&&We.mousedown(Jf(Nr))},gr=function(Nr){ln(Nr)&&Aw(Nr)&&We.mouseover(Jf(Nr))},ei=function(Nr){Lr(Nr)&&Aw(Nr)&&We.mouseup(Jf(Nr))},Wi=function(){var Nr=Zv(Le.fromDom(J)),$n=Zv(0),Cr=function($o){var ya=Le.fromDom($o.target);if(zr(ya)==="td"||zr(ya)==="th"){var Fl=Nr.get(),ll=$n.get();ir(Fl,ya)&&$o.timeStamp-ll<300&&($o.preventDefault(),et(ya,ya))}Nr.set(ya),$n.set($o.timeStamp)};return{touchEnd:Cr}},ji=Wi();i.on("dragstart",Pn),i.on("mousedown",pr),i.on("mouseover",gr),i.on("mouseup",ei),i.on("touchend",ji.touchEnd),i.on("keyup",_t),i.on("keydown",xn),i.on("NodeChange",be)}),{clear:E.clear}}var bh=function(i,s){return xs(i,s).isSome()},j3=function(i,s){var v=Zv(oe.none()),h=Zv([]),y=oe.none(),E=Zi("caption"),B=function($n){return y.forall(function(Cr){return!Cr[$n]})},I=function(){return qa(Tt(i),pa(i))},J=function(){return qa(Jh(i),pa(i))},ce=function(){return I().bind(function($n){return Fo(Ss(yr($n),J().bind(yr),function(Cr,$o){return ir(Cr,$o)?E($n)?oe.some(bi($n)):oe.some(Lv(s,Cr,$n)):oe.none()}))})},be=function($n){var Cr=yr($n.element);return Cr.map(function($o){var ya=Qn.fromTable($o),Fl=Dl(ya,$n).getOr([]),ll=ee(Fl,function(Ef,yu){return yu.isLocked&&(Ef.onAny=!0,yu.column===0?Ef.onFirst=!0:yu.column+yu.colspan>=ya.grid.columns&&(Ef.onLast=!0)),Ef},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:i2(ya,$n).isSome(),unmergeable:P0(ya,$n).isSome(),locked:ll}})},We=function(){v.set(To(ce)()),y=v.get().bind(be),zt(h.get(),function($n){return $n()})},ft=function($n){return $n(),h.set(h.get().concat([$n])),function(){h.set(Gr(h.get(),function(Cr){return Cr!==$n}))}},et=function($n,Cr){return ft(function(){return v.get().fold(function(){$n.setDisabled(!0)},function($o){$n.setDisabled(Cr($o))})})},Ue=function($n,Cr,$o){return ft(function(){return v.get().fold(function(){$n.setDisabled(!0),$n.setActive(!1)},function(ya){$n.setDisabled(Cr(ya)),$n.setActive($o(ya))})})},xt=function($n){return y.exists(function(Cr){return Cr.locked[$n]})},_t=function($n){return et($n,function(Cr){return!1})},xn=function($n){return et($n,function(Cr){return E(Cr.element)})},Lr=function($n){return function(Cr){return et(Cr,function($o){return E($o.element)||xt($n)})}},ln=function($n){return function(Cr){return et(Cr,function($o){return E($o.element)||$n().isNone()})}},Pn=function($n,Cr){return function($o){return et($o,function(ya){return E(ya.element)||$n().isNone()||xt(Cr)})}},pr=function($n){return et($n,function(Cr){return B("mergeable")})},gr=function($n){return et($n,function(Cr){return B("unmergeable")})},ei=function($n){return Ue($n,Zt,function(Cr){var $o=yr(Cr.element,pa(i));return $o.exists(function(ya){return bh(ya,"caption")})})},Wi=function($n,Cr){return function($o){return Ue($o,function(ya){return E(ya.element)},function(){return i.queryCommandValue($n)===Cr})}},ji=Wi("mceTableRowType","header"),Nr=Wi("mceTableColType","th");return i.on("NodeChange ExecCommand TableSelectorChange",We),{onSetupTable:_t,onSetupCellOrRow:xn,onSetupColumn:Lr,onSetupPasteable:ln,onSetupPasteableColumn:Pn,onSetupMergeable:pr,onSetupUnmergeable:gr,resetTargets:We,onSetupTableWithCaption:ei,onSetupTableRowHeaders:ji,onSetupTableColumnHeaders:Nr,targets:v.get}},Nb=function(i,s,v,h){i.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(I){return I("inserttable | cell row column | advtablesort | tableprops deletetable")}});var y=function(I){return function(){return i.execCommand(I)}};i.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:y("mceTableProps"),icon:"table",onSetup:v.onSetupTable}),i.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:y("mceTableDelete"),icon:"table-delete-table",onSetup:v.onSetupTable}),i.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:y("mceTableCellProps"),icon:"table-cell-properties",onSetup:v.onSetupCellOrRow}),i.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:y("mceTableMergeCells"),icon:"table-merge-cells",onSetup:v.onSetupMergeable}),i.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:y("mceTableSplitCells"),icon:"table-split-cells",onSetup:v.onSetupUnmergeable}),i.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:y("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:v.onSetupCellOrRow}),i.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:y("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:v.onSetupCellOrRow}),i.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:y("mceTableDeleteRow"),icon:"table-delete-row",onSetup:v.onSetupCellOrRow}),i.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:y("mceTableRowProps"),icon:"table-row-properties",onSetup:v.onSetupCellOrRow}),i.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:y("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:v.onSetupColumn("onFirst")}),i.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:y("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:v.onSetupColumn("onLast")}),i.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:y("mceTableDeleteCol"),icon:"table-delete-column",onSetup:v.onSetupColumn("onAny")}),i.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(h.getRows)}),i.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(h.getRows)}),i.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),i.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),i.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onFirst")}),i.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onLast")}),i.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:y("mceInsertTable"),icon:"table"});var E=td(T0(i));E.length!==0&&i.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:hm(i,s,E,"tableclass",function(I){return i.execCommand("mceTableToggleClass",!1,I)}),onSetup:v.onSetupTable});var B=td(jc(i));B.length!==0&&i.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:hm(i,s,B,"tablecellclass",function(I){return i.execCommand("mceTableCellToggleClass",!1,I)}),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:hm(i,s,Q0,"tablecellverticalalign",hf(i,"vertical-align")),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:hm(i,s,Tr(i),"tablecellborderwidth",hf(i,"border-width")),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:hm(i,s,Is(i),"tablecellborderstyle",hf(i,"border-style")),onSetup:v.onSetupCellOrRow}),i.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:y("mceTableToggleCaption"),icon:"table-caption",onSetup:v.onSetupTableWithCaption}),i.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(I){return I(pm(i,Sg(i),"background-color"))},onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(I){return I(pm(i,yp(i),"border-color"))},onSetup:v.onSetupCellOrRow}),i.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:M2(i),onSetup:v.onSetupTableRowHeaders}),i.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:rb(i),onSetup:v.onSetupTableColumnHeaders})},Dw=function(i){var s=function(h){return i.dom.is(h,"table")&&i.getBody().contains(h)},v=l3(i);v.length>0&&i.ui.registry.addContextToolbar("table",{predicate:s,items:v,scope:"node",position:"node"})},Rw=function(i,s,v,h){var y=function(et){return function(){return i.execCommand(et)}},E=function(et){i.execCommand("mceInsertTable",!1,{rows:et.numRows,columns:et.numColumns})},B={text:"Table properties",onSetup:v.onSetupTable,onAction:y("mceTableProps")},I={text:"Delete table",icon:"table-delete-table",onSetup:v.onSetupTable,onAction:y("mceTableDelete")};i.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:y("mceTableInsertRowBefore"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:y("mceTableInsertRowAfter"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:y("mceTableDeleteRow"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:y("mceTableRowProps"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(h.getRows)}),i.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(h.getRows)});var J={type:"nestedmenuitem",text:"Row",getSubmenuItems:yt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};i.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:y("mceTableInsertColBefore"),onSetup:v.onSetupColumn("onFirst")}),i.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:y("mceTableInsertColAfter"),onSetup:v.onSetupColumn("onLast")}),i.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:y("mceTableDeleteCol"),onSetup:v.onSetupColumn("onAny")}),i.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),i.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),i.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onFirst")}),i.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(h.getColumns,"onLast")});var ce={type:"nestedmenuitem",text:"Column",getSubmenuItems:yt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};i.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:y("mceTableCellProps"),onSetup:v.onSetupCellOrRow}),i.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:y("mceTableMergeCells"),onSetup:v.onSetupMergeable}),i.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:y("mceTableSplitCells"),onSetup:v.onSetupUnmergeable});var be={type:"nestedmenuitem",text:"Cell",getSubmenuItems:yt("tablecellprops tablemergecells tablesplitcells")};s3(i)===!1?i.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:y("mceInsertTable")}):i.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:E}]}}),i.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:y("mceInsertTable")}),i.ui.registry.addMenuItem("tableprops",B),i.ui.registry.addMenuItem("deletetable",I),i.ui.registry.addNestedMenuItem("row",J),i.ui.registry.addNestedMenuItem("column",ce),i.ui.registry.addNestedMenuItem("cell",be),i.ui.registry.addContextMenu("table",{update:function(){return v.resetTargets(),v.targets().fold(yt(""),function(et){return zr(et.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var We=td(T0(i));We.length!==0&&i.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Bl(i,s,We,"tableclass",function(et){return i.execCommand("mceTableToggleClass",!1,et)})},onSetup:v.onSetupTable});var ft=td(jc(i));ft.length!==0&&i.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Bl(i,s,ft,"tablecellclass",function(et){return i.execCommand("mceTableCellToggleClass",!1,et)})},onSetup:v.onSetupCellOrRow}),i.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Bl(i,s,Q0,"tablecellverticalalign",hf(i,"vertical-align"))},onSetup:v.onSetupCellOrRow}),i.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Bl(i,s,Tr(i),"tablecellborderwidth",hf(i,"border-width"))},onSetup:v.onSetupCellOrRow}),i.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Bl(i,s,Is(i),"tablecellborderstyle",hf(i,"border-style"))},onSetup:v.onSetupCellOrRow}),i.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:y("mceTableToggleCaption"),onSetup:v.onSetupTableWithCaption}),i.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return pm(i,Sg(i),"background-color")},onSetup:v.onSetupCellOrRow}),i.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return pm(i,yp(i),"border-color")},onSetup:v.onSetupCellOrRow}),i.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:M2(i),onSetup:v.onSetupTableRowHeaders}),i.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:rb(i),onSetup:v.onSetupTableColumnHeaders})},g1=function(i){var s=si(function(){return $c(i)},function(){return Vc(Tt(i),pa(i))},mo.selectedSelector),v=j3(i,s),h=m3(i),y=m1(i,h.lazyResize,v),E=T2(i,y,h.lazyWire),B=Qg();return rd(i,E,y,s,B),wm(i,E,s),Ay(i,s,E),Rw(i,s,v,B),Nb(i,s,v,B),Dw(i),i.on("PreInit",function(){i.serializer.addTempAttr(mo.firstSelected),i.serializer.addTempAttr(mo.lastSelected),z3(i)}),Yy(i)&&i.on("keydown",function(I){pS(I,i,y)}),i.on("remove",function(){h.destroy()}),mf(i,B,h,v)};function fv(){$f.add("table",g1)}fv()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager"),lr=function(O){var z=typeof O;return O===null?"null":z==="object"&&(Array.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="Array")?"array":z==="object"&&(String.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="String")?"string":z},ro=function(O){return function(z){return lr(z)===O}},sa=function(O){return function(z){return typeof z===O}},jo=ro("string"),dt=ro("object"),qr=ro("array"),ke=sa("boolean"),Nt=sa("function"),zi=sa("number"),fr=function(){},kn=function(O){return function(){return O}},Mr=function(O){return O},qo=function(O,z){return O===z},lt=function(O){return function(z){return!O(z)}},mr=kn(!1),Gt=kn(!0),yt=function(){return hn},hn=function(){var O=function(se){return se()},z=Mr,V={fold:function(se,Te){return se()},isSome:mr,isNone:Gt,getOr:z,getOrThunk:O,getOrDie:function(se){throw new Error(se||"error: getOrDie called on none.")},getOrNull:kn(null),getOrUndefined:kn(void 0),or:z,orThunk:O,map:yt,each:fr,bind:yt,exists:mr,forall:Gt,filter:function(){return yt()},toArray:function(){return[]},toString:kn("none()")};return V}(),Dr=function(O){var z=kn(O),V=function(){return Te},se=function(ht){return ht(O)},Te={fold:function(ht,sn){return sn(O)},isSome:Gt,isNone:mr,getOr:z,getOrThunk:z,getOrDie:z,getOrNull:z,getOrUndefined:z,or:V,orThunk:V,map:function(ht){return Dr(ht(O))},each:function(ht){ht(O)},bind:se,exists:se,forall:se,filter:function(ht){return ht(O)?Te:hn},toArray:function(){return[O]},toString:function(){return"some("+O+")"}};return Te},tr=function(O){return O==null?hn:Dr(O)},Ft={some:Dr,none:yt,from:tr},Fn=Array.prototype.slice,Zt=Array.prototype.push,Wt=function(O,z){for(var V=O.length,se=new Array(V),Te=0;Te<V;Te++){var ht=O[Te];se[Te]=z(ht,Te)}return se},me=function(O,z){for(var V=0,se=O.length;V<se;V++){var Te=O[V];z(Te,V)}},en=function(O,z){for(var V=[],se=0,Te=O.length;se<Te;se++){var ht=O[se];z(ht,se)&&V.push(ht)}return V},On=function(O,z){if(O.length===0)return[];for(var V=z(O[0]),se=[],Te=[],ht=0,sn=O.length;ht<sn;ht++){var cr=O[ht],Pe=z(cr);Pe!==V&&(se.push(Te),Te=[]),V=Pe,Te.push(cr)}return Te.length!==0&&se.push(Te),se},Ca=function(O,z,V){return me(O,function(se,Te){V=z(V,se,Te)}),V},oe=function(O,z,V){for(var se=0,Te=O.length;se<Te;se++){var ht=O[se];if(z(ht,se))return Ft.some(ht);if(V(ht,se))break}return Ft.none()},ho=function(O,z){return oe(O,z,mr)},Ka=function(O){for(var z=[],V=0,se=O.length;V<se;++V){if(!qr(O[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+O);Zt.apply(z,O[V])}return z},Ct=function(O,z){return Ka(Wt(O,z))},la=function(O){var z=Fn.call(O,0);return z.reverse(),z},Hr=function(O,z){return z>=0&&z<O.length?Ft.some(O[z]):Ft.none()},ot=function(O){return Hr(O,0)},Eo=function(O){return Hr(O,O.length-1)},Je=function(O,z){for(var V=0;V<O.length;V++){var se=z(O[V],V);if(se.isSome())return se}return Ft.none()},zt=function(){return zt=Object.assign||function(z){for(var V,se=1,Te=arguments.length;se<Te;se++){V=arguments[se];for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(z[ht]=V[ht])}return z},zt.apply(this,arguments)};function Jr(O,z,V){if(V||arguments.length===2)for(var se=0,Te=z.length,ht;se<Te;se++)(ht||!(se in z))&&(ht||(ht=Array.prototype.slice.call(z,0,se)),ht[se]=z[se]);return O.concat(ht||Array.prototype.slice.call(z))}var Rr=function(O){var z=!1,V;return function(){for(var se=[],Te=0;Te<arguments.length;Te++)se[Te]=arguments[Te];return z||(z=!0,V=O.apply(null,se)),V}},Gr=function(O,z,V,se){var Te=O.isiOS()&&/ipad/i.test(V)===!0,ht=O.isiOS()&&!Te,sn=O.isiOS()||O.isAndroid(),cr=sn||se("(pointer:coarse)"),Pe=Te||!ht&&sn&&se("(min-device-width:768px)"),sr=ht||sn&&!Pe,Do=z.isSafari()&&O.isiOS()&&/safari/i.test(V)===!1,Ti=!sr&&!Pe&&!Do;return{isiPad:kn(Te),isiPhone:kn(ht),isTablet:kn(Pe),isPhone:kn(sr),isTouch:kn(cr),isAndroid:O.isAndroid,isiOS:O.isiOS,isWebView:kn(Do),isDesktop:kn(Ti)}},br=function(O,z){for(var V=0;V<O.length;V++){var se=O[V];if(se.test(z))return se}},ee=function(O,z){var V=br(O,z);if(!V)return{major:0,minor:0};var se=function(Te){return Number(z.replace(V,"$"+Te))};return Kr(se(1),se(2))},Go=function(O,z){var V=String(z).toLowerCase();return O.length===0?Mo():ee(O,V)},Mo=function(){return Kr(0,0)},Kr=function(O,z){return{major:O,minor:z}},Pa={nu:Kr,detect:Go,unknown:Mo},it=function(O,z){return Je(z.brands,function(V){var se=V.brand.toLowerCase();return ho(O,function(Te){var ht;return se===((ht=Te.brand)===null||ht===void 0?void 0:ht.toLowerCase())}).map(function(Te){return{current:Te.name,version:Pa.nu(parseInt(V.version,10),0)}})})},Et=function(O,z){var V=String(z).toLowerCase();return ho(O,function(se){return se.search(V)})},Ot=function(O,z){return Et(O,z).map(function(V){var se=Pa.detect(V.versionRegexes,z);return{current:V.name,version:se}})},Vt=function(O,z){return Et(O,z).map(function(V){var se=Pa.detect(V.versionRegexes,z);return{current:V.name,version:se}})},tt=function(O,z){return O.indexOf(z)!==-1},En=function(O){return function(z){return z.replace(O,"")}},Vn=En(/^\s+|\s+$/g),tn=function(O){return O.length>0},xa=function(O){return!tn(O)},eo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mn=function(O){return function(z){return tt(z,O)}},Ut=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(O){return tt(O,"edge/")&&tt(O,"chrome")&&tt(O,"safari")&&tt(O,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,eo],search:function(O){return tt(O,"chrome")&&!tt(O,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(O){return tt(O,"msie")||tt(O,"trident")}},{name:"Opera",versionRegexes:[eo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mn("firefox")},{name:"Safari",versionRegexes:[eo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(O){return(tt(O,"safari")||tt(O,"mobile/"))&&tt(O,"applewebkit")}}],To=[{name:"Windows",search:mn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(O){return tt(O,"iphone")||tt(O,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mn("linux"),versionRegexes:[]},{name:"Solaris",search:mn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sa={browsers:kn(Ut),oses:kn(To)},ka="Edge",ri="Chrome",Fi="IE",Oo="Opera",fa="Firefox",Ao="Safari",Ea=function(){return Vo({current:void 0,version:Pa.unknown()})},Vo=function(O){var z=O.current,V=O.version,se=function(Te){return function(){return z===Te}};return{current:z,version:V,isEdge:se(ka),isChrome:se(ri),isIE:se(Fi),isOpera:se(Oo),isFirefox:se(fa),isSafari:se(Ao)}},Ta={unknown:Ea,nu:Vo,edge:kn(ka),chrome:kn(ri),ie:kn(Fi),opera:kn(Oo),firefox:kn(fa),safari:kn(Ao)},N="Windows",va="iOS",Xa="Android",lo="Linux",pn="OSX",Yt="Solaris",za="FreeBSD",Pr="ChromeOS",Cu=function(){return Ii({current:void 0,version:Pa.unknown()})},Ii=function(O){var z=O.current,V=O.version,se=function(Te){return function(){return z===Te}};return{current:z,version:V,isWindows:se(N),isiOS:se(va),isAndroid:se(Xa),isOSX:se(pn),isLinux:se(lo),isSolaris:se(Yt),isFreeBSD:se(za),isChromeOS:se(Pr)}},Jn={unknown:Cu,nu:Ii,windows:kn(N),ios:kn(va),android:kn(Xa),linux:kn(lo),osx:kn(pn),solaris:kn(Yt),freebsd:kn(za),chromeos:kn(Pr)},xu=function(O,z,V){var se=Sa.browsers(),Te=Sa.oses(),ht=z.bind(function(Pe){return it(se,Pe)}).orThunk(function(){return Ot(se,O)}).fold(Ta.unknown,Ta.nu),sn=Vt(Te,O).fold(Jn.unknown,Jn.nu),cr=Gr(sn,ht,O,V);return{browser:ht,os:sn,deviceType:cr}},Su={detect:xu},_r=function(O){return window.matchMedia(O).matches},Un=Rr(function(){return Su.detect(navigator.userAgent,Ft.from(navigator.userAgentData),_r)}),gt=function(){return Un()},da=function(O,z,V){return(O.compareDocumentPosition(z)&V)!==0},na=function(O,z){return da(O,z,Node.DOCUMENT_POSITION_CONTAINED_BY)},Po=1,Fa=function(O,z){var V=z||document,se=V.createElement("div");if(se.innerHTML=O,!se.hasChildNodes()||se.childNodes.length>1)throw console.error("HTML does not have a single root node",O),new Error("HTML must have a single root node");return oa(se.childNodes[0])},ra=function(O,z){var V=z||document,se=V.createElement(O);return oa(se)},oi=function(O,z){var V=z||document,se=V.createTextNode(O);return oa(se)},oa=function(O){if(O==null)throw new Error("Node cannot be null or undefined");return{dom:O}},ki=function(O,z,V){return Ft.from(O.dom.elementFromPoint(z,V)).map(oa)},or={fromHtml:Fa,fromTag:ra,fromText:oi,fromDom:oa,fromPoint:ki},Oa=function(O,z){var V=O.dom;if(V.nodeType!==Po)return!1;var se=V;if(se.matches!==void 0)return se.matches(z);if(se.msMatchesSelector!==void 0)return se.msMatchesSelector(z);if(se.webkitMatchesSelector!==void 0)return se.webkitMatchesSelector(z);if(se.mozMatchesSelector!==void 0)return se.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")},Jt=function(O,z){return O.dom===z.dom},Li=function(O,z){var V=O.dom,se=z.dom;return V===se?!1:V.contains(se)},Aa=function(O,z){return na(O.dom,z.dom)},Ya=function(O,z){return gt().browser.isIE()?Aa(O,z):Li(O,z)},Xr=Oa,ku=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ma=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ai=tinymce.util.Tools.resolve("tinymce.util.VK"),Lu=Object.keys,le=function(O,z){for(var V=Lu(O),se=0,Te=V.length;se<Te;se++){var ht=V[se],sn=O[ht];z(sn,ht)}},ye=function(O){return function(z,V){O[V]=z}},Oe=function(O,z,V,se){var Te={};return le(O,function(ht,sn){(z(ht,sn)?V:se)(ht,sn)}),Te},Me=function(O,z){var V={};return Oe(O,z,ye(V),fr),V};typeof window<"u"||Function("return this;")();var Rt=function(O){var z=O.dom.nodeName;return z.toLowerCase()},nt=function(O){return O.dom.nodeType},re=function(O){return function(z){return nt(z)===O}},fe=re(Po),_e=function(O){return function(z){return fe(z)&&Rt(z)===O}},Xe=function(O,z,V){if(jo(V)||ke(V)||zi(V))O.setAttribute(z,V+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",V,":: Element ",O),new Error("Attribute value was not simple")},qe=function(O,z){var V=O.dom;le(z,function(se,Te){Xe(V,Te,se)})},Mt=function(O){return Ca(O.dom.attributes,function(z,V){return z[V.name]=V.value,z},{})},It=function(O){return Ft.from(O.dom.parentNode).map(or.fromDom)},pt=function(O){return Wt(O.dom.childNodes,or.fromDom)},Mn=function(O,z){var V=O.dom.childNodes;return Ft.from(V[z]).map(or.fromDom)},Kn=function(O){return Mn(O,0)},Zn=function(O){return Mn(O,O.dom.childNodes.length-1)},Bn=function(O,z){var V=It(O);V.each(function(se){se.dom.insertBefore(z.dom,O.dom)})},fo=function(O,z){O.dom.appendChild(z.dom)},Le=function(O,z){me(z,function(V){Bn(O,V)})},Dn=function(O,z){me(z,function(V){fo(O,V)})},to=function(O){var z=O.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},$r=function(O,z){return or.fromDom(O.dom.cloneNode(z))},ii=function(O){return $r(O,!0)},ir=function(O,z){var V=or.fromTag(z),se=Mt(O);return qe(V,se),V},Xi=function(O,z){var V=ir(O,z);Bn(O,V);var se=pt(O);return Dn(V,se),to(O),V},Qo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ga=tinymce.util.Tools.resolve("tinymce.util.Tools"),Cc=function(O){return function(z){return z&&z.nodeName.toLowerCase()===O}},di=function(O){return function(z){return z&&O.test(z.nodeName)}},mi=function(O){return O&&O.nodeType===3},vo=di(/^(OL|UL|DL)$/),es=di(/^(OL|UL)$/),Zu=Cc("ol"),ec=di(/^(LI|DT|DD)$/),bs=di(/^(DT|DD)$/),aa=di(/^(TH|TD)$/),Yi=Cc("br"),ts=function(O){return O.parentNode.firstChild===O},Ji=function(O,z){return z&&!!O.schema.getTextBlockElements()[z.nodeName]},Ei=function(O,z){return O&&O.nodeName in z},X=function(O,z){return Yi(z)?O.isBlock(z.nextSibling)&&!Yi(z.previousSibling):!1},he=function(O,z,V){var se=O.isEmpty(z);return V&&O.select("span[data-mce-type=bookmark]",z).length>0?!1:se},Ae=function(O,z){return O.isChildOf(z,O.getRoot())},Ge=function(O){return O.getParam("lists_indent_on_tab",!0)},ut=function(O){var z=O.getParam("forced_root_block","p");return z===!1?"":z===!0?"p":z},an=function(O){return O.getParam("forced_root_block_attrs",{})},ur=function(O,z){var V=O.dom,se=O.schema.getBlockElements(),Te=V.createFragment(),ht=ut(O),sn,cr,Pe;if(ht&&(cr=V.create(ht),cr.tagName===ht.toUpperCase()&&V.setAttribs(cr,an(O)),Ei(z.firstChild,se)||Te.appendChild(cr)),z)for(;sn=z.firstChild;){var sr=sn.nodeName;!Pe&&(sr!=="SPAN"||sn.getAttribute("data-mce-type")!=="bookmark")&&(Pe=!0),Ei(sn,se)?(Te.appendChild(sn),cr=null):ht?(cr||(cr=V.create(ht),Te.appendChild(cr)),cr.appendChild(sn)):Te.appendChild(sn)}return ht?Pe||cr.appendChild(V.create("br",{"data-mce-bogus":"1"})):Te.appendChild(V.create("br")),Te},kr=Qo.DOM,er=function(O,z,V){var se=function(sr){ga.each(Te,function(Do){sr.parentNode.insertBefore(Do,V.parentNode)}),kr.remove(sr)},Te=kr.select('span[data-mce-type="bookmark"]',z),ht=ur(O,V),sn=kr.createRng();sn.setStartAfter(V),sn.setEndAfter(z);for(var cr=sn.extractContents(),Pe=cr.firstChild;Pe;Pe=Pe.firstChild)if(Pe.nodeName==="LI"&&O.dom.isEmpty(Pe)){kr.remove(Pe);break}O.dom.isEmpty(cr)||kr.insertAfter(cr,z),kr.insertAfter(ht,z),he(O.dom,V.parentNode)&&se(V.parentNode),kr.remove(V),he(O.dom,z)&&kr.remove(z)},bo=_e("dd"),yo=_e("dt"),Qi=function(O,z){bo(z)?Xi(z,"dt"):yo(z)&&It(z).each(function(V){return er(O,V.dom,z.dom)})},Da=function(O){yo(O)&&Xi(O,"dd")},Eu=function(O,z,V){z==="Indent"?me(V,Da):me(V,function(se){return Qi(O,se)})},In=function(O,z){if(mi(O))return{container:O,offset:z};var V=ku.getNode(O,z);return mi(V)?{container:V,offset:z>=O.childNodes.length?V.data.length:0}:V.previousSibling&&mi(V.previousSibling)?{container:V.previousSibling,offset:V.previousSibling.data.length}:V.nextSibling&&mi(V.nextSibling)?{container:V.nextSibling,offset:0}:{container:O,offset:z}},xc=function(O){var z=O.cloneRange(),V=In(O.startContainer,O.startOffset);z.setStart(V.container,V.offset);var se=In(O.endContainer,O.endOffset);return z.setEnd(se.container,se.offset),z},gl=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),zr=function(O,z){var V=z||O.selection.getStart(!0);return O.dom.getParent(V,"OL,UL,DL",Ia(O,V))},hl=function(O,z){return O&&z.length===1&&z[0]===O},Ks=function(O){return en(O.querySelectorAll("ol,ul,dl"),vo)},Ul=function(O){var z=zr(O),V=O.selection.getSelectedBlocks();return hl(z,V)?Ks(z):en(V,function(se){return vo(se)&&z!==se})},tc=function(O,z){var V=ga.map(z,function(se){var Te=O.dom.getParent(se,"li,dd,dt",Ia(O,se));return Te||se});return gl.unique(V)},lu=function(O){var z=O.selection.getSelectedBlocks();return en(tc(O,z),ec)},Pf=function(O){return en(lu(O),bs)},Ia=function(O,z){var V=O.dom.getParents(z,"TD,TH");return V.length>0?V[0]:O.getBody()},Zi=function(O,z){var V=O.dom.getParents(z,"ol,ul",Ia(O,z));return Eo(V)},ys=function(O){var z=Zi(O,O.selection.getStart()),V=en(O.selection.getSelectedBlocks(),es);return z.toArray().concat(V)},je=function(O){var z=ys(O);return Hi(O,z)},Hi=function(O,z){var V=Wt(z,function(se){return Zi(O,se).getOr(se)});return gl.unique(V)},nc=function(O,z,V){return V===void 0&&(V=qo),O.exists(function(se){return V(se,z)})},pl=function(O,z,V){return O.isSome()&&z.isSome()?Ft.some(V(O.getOrDie(),z.getOrDie())):Ft.none()},ui=function(O,z){var V=z||document,se=V.createDocumentFragment();return me(O,function(Te){se.appendChild(Te.dom)}),or.fromDom(se)},P=function(O,z,V){return O.fire("ListMutation",{action:z,element:V})},k=function(O){return O.style!==void 0&&Nt(O.style.getPropertyValue)},w=function(O,z,V){if(!jo(V))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",V,":: Element ",O),new Error("CSS value must be a string: "+V);k(O)&&O.style.setProperty(z,V)},D=function(O,z,V){var se=O.dom;w(se,z,V)},W=function(O,z){fo(O.item,z.list)},te=function(O){for(var z=1;z<O.length;z++)W(O[z-1],O[z])},Ce=function(O,z){pl(Eo(O),ot(z),W)},Ye=function(O,z){var V={list:or.fromTag(z,O),item:or.fromTag("li",O)};return fo(V.list,V.item),V},nn=function(O,z,V){for(var se=[],Te=0;Te<V;Te++)se.push(Ye(O,z.listType));return se},vn=function(O,z){for(var V=0;V<O.length-1;V++)D(O[V].item,"list-style-type","none");Eo(O).each(function(se){qe(se.list,z.listAttributes),qe(se.item,z.itemAttributes),Dn(se.item,z.content)})},wt=function(O,z){Rt(O.list)!==z.listType&&(O.list=Xi(O.list,z.listType)),qe(O.list,z.listAttributes)},Qt=function(O,z,V){var se=or.fromTag("li",O);return qe(se,z),Dn(se,V),se},Wn=function(O,z){fo(O.list,z),O.item=z},dn=function(O,z,V){var se=z.slice(0,V.depth);return Eo(se).each(function(Te){var ht=Qt(O,V.itemAttributes,V.content);Wn(Te,ht),wt(Te,V)}),se},cn=function(O,z,V){var se=nn(O,V,V.depth-z.length);return te(se),vn(se,V),Ce(z,se),z.concat(se)},Vr=function(O,z){var V=Ca(z,function(se,Te){return Te.depth>se.length?cn(O,se,Te):dn(O,se,Te)},[]);return ot(V).map(function(se){return se.list})},zn=function(O){return Xr(O,"OL,UL")},wo=function(O){return Kn(O).exists(zn)},on=function(O){return Zn(O).exists(zn)},gi=function(O){return O.depth>0},Wl=function(O){return O.isSelected},ws=function(O){var z=pt(O),V=on(O)?z.slice(0,-1):z;return Wt(V,ii)},Mc=function(O,z,V){return It(O).filter(fe).map(function(se){return{depth:z,dirty:!1,isSelected:V,content:ws(O),itemAttributes:Mt(O),listAttributes:Mt(se),listType:Rt(se)}})},fu=function(O,z){switch(O){case"Indent":z.depth++;break;case"Outdent":z.depth--;break;case"Flatten":z.depth=0}z.dirty=!0},P1=function(O,z){O.listType=z.listType,O.listAttributes=zt({},z.listAttributes)},Cs=function(O){O.listAttributes=Me(O.listAttributes,function(z,V){return V!=="start"})},Sv=function(O,z){var V=O[z].depth,se=function(ht){return ht.depth===V&&!ht.dirty},Te=function(ht){return ht.depth<V};return oe(la(O.slice(0,z)),se,Te).orThunk(function(){return oe(O.slice(z+1),se,Te)})},ns=function(O){return me(O,function(z,V){Sv(O,V).fold(function(){z.dirty&&Cs(z)},function(se){return P1(z,se)})}),O},xs=function(O){var z=O,V=function(){return z},se=function(Te){z=Te};return{get:V,set:se}},zf=function(O,z,V,se){return Kn(se).filter(zn).fold(function(){z.each(function(sn){Jt(sn.start,se)&&V.set(!0)});var Te=Mc(se,O,V.get());z.each(function(sn){Jt(sn.end,se)&&V.set(!1)});var ht=Zn(se).filter(zn).map(function(sn){return La(O,z,V,sn)}).getOr([]);return Te.toArray().concat(ht)},function(Te){return La(O,z,V,Te)})},La=function(O,z,V,se){return Ct(pt(se),function(Te){var ht=zn(Te)?La:zf,sn=O+1;return ht(sn,z,V,Te)})},Tu=function(O,z){var V=xs(!1),se=0;return Wt(O,function(Te){return{sourceList:Te,entries:La(se,z,V,Te)}})},Ha=function(O,z){var V=ns(z);return Wt(V,function(se){var Te=ui(se.content);return or.fromDom(ur(O,Te.dom))})},kv=function(O,z){var V=ns(z);return Vr(O.contentDocument,V).toArray()},Ff=function(O,z){return Ct(On(z,gi),function(V){var se=ot(V).exists(gi);return se?kv(O,V):Ha(O,V)})},rs=function(O,z){me(en(O,Wl),function(V){return fu(z,V)})},hi=function(O){var z=Wt(lu(O),or.fromDom);return pl(ho(z,lt(wo)),ho(la(z),lt(wo)),function(V,se){return{start:V,end:se}})},zo=function(O,z,V){var se=Tu(z,hi(O));me(se,function(Te){rs(Te.entries,V);var ht=Ff(O,Te.entries);me(ht,function(sn){P(O,V==="Indent"?"IndentList":"OutdentList",sn.dom)}),Le(Te.sourceList,ht),to(Te.sourceList)})},Hu=function(O,z){var V=Wt(je(O),or.fromDom),se=Wt(Pf(O),or.fromDom),Te=!1;if(V.length||se.length){var ht=O.selection.getBookmark();zo(O,V,z),Eu(O,z,se),O.selection.moveToBookmark(ht),O.selection.setRng(xc(O.selection.getRng())),O.nodeChanged(),Te=!0}return Te},Xs=function(O){return Hu(O,"Indent")},jl=function(O){return Hu(O,"Outdent")},Ss=function(O){return Hu(O,"Flatten")},Dh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Fo=Qo.DOM,Ou=function(O){var z={},V=function(se){var Te=O[se?"startContainer":"endContainer"],ht=O[se?"startOffset":"endOffset"];if(Te.nodeType===1){var sn=Fo.create("span",{"data-mce-type":"bookmark"});Te.hasChildNodes()?(ht=Math.min(ht,Te.childNodes.length-1),se?Te.insertBefore(sn,Te.childNodes[ht]):Fo.insertAfter(sn,Te.childNodes[ht])):Te.appendChild(sn),Te=sn,ht=0}z[se?"startContainer":"endContainer"]=Te,z[se?"startOffset":"endOffset"]=ht};return V(!0),O.collapsed||V(),z},Ra=function(O){var z=function(se){var Te,ht=function(Pe){for(var sr=Pe.parentNode.firstChild,Do=0;sr;){if(sr===Pe)return Do;(sr.nodeType!==1||sr.getAttribute("data-mce-type")!=="bookmark")&&Do++,sr=sr.nextSibling}return-1},sn=Te=O[se?"startContainer":"endContainer"],cr=O[se?"startOffset":"endOffset"];!sn||(sn.nodeType===1&&(cr=ht(sn),sn=sn.parentNode,Fo.remove(Te),!sn.hasChildNodes()&&Fo.isBlock(sn)&&sn.appendChild(Fo.create("br"))),O[se?"startContainer":"endContainer"]=sn,O[se?"startOffset":"endOffset"]=cr)};z(!0),z();var V=Fo.createRng();return V.setStart(O.startContainer,O.startOffset),O.endContainer&&V.setEnd(O.endContainer,O.endOffset),xc(V)},Au=function(O){switch(O){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},bl=function(O){return/\btox\-/.test(O.className)},$e=function(O,z,V){var se=function(ht){var sn=oe(ht.parents,vo,aa).filter(function(cr){return cr.nodeName===z&&!bl(cr)}).isSome();V(sn)},Te=O.dom.getParents(O.selection.getNode());return se({parents:Te}),O.on("NodeChange",se),function(){return O.off("NodeChange",se)}},eu=function(O,z,V){var se=V["list-style-type"]?V["list-style-type"]:null;O.setStyle(z,"list-style-type",se)},wn=function(O,z){ga.each(z,function(V,se){O.setAttribute(se,V)})},wd=function(O,z,V){wn(z,V["list-attributes"]),ga.each(O.select("li",z),function(se){wn(se,V["list-item-attributes"])})},_a=function(O,z,V){eu(O,z,V),wd(O,z,V)},$a=function(O,z,V){ga.each(V,function(se){var Te;return O.setStyle(z,(Te={},Te[se]="",Te))})},If=function(O,z,V,se){var Te=z[V?"startContainer":"endContainer"],ht=z[V?"startOffset":"endOffset"];for(Te.nodeType===1&&(Te=Te.childNodes[Math.min(ht,Te.childNodes.length-1)]||Te),!V&&Yi(Te.nextSibling)&&(Te=Te.nextSibling);Te.parentNode!==se;){if(Ji(O,Te)||/^(TD|TH)$/.test(Te.parentNode.nodeName))return Te;Te=Te.parentNode}return Te},pi=function(O,z,V){for(var se=[],Te=O.dom,ht=If(O,z,!0,V),sn=If(O,z,!1,V),cr,Pe=[],sr=ht;sr&&(Pe.push(sr),sr!==sn);sr=sr.nextSibling);return ga.each(Pe,function(Do){if(Ji(O,Do)){se.push(Do),cr=null;return}if(Te.isBlock(Do)||Yi(Do)){Yi(Do)&&Te.remove(Do),cr=null;return}var Ti=Do.nextSibling;if(Dh.isBookmarkNode(Do)&&(vo(Ti)||Ji(O,Ti)||!Ti&&Do.parentNode===V)){cr=null;return}cr||(cr=Te.create("p"),Do.parentNode.insertBefore(cr,Do),se.push(cr)),cr.appendChild(Do)}),se},jn=function(O,z,V){var se=O.getStyle(z,"list-style-type"),Te=V?V["list-style-type"]:"";return Te=Te===null?"":Te,se===Te},ks=function(O,z,V){var se=O.selection.getRng(),Te="LI",ht=Ia(O,O.selection.getStart(!0)),sn=O.dom;if(sn.getContentEditable(O.selection.getNode())!=="false"){z=z.toUpperCase(),z==="DL"&&(Te="DT");var cr=Ou(se),Pe=pi(O,se,ht);ga.each(Pe,function(sr){var Do,Ti=sr.previousSibling,ia=sr.parentNode;ec(ia)||(Ti&&vo(Ti)&&Ti.nodeName===z&&jn(sn,Ti,V)?(Do=Ti,sr=sn.rename(sr,Te),Ti.appendChild(sr)):(Do=sn.create(z),sr.parentNode.insertBefore(Do,sr),Do.appendChild(sr),sr=sn.rename(sr,Te)),$a(sn,sr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),_a(sn,Do,V),$i(O.dom,Do))}),O.selection.setRng(Ra(cr))}},Rh=function(O,z){return O&&z&&vo(O)&&O.nodeName===z.nodeName},oo=function(O,z,V){var se=O.getStyle(z,"list-style-type",!0),Te=O.getStyle(V,"list-style-type",!0);return se===Te},Es=function(O,z){return O.className===z.className},ci=function(O,z,V){return Rh(z,V)&&oo(O,z,V)&&Es(z,V)},$i=function(O,z){var V,se;if(V=z.nextSibling,ci(O,z,V)){for(;se=V.firstChild;)z.appendChild(se);O.remove(V)}if(V=z.previousSibling,ci(O,z,V)){for(;se=V.lastChild;)z.insertBefore(se,z.firstChild);O.remove(V)}},Se=function(O,z,V,se){if(z.nodeName!==V){var Te=O.dom.rename(z,V);_a(O.dom,Te,se),P(O,Au(V),Te)}else _a(O.dom,z,se),P(O,Au(V),z)},Pc=function(O,z,V,se,Te){var ht=vo(z);if(ht&&z.nodeName===se&&!Ts(Te))Ss(O);else{ks(O,se,Te);var sn=Ou(O.selection.getRng()),cr=ht?Jr([z],V,!0):V;ga.each(cr,function(Pe){Se(O,Pe,se,Te)}),O.selection.setRng(Ra(sn))}},Ts=function(O){return"list-style-type"in O},os=function(O,z,V,se){if(z!==O.getBody())if(z)if(z.nodeName===V&&!Ts(se)&&!bl(z))Ss(O);else{var Te=Ou(O.selection.getRng());_a(O.dom,z,se);var ht=O.dom.rename(z,V);$i(O.dom,ht),O.selection.setRng(Ra(Te)),ks(O,V,se),P(O,Au(V),ht)}else ks(O,V,se),P(O,Au(V),z)},rc=function(O,z,V){var se=zr(O),Te=Ul(O),ht=dt(V)?V:{};Te.length>0?Pc(O,se,Te,z,ht):os(O,se,z,ht)},yr=Qo.DOM,Io=function(O,z){var V=z.parentNode;if(V.nodeName==="LI"&&V.firstChild===z){var se=V.previousSibling;se&&se.nodeName==="LI"?(se.appendChild(z),he(O,V)&&yr.remove(V)):yr.setStyle(V,"listStyleType","none")}if(vo(V)){var se=V.previousSibling;se&&se.nodeName==="LI"&&se.appendChild(z)}},Lf=function(O,z){var V=ga.grep(O.select("ol,ul",z));ga.each(V,function(se){Io(O,se)})},Ev=function(O,z,V,se){var Te=z.startContainer,ht=z.startOffset;if(mi(Te)&&(V?ht<Te.data.length:ht>0))return Te;var sn=O.schema.getNonEmptyElements();Te.nodeType===1&&(Te=ku.getNode(Te,ht));var cr=new ma(Te,se);for(V&&X(O.dom,Te)&&cr.next();Te=cr[V?"next":"prev2"]();)if(Te.nodeName==="LI"&&!Te.hasChildNodes()||sn[Te.nodeName]||mi(Te)&&Te.data.length>0)return Te},Cn=function(O,z){var V=z.childNodes;return V.length===1&&!vo(V[0])&&O.isBlock(V[0])},Sc=function(O,z){Cn(O,z)&&O.remove(z.firstChild,!0)},z1=function(O,z,V){var se,Te=Cn(O,V)?V.firstChild:V;if(Sc(O,z),!he(O,z,!0))for(;se=z.firstChild;)Te.appendChild(se)},as=function(O,z,V){var se,Te=z.parentNode;if(!(!Ae(O,z)||!Ae(O,V))){vo(V.lastChild)&&(se=V.lastChild),Te===V.lastChild&&Yi(Te.previousSibling)&&O.remove(Te.previousSibling);var ht=V.lastChild;ht&&Yi(ht)&&z.hasChildNodes()&&O.remove(ht),he(O,V,!0)&&O.$(V).empty(),z1(O,z,V),se&&V.appendChild(se);var sn=Ya(or.fromDom(V),or.fromDom(z)),cr=sn?O.getParents(z,vo,V):[];O.remove(z),me(cr,function(Pe){he(O,Pe)&&Pe!==O.getRoot()&&O.remove(Pe)})}},is=function(O,z,V){O.dom.$(V).empty(),as(O.dom,z,V),O.selection.setCursorLocation(V,0)},ql=function(O,z,V,se){var Te=O.dom;if(Te.isEmpty(se))is(O,V,se);else{var ht=Ou(z);as(Te,V,se),O.selection.setRng(Ra(ht))}},Ln=function(O,z,V,se){var Te=Ou(z);as(O.dom,V,se);var ht=Ra(Te);O.selection.setRng(ht)},us=function(O,z){var V=O.dom,se=O.selection,Te=se.getStart(),ht=Ia(O,Te),sn=V.getParent(se.getStart(),"LI",ht);if(sn){var cr=sn.parentNode;if(cr===O.getBody()&&he(V,cr))return!0;var Pe=xc(se.getRng()),sr=V.getParent(Ev(O,Pe,z,ht),"LI",ht);if(sr&&sr!==sn)return O.undoManager.transact(function(){z?ql(O,Pe,sr,sn):ts(sn)?jl(O):Ln(O,Pe,sn,sr)}),!0;if(!sr&&!z&&Pe.startOffset===0&&Pe.endOffset===0)return O.undoManager.transact(function(){Ss(O)}),!0}return!1},oc=function(O,z,V){var se=O.getParent(z.parentNode,O.isBlock,V);O.remove(z),se&&O.isEmpty(se)&&O.remove(se)},ac=function(O,z){var V=O.dom,se=O.selection.getStart(),Te=Ia(O,se),ht=V.getParent(se,V.isBlock,Te);if(ht&&V.isEmpty(ht)){var sn=xc(O.selection.getRng()),cr=V.getParent(Ev(O,sn,z,Te),"LI",Te);if(cr)return O.undoManager.transact(function(){oc(V,ht,Te),$i(V,cr.parentNode),O.selection.select(cr,!0),O.selection.collapse(z)}),!0}return!1},Ir=function(O,z){return us(O,z)||ac(O,z)},Ja=function(O){var z=O.selection.getStart(),V=Ia(O,z),se=O.dom.getParent(z,"LI,DT,DD",V);return se||lu(O).length>0?(O.undoManager.transact(function(){O.execCommand("Delete"),Lf(O.dom,O.getBody())}),!0):!1},Cd=function(O,z){return O.selection.isCollapsed()?Ir(O,z):Ja(O)},Ys=function(O){O.on("keydown",function(z){z.keyCode===ai.BACKSPACE?Cd(O,!1)&&z.preventDefault():z.keyCode===ai.DELETE&&Cd(O,!0)&&z.preventDefault()})},Tn=function(O){return{backspaceDelete:function(z){Cd(O,z)}}},Os=function(O,z){var V=zr(O);O.undoManager.transact(function(){dt(z.styles)&&O.dom.setStyles(V,z.styles),dt(z.attrs)&&le(z.attrs,function(se,Te){return O.dom.setAttrib(V,Te,se)})})},jt=function(O){var z=la(Vn(O).split("")),V=Wt(z,function(se,Te){var ht=se.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Te)*ht});return Ca(V,function(se,Te){return se+Te},0)},xd=function(O){if(O--,O<0)return"";var z=O%26,V=Math.floor(O/26),se=xd(V),Te=String.fromCharCode("A".charCodeAt(0)+z);return se+Te},Va=function(O){return/^[A-Z]+$/.test(O)},Hf=function(O){return/^[a-z]+$/.test(O)},Ua=function(O){return/^[0-9]+$/.test(O)},_h=function(O){return Ua(O)?2:Va(O)?0:Hf(O)?1:xa(O)?3:4},Js=function(O){switch(_h(O)){case 2:return Ft.some({listStyleType:Ft.none(),start:O});case 0:return Ft.some({listStyleType:Ft.some("upper-alpha"),start:jt(O).toString()});case 1:return Ft.some({listStyleType:Ft.some("lower-alpha"),start:jt(O).toString()});case 3:return Ft.some({listStyleType:Ft.none(),start:""});case 4:return Ft.none()}},Co=function(O){var z=parseInt(O.start,10);return nc(O.listStyleType,"upper-alpha")?xd(z):nc(O.listStyleType,"lower-alpha")?xd(z).toLowerCase():O.start},Wa=function(O){var z=zr(O);!Zu(z)||O.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Co({start:O.dom.getAttrib(z,"start","1"),listStyleType:Ft.some(O.dom.getStyle(z,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(V){var se=V.getData();Js(se.start).each(function(Te){O.execCommand("mceListUpdate",!1,{attrs:{start:Te.start==="1"?"":Te.start},styles:{"list-style-type":Te.listStyleType.getOr("")}})}),V.close()}})},Zo=function(O,z){return function(){var V=zr(O);return V&&V.nodeName===z}},zc=function(O){O.addCommand("mceListProps",function(){Wa(O)})},Qn=function(O){O.on("BeforeExecCommand",function(z){var V=z.command.toLowerCase();V==="indent"?Xs(O):V==="outdent"&&jl(O)}),O.addCommand("InsertUnorderedList",function(z,V){rc(O,"UL",V)}),O.addCommand("InsertOrderedList",function(z,V){rc(O,"OL",V)}),O.addCommand("InsertDefinitionList",function(z,V){rc(O,"DL",V)}),O.addCommand("RemoveList",function(){Ss(O)}),zc(O),O.addCommand("mceListUpdate",function(z,V){dt(V)&&Os(O,V)}),O.addQueryStateHandler("InsertUnorderedList",Zo(O,"UL")),O.addQueryStateHandler("InsertOrderedList",Zo(O,"OL")),O.addQueryStateHandler("InsertDefinitionList",Zo(O,"DL"))},$u=function(O){O.on("keydown",function(z){z.keyCode!==ai.TAB||ai.metaKeyPressed(z)||O.undoManager.transact(function(){(z.shiftKey?jl(O):Xs(O))&&z.preventDefault()})})},F1=function(O){Ge(O)&&$u(O),Ys(O)},Bh=function(O){var z=function(V){return function(){return O.execCommand(V)}};O.hasPlugin("advlist")||(O.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:z("InsertOrderedList"),onSetup:function(V){return $e(O,"OL",V.setActive)}}),O.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:z("InsertUnorderedList"),onSetup:function(V){return $e(O,"UL",V.setActive)}}))},Sd=function(O){var z={text:"List properties...",icon:"ordered-list",onAction:function(){return O.execCommand("mceListProps")},onSetup:function(V){return $e(O,"OL",function(se){return V.setDisabled(!se)})}};O.ui.registry.addMenuItem("listprops",z),O.ui.registry.addContextMenu("lists",{update:function(V){var se=zr(O,V);return Zu(se)?["listprops"]:[]}})};function Gl(){Jo.add("lists",function(O){return O.hasPlugin("rtc",!0)===!1?(F1(O),Qn(O)):zc(O),Bh(O),Sd(O),Tn(O)})}Gl()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");function lr(){Jo.add("contextmenu",function(){})}lr()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager"),lr=function(it){return it},ro=function(){return ro=Object.assign||function(Et){for(var Ot,Vt=1,tt=arguments.length;Vt<tt;Vt++){Ot=arguments[Vt];for(var En in Ot)Object.prototype.hasOwnProperty.call(Ot,En)&&(Et[En]=Ot[En])}return Et},ro.apply(this,arguments)},sa="\uFEFF",jo=function(it){return it.replace(/\uFEFF/g,"")},dt=function(it,Et){for(var Ot=it.length,Vt=new Array(Ot),tt=0;tt<Ot;tt++){var En=it[tt];Vt[tt]=Et(En,tt)}return Vt},qr="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",ke={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:qr},Nt={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},zi=[new RegExp(ke.aletter),new RegExp(ke.midnumlet),new RegExp(ke.midletter),new RegExp(ke.midnum),new RegExp(ke.numeric),new RegExp(ke.cr),new RegExp(ke.lf),new RegExp(ke.newline),new RegExp(ke.extend),new RegExp(ke.format),new RegExp(ke.katakana),new RegExp(ke.extendnumlet),new RegExp("@")],fr="",kn=new RegExp("^"+ke.punctuation+"$"),Mr=/^\s+$/,qo=zi,lt=Nt.OTHER,mr=function(it){for(var Et=lt,Ot=qo.length,Vt=0;Vt<Ot;++Vt){var tt=qo[Vt];if(tt&&tt.test(it)){Et=Vt;break}}return Et},Gt=function(it){var Et={};return function(Ot){if(Et[Ot])return Et[Ot];var Vt=it(Ot);return Et[Ot]=Vt,Vt}},yt=function(it){var Et=Gt(mr);return dt(it,Et)},hn=function(it,Et){var Ot=it[Et],Vt=it[Et+1];if(Et<0||Et>it.length-1&&Et!==0||Ot===Nt.ALETTER&&Vt===Nt.ALETTER)return!1;var tt=it[Et+2];if(Ot===Nt.ALETTER&&(Vt===Nt.MIDLETTER||Vt===Nt.MIDNUMLET||Vt===Nt.AT)&&tt===Nt.ALETTER)return!1;var En=it[Et-1];return(Ot===Nt.MIDLETTER||Ot===Nt.MIDNUMLET||Vt===Nt.AT)&&Vt===Nt.ALETTER&&En===Nt.ALETTER||(Ot===Nt.NUMERIC||Ot===Nt.ALETTER)&&(Vt===Nt.NUMERIC||Vt===Nt.ALETTER)||(Ot===Nt.MIDNUM||Ot===Nt.MIDNUMLET)&&Vt===Nt.NUMERIC&&En===Nt.NUMERIC||Ot===Nt.NUMERIC&&(Vt===Nt.MIDNUM||Vt===Nt.MIDNUMLET)&&tt===Nt.NUMERIC||Ot===Nt.EXTEND||Ot===Nt.FORMAT||En===Nt.EXTEND||En===Nt.FORMAT||Vt===Nt.EXTEND||Vt===Nt.FORMAT||Ot===Nt.CR&&Vt===Nt.LF?!1:Ot===Nt.NEWLINE||Ot===Nt.CR||Ot===Nt.LF||Vt===Nt.NEWLINE||Vt===Nt.CR||Vt===Nt.LF?!0:!(Ot===Nt.KATAKANA&&Vt===Nt.KATAKANA||Vt===Nt.EXTENDNUMLET&&(Ot===Nt.ALETTER||Ot===Nt.NUMERIC||Ot===Nt.KATAKANA||Ot===Nt.EXTENDNUMLET)||Ot===Nt.EXTENDNUMLET&&(Vt===Nt.ALETTER||Vt===Nt.NUMERIC||Vt===Nt.KATAKANA)||Ot===Nt.AT)},Dr=fr,tr=Mr,Ft=kn,Fn=function(it){return it==="http"||it==="https"},Zt=function(it,Et){var Ot;for(Ot=Et;Ot<it.length&&!tr.test(it[Ot]);Ot++);return Ot},Wt=function(it,Et){var Ot=Zt(it,Et+1),Vt=it.slice(Et+1,Ot).join(Dr);return Vt.substr(0,3)==="://"?Ot:Et},me=function(it,Et,Ot,Vt){for(var tt=[],En=[],Vn=0;Vn<Ot.length;++Vn)if(En.push(it[Vn]),hn(Ot,Vn)){var tn=Et[Vn];if((Vt.includeWhitespace||!tr.test(tn))&&(Vt.includePunctuation||!Ft.test(tn))){var xa=Vn-En.length+1,eo=Vn+1,mn=Et.slice(xa,eo).join(Dr);if(Fn(mn)){var Ut=Wt(Et,Vn),To=it.slice(eo,Ut);Array.prototype.push.apply(En,To),Vn=Ut}tt.push(En)}En=[]}return tt},en=function(){return{includeWhitespace:!1,includePunctuation:!1}},On=function(it,Et,Ot){Ot=ro(ro({},en()),Ot);for(var Vt=[],tt=[],En=0;En<it.length;En++){var Vn=Et(it[En]);Vn!==sa&&(Vt.push(it[En]),tt.push(Vn))}var tn=yt(tt);return me(Vt,tt,tn,Ot)},Ca=On,oe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ho=function(it,Et){for(var Ot=Et.getBlockElements(),Vt=Et.getShortEndedElements(),tt=function(xa){return Ot[xa.nodeName]||Vt[xa.nodeName]},En=[],Vn="",tn=new oe(it,it);it=tn.next();)it.nodeType===3?Vn+=jo(it.data):tt(it)&&Vn.length&&(En.push(Vn),Vn="");return Vn.length&&En.push(Vn),En},Ka=function(it){return it.replace(/\u200B/g,"")},Ct=function(it){return it.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},la=function(it,Et){var Ot=Ka(ho(it,Et).join(`
`));return Ca(Ot.split(""),lr).length},Hr=function(it,Et){var Ot=ho(it,Et).join("");return Ct(Ot)},ot=function(it,Et){var Ot=ho(it,Et).join("").replace(/\s/g,"");return Ct(Ot)},Eo=function(it,Et){return function(){return Et(it.getBody(),it.schema)}},Je=function(it,Et){return function(){return Et(it.selection.getRng().cloneContents(),it.schema)}},zt=function(it){return Eo(it,la)},Jr=function(it){return{body:{getWordCount:zt(it),getCharacterCount:Eo(it,Hr),getCharacterCountWithoutSpaces:Eo(it,ot)},selection:{getWordCount:Je(it,la),getCharacterCount:Je(it,Hr),getCharacterCountWithoutSpaces:Je(it,ot)},getCount:zt(it)}},Rr=function(it,Et){it.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Et.body.getWordCount()),String(Et.selection.getWordCount())],["Characters (no spaces)",String(Et.body.getCharacterCountWithoutSpaces()),String(Et.selection.getCharacterCountWithoutSpaces())],["Characters",String(Et.body.getCharacterCount()),String(Et.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Gr=function(it,Et){it.addCommand("mceWordCount",function(){return Rr(it,Et)})},br=tinymce.util.Tools.resolve("tinymce.util.Delay"),ee=function(it,Et){it.fire("wordCountUpdate",{wordCount:{words:Et.body.getWordCount(),characters:Et.body.getCharacterCount(),charactersWithoutSpaces:Et.body.getCharacterCountWithoutSpaces()}})},Go=function(it,Et){ee(it,Et)},Mo=function(it,Et,Ot){var Vt=br.debounce(function(){return Go(it,Et)},Ot);it.on("init",function(){Go(it,Et),br.setEditorTimeout(it,function(){it.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Vt)},0)})},Kr=function(it){var Et=function(){return it.execCommand("mceWordCount")};it.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Et}),it.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Et})};function Pa(it){it===void 0&&(it=300),Jo.add("wordcount",function(Et){var Ot=Jr(Et);return Gr(Et,Ot),Kr(Et),Mo(Et,Ot,it),Ot})}Pa()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");function lr(){Jo.add("colorpicker",function(){})}lr()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");function lr(){Jo.add("textcolor",function(){})}lr()})();(function(){var Jo=function(k){var w=k,D=function(){return w},W=function(te){w=te};return{get:D,set:W}},lr=tinymce.util.Tools.resolve("tinymce.PluginManager"),ro=function(k){return{isFullscreen:function(){return k.get()!==null}}},sa=function(k){var w=typeof k;return k===null?"null":w==="object"&&(Array.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="Array")?"array":w==="object"&&(String.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="String")?"string":w},jo=function(k){return function(w){return sa(w)===k}},dt=function(k){return function(w){return typeof w===k}},qr=jo("string"),ke=jo("array"),Nt=dt("boolean"),zi=function(k){return k==null},fr=function(k){return!zi(k)},kn=dt("function"),Mr=dt("number"),qo=function(){},lt=function(k,w){return function(){for(var D=[],W=0;W<arguments.length;W++)D[W]=arguments[W];return k(w.apply(null,D))}},mr=function(k,w){return function(D){return k(w(D))}},Gt=function(k){return function(){return k}},yt=function(k){return k};function hn(k){for(var w=[],D=1;D<arguments.length;D++)w[D-1]=arguments[D];return function(){for(var W=[],te=0;te<arguments.length;te++)W[te]=arguments[te];var Ce=w.concat(W);return k.apply(null,Ce)}}var Dr=Gt(!1),tr=Gt(!0),Ft=function(){return Fn},Fn=function(){var k=function(W){return W()},w=yt,D={fold:function(W,te){return W()},isSome:Dr,isNone:tr,getOr:w,getOrThunk:k,getOrDie:function(W){throw new Error(W||"error: getOrDie called on none.")},getOrNull:Gt(null),getOrUndefined:Gt(void 0),or:w,orThunk:k,map:Ft,each:qo,bind:Ft,exists:Dr,forall:tr,filter:function(){return Ft()},toArray:function(){return[]},toString:Gt("none()")};return D}(),Zt=function(k){var w=Gt(k),D=function(){return te},W=function(Ce){return Ce(k)},te={fold:function(Ce,Ye){return Ye(k)},isSome:tr,isNone:Dr,getOr:w,getOrThunk:w,getOrDie:w,getOrNull:w,getOrUndefined:w,or:D,orThunk:D,map:function(Ce){return Zt(Ce(k))},each:function(Ce){Ce(k)},bind:W,exists:W,forall:W,filter:function(Ce){return Ce(k)?te:Fn},toArray:function(){return[k]},toString:function(){return"some("+k+")"}};return te},Wt=function(k){return k==null?Fn:Zt(k)},me={some:Zt,none:Ft,from:Wt},en=function(){return en=Object.assign||function(w){for(var D,W=1,te=arguments.length;W<te;W++){D=arguments[W];for(var Ce in D)Object.prototype.hasOwnProperty.call(D,Ce)&&(w[Ce]=D[Ce])}return w},en.apply(this,arguments)},On=function(k){var w=Jo(me.none()),D=function(){return w.get().each(k)},W=function(){D(),w.set(me.none())},te=function(){return w.get().isSome()},Ce=function(){return w.get()},Ye=function(nn){D(),w.set(me.some(nn))};return{clear:W,isSet:te,get:Ce,set:Ye}},Ca=function(){return On(function(k){return k.unbind()})},oe=function(){var k=On(qo),w=function(D){return k.get().each(D)};return en(en({},k),{on:w})},ho=Array.prototype.push,Ka=function(k,w){for(var D=k.length,W=new Array(D),te=0;te<D;te++){var Ce=k[te];W[te]=w(Ce,te)}return W},Ct=function(k,w){for(var D=0,W=k.length;D<W;D++){var te=k[D];w(te,D)}},la=function(k,w){for(var D=[],W=0,te=k.length;W<te;W++){var Ce=k[W];w(Ce,W)&&D.push(Ce)}return D},Hr=function(k,w,D){for(var W=0,te=k.length;W<te;W++){var Ce=k[W];if(w(Ce,W))return me.some(Ce);if(D(Ce,W))break}return me.none()},ot=function(k,w){return Hr(k,w,Dr)},Eo=function(k){for(var w=[],D=0,W=k.length;D<W;++D){if(!ke(k[D]))throw new Error("Arr.flatten item "+D+" was not an array, input: "+k);ho.apply(w,k[D])}return w},Je=function(k,w){return Eo(Ka(k,w))},zt=function(k,w){return w>=0&&w<k.length?me.some(k[w]):me.none()},Jr=function(k){return zt(k,0)},Rr=function(k,w){for(var D=0;D<k.length;D++){var W=w(k[D],D);if(W.isSome())return W}return me.none()},Gr=Object.keys,br=function(k,w){for(var D=Gr(k),W=0,te=D.length;W<te;W++){var Ce=D[W],Ye=k[Ce];w(Ye,Ce)}},ee=function(k,w){return k.indexOf(w)!==-1},Go=function(k){return k.style!==void 0&&kn(k.style.getPropertyValue)},Mo=function(k,w){var D=w||document,W=D.createElement("div");if(W.innerHTML=k,!W.hasChildNodes()||W.childNodes.length>1)throw console.error("HTML does not have a single root node",k),new Error("HTML must have a single root node");return it(W.childNodes[0])},Kr=function(k,w){var D=w||document,W=D.createElement(k);return it(W)},Pa=function(k,w){var D=w||document,W=D.createTextNode(k);return it(W)},it=function(k){if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},Et=function(k,w,D){return me.from(k.dom.elementFromPoint(w,D)).map(it)},Ot={fromHtml:Mo,fromTag:Kr,fromText:Pa,fromDom:it,fromPoint:Et};typeof window<"u"||Function("return this;")();var Vt=9,tt=11,En=1,Vn=3,tn=function(k){return k.dom.nodeType},xa=function(k){return function(w){return tn(w)===k}},eo=xa(En),mn=xa(Vn),Ut=xa(Vt),To=xa(tt),Sa=function(k){var w=!1,D;return function(){for(var W=[],te=0;te<arguments.length;te++)W[te]=arguments[te];return w||(w=!0,D=k.apply(null,W)),D}},ka=function(k,w,D,W){var te=k.isiOS()&&/ipad/i.test(D)===!0,Ce=k.isiOS()&&!te,Ye=k.isiOS()||k.isAndroid(),nn=Ye||W("(pointer:coarse)"),vn=te||!Ce&&Ye&&W("(min-device-width:768px)"),wt=Ce||Ye&&!vn,Qt=w.isSafari()&&k.isiOS()&&/safari/i.test(D)===!1,Wn=!wt&&!vn&&!Qt;return{isiPad:Gt(te),isiPhone:Gt(Ce),isTablet:Gt(vn),isPhone:Gt(wt),isTouch:Gt(nn),isAndroid:k.isAndroid,isiOS:k.isiOS,isWebView:Gt(Qt),isDesktop:Gt(Wn)}},ri=function(k,w){for(var D=0;D<k.length;D++){var W=k[D];if(W.test(w))return W}},Fi=function(k,w){var D=ri(k,w);if(!D)return{major:0,minor:0};var W=function(te){return Number(w.replace(D,"$"+te))};return Ao(W(1),W(2))},Oo=function(k,w){var D=String(w).toLowerCase();return k.length===0?fa():Fi(k,D)},fa=function(){return Ao(0,0)},Ao=function(k,w){return{major:k,minor:w}},Ea={nu:Ao,detect:Oo,unknown:fa},Vo=function(k,w){return Rr(w.brands,function(D){var W=D.brand.toLowerCase();return ot(k,function(te){var Ce;return W===((Ce=te.brand)===null||Ce===void 0?void 0:Ce.toLowerCase())}).map(function(te){return{current:te.name,version:Ea.nu(parseInt(D.version,10),0)}})})},Ta=function(k,w){var D=String(w).toLowerCase();return ot(k,function(W){return W.search(D)})},N=function(k,w){return Ta(k,w).map(function(D){var W=Ea.detect(D.versionRegexes,w);return{current:D.name,version:W}})},va=function(k,w){return Ta(k,w).map(function(D){var W=Ea.detect(D.versionRegexes,w);return{current:D.name,version:W}})},Xa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,lo=function(k){return function(w){return ee(w,k)}},pn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(k){return ee(k,"edge/")&&ee(k,"chrome")&&ee(k,"safari")&&ee(k,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xa],search:function(k){return ee(k,"chrome")&&!ee(k,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(k){return ee(k,"msie")||ee(k,"trident")}},{name:"Opera",versionRegexes:[Xa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:lo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:lo("firefox")},{name:"Safari",versionRegexes:[Xa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(k){return(ee(k,"safari")||ee(k,"mobile/"))&&ee(k,"applewebkit")}}],Yt=[{name:"Windows",search:lo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(k){return ee(k,"iphone")||ee(k,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:lo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:lo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:lo("linux"),versionRegexes:[]},{name:"Solaris",search:lo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:lo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:lo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],za={browsers:Gt(pn),oses:Gt(Yt)},Pr="Edge",Cu="Chrome",Ii="IE",Jn="Opera",xu="Firefox",Su="Safari",_r=function(){return Un({current:void 0,version:Ea.unknown()})},Un=function(k){var w=k.current,D=k.version,W=function(te){return function(){return w===te}};return{current:w,version:D,isEdge:W(Pr),isChrome:W(Cu),isIE:W(Ii),isOpera:W(Jn),isFirefox:W(xu),isSafari:W(Su)}},gt={unknown:_r,nu:Un,edge:Gt(Pr),chrome:Gt(Cu),ie:Gt(Ii),opera:Gt(Jn),firefox:Gt(xu),safari:Gt(Su)},da="Windows",na="iOS",Po="Android",Fa="Linux",ra="OSX",oi="Solaris",oa="FreeBSD",ki="ChromeOS",or=function(){return Oa({current:void 0,version:Ea.unknown()})},Oa=function(k){var w=k.current,D=k.version,W=function(te){return function(){return w===te}};return{current:w,version:D,isWindows:W(da),isiOS:W(na),isAndroid:W(Po),isOSX:W(ra),isLinux:W(Fa),isSolaris:W(oi),isFreeBSD:W(oa),isChromeOS:W(ki)}},Jt={unknown:or,nu:Oa,windows:Gt(da),ios:Gt(na),android:Gt(Po),linux:Gt(Fa),osx:Gt(ra),solaris:Gt(oi),freebsd:Gt(oa),chromeos:Gt(ki)},Li=function(k,w,D){var W=za.browsers(),te=za.oses(),Ce=w.bind(function(vn){return Vo(W,vn)}).orThunk(function(){return N(W,k)}).fold(gt.unknown,gt.nu),Ye=va(te,k).fold(Jt.unknown,Jt.nu),nn=ka(Ye,Ce,k,D);return{browser:Ce,os:Ye,deviceType:nn}},Aa={detect:Li},Ya=function(k){return window.matchMedia(k).matches},Xr=Sa(function(){return Aa.detect(navigator.userAgent,me.from(navigator.userAgentData),Ya)}),ku=function(){return Xr()},ma=function(k,w){var D=k.dom;if(D.nodeType!==En)return!1;var W=D;if(W.matches!==void 0)return W.matches(w);if(W.msMatchesSelector!==void 0)return W.msMatchesSelector(w);if(W.webkitMatchesSelector!==void 0)return W.webkitMatchesSelector(w);if(W.mozMatchesSelector!==void 0)return W.mozMatchesSelector(w);throw new Error("Browser lacks native selectors")},ai=function(k){return k.nodeType!==En&&k.nodeType!==Vt&&k.nodeType!==tt||k.childElementCount===0},Lu=function(k,w){var D=w===void 0?document:w.dom;return ai(D)?[]:Ka(D.querySelectorAll(k),Ot.fromDom)},le=function(k,w){return k.dom===w.dom},ye=function(k){return Ot.fromDom(k.dom.ownerDocument)},Oe=function(k){return Ut(k)?k:ye(k)},Me=function(k){return me.from(k.dom.parentNode).map(Ot.fromDom)},Rt=function(k,w){for(var D=kn(w)?w:Dr,W=k.dom,te=[];W.parentNode!==null&&W.parentNode!==void 0;){var Ce=W.parentNode,Ye=Ot.fromDom(Ce);if(te.push(Ye),D(Ye)===!0)break;W=Ce}return te},nt=function(k){var w=function(D){return la(D,function(W){return!le(k,W)})};return Me(k).map(re).map(w).getOr([])},re=function(k){return Ka(k.dom.childNodes,Ot.fromDom)},fe=function(k){return To(k)&&fr(k.dom.host)},_e=kn(Element.prototype.attachShadow)&&kn(Node.prototype.getRootNode),Xe=Gt(_e),qe=_e?function(k){return Ot.fromDom(k.dom.getRootNode())}:Oe,Mt=function(k){var w=qe(k);return fe(w)?me.some(w):me.none()},It=function(k){return Ot.fromDom(k.dom.host)},pt=function(k){if(Xe()&&fr(k.target)){var w=Ot.fromDom(k.target);if(eo(w)&&Mn(w)&&k.composed&&k.composedPath){var D=k.composedPath();if(D)return Jr(D)}}return me.from(k.target)},Mn=function(k){return fr(k.dom.shadowRoot)},Kn=function(k){var w=mn(k)?k.dom.parentNode:k.dom;if(w==null||w.ownerDocument===null)return!1;var D=w.ownerDocument;return Mt(Ot.fromDom(w)).fold(function(){return D.body.contains(w)},mr(Kn,It))},Zn=function(k){var w=k.dom.body;if(w==null)throw new Error("Body is not available yet");return Ot.fromDom(w)},Bn=function(k,w,D){if(qr(D)||Nt(D)||Mr(D))k.setAttribute(w,D+"");else throw console.error("Invalid call to Attribute.set. Key ",w,":: Value ",D,":: Element ",k),new Error("Attribute value was not simple")},fo=function(k,w,D){Bn(k.dom,w,D)},Le=function(k,w){var D=k.dom.getAttribute(w);return D===null?void 0:D},Dn=function(k,w){k.dom.removeAttribute(w)},to=function(k,w,D){if(!qr(D))throw console.error("Invalid call to CSS.set. Property ",w,":: Value ",D,":: Element ",k),new Error("CSS value must be a string: "+D);Go(k)&&k.style.setProperty(w,D)},$r=function(k,w){var D=k.dom;br(w,function(W,te){to(D,te,W)})},ii=function(k,w){var D=k.dom,W=window.getComputedStyle(D),te=W.getPropertyValue(w);return te===""&&!Kn(k)?ir(D,w):te},ir=function(k,w){return Go(k)?k.style.getPropertyValue(w):""},Xi=function(k,w,D,W,te,Ce,Ye){return{target:k,x:w,y:D,stop:W,prevent:te,kill:Ce,raw:Ye}},Qo=function(k){var w=Ot.fromDom(pt(k).getOr(k.target)),D=function(){return k.stopPropagation()},W=function(){return k.preventDefault()},te=lt(W,D);return Xi(w,k.clientX,k.clientY,D,W,te,k)},ga=function(k,w){return function(D){k(D)&&w(Qo(D))}},Cc=function(k,w,D,W,te){var Ce=ga(D,W);return k.dom.addEventListener(w,Ce,te),{unbind:hn(mi,k,w,Ce,te)}},di=function(k,w,D,W){return Cc(k,w,D,W,!1)},mi=function(k,w,D,W){k.dom.removeEventListener(w,D,W)},vo=tr,es=function(k,w,D){return di(k,w,vo,D)},Zu=function(k,w){var D=function(W,te){return Zu(k+W,w+te)};return{left:k,top:w,translate:D}},ec=Zu,bs=function(k){var w=k!==void 0?k.dom:document,D=w.body.scrollLeft||w.documentElement.scrollLeft,W=w.body.scrollTop||w.documentElement.scrollTop;return ec(D,W)},aa=function(k){var w=k===void 0?window:k;return ku().browser.isFirefox()?me.none():me.from(w.visualViewport)},Yi=function(k,w,D,W){return{x:k,y:w,width:D,height:W,right:k+D,bottom:w+W}},ts=function(k){var w=k===void 0?window:k,D=w.document,W=bs(Ot.fromDom(D));return aa(w).fold(function(){var te=w.document.documentElement,Ce=te.clientWidth,Ye=te.clientHeight;return Yi(W.left,W.top,Ce,Ye)},function(te){return Yi(Math.max(te.pageLeft,W.left),Math.max(te.pageTop,W.top),te.width,te.height)})},Ji=function(k,w,D){return aa(D).map(function(W){var te=function(Ce){return w(Qo(Ce))};return W.addEventListener(k,te),{unbind:function(){return W.removeEventListener(k,te)}}}).getOrThunk(function(){return{unbind:qo}})},Ei=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),X=tinymce.util.Tools.resolve("tinymce.Env"),he=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ae=function(k,w){k.fire("FullscreenStateChanged",{state:w}),k.fire("ResizeEditor")},Ge=function(k){return k.getParam("fullscreen_native",!1,"boolean")},ut=function(k){var w=Ot.fromDom(k.getElement());return Mt(w).map(It).getOrThunk(function(){return Zn(ye(w))})},an=function(k){return k.fullscreenElement!==void 0?k.fullscreenElement:k.msFullscreenElement!==void 0?k.msFullscreenElement:k.webkitFullscreenElement!==void 0?k.webkitFullscreenElement:null},ur=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},kr=function(k){var w=k.dom;w.requestFullscreen?w.requestFullscreen():w.msRequestFullscreen?w.msRequestFullscreen():w.webkitRequestFullScreen&&w.webkitRequestFullScreen()},er=function(k){var w=k.dom;w.exitFullscreen?w.exitFullscreen():w.msExitFullscreen?w.msExitFullscreen():w.webkitCancelFullScreen&&w.webkitCancelFullScreen()},bo=function(k){return k.dom===an(ye(k).dom)},yo=function(k,w,D){return la(Rt(k,D),w)},Qi=function(k,w){return la(nt(k),w)},Da=function(k){return Lu(k)},Eu=function(k,w,D){return yo(k,function(W){return ma(W,w)},D)},In=function(k,w){return Qi(k,function(D){return ma(D,w)})},xc="data-ephox-mobile-fullscreen-style",gl="display:none!important;",zr="position:absolute!important;",hl="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ks="background-color:rgb(255,255,255)!important;",Ul=X.os.isAndroid(),tc=function(k){var w=ii(k,"background-color");return w!==void 0&&w!==""?"background-color:"+w+"!important":Ks},lu=function(k,w,D){var W=function(wt){return In(wt,"*:not(.tox-silver-sink)")},te=function(wt){return function(Qt){var Wn=Le(Qt,"style"),dn=Wn===void 0?"no-styles":Wn.trim();dn!==wt&&(fo(Qt,xc,dn),$r(Qt,k.parseStyle(wt)))}},Ce=Eu(w,"*"),Ye=Je(Ce,W),nn=tc(D);Ct(Ye,te(gl)),Ct(Ce,te(zr+hl+nn));var vn=Ul===!0?"":zr;te(vn+hl+nn)(w)},Pf=function(k){var w=Da("["+xc+"]");Ct(w,function(D){var W=Le(D,xc);W!=="no-styles"?$r(D,k.parseStyle(W)):Dn(D,"style"),Dn(D,xc)})},Ia=Ei.DOM,Zi=function(){return ts(window)},ys=function(k){return window.scrollTo(k.x,k.y)},je=aa().fold(function(){return{bind:qo,unbind:qo}},function(k){var w=oe(),D=Ca(),W=Ca(),te=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Ce=function(){window.requestAnimationFrame(function(){w.on(function(wt){return $r(wt,{top:k.offsetTop+"px",left:k.offsetLeft+"px",height:k.height+"px",width:k.width+"px"})})})},Ye=he.throttle(function(){te(),Ce()},50),nn=function(wt){w.set(wt),Ye(),D.set(Ji("resize",Ye)),W.set(Ji("scroll",Ye))},vn=function(){w.on(function(){D.clear(),W.clear()}),w.clear()};return{bind:nn,unbind:vn}}),Hi=function(k,w){var D=document.body,W=document.documentElement,te=k.getContainer(),Ce=Ot.fromDom(te),Ye=ut(k),nn=w.get(),vn=Ot.fromDom(k.getBody()),wt=X.deviceType.isTouch(),Qt=te.style,Wn=k.iframeElement,dn=Wn.style,cn=function(on){on(D,"tox-fullscreen"),on(W,"tox-fullscreen"),on(te,"tox-fullscreen"),Mt(Ce).map(function(gi){return It(gi).dom}).each(function(gi){on(gi,"tox-fullscreen"),on(gi,"tox-shadowhost")})},Vr=function(){wt&&Pf(k.dom),cn(Ia.removeClass),je.unbind(),me.from(w.get()).each(function(on){return on.fullscreenChangeHandler.unbind()})};if(nn)nn.fullscreenChangeHandler.unbind(),Ge(k)&&bo(Ye)&&er(ye(Ye)),dn.width=nn.iframeWidth,dn.height=nn.iframeHeight,Qt.width=nn.containerWidth,Qt.height=nn.containerHeight,Qt.top=nn.containerTop,Qt.left=nn.containerLeft,Vr(),ys(nn.scrollPos),w.set(null),Ae(k,!1),k.off("remove",Vr);else{var zn=es(ye(Ye),ur(),function(on){Ge(k)&&!bo(Ye)&&w.get()!==null&&Hi(k,w)}),wo={scrollPos:Zi(),containerWidth:Qt.width,containerHeight:Qt.height,containerTop:Qt.top,containerLeft:Qt.left,iframeWidth:dn.width,iframeHeight:dn.height,fullscreenChangeHandler:zn};wt&&lu(k.dom,Ce,vn),dn.width=dn.height="100%",Qt.width=Qt.height="",cn(Ia.addClass),je.bind(Ce),k.on("remove",Vr),w.set(wo),Ge(k)&&kr(Ye),Ae(k,!0)}},nc=function(k,w){k.addCommand("mceFullScreen",function(){Hi(k,w)})},pl=function(k,w){return function(D){D.setActive(w.get()!==null);var W=function(te){return D.setActive(te.state)};return k.on("FullscreenStateChanged",W),function(){return k.off("FullscreenStateChanged",W)}}},ui=function(k,w){var D=function(){return k.execCommand("mceFullScreen")};k.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:D,onSetup:pl(k,w)}),k.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:D,onSetup:pl(k,w)})};function P(){lr.add("fullscreen",function(k){var w=Jo(null);return k.inline||(nc(k,w),ui(k,w),k.addShortcut("Meta+Shift+F","","mceFullScreen")),ro(w)})}P()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager"),lr=tinymce.util.Tools.resolve("tinymce.util.VK"),ro=function(X){var he=typeof X;return X===null?"null":he==="object"&&(Array.prototype.isPrototypeOf(X)||X.constructor&&X.constructor.name==="Array")?"array":he==="object"&&(String.prototype.isPrototypeOf(X)||X.constructor&&X.constructor.name==="String")?"string":he},sa=function(X){return function(he){return ro(he)===X}},jo=function(X){return function(he){return typeof he===X}},dt=function(X){return function(he){return X===he}},qr=sa("string"),ke=sa("array"),Nt=dt(null),zi=jo("boolean"),fr=jo("function"),kn=function(){},Mr=function(X){return function(){return X}},qo=function(X){return X},lt=function(X,he){return X===he},mr=Mr(!1),Gt=Mr(!0),yt=function(){return hn},hn=function(){var X=function(Ge){return Ge()},he=qo,Ae={fold:function(Ge,ut){return Ge()},isSome:mr,isNone:Gt,getOr:he,getOrThunk:X,getOrDie:function(Ge){throw new Error(Ge||"error: getOrDie called on none.")},getOrNull:Mr(null),getOrUndefined:Mr(void 0),or:he,orThunk:X,map:yt,each:kn,bind:yt,exists:mr,forall:Gt,filter:function(){return yt()},toArray:function(){return[]},toString:Mr("none()")};return Ae}(),Dr=function(X){var he=Mr(X),Ae=function(){return ut},Ge=function(an){return an(X)},ut={fold:function(an,ur){return ur(X)},isSome:Gt,isNone:mr,getOr:he,getOrThunk:he,getOrDie:he,getOrNull:he,getOrUndefined:he,or:Ae,orThunk:Ae,map:function(an){return Dr(an(X))},each:function(an){an(X)},bind:Ge,exists:Ge,forall:Ge,filter:function(an){return an(X)?ut:hn},toArray:function(){return[X]},toString:function(){return"some("+X+")"}};return ut},tr=function(X){return X==null?hn:Dr(X)},Ft={some:Dr,none:yt,from:tr},Fn=Array.prototype.indexOf,Zt=Array.prototype.push,Wt=function(X,he){return Fn.call(X,he)},me=function(X,he){return Wt(X,he)>-1},en=function(X,he){for(var Ae=X.length,Ge=new Array(Ae),ut=0;ut<Ae;ut++){var an=X[ut];Ge[ut]=he(an,ut)}return Ge},On=function(X,he){for(var Ae=0,Ge=X.length;Ae<Ge;Ae++){var ut=X[Ae];he(ut,Ae)}},Ca=function(X,he,Ae){return On(X,function(Ge,ut){Ae=he(Ae,Ge,ut)}),Ae},oe=function(X){for(var he=[],Ae=0,Ge=X.length;Ae<Ge;++Ae){if(!ke(X[Ae]))throw new Error("Arr.flatten item "+Ae+" was not an array, input: "+X);Zt.apply(he,X[Ae])}return he},ho=function(X,he){return oe(en(X,he))},Ka=function(X,he){for(var Ae=0;Ae<X.length;Ae++){var Ge=he(X[Ae],Ae);if(Ge.isSome())return Ge}return Ft.none()},Ct=function(X,he,Ae){return Ae===void 0&&(Ae=lt),X.exists(function(Ge){return Ae(Ge,he)})},la=function(X){for(var he=[],Ae=function(ut){he.push(ut)},Ge=0;Ge<X.length;Ge++)X[Ge].each(Ae);return he},Hr=function(X,he){return X?Ft.some(he):Ft.none()},ot=function(X){var he=X.getParam("link_assume_external_targets",!1);return zi(he)&&he?1:qr(he)&&(he==="http"||he==="https")?he:0},Eo=function(X){return X.getParam("link_context_toolbar",!1,"boolean")},Je=function(X){return X.getParam("link_list")},zt=function(X){return X.getParam("default_link_target")},Jr=function(X){return X.getParam("target_list",!0)},Rr=function(X){return X.getParam("rel_list",[],"array")},Gr=function(X){return X.getParam("link_class_list",[],"array")},br=function(X){return X.getParam("link_title",!0,"boolean")},ee=function(X){return X.getParam("allow_unsafe_link_target",!1,"boolean")},Go=function(X){return X.getParam("link_quicklink",!1,"boolean")},Mo=function(X){return X.getParam("link_default_protocol","http","string")},Kr=tinymce.util.Tools.resolve("tinymce.util.Tools"),Pa=function(X){return qr(X.value)?X.value:""},it=function(X){return qr(X.text)?X.text:qr(X.title)?X.title:""},Et=function(X,he){var Ae=[];return Kr.each(X,function(Ge){var ut=it(Ge);if(Ge.menu!==void 0){var an=Et(Ge.menu,he);Ae.push({text:ut,items:an})}else{var ur=he(Ge);Ae.push({text:ut,value:ur})}}),Ae},Ot=function(X){return X===void 0&&(X=Pa),function(he){return Ft.from(he).map(function(Ae){return Et(Ae,X)})}},Vt=function(X){return Ot(Pa)(X)},tt=function(X,he){return function(Ae){return{name:X,type:"listbox",label:he,items:Ae}}},En={sanitize:Vt,sanitizeWith:Ot,createUi:tt,getValue:Pa},Vn=function(){return Vn=Object.assign||function(he){for(var Ae,Ge=1,ut=arguments.length;Ge<ut;Ge++){Ae=arguments[Ge];for(var an in Ae)Object.prototype.hasOwnProperty.call(Ae,an)&&(he[an]=Ae[an])}return he},Vn.apply(this,arguments)},tn=Object.keys,xa=Object.hasOwnProperty,eo=function(X,he){for(var Ae=tn(X),Ge=0,ut=Ae.length;Ge<ut;Ge++){var an=Ae[Ge],ur=X[an];he(ur,an)}},mn=function(X){return function(he,Ae){X[Ae]=he}},Ut=function(X,he,Ae,Ge){var ut={};return eo(X,function(an,ur){(he(an,ur)?Ae:Ge)(an,ur)}),ut},To=function(X,he){var Ae={};return Ut(X,he,mn(Ae),kn),Ae},Sa=function(X,he){return xa.call(X,he)},ka=function(X,he){return Sa(X,he)&&X[he]!==void 0&&X[he]!==null},ri=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Fi=tinymce.util.Tools.resolve("tinymce.util.URI"),Oo=function(X){return X&&X.nodeName.toLowerCase()==="a"},fa=function(X){return Oo(X)&&!!Vo(X)},Ao=function(X,he){if(X.collapsed)return[];var Ae=X.cloneContents(),Ge=new ri(Ae.firstChild,Ae),ut=[],an=Ae.firstChild;do he(an)&&ut.push(an);while(an=Ge.next());return ut},Ea=function(X){return/^\w+:/i.test(X)},Vo=function(X){var he=X.getAttribute("data-mce-href");return he||X.getAttribute("href")},Ta=function(X,he){var Ae=["noopener"],Ge=X?X.split(/\s+/):[],ut=function(er){return Kr.trim(er.sort().join(" "))},an=function(er){return er=ur(er),er.length>0?er.concat(Ae):Ae},ur=function(er){return er.filter(function(bo){return Kr.inArray(Ae,bo)===-1})},kr=he?an(Ge):ur(Ge);return kr.length>0?ut(kr):""},N=function(X){return X.replace(/\uFEFF/g,"")},va=function(X,he){return he=he||X.selection.getNode(),za(he)?X.dom.select("a[href]",he)[0]:X.dom.getParent(he,"a[href]")},Xa=function(X,he){var Ae=he?he.innerText||he.textContent:X.getContent({format:"text"});return N(Ae)},lo=function(X){return Kr.grep(X,fa).length>0},pn=function(X){return Ao(X,fa).length>0},Yt=function(X){var he=X.schema.getTextInlineElements(),Ae=function(ut){return ut.nodeType===1&&!Oo(ut)&&!Sa(he,ut.nodeName.toLowerCase())},Ge=Ao(X.selection.getRng(),Ae);return Ge.length===0},za=function(X){return X&&X.nodeName==="FIGURE"&&/\bimage\b/i.test(X.className)},Pr=function(X){var he=["title","rel","class","target"];return Ca(he,function(Ae,Ge){return X[Ge].each(function(ut){Ae[Ge]=ut.length>0?ut:null}),Ae},{href:X.href})},Cu=function(X,he){return(he==="http"||he==="https")&&!Ea(X)?he+"://"+X:X},Ii=function(X,he){var Ae=Vn({},he);if(!(Rr(X).length>0)&&ee(X)===!1){var Ge=Ta(Ae.rel,Ae.target==="_blank");Ae.rel=Ge||null}return Ft.from(Ae.target).isNone()&&Jr(X)===!1&&(Ae.target=zt(X)),Ae.href=Cu(Ae.href,ot(X)),Ae},Jn=function(X,he,Ae,Ge){Ae.each(function(ut){Sa(he,"innerText")?he.innerText=ut:he.textContent=ut}),X.dom.setAttribs(he,Ge),X.selection.select(he)},xu=function(X,he,Ae,Ge){za(he)?ra(X,he,Ge):Ae.fold(function(){X.execCommand("mceInsertLink",!1,Ge)},function(ut){X.insertContent(X.dom.createHTML("a",Ge,X.dom.encode(ut)))})},Su=function(X,he,Ae){var Ge=X.selection.getNode(),ut=va(X,Ge),an=Ii(X,Pr(Ae));X.undoManager.transact(function(){Ae.href===he.href&&he.attach(),ut?(X.focus(),Jn(X,ut,Ae.text,an)):xu(X,Ge,Ae.text,an)})},_r=function(X){var he=X.dom,Ae=X.selection,Ge=Ae.getBookmark(),ut=Ae.getRng().cloneRange(),an=he.getParent(ut.startContainer,"a[href]",X.getBody()),ur=he.getParent(ut.endContainer,"a[href]",X.getBody());an&&ut.setStartBefore(an),ur&&ut.setEndAfter(ur),Ae.setRng(ut),X.execCommand("unlink"),Ae.moveToBookmark(Ge)},Un=function(X){X.undoManager.transact(function(){var he=X.selection.getNode();za(he)?Fa(X,he):_r(X),X.focus()})},gt=function(X){var he=X.class,Ae=X.href,Ge=X.rel,ut=X.target,an=X.text,ur=X.title;return To({class:he.getOrNull(),href:Ae,rel:Ge.getOrNull(),target:ut.getOrNull(),text:an.getOrNull(),title:ur.getOrNull()},function(kr,er){return Nt(kr)===!1})},da=function(X,he){var Ae=he.href;return Vn(Vn({},he),{href:Fi.isDomSafe(Ae,"a",X.settings)?Ae:""})},na=function(X,he,Ae){var Ge=da(X,Ae);X.hasPlugin("rtc",!0)?X.execCommand("createlink",!1,gt(Ge)):Su(X,he,Ge)},Po=function(X){X.hasPlugin("rtc",!0)?X.execCommand("unlink"):Un(X)},Fa=function(X,he){var Ae=X.dom.select("img",he)[0];if(Ae){var Ge=X.dom.getParents(Ae,"a[href]",he)[0];Ge&&(Ge.parentNode.insertBefore(Ae,Ge),X.dom.remove(Ge))}},ra=function(X,he,Ae){var Ge=X.dom.select("img",he)[0];if(Ge){var ut=X.dom.create("a",Ae);Ge.parentNode.insertBefore(ut,Ge),ut.appendChild(Ge)}},oi=function(X){return ka(X,"items")},oa=function(X,he){return Ka(he,function(Ae){return oi(Ae)?oa(X,Ae.items):Hr(Ae.value===X,Ae)})},ki=function(X,he,Ae,Ge){var ut=Ge[he],an=X.length>0;return ut!==void 0?oa(ut,Ae).map(function(ur){return{url:{value:ur.value,meta:{text:an?X:ur.text,attach:kn}},text:an?X:ur.text}}):Ft.none()},or=function(X,he){return he==="link"?X.link:he==="anchor"?X.anchor:Ft.none()},Oa=function(X,he){var Ae={text:X.text,title:X.title},Ge=function(er){return Hr(Ae.title.length<=0,Ft.from(er.meta.title).getOr(""))},ut=function(er){return Hr(Ae.text.length<=0,Ft.from(er.meta.text).getOr(er.value))},an=function(er){var bo=ut(er.url),yo=Ge(er.url);return bo.isSome()||yo.isSome()?Ft.some(Vn(Vn({},bo.map(function(Qi){return{text:Qi}}).getOr({})),yo.map(function(Qi){return{title:Qi}}).getOr({}))):Ft.none()},ur=function(er,bo){var yo=or(he,bo.name).getOr([]);return ki(Ae.text,bo.name,yo,er)},kr=function(er,bo){var yo=bo.name;return yo==="url"?an(er()):me(["anchor","link"],yo)?ur(er(),bo):((yo==="text"||yo==="title")&&(Ae[yo]=er()[yo]),Ft.none())};return{onChange:kr}},Jt={init:Oa,getDelta:ki},Li=tinymce.util.Tools.resolve("tinymce.util.Delay"),Aa=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ya=function(X,he,Ae){var Ge=X.selection.getRng();Li.setEditorTimeout(X,function(){X.windowManager.confirm(he,function(ut){X.selection.setRng(Ge),Ae(ut)})})},Xr=function(X){var he=X.href,Ae=he.indexOf("@")>0&&he.indexOf("/")===-1&&he.indexOf("mailto:")===-1;return Ae?Ft.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Ge){return Vn(Vn({},Ge),{href:"mailto:"+he})}}):Ft.none()},ku=function(X,he){return function(Ae){var Ge=Ae.href,ut=X===1&&!Ea(Ge)||X===0&&/^\s*www(\.|\d\.)/i.test(Ge);return ut?Ft.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+he+":// prefix?",preprocess:function(an){return Vn(Vn({},an),{href:he+"://"+Ge})}}):Ft.none()}},ma=function(X,he){return Ka([Xr,ku(ot(X),Mo(X))],function(Ae){return Ae(he)}).fold(function(){return Aa.resolve(he)},function(Ae){return new Aa(function(Ge){Ya(X,Ae.message,function(ut){Ge(ut?Ae.preprocess(he):he)})})})},ai={preprocess:ma},Lu=function(X){var he=X.dom.select("a:not([href])"),Ae=ho(he,function(Ge){var ut=Ge.name||Ge.id;return ut?[{text:ut,value:"#"+ut}]:[]});return Ae.length>0?Ft.some([{text:"None",value:""}].concat(Ae)):Ft.none()},le={getAnchors:Lu},ye=function(X){var he=Gr(X);return he.length>0?En.sanitize(he):Ft.none()},Oe={getClasses:ye},Me=tinymce.util.Tools.resolve("tinymce.util.XHR"),Rt=function(X){try{return Ft.some(JSON.parse(X))}catch{return Ft.none()}},nt=function(X){var he=function(Ge){return X.convertURL(Ge.value||Ge.url,"href")},Ae=Je(X);return new Aa(function(Ge){qr(Ae)?Me.send({url:Ae,success:function(ut){return Ge(Rt(ut))},error:function(ut){return Ge(Ft.none())}}):fr(Ae)?Ae(function(ut){return Ge(Ft.some(ut))}):Ge(Ft.from(Ae))}).then(function(Ge){return Ge.bind(En.sanitizeWith(he)).map(function(ut){if(ut.length>0){var an=[{text:"None",value:""}];return an.concat(ut)}else return ut})})},re={getLinks:nt},fe=function(X,he){var Ae=Rr(X);if(Ae.length>0){var Ge=Ct(he,"_blank"),ut=ee(X)===!1,an=function(kr){return Ta(En.getValue(kr),Ge)},ur=ut?En.sanitizeWith(an):En.sanitize;return ur(Ae)}return Ft.none()},_e={getRels:fe},Xe=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],qe=function(X){var he=Jr(X);return ke(he)?En.sanitize(he).orThunk(function(){return Ft.some(Xe)}):he===!1?Ft.none():Ft.some(Xe)},Mt={getTargets:qe},It=function(X,he,Ae){var Ge=X.getAttrib(he,Ae);return Ge!==null&&Ge.length>0?Ft.some(Ge):Ft.none()},pt=function(X,he){var Ae=X.dom,Ge=Yt(X),ut=Ge?Ft.some(Xa(X.selection,he)):Ft.none(),an=he?Ft.some(Ae.getAttrib(he,"href")):Ft.none(),ur=he?Ft.from(Ae.getAttrib(he,"target")):Ft.none(),kr=It(Ae,he,"rel"),er=It(Ae,he,"class"),bo=It(Ae,he,"title");return{url:an,text:ut,title:bo,target:ur,rel:kr,linkClass:er}},Mn=function(X,he){return re.getLinks(X).then(function(Ae){var Ge=pt(X,he);return{anchor:Ge,catalogs:{targets:Mt.getTargets(X),rels:_e.getRels(X,Ge.target),classes:Oe.getClasses(X),anchor:le.getAnchors(X),link:Ae},optNode:Ft.from(he),flags:{titleEnabled:br(X)}}})},Kn={collect:Mn},Zn=function(X,he){return function(Ae){var Ge=Ae.getData();if(!Ge.url.value){Po(X),Ae.close();return}var ut=function(kr){return Ft.from(Ge[kr]).filter(function(er){return!Ct(he.anchor[kr],er)})},an={href:Ge.url.value,text:ut("text"),target:ut("target"),rel:ut("rel"),class:ut("linkClass"),title:ut("title")},ur={href:Ge.url.value,attach:Ge.url.meta!==void 0&&Ge.url.meta.attach?Ge.url.meta.attach:kn};ai.preprocess(X,an).then(function(kr){na(X,ur,kr)}),Ae.close()}},Bn=function(X){var he=va(X);return Kn.collect(X,he)},fo=function(X,he){var Ae=X.anchor,Ge=Ae.url.getOr("");return{url:{value:Ge,meta:{original:{value:Ge}}},text:Ae.text.getOr(""),title:Ae.title.getOr(""),anchor:Ge,link:Ge,rel:Ae.rel.getOr(""),target:Ae.target.or(he).getOr(""),linkClass:Ae.linkClass.getOr("")}},Le=function(X,he,Ae){var Ge=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],ut=X.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),an=X.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],ur=Ft.from(zt(Ae)),kr=fo(X,ur),er=X.catalogs,bo=Jt.init(kr,er),yo={type:"panel",items:oe([Ge,ut,an,la([er.anchor.map(En.createUi("anchor","Anchors")),er.rels.map(En.createUi("rel","Rel")),er.targets.map(En.createUi("target","Open link in...")),er.link.map(En.createUi("link","Link list")),er.classes.map(En.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:yo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:kr,onChange:function(Qi,Da){var Eu=Da.name;bo.onChange(Qi.getData,{name:Eu}).each(function(In){Qi.setData(In)})},onSubmit:he}},Dn=function(X){var he=Bn(X);he.then(function(Ae){var Ge=Zn(X,Ae);return Le(Ae,Ge,X)}).then(function(Ae){X.windowManager.open(Ae)})},to=function(X,he){document.body.appendChild(X),X.dispatchEvent(he),document.body.removeChild(X)},$r=function(X){var he=document.createElement("a");he.target="_blank",he.href=X,he.rel="noreferrer noopener";var Ae=document.createEvent("MouseEvents");Ae.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),to(he,Ae)},ii=function(X,he){return X.dom.getParent(he,"a[href]")},ir=function(X){return ii(X,X.selection.getStart())},Xi=function(X){return X.altKey===!0&&X.shiftKey===!1&&X.ctrlKey===!1&&X.metaKey===!1},Qo=function(X,he){if(he){var Ae=Vo(he);if(/^#/.test(Ae)){var Ge=X.$(Ae);Ge.length&&X.selection.scrollIntoView(Ge[0],!0)}else $r(he.href)}},ga=function(X){return function(){Dn(X)}},Cc=function(X){return function(){Qo(X,ir(X))}},di=function(X){X.on("click",function(he){var Ae=ii(X,he.target);Ae&&lr.metaKeyPressed(he)&&(he.preventDefault(),Qo(X,Ae))}),X.on("keydown",function(he){var Ae=ir(X);Ae&&he.keyCode===13&&Xi(he)&&(he.preventDefault(),Qo(X,Ae))})},mi=function(X,he){return X.on("NodeChange",he),function(){return X.off("NodeChange",he)}},vo=function(X){return function(he){var Ae=function(){return he.setActive(!X.mode.isReadOnly()&&va(X,X.selection.getNode())!==null)};return Ae(),mi(X,Ae)}},es=function(X){return function(he){var Ae=function(){return he.setDisabled(va(X,X.selection.getNode())===null)};return Ae(),mi(X,Ae)}},Zu=function(X){return function(he){var Ae=function(ut){return lo(ut)||pn(X.selection.getRng())},Ge=X.dom.getParents(X.selection.getStart());return he.setDisabled(!Ae(Ge)),mi(X,function(ut){return he.setDisabled(!Ae(ut.parents))})}},ec=function(X){X.addCommand("mceLink",function(){Go(X)?X.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):ga(X)()})},bs=function(X){X.addShortcut("Meta+K","",function(){X.execCommand("mceLink")})},aa=function(X){X.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ga(X),onSetup:vo(X)}),X.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Cc(X),onSetup:es(X)}),X.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Po(X)},onSetup:Zu(X)})},Yi=function(X){X.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Cc(X),onSetup:es(X)}),X.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ga(X)}),X.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Po(X)},onSetup:Zu(X)})},ts=function(X){var he="link unlink openlink",Ae="link";X.ui.registry.addContextMenu("link",{update:function(Ge){return lo(X.dom.getParents(Ge,"a"))?he:Ae}})},Ji=function(X){var he=function(ut){ut.selection.collapse(!1)},Ae=function(ut){var an=X.selection.getNode();return ut.setDisabled(!va(X,an)),kn},Ge=function(ut){var an=va(X),ur=Yt(X);if(!an&&ur){var kr=Xa(X.selection,an);return Ft.some(kr.length>0?kr:ut)}else return Ft.none()};X.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:vo(X)},label:"Link",predicate:function(ut){return!!va(X,ut)&&Eo(X)},initValue:function(){var ut=va(X);return ut?Vo(ut):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(ut){var an=X.selection.getNode();return ut.setActive(!!va(X,an)),vo(X)(ut)},onAction:function(ut){var an=ut.getValue(),ur=Ge(an),kr={href:an,attach:kn};na(X,kr,{href:an,text:ur,title:Ft.none(),rel:Ft.none(),target:Ft.none(),class:Ft.none()}),he(X),ut.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ae,onAction:function(ut){Po(X),ut.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ae,onAction:function(ut){Cc(X)(),ut.hide()}}]})};function Ei(){Jo.add("link",function(X){aa(X),Yi(X),ts(X),Ji(X),di(X),ec(X),bs(X)})}Ei()})();(function(){var Jo=function(w){var D=w,W=function(){return D},te=function(Ce){D=Ce};return{get:W,set:te}},lr=tinymce.util.Tools.resolve("tinymce.PluginManager"),ro=function(w){return w.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},sa=function(w){return{clipboard:w}},jo=function(w){var D=typeof w;return w===null?"null":D==="object"&&(Array.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="Array")?"array":D==="object"&&(String.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="String")?"string":D},dt=function(w){return function(D){return jo(D)===w}},qr=function(w){return function(D){return typeof D===w}},ke=dt("array"),Nt=function(w){return w==null},zi=function(w){return!Nt(w)},fr=qr("function"),kn=function(){},Mr=function(w){return function(){return w}},qo=function(w){return w},lt=Mr(!1),mr=Mr(!0),Gt=function(){return yt},yt=function(){var w=function(te){return te()},D=qo,W={fold:function(te,Ce){return te()},isSome:lt,isNone:mr,getOr:D,getOrThunk:w,getOrDie:function(te){throw new Error(te||"error: getOrDie called on none.")},getOrNull:Mr(null),getOrUndefined:Mr(void 0),or:D,orThunk:w,map:Gt,each:kn,bind:Gt,exists:lt,forall:mr,filter:function(){return Gt()},toArray:function(){return[]},toString:Mr("none()")};return W}(),hn=function(w){var D=Mr(w),W=function(){return Ce},te=function(Ye){return Ye(w)},Ce={fold:function(Ye,nn){return nn(w)},isSome:mr,isNone:lt,getOr:D,getOrThunk:D,getOrDie:D,getOrNull:D,getOrUndefined:D,or:W,orThunk:W,map:function(Ye){return hn(Ye(w))},each:function(Ye){Ye(w)},bind:te,exists:te,forall:te,filter:function(Ye){return Ye(w)?Ce:yt},toArray:function(){return[w]},toString:function(){return"some("+w+")"}};return Ce},Dr=function(w){return w==null?yt:hn(w)},tr={some:hn,none:Gt,from:Dr},Ft=Array.prototype.slice,Fn=Array.prototype.push,Zt=function(w,D){for(var W=0,te=w.length;W<te;W++){var Ce=w[W];if(D(Ce,W))return!0}return!1},Wt=function(w,D){for(var W=w.length,te=new Array(W),Ce=0;Ce<W;Ce++){var Ye=w[Ce];te[Ce]=D(Ye,Ce)}return te},me=function(w,D){for(var W=0,te=w.length;W<te;W++){var Ce=w[W];D(Ce,W)}},en=function(w,D){for(var W=[],te=0,Ce=w.length;te<Ce;te++){var Ye=w[te];D(Ye,te)&&W.push(Ye)}return W},On=function(w,D,W){return me(w,function(te,Ce){W=D(W,te,Ce)}),W},Ca=function(w){for(var D=[],W=0,te=w.length;W<te;++W){if(!ke(w[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+w);Fn.apply(D,w[W])}return D},oe=function(w,D){return Ca(Wt(w,D))},ho=fr(Array.from)?Array.from:function(w){return Ft.call(w)},Ka=function(){return Ka=Object.assign||function(D){for(var W,te=1,Ce=arguments.length;te<Ce;te++){W=arguments[te];for(var Ye in W)Object.prototype.hasOwnProperty.call(W,Ye)&&(D[Ye]=W[Ye])}return D},Ka.apply(this,arguments)},Ct=function(w){var D=Jo(tr.none()),W=function(){return D.get().each(w)},te=function(){W(),D.set(tr.none())},Ce=function(){return D.get().isSome()},Ye=function(){return D.get()},nn=function(vn){W(),D.set(tr.some(vn))};return{clear:te,isSet:Ce,get:Ye,set:nn}},la=function(){var w=Ct(kn),D=function(W){return w.get().each(W)};return Ka(Ka({},w),{on:D})},Hr=function(w,D,W){return D===""||w.length>=D.length&&w.substr(W,W+D.length)===D},ot=function(w,D){return Hr(w,D,0)},Eo=function(w,D){return Hr(w,D,w.length-D.length)},Je=function(w,D){return D<=0?"":new Array(D+1).join(w)},zt=tinymce.util.Tools.resolve("tinymce.Env"),Jr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Rr=tinymce.util.Tools.resolve("tinymce.util.Promise"),Gr=tinymce.util.Tools.resolve("tinymce.util.VK"),br=function(w,D,W,te){return w.fire("PastePreProcess",{content:D,internal:W,wordContent:te})},ee=function(w,D,W,te){return w.fire("PastePostProcess",{node:D,internal:W,wordContent:te})},Go=function(w,D){return w.fire("PastePlainTextToggle",{state:D})},Mo=function(w,D){return w.fire("paste",{ieFake:D})},Kr=tinymce.util.Tools.resolve("tinymce.util.Tools"),Pa=function(w){return w.getParam("paste_block_drop",!1)},it=function(w){return w.getParam("paste_data_images",!1)},Et=function(w){return w.getParam("paste_filter_drop",!0)},Ot=function(w){return w.getParam("paste_preprocess")},Vt=function(w){return w.getParam("paste_postprocess")},tt=function(w){return w.getParam("paste_webkit_styles")},En=function(w){return w.getParam("paste_remove_styles_if_webkit",!0)},Vn=function(w){return w.getParam("paste_merge_formats",!0)},tn=function(w){return w.getParam("smart_paste",!0)},xa=function(w){return w.getParam("paste_as_text",!1)},eo=function(w){return w.getParam("paste_retain_style_properties")},mn=function(w){var D="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return w.getParam("paste_word_valid_elements",D)},Ut=function(w){return w.getParam("paste_convert_word_fake_lists",!0)},To=function(w){return w.getParam("paste_enable_default_filters",!0)},Sa=function(w){return w.getParam("validate")},ka=function(w){return w.getParam("allow_html_data_urls",!1,"boolean")},ri=function(w){return w.getParam("paste_data_images",!1,"boolean")},Fi=function(w){return w.getParam("images_dataimg_filter")},Oo=function(w){return w.getParam("images_reuse_filename")},fa=function(w){return w.getParam("forced_root_block")},Ao=function(w){return w.getParam("forced_root_block_attrs")},Ea=function(w){return w.getParam("paste_tab_spaces",4,"number")},Vo=function(w){var D="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Kr.explode(w.getParam("images_file_types",D,"string"))},Ta="x-tinymce/html",N="<!-- "+Ta+" -->",va=function(w){return N+w},Xa=function(w){return w.replace(N,"")},lo=function(w){return w.indexOf(N)!==-1},pn=Mr(Ta),Yt=Object.hasOwnProperty,za=function(w,D){return Yt.call(w,D)},Pr=tinymce.util.Tools.resolve("tinymce.html.Entities"),Cu=function(w){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(w)},Ii=function(w){return w.replace(/\r?\n/g,"<br>")},Jn=function(w,D){var W=[],te="<"+w;if(typeof D=="object"){for(var Ce in D)za(D,Ce)&&W.push(Ce+'="'+Pr.encodeAllRaw(D[Ce])+'"');W.length&&(te+=" "+W.join(" "))}return te+">"},xu=function(w,D,W){var te=w.split(/\n\n/),Ce=Jn(D,W),Ye="</"+D+">",nn=Kr.map(te,function(wt){return wt.split(/\n/).join("<br />")}),vn=function(wt){return Ce+wt+Ye};return nn.length===1?nn[0]:Kr.map(nn,vn).join("")},Su=function(w,D,W){return D?xu(w,D===!0?"p":D,W):Ii(w)},_r=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Un=tinymce.util.Tools.resolve("tinymce.html.Serializer"),gt="\xA0",da=tinymce.util.Tools.resolve("tinymce.html.Node"),na=tinymce.util.Tools.resolve("tinymce.html.Schema"),Po=function(w){return w.constructor===RegExp},Fa=function(w,D){return Kr.each(D,function(W){Po(W)?w=w.replace(W,""):w=w.replace(W[0],W[1])}),w},ra=function(w){var D=na(),W=_r({},D),te="",Ce=D.getShortEndedElements(),Ye=Kr.makeMap("script noscript style textarea video audio iframe object"," "),nn=D.getBlockElements(),vn=function(wt){var Qt=wt.name,Wn=wt;if(Qt==="br"){te+=`
`;return}if(Qt!=="wbr"){if(Ce[Qt]&&(te+=" "),Ye[Qt]){te+=" ";return}if(wt.type===3&&(te+=wt.value),!wt.shortEnded&&(wt=wt.firstChild))do vn(wt);while(wt=wt.next);nn[Qt]&&Wn.next&&(te+=`
`,Qt==="p"&&(te+=`
`))}};return w=Fa(w,[/<!\[[^\]]+\]>/g]),vn(W.parse(w)),te},oi=function(w){var D=function(W,te,Ce){return!te&&!Ce?" ":gt};return w=Fa(w,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,D],/<br class="Apple-interchange-newline">/g,/<br>$/i]),w},oa=function(w){var D=0;return function(){return w+D++}},ki=function(w){var D=w.toLowerCase(),W={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Kr.hasOwn(W,D)?"image/"+W[D]:"image/"+D},or=function(w){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(w)||/class="OutlineElement/.test(w)||/id="?docs\-internal\-guid\-/.test(w)},Oa=function(w){var D=!1,W=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return w=w.replace(/^[\u00a0 ]+/,""),Kr.each(W,function(te){if(te.test(w))return D=!0,!1}),D},Jt=function(w){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(w)},Li=function(w){for(var D,W,te=1,Ce=function(zn){var wo="";if(zn.type===3)return zn.value;if(zn=zn.firstChild)do wo+=Ce(zn);while(zn=zn.next);return wo},Ye=function(zn,wo){if(zn.type===3&&wo.test(zn.value))return zn.value=zn.value.replace(wo,""),!1;if(zn=zn.firstChild)do if(!Ye(zn,wo))return!1;while(zn=zn.next);return!0},nn=function(zn){if(zn._listIgnore){zn.remove();return}if(zn=zn.firstChild)do nn(zn);while(zn=zn.next)},vn=function(zn,wo,on){var gi=zn._listLevel||te;gi!==te&&(gi<te?D&&(D=D.parent.parent):(W=D,D=null)),!D||D.name!==wo?(W=W||D,D=new da(wo,1),on>1&&D.attr("start",""+on),zn.wrap(D)):D.append(zn),zn.name="li",gi>te&&W&&W.lastChild.append(D),te=gi,nn(zn),Ye(zn,/^\u00a0+/),Ye(zn,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Ye(zn,/^\u00a0+/)},wt=[],Qt=w.firstChild;typeof Qt<"u"&&Qt!==null;)if(wt.push(Qt),Qt=Qt.walk(),Qt!==null)for(;typeof Qt<"u"&&Qt.parent!==w;)Qt=Qt.walk();for(var Wn=0;Wn<wt.length;Wn++)if(w=wt[Wn],w.name==="p"&&w.firstChild){var dn=Ce(w);if(Jt(dn)){vn(w,"ul");continue}if(Oa(dn)){var cn=/([0-9]+)\./.exec(dn),Vr=1;cn&&(Vr=parseInt(cn[1],10)),vn(w,"ol",Vr);continue}if(w._listLevel){vn(w,"ul",1);continue}D=null}else W=D,D=null},Aa=function(w,D,W,te){var Ce={},Ye=w.dom.parseStyle(te);Kr.each(Ye,function(vn,wt){switch(wt){case"mso-list":var Qt=/\w+ \w+([0-9]+)/i.exec(te);Qt&&(W._listLevel=parseInt(Qt[1],10)),/Ignore/i.test(vn)&&W.firstChild&&(W._listIgnore=!0,W.firstChild._listIgnore=!0);break;case"horiz-align":wt="text-align";break;case"vert-align":wt="vertical-align";break;case"font-color":case"mso-foreground":wt="color";break;case"mso-background":case"mso-highlight":wt="background";break;case"font-weight":case"font-style":vn!=="normal"&&(Ce[wt]=vn);return;case"mso-element":if(/^(comment|comment-list)$/i.test(vn)){W.remove();return}break}if(wt.indexOf("mso-comment")===0){W.remove();return}wt.indexOf("mso-")!==0&&(eo(w)==="all"||D&&D[wt])&&(Ce[wt]=vn)}),/(bold)/i.test(Ce["font-weight"])&&(delete Ce["font-weight"],W.wrap(new da("b",1))),/(italic)/i.test(Ce["font-style"])&&(delete Ce["font-style"],W.wrap(new da("i",1)));var nn=w.dom.serializeStyle(Ce,W.name);return nn||null},Ya=function(w,D){var W,te=eo(w);te&&(W=Kr.makeMap(te.split(/[, ]/))),D=Fa(D,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,gt],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(wt,Qt){return Qt.length>0?Qt.replace(/./," ").slice(Math.floor(Qt.length/2)).split("").join(gt):""}]]);var Ce=mn(w),Ye=na({valid_elements:Ce,valid_children:"-li[p]"});Kr.each(Ye.elements,function(wt){wt.attributes.class||(wt.attributes.class={},wt.attributesOrder.push("class")),wt.attributes.style||(wt.attributes.style={},wt.attributesOrder.push("style"))});var nn=_r({},Ye);nn.addAttributeFilter("style",function(wt){for(var Qt=wt.length,Wn;Qt--;)Wn=wt[Qt],Wn.attr("style",Aa(w,W,Wn,Wn.attr("style"))),Wn.name==="span"&&Wn.parent&&!Wn.attributes.length&&Wn.unwrap()}),nn.addAttributeFilter("class",function(wt){for(var Qt=wt.length,Wn,dn;Qt--;)Wn=wt[Qt],dn=Wn.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(dn)&&Wn.remove(),Wn.attr("class",null)}),nn.addNodeFilter("del",function(wt){for(var Qt=wt.length;Qt--;)wt[Qt].remove()}),nn.addNodeFilter("a",function(wt){for(var Qt=wt.length,Wn,dn,cn;Qt--;){if(Wn=wt[Qt],dn=Wn.attr("href"),cn=Wn.attr("name"),dn&&dn.indexOf("#_msocom_")!==-1){Wn.remove();continue}if(dn&&dn.indexOf("file://")===0&&(dn=dn.split("#")[1],dn&&(dn="#"+dn)),!dn&&!cn)Wn.unwrap();else{if(cn&&!/^_?(?:toc|edn|ftn)/i.test(cn)){Wn.unwrap();continue}Wn.attr({href:dn,name:cn})}}});var vn=nn.parse(D);return Ut(w)&&Li(vn),D=Un({validate:Sa(w)},Ye).serialize(vn),D},Xr=function(w,D){return To(w)?Ya(w,D):D},ku=function(w,D){var W=_r({},w.schema);W.addNodeFilter("meta",function(Ce){Kr.each(Ce,function(Ye){Ye.remove()})});var te=W.parse(D,{forced_root_block:!1,isRootContent:!0});return Un({validate:Sa(w)},w.schema).serialize(te)},ma=function(w,D){return{content:w,cancelled:D}},ai=function(w,D,W,te){var Ce=w.dom.create("div",{style:"display:none"},D),Ye=ee(w,Ce,W,te);return ma(Ye.node.innerHTML,Ye.isDefaultPrevented())},Lu=function(w,D,W,te){var Ce=br(w,D,W,te),Ye=ku(w,Ce.content);return w.hasEventListeners("PastePostProcess")&&!Ce.isDefaultPrevented()?ai(w,Ye,W,te):ma(Ye,Ce.isDefaultPrevented())},le=function(w,D,W){var te=or(D),Ce=te?Xr(w,D):D;return Lu(w,Ce,W,te)},ye=function(w,D){return w.insertContent(D,{merge:Vn(w),paste:!0}),!0},Oe=function(w){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(w)},Me=function(w,D){return Oe(D)&&Zt(Vo(w),function(W){return Eo(D.toLowerCase(),"."+W.toLowerCase())})},Rt=function(w,D,W){return w.undoManager.extra(function(){W(w,D)},function(){w.insertContent('<img src="'+D+'">')}),!0},nt=function(w,D,W){return w.undoManager.extra(function(){W(w,D)},function(){w.execCommand("mceInsertLink",!1,D)}),!0},re=function(w,D,W){return w.selection.isCollapsed()===!1&&Oe(D)?nt(w,D,W):!1},fe=function(w,D,W){return Me(w,D)?Rt(w,D,W):!1},_e=function(w,D){Kr.each([re,fe,ye],function(W){return W(w,D,ye)!==!0})},Xe=function(w,D,W){W||tn(w)===!1?ye(w,D):_e(w,D)},qe=function(w){return" \f	\v".indexOf(w)!==-1},Mt=function(w){return w===`
`||w==="\r"},It=function(w,D){return D<w.length&&D>=0?Mt(w[D]):!1},pt=function(w,D){var W=Je(" ",Ea(w)),te=D.replace(/\t/g,W),Ce=On(te,function(Ye,nn){return qe(nn)||nn===gt?Ye.pcIsSpace||Ye.str===""||Ye.str.length===te.length-1||It(te,Ye.str.length+1)?{pcIsSpace:!1,str:Ye.str+gt}:{pcIsSpace:!0,str:Ye.str+" "}:{pcIsSpace:Mt(nn),str:Ye.str+nn}},{pcIsSpace:!1,str:""});return Ce.str},Mn=function(w,D,W,te){var Ce=le(w,D,W);Ce.cancelled===!1&&Xe(w,Ce.content,te)},Kn=function(w,D,W){var te=W||lo(D);Mn(w,Xa(D),te,!1)},Zn=function(w,D){var W=w.dom.encode(D).replace(/\r\n/g,`
`),te=pt(w,W),Ce=Su(te,fa(w),Ao(w));Mn(w,Ce,!1,!0)},Bn=function(w){var D={},W="data:text/mce-internal,";if(w){if(w.getData){var te=w.getData("Text");te&&te.length>0&&te.indexOf(W)===-1&&(D["text/plain"]=te)}if(w.types)for(var Ce=0;Ce<w.types.length;Ce++){var Ye=w.types[Ce];try{D[Ye]=w.getData(Ye)}catch{D[Ye]=""}}}return D},fo=function(w,D){return Bn(D.clipboardData||w.getDoc().dataTransfer)},Le=function(w,D){return D in w&&w[D].length>0},Dn=function(w){return Le(w,"text/html")||Le(w,"text/plain")},to=function(w){var D=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(w);return D?{type:D[1],data:decodeURIComponent(D[2])}:{type:null,data:null}},$r=function(w,D){var W=Fi(w);return W?W(D):!0},ii=function(w,D){var W=D.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return zi(W)?w.dom.encode(W[1]):null},ir=oa("mceclip"),Xi=function(w,D){var W=to(D.uri),te=W.data,Ce=W.type,Ye=ir(),nn=D.blob,vn=new Image;if(vn.src=D.uri,$r(w,vn)){var wt=w.editorUpload.blobCache,Qt=void 0,Wn=wt.getByData(te,Ce);if(Wn)Qt=Wn;else{var dn=Oo(w)&&zi(nn.name),cn=dn?ii(w,nn.name):Ye,Vr=dn?nn.name:void 0;Qt=wt.create(Ye,nn,te,cn,Vr),wt.add(Qt)}Kn(w,'<img src="'+Qt.blobUri()+'">',!1)}else Kn(w,'<img src="'+D.uri+'">',!1)},Qo=function(w){return w.type==="paste"},ga=function(w){return zi(w.getAsFile)},Cc=function(w){return Rr.all(Wt(w,function(D){return new Rr(function(W){var te=ga(D)?D.getAsFile():D,Ce=new window.FileReader;Ce.onload=function(){W({blob:te,uri:Ce.result})},Ce.readAsDataURL(te)})}))},di=function(w){var D=Vo(w);return function(W){return ot(W.type,"image/")&&Zt(D,function(te){return ki(te)===W.type})}},mi=function(w,D){var W=D.items?oe(ho(D.items),function(Ce){return Ce.kind==="file"?[Ce.getAsFile()]:[]}):[],te=D.files?ho(D.files):[];return en(W.length>0?W:te,di(w))},vo=function(w,D,W){var te=Qo(D)?D.clipboardData:D.dataTransfer;if(ri(w)&&te){var Ce=mi(w,te);if(Ce.length>0)return D.preventDefault(),Cc(Ce).then(function(Ye){W&&w.selection.setRng(W),me(Ye,function(nn){Xi(w,nn)})}),!0}return!1},es=function(w){var D=w.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&D&&D.items&&D.items.length===0},Zu=function(w){return Gr.metaKeyPressed(w)&&w.keyCode===86||w.shiftKey&&w.keyCode===45},ec=function(w,D,W){var te=la(),Ce=la(),Ye;w.on("keyup",Ce.clear),w.on("keydown",function(wt){var Qt=function(Wn){Zu(Wn)&&!Wn.isDefaultPrevented()&&D.remove()};if(Zu(wt)&&!wt.isDefaultPrevented()){if(Ye=wt.shiftKey&&wt.keyCode===86,Ye&&zt.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(wt.stopImmediatePropagation(),te.set(wt),Ce.set(!0),zt.ie&&Ye){wt.preventDefault(),Mo(w,!0);return}D.remove(),D.create(),w.once("keyup",Qt),w.once("paste",function(){w.off("keyup",Qt)})}});var nn=function(wt,Qt,Wn,dn,cn){var Vr;Le(Qt,"text/html")?Vr=Qt["text/html"]:(Vr=D.getHtml(),cn=cn||lo(Vr),D.isDefaultContent(Vr)&&(dn=!0)),Vr=oi(Vr),D.remove();var zn=cn===!1&&Cu(Vr),wo=Oe(Vr);if((!Vr.length||zn&&!wo)&&(dn=!0),(dn||wo)&&(Le(Qt,"text/plain")&&zn?Vr=Qt["text/plain"]:Vr=ra(Vr)),D.isDefaultContent(Vr)){Wn||wt.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}dn?Zn(wt,Vr):Kn(wt,Vr,cn)},vn=function(){return D.getLastRng()||w.selection.getRng()};w.on("paste",function(wt){var Qt=te.isSet()||Ce.isSet();Qt&&te.clear();var Wn=fo(w,wt),dn=W.get()==="text"||Ye,cn=Le(Wn,pn());if(Ye=!1,wt.isDefaultPrevented()||es(wt)){D.remove();return}if(!Dn(Wn)&&vo(w,wt,vn())){D.remove();return}Qt||wt.preventDefault(),zt.ie&&(!Qt||wt.ieFake)&&!Le(Wn,"text/html")&&(D.create(),w.dom.bind(D.getEl(),"paste",function(Vr){Vr.stopPropagation()}),w.getDoc().execCommand("Paste",!1,null),Wn["text/html"]=D.getHtml()),Le(Wn,"text/html")?(wt.preventDefault(),cn||(cn=lo(Wn["text/html"])),nn(w,Wn,Qt,dn,cn)):Jr.setEditorTimeout(w,function(){nn(w,Wn,Qt,dn,cn)},0)})},bs=function(w,D,W){ec(w,D,W);var te;w.parser.addNodeFilter("img",function(Ce,Ye,nn){var vn=function(cn){return cn.data&&cn.data.paste===!0},wt=function(cn){!cn.attr("data-mce-object")&&te!==zt.transparentSrc&&cn.remove()},Qt=function(cn){return cn.indexOf("webkit-fake-url")===0},Wn=function(cn){return cn.indexOf("data:")===0};if(!ri(w)&&vn(nn))for(var dn=Ce.length;dn--;)te=Ce[dn].attr("src"),!!te&&(Qt(te)||!ka(w)&&Wn(te))&&wt(Ce[dn])})},aa=function(w){return zt.ie&&w.inline?document.body:w.getBody()},Yi=function(w){return aa(w)!==w.getBody()},ts=function(w,D,W){Yi(w)&&w.dom.bind(D,"paste keyup",function(te){ut(w,W)||w.fire("paste")})},Ji=function(w,D,W){var te=w.dom,Ce=w.getBody();D.set(w.selection.getRng());var Ye=w.dom.add(aa(w),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},W);(zt.ie||zt.gecko)&&te.setStyle(Ye,"left",te.getStyle(Ce,"direction",!0)==="rtl"?65535:-65535),te.bind(Ye,"beforedeactivate focusin focusout",function(nn){nn.stopPropagation()}),ts(w,Ye,W),Ye.focus(),w.selection.select(Ye,!0)},Ei=function(w,D){if(X(w)){for(var W=void 0,te=D.get();W=w.dom.get("mcepastebin");)w.dom.remove(W),w.dom.unbind(W);te&&w.selection.setRng(te)}D.set(null)},X=function(w){return w.dom.get("mcepastebin")},he=function(w){var D=function(vn,wt){vn.appendChild(wt),w.dom.remove(wt,!0)},W=Kr.grep(aa(w).childNodes,function(vn){return vn.id==="mcepastebin"}),te=W.shift();Kr.each(W,function(vn){D(te,vn)});for(var Ce=w.dom.select("div[id=mcepastebin]",te),Ye=Ce.length-1;Ye>=0;Ye--){var nn=w.dom.create("div");te.insertBefore(nn,Ce[Ye]),D(nn,Ce[Ye])}return te?te.innerHTML:""},Ae=function(w,D){return D===w},Ge=function(w){return w&&w.id==="mcepastebin"},ut=function(w,D){var W=X(w);return Ge(W)&&Ae(D,W.innerHTML)},an=function(w){var D=Jo(null),W="%MCEPASTEBIN%";return{create:function(){return Ji(w,D,W)},remove:function(){return Ei(w,D)},getEl:function(){return X(w)},getHtml:function(){return he(w)},getLastRng:D.get,isDefault:function(){return ut(w,W)},isDefaultContent:function(te){return Ae(W,te)}}},ur=function(w,D){var W=an(w);return w.on("PreInit",function(){return bs(w,W,D)}),{pasteFormat:D,pasteHtml:function(te,Ce){return Kn(w,te,Ce)},pasteText:function(te){return Zn(w,te)},pasteImageData:function(te,Ce){return vo(w,te,Ce)},getDataTransferItems:Bn,hasHtmlOrText:Dn,hasContentType:Le}},kr=function(w,D){D.pasteFormat.get()==="text"?(D.pasteFormat.set("html"),Go(w,!1)):(D.pasteFormat.set("text"),Go(w,!0)),w.focus()},er=function(w,D){w.addCommand("mceTogglePlainTextPaste",function(){kr(w,D)}),w.addCommand("mceInsertClipboardContent",function(W,te){te.content&&D.pasteHtml(te.content,te.internal),te.text&&D.pasteText(te.text)})},bo=function(w){return zt.iOS===!1&&typeof(w==null?void 0:w.setData)=="function"},yo=function(w,D,W){if(bo(w))try{return w.clearData(),w.setData("text/html",D),w.setData("text/plain",W),w.setData(pn(),D),!0}catch{return!1}else return!1},Qi=function(w,D,W,te){yo(w.clipboardData,D.html,D.text)?(w.preventDefault(),te()):W(D.html,te)},Da=function(w){return function(D,W){var te=va(D),Ce=w.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Ye=w.dom.create("div",{contenteditable:"true"},te);w.dom.setStyles(Ce,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),Ce.appendChild(Ye),w.dom.add(w.getBody(),Ce);var nn=w.selection.getRng();Ye.focus();var vn=w.dom.createRng();vn.selectNodeContents(Ye),w.selection.setRng(vn),Jr.setTimeout(function(){w.selection.setRng(nn),Ce.parentNode.removeChild(Ce),W()},0)}},Eu=function(w){return{html:w.selection.getContent({contextual:!0}),text:w.selection.getContent({format:"text"})}},In=function(w){return!!w.dom.getParent(w.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",w.getBody())},xc=function(w){return!w.selection.isCollapsed()||In(w)},gl=function(w){return function(D){xc(w)&&Qi(D,Eu(w),Da(w),function(){if(zt.browser.isChrome()||zt.browser.isFirefox()){var W=w.selection.getRng();Jr.setEditorTimeout(w,function(){w.selection.setRng(W),w.execCommand("Delete")},0)}else w.execCommand("Delete")})}},zr=function(w){return function(D){xc(w)&&Qi(D,Eu(w),Da(w),kn)}},hl=function(w){w.on("cut",gl(w)),w.on("copy",zr(w))},Ks=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ul=function(w,D){return Ks.getCaretRangeFromPoint(D.clientX,D.clientY,w.getDoc())},tc=function(w){var D=w["text/plain"];return D?D.indexOf("file://")===0:!1},lu=function(w,D){w.focus(),w.selection.setRng(D)},Pf=function(w,D,W){Pa(w)&&w.on("dragend dragover draggesture dragdrop drop drag",function(te){te.preventDefault(),te.stopPropagation()}),it(w)||w.on("drop",function(te){var Ce=te.dataTransfer;Ce&&Ce.files&&Ce.files.length>0&&te.preventDefault()}),w.on("drop",function(te){var Ce=Ul(w,te);if(!(te.isDefaultPrevented()||W.get())){var Ye=D.getDataTransferItems(te.dataTransfer),nn=D.hasContentType(Ye,pn());if(!((!D.hasHtmlOrText(Ye)||tc(Ye))&&D.pasteImageData(te,Ce))&&Ce&&Et(w)){var vn=Ye["mce-internal"]||Ye["text/html"]||Ye["text/plain"];vn&&(te.preventDefault(),Jr.setEditorTimeout(w,function(){w.undoManager.transact(function(){Ye["mce-internal"]&&w.execCommand("Delete"),lu(w,Ce),vn=oi(vn),Ye["text/html"]?D.pasteHtml(vn,nn):D.pasteText(vn)})}))}}}),w.on("dragstart",function(te){W.set(!0)}),w.on("dragover dragend",function(te){it(w)&&W.get()===!1&&(te.preventDefault(),lu(w,Ul(w,te))),te.type==="dragend"&&W.set(!1)})},Ia=function(w){var D=w.plugins.paste,W=Ot(w);W&&w.on("PastePreProcess",function(Ce){W.call(D,D,Ce)});var te=Vt(w);te&&w.on("PastePostProcess",function(Ce){te.call(D,D,Ce)})},Zi=function(w,D){w.on("PastePreProcess",function(W){W.content=D(w,W.content,W.internal,W.wordContent)})},ys=function(w,D){w.on("PastePostProcess",function(W){D(w,W.node)})},je=function(w,D){if(!or(D))return D;var W=[];Kr.each(w.schema.getBlockElements(),function(Ce,Ye){W.push(Ye)});var te=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+W.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return D=Fa(D,[[te,"$1"]]),D=Fa(D,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),D},Hi=function(w,D,W,te){if(te||W)return D;var Ce=tt(w),Ye;if(En(w)===!1||Ce==="all")return D;if(Ce&&(Ye=Ce.split(/[, ]/)),Ye){var nn=w.dom,vn=w.selection.getNode();D=D.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(wt,Qt,Wn,dn){var cn=nn.parseStyle(nn.decode(Wn)),Vr={};if(Ye==="none")return Qt+dn;for(var zn=0;zn<Ye.length;zn++){var wo=cn[Ye[zn]],on=nn.getStyle(vn,Ye[zn],!0);/color/.test(Ye[zn])&&(wo=nn.toHex(wo),on=nn.toHex(on)),on!==wo&&(Vr[Ye[zn]]=wo)}var gi=nn.serializeStyle(Vr,"span");return gi?Qt+' style="'+gi+'"'+dn:Qt+dn})}else D=D.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return D=D.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(wt,Qt,Wn,dn){return Qt+' style="'+Wn+'"'+dn}),D},nc=function(w,D){w.$("a",D).find("font,u").each(function(W,te){w.dom.remove(te,!0)})},pl=function(w){zt.webkit&&Zi(w,Hi),zt.ie&&(Zi(w,je),ys(w,nc))},ui=function(w,D){return function(W){W.setActive(D.pasteFormat.get()==="text");var te=function(Ce){return W.setActive(Ce.state)};return w.on("PastePlainTextToggle",te),function(){return w.off("PastePlainTextToggle",te)}}},P=function(w,D){var W=function(){return w.execCommand("mceTogglePlainTextPaste")};w.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:W,onSetup:ui(w,D)}),w.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:W,onSetup:ui(w,D)})};function k(){lr.add("paste",function(w){if(ro(w)===!1){var D=Jo(!1),W=Jo(xa(w)?"text":"html"),te=ur(w,W);return pl(w),P(w,te),er(w,te),Ia(w),hl(w),Pf(w,te,D),sa(te)}})}k()})();(function(){var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager"),lr=tinymce.util.Tools.resolve("tinymce.Env"),ro=tinymce.util.Tools.resolve("tinymce.util.Tools"),sa=function(lt){return lt.getParam("content_style","","string")},jo=function(lt){return lt.getParam("content_css_cors",!1,"boolean")},dt=function(lt){var mr=lt.getParam("body_class","","hash");return mr[lt.id]||""},qr=function(lt){var mr=lt.getParam("body_class","","string");return mr.indexOf("=")===-1?mr:dt(lt)},ke=function(lt){var mr=lt.getParam("body_id","","hash");return mr[lt.id]||mr},Nt=function(lt){var mr=lt.getParam("body_id","tinymce","string");return mr.indexOf("=")===-1?mr:ke(lt)},zi=function(lt){var mr="",Gt=lt.dom.encode,yt=sa(lt);mr+='<base href="'+Gt(lt.documentBaseURI.getURI())+'">';var hn=jo(lt)?' crossorigin="anonymous"':"";ro.each(lt.contentCSS,function(en){mr+='<link type="text/css" rel="stylesheet" href="'+Gt(lt.documentBaseURI.toAbsolute(en))+'"'+hn+">"}),yt&&(mr+='<style type="text/css">'+yt+"</style>");var Dr=Nt(lt),tr=qr(lt),Ft=lr.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Fn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Ft+")) {e.preventDefault();}}}, false);<\/script> ",Zt=lt.getBody().dir,Wt=Zt?' dir="'+Gt(Zt)+'"':"",me="<!DOCTYPE html><html><head>"+mr+'</head><body id="'+Gt(Dr)+'" class="mce-content-body '+Gt(tr)+'"'+Wt+">"+lt.getContent()+Fn+"</body></html>";return me},fr=function(lt){var mr=zi(lt),Gt=lt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:mr}});Gt.focus("close")},kn=function(lt){lt.addCommand("mcePreview",function(){fr(lt)})},Mr=function(lt){var mr=function(){return lt.execCommand("mcePreview")};lt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:mr}),lt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:mr})};function qo(){Jo.add("preview",function(lt){kn(lt),Mr(lt)})}qo()})();(function(){var Jo=function(re){var fe=re,_e=function(){return fe},Xe=function(qe){fe=qe};return{get:_e,set:Xe}},lr=tinymce.util.Tools.resolve("tinymce.PluginManager"),ro=function(){return ro=Object.assign||function(fe){for(var _e,Xe=1,qe=arguments.length;Xe<qe;Xe++){_e=arguments[Xe];for(var Mt in _e)Object.prototype.hasOwnProperty.call(_e,Mt)&&(fe[Mt]=_e[Mt])}return fe},ro.apply(this,arguments)},sa=function(re){var fe=typeof re;return re===null?"null":fe==="object"&&(Array.prototype.isPrototypeOf(re)||re.constructor&&re.constructor.name==="Array")?"array":fe==="object"&&(String.prototype.isPrototypeOf(re)||re.constructor&&re.constructor.name==="String")?"string":fe},jo=function(re){return function(fe){return sa(fe)===re}},dt=function(re){return function(fe){return typeof fe===re}},qr=jo("string"),ke=jo("array"),Nt=dt("boolean"),zi=dt("number"),fr=function(){},kn=function(re){return function(){return re}},Mr=function(re){return re},qo=kn(!1),lt=kn(!0),mr="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",Gt=kn(mr),yt=function(){return hn},hn=function(){var re=function(Xe){return Xe()},fe=Mr,_e={fold:function(Xe,qe){return Xe()},isSome:qo,isNone:lt,getOr:fe,getOrThunk:re,getOrDie:function(Xe){throw new Error(Xe||"error: getOrDie called on none.")},getOrNull:kn(null),getOrUndefined:kn(void 0),or:fe,orThunk:re,map:yt,each:fr,bind:yt,exists:qo,forall:lt,filter:function(){return yt()},toArray:function(){return[]},toString:kn("none()")};return _e}(),Dr=function(re){var fe=kn(re),_e=function(){return qe},Xe=function(Mt){return Mt(re)},qe={fold:function(Mt,It){return It(re)},isSome:lt,isNone:qo,getOr:fe,getOrThunk:fe,getOrDie:fe,getOrNull:fe,getOrUndefined:fe,or:_e,orThunk:_e,map:function(Mt){return Dr(Mt(re))},each:function(Mt){Mt(re)},bind:Xe,exists:Xe,forall:Xe,filter:function(Mt){return Mt(re)?qe:hn},toArray:function(){return[re]},toString:function(){return"some("+re+")"}};return qe},tr=function(re){return re==null?hn:Dr(re)},Ft={some:Dr,none:yt,from:tr},Fn=Gt,Zt=tinymce.util.Tools.resolve("tinymce.Env"),Wt=tinymce.util.Tools.resolve("tinymce.util.Tools"),me=Array.prototype.slice,en=Array.prototype.push,On=function(re,fe){for(var _e=re.length,Xe=new Array(_e),qe=0;qe<_e;qe++){var Mt=re[qe];Xe[qe]=fe(Mt,qe)}return Xe},Ca=function(re,fe){for(var _e=0,Xe=re.length;_e<Xe;_e++){var qe=re[_e];fe(qe,_e)}},oe=function(re,fe){for(var _e=re.length-1;_e>=0;_e--){var Xe=re[_e];fe(Xe,_e)}},ho=function(re,fe){if(re.length===0)return[];for(var _e=fe(re[0]),Xe=[],qe=[],Mt=0,It=re.length;Mt<It;Mt++){var pt=re[Mt],Mn=fe(pt);Mn!==_e&&(Xe.push(qe),qe=[]),_e=Mn,qe.push(pt)}return qe.length!==0&&Xe.push(qe),Xe},Ka=function(re,fe,_e){return Ca(re,function(Xe,qe){_e=fe(_e,Xe,qe)}),_e},Ct=function(re){for(var fe=[],_e=0,Xe=re.length;_e<Xe;++_e){if(!ke(re[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+re);en.apply(fe,re[_e])}return fe},la=function(re,fe){return Ct(On(re,fe))},Hr=function(re,fe){var _e=me.call(re,0);return _e.sort(fe),_e},ot=Object.hasOwnProperty,Eo=function(re,fe){return ot.call(re,fe)};typeof window<"u"||Function("return this;")();var Je=9,zt=11,Jr=1,Rr=3,Gr=function(re){return re.dom.nodeType},br=function(re){return function(fe){return Gr(fe)===re}},ee=br(Rr),Go=function(re,fe,_e){if(qr(_e)||Nt(_e)||zi(_e))re.setAttribute(fe,_e+"");else throw console.error("Invalid call to Attribute.set. Key ",fe,":: Value ",_e,":: Element ",re),new Error("Attribute value was not simple")},Mo=function(re,fe,_e){Go(re.dom,fe,_e)},Kr=function(re,fe,_e){return(re.compareDocumentPosition(fe)&_e)!==0},Pa=function(re,fe){return Kr(re,fe,Node.DOCUMENT_POSITION_PRECEDING)},it=function(re,fe){var _e=fe||document,Xe=_e.createElement("div");if(Xe.innerHTML=re,!Xe.hasChildNodes()||Xe.childNodes.length>1)throw console.error("HTML does not have a single root node",re),new Error("HTML must have a single root node");return Vt(Xe.childNodes[0])},Et=function(re,fe){var _e=fe||document,Xe=_e.createElement(re);return Vt(Xe)},Ot=function(re,fe){var _e=fe||document,Xe=_e.createTextNode(re);return Vt(Xe)},Vt=function(re){if(re==null)throw new Error("Node cannot be null or undefined");return{dom:re}},tt=function(re,fe,_e){return Ft.from(re.dom.elementFromPoint(fe,_e)).map(Vt)},En={fromHtml:it,fromTag:Et,fromText:Ot,fromDom:Vt,fromPoint:tt},Vn=function(re){return re.nodeType!==Jr&&re.nodeType!==Je&&re.nodeType!==zt||re.childElementCount===0},tn=function(re,fe){var _e=fe===void 0?document:fe.dom;return Vn(_e)?[]:On(_e.querySelectorAll(re),En.fromDom)},xa=function(re){return Ft.from(re.dom.parentNode).map(En.fromDom)},eo=function(re){return On(re.dom.childNodes,En.fromDom)},mn=function(re,fe){return{element:re,offset:fe}},Ut=function(re,fe){var _e=eo(re);return _e.length>0&&fe<_e.length?mn(_e[fe],0):mn(re,fe)},To=function(re,fe){var _e=xa(re);_e.each(function(Xe){Xe.dom.insertBefore(fe.dom,re.dom)})},Sa=function(re,fe){re.dom.appendChild(fe.dom)},ka=function(re,fe){To(re,fe),Sa(fe,re)},ri=function(re,fe){var _e=function(Mt){if(!re(Mt))throw new Error("Can only get "+fe+" value of a "+fe+" node");return Xe(Mt).getOr("")},Xe=function(Mt){return re(Mt)?Ft.from(Mt.dom.nodeValue):Ft.none()},qe=function(Mt,It){if(!re(Mt))throw new Error("Can only set raw "+fe+" value of a "+fe+" node");Mt.dom.nodeValue=It};return{get:_e,getOption:Xe,set:qe}},Fi=ri(ee,"text"),Oo=function(re){return Fi.get(re)},fa=function(re,fe){return tn(fe,re)},Ao=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ea=function(re,fe){return re.isBlock(fe)||Eo(re.schema.getShortEndedElements(),fe.nodeName)},Vo=function(re,fe){return re.getContentEditable(fe)==="false"},Ta=function(re,fe){return re.getContentEditable(fe)==="true"&&re.getContentEditableParent(fe.parentNode)==="false"},N=function(re,fe){return!re.isBlock(fe)&&Eo(re.schema.getWhiteSpaceElements(),fe.nodeName)},va=function(re,fe){return Ea(re,fe)||Vo(re,fe)||N(re,fe)||Ta(re,fe)},Xa=function(re){return re.nodeType===3},lo=function(){return{sOffset:0,fOffset:0,elements:[]}},pn=function(re,fe){return Ut(En.fromDom(re),fe)},Yt=function(re,fe,_e,Xe,qe,Mt){Mt===void 0&&(Mt=!0);for(var It=Mt?fe(!1):_e;It;){var pt=Vo(re,It);if(pt||N(re,It)){var Mn=pt?Xe.cef(It):Xe.boundary(It);if(Mn)break;It=fe(!0);continue}else if(Ea(re,It)){if(Xe.boundary(It))break}else Xa(It)&&Xe.text(It);if(It===qe)break;It=fe(!1)}},za=function(re,fe,_e,Xe,qe){if(!va(re,_e)){var Mt=re.getParent(Xe,re.isBlock),It=new Ao(_e,Mt),pt=qe?It.next.bind(It):It.prev.bind(It);Yt(re,pt,_e,{boundary:lt,cef:lt,text:function(Mn){qe?fe.fOffset+=Mn.length:fe.sOffset+=Mn.length,fe.elements.push(En.fromDom(Mn))}})}},Pr=function(re,fe,_e,Xe,qe,Mt){Mt===void 0&&(Mt=!0);var It=new Ao(_e,fe),pt=[],Mn=lo();za(re,Mn,_e,fe,!1);var Kn=function(){return Mn.elements.length>0&&(pt.push(Mn),Mn=lo()),!1};return Yt(re,It.next.bind(It),_e,{boundary:Kn,cef:function(Zn){return Kn(),qe&&pt.push.apply(pt,qe.cef(Zn)),!1},text:function(Zn){Mn.elements.push(En.fromDom(Zn)),qe&&qe.text(Zn,Mn)}},Xe,Mt),Xe&&za(re,Mn,Xe,fe,!0),Kn(),pt},Cu=function(re,fe){var _e=pn(fe.startContainer,fe.startOffset),Xe=_e.element.dom,qe=pn(fe.endContainer,fe.endOffset),Mt=qe.element.dom;return Pr(re,fe.commonAncestorContainer,Xe,Mt,{text:function(It,pt){It===Mt?pt.fOffset+=It.length-qe.offset:It===Xe&&(pt.sOffset+=_e.offset)},cef:function(It){var pt=la(fa(En.fromDom(It),"*[contenteditable=true]"),function(Mn){var Kn=Mn.dom;return Pr(re,Kn,Kn)});return Hr(pt,function(Mn,Kn){return Pa(Mn.elements[0].dom,Kn.elements[0].dom)?1:-1})}},!1)},Ii=function(re,fe){return fe.collapsed?[]:Cu(re,fe)},Jn=function(re,fe){var _e=re.createRng();return _e.selectNode(fe),Ii(re,_e)},xu=function(re,fe){return la(fe,function(_e){return Jn(re,_e)})},Su=function(re,fe,_e,Xe){_e===void 0&&(_e=0),Xe===void 0&&(Xe=re.length);var qe=fe.regex;qe.lastIndex=_e;for(var Mt=[],It;It=qe.exec(re);){var pt=It[fe.matchIndex],Mn=It.index+It[0].indexOf(pt),Kn=Mn+pt.length;if(Kn>Xe)break;Mt.push({start:Mn,finish:Kn}),qe.lastIndex=Kn}return Mt},_r=function(re,fe){var _e=Ka(re,function(Xe,qe){var Mt=Oo(qe),It=Xe.last,pt=It+Mt.length,Mn=la(fe,function(Kn,Zn){return Kn.start<pt&&Kn.finish>It?[{element:qe,start:Math.max(It,Kn.start)-It,finish:Math.min(pt,Kn.finish)-It,matchId:Zn}]:[]});return{results:Xe.results.concat(Mn),last:pt}},{results:[],last:0}).results;return ho(_e,function(Xe){return Xe.matchId})},Un=function(re,fe){return la(fe,function(_e){var Xe=_e.elements,qe=On(Xe,Oo).join(""),Mt=Su(qe,re,_e.sOffset,qe.length-_e.fOffset);return _r(Xe,Mt)})},gt=function(re,fe){oe(re,function(_e,Xe){oe(_e,function(qe){var Mt=En.fromDom(fe.cloneNode(!1));Mo(Mt,"data-mce-index",Xe);var It=qe.element.dom;if(It.length===qe.finish&&qe.start===0)ka(qe.element,Mt);else{It.length!==qe.finish&&It.splitText(qe.finish);var pt=It.splitText(qe.start);ka(En.fromDom(pt),Mt)}})})},da=function(re,fe,_e,Xe){var qe=Jn(re,_e),Mt=Un(fe,qe);return gt(Mt,Xe),Mt.length},na=function(re,fe,_e,Xe){var qe=_e.getBookmark(),Mt=re.select("td[data-mce-selected],th[data-mce-selected]"),It=Mt.length>0?xu(re,Mt):Ii(re,_e.getRng()),pt=Un(fe,It);return gt(pt,Xe),_e.moveToBookmark(qe),pt.length},Po=function(re){var fe=re.getAttribute("data-mce-index");return typeof fe=="number"?""+fe:fe},Fa=function(re,fe,_e,Xe){var qe=re.dom.create("span",{"data-mce-bogus":1});qe.className="mce-match-marker";var Mt=re.getBody();return Xr(re,fe,!1),Xe?na(re.dom,_e,re.selection,qe):da(re.dom,_e,Mt,qe)},ra=function(re){var fe=re.parentNode;re.firstChild&&fe.insertBefore(re.firstChild,re),re.parentNode.removeChild(re)},oi=function(re,fe){var _e=[],Xe=Wt.toArray(re.getBody().getElementsByTagName("span"));if(Xe.length)for(var qe=0;qe<Xe.length;qe++){var Mt=Po(Xe[qe]);Mt===null||!Mt.length||Mt===fe.toString()&&_e.push(Xe[qe])}return _e},oa=function(re,fe,_e){var Xe=fe.get(),qe=Xe.index,Mt=re.dom;_e=_e!==!1,_e?qe+1===Xe.count?qe=0:qe++:qe-1===-1?qe=Xe.count-1:qe--,Mt.removeClass(oi(re,Xe.index),"mce-match-marker-selected");var It=oi(re,qe);return It.length?(Mt.addClass(oi(re,qe),"mce-match-marker-selected"),re.selection.scrollIntoView(It[0]),qe):-1},ki=function(re,fe){var _e=fe.parentNode;re.remove(fe),re.isEmpty(_e)&&re.remove(_e)},or=function(re,fe){var _e=re.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Xe="("+_e+")";return fe?"(?:^|\\s|"+Fn()+")"+Xe+("(?=$|\\s|"+Fn()+")"):Xe},Oa=function(re,fe,_e,Xe,qe,Mt){var It=re.selection,pt=or(_e,qe),Mn=It.isForward(),Kn={regex:new RegExp(pt,Xe?"g":"gi"),matchIndex:1},Zn=Fa(re,fe,Kn,Mt);if(Zt.browser.isSafari()&&It.setRng(It.getRng(),Mn),Zn){var Bn=oa(re,fe,!0);fe.set({index:Bn,count:Zn,text:_e,matchCase:Xe,wholeWord:qe,inSelection:Mt})}return Zn},Jt=function(re,fe){var _e=oa(re,fe,!0);fe.set(ro(ro({},fe.get()),{index:_e}))},Li=function(re,fe){var _e=oa(re,fe,!1);fe.set(ro(ro({},fe.get()),{index:_e}))},Aa=function(re){var fe=Po(re);return fe!==null&&fe.length>0},Ya=function(re,fe,_e,Xe,qe){var Mt=fe.get(),It=Mt.index,pt,Mn=It;Xe=Xe!==!1;for(var Kn=re.getBody(),Zn=Wt.grep(Wt.toArray(Kn.getElementsByTagName("span")),Aa),Bn=0;Bn<Zn.length;Bn++){var fo=Po(Zn[Bn]),Le=pt=parseInt(fo,10);if(qe||Le===Mt.index){for(_e.length?(Zn[Bn].firstChild.nodeValue=_e,ra(Zn[Bn])):ki(re.dom,Zn[Bn]);Zn[++Bn];)if(Le=parseInt(Po(Zn[Bn]),10),Le===pt)ki(re.dom,Zn[Bn]);else{Bn--;break}Xe&&Mn--}else pt>It&&Zn[Bn].setAttribute("data-mce-index",String(pt-1))}return fe.set(ro(ro({},Mt),{count:qe?0:Mt.count-1,index:Mn})),Xe?Jt(re,fe):Li(re,fe),!qe&&fe.get().count>0},Xr=function(re,fe,_e){for(var Xe,qe,Mt=fe.get(),It=Wt.toArray(re.getBody().getElementsByTagName("span")),pt=0;pt<It.length;pt++){var Mn=Po(It[pt]);Mn!==null&&Mn.length&&(Mn===Mt.index.toString()&&(Xe||(Xe=It[pt].firstChild),qe=It[pt].firstChild),ra(It[pt]))}if(fe.set(ro(ro({},Mt),{index:-1,count:0,text:""})),Xe&&qe){var Kn=re.dom.createRng();return Kn.setStart(Xe,0),Kn.setEnd(qe,qe.data.length),_e!==!1&&re.selection.setRng(Kn),Kn}},ku=function(re,fe){return fe.get().count>1},ma=function(re,fe){return fe.get().count>1},ai=function(re,fe){var _e=function(pt){return Xr(re,fe,pt)},Xe=function(pt,Mn,Kn,Zn){return Zn===void 0&&(Zn=!1),Oa(re,fe,pt,Mn,Kn,Zn)},qe=function(){return Jt(re,fe)},Mt=function(){return Li(re,fe)},It=function(pt,Mn,Kn){return Ya(re,fe,pt,Mn,Kn)};return{done:_e,find:Xe,next:qe,prev:Mt,replace:It}},Lu=function(re){var fe=Jo(Ft.none()),_e=function(){return fe.get().each(re)},Xe=function(){_e(),fe.set(Ft.none())},qe=function(){return fe.get().isSome()},Mt=function(){return fe.get()},It=function(pt){_e(),fe.set(Ft.some(pt))};return{clear:Xe,isSet:qe,get:Mt,set:It}},le=function(){var re=Lu(fr),fe=function(_e){return re.get().each(_e)};return ro(ro({},re),{on:fe})},ye=function(re,fe){var _e=le();re.undoManager.add();var Xe=Wt.trim(re.selection.getContent({format:"text"})),qe=function(Dn){var to=ku(re,fe)?Dn.enable:Dn.disable;to("next");var $r=ma(re,fe)?Dn.enable:Dn.disable;$r("prev")},Mt=function(Dn){var to=Dn.getData(),$r=fe.get();fe.set(ro(ro({},$r),{matchCase:to.matchcase,wholeWord:to.wholewords,inSelection:to.inselection}))},It=function(Dn,to){var $r=["replace","replaceall","prev","next"],ii=to?Dn.disable:Dn.enable;Ca($r,ii)},pt=function(Dn){re.windowManager.alert("Could not find the specified string.",function(){Dn.focus("findtext")})},Mn=function(Dn,to){Zt.browser.isSafari()&&Zt.deviceType.isTouch()&&(to==="find"||to==="replace"||to==="replaceall")&&Dn.focus(to)},Kn=function(Dn){Xr(re,fe,!1),It(Dn,!0),qe(Dn)},Zn=function(Dn){var to=Dn.getData(),$r=fe.get();if(!to.findtext.length){Kn(Dn);return}if($r.text===to.findtext&&$r.matchCase===to.matchcase&&$r.wholeWord===to.wholewords)Jt(re,fe);else{var ii=Oa(re,fe,to.findtext,to.matchcase,to.wholewords,to.inselection);ii<=0&&pt(Dn),It(Dn,ii===0)}qe(Dn)},Bn=fe.get(),fo={findtext:Xe,replacetext:"",wholewords:Bn.wholeWord,matchcase:Bn.matchCase,inselection:Bn.inSelection},Le={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:fo,onChange:function(Dn,to){to.name==="findtext"&&fe.get().count>0&&Kn(Dn)},onAction:function(Dn,to){var $r=Dn.getData();switch(to.name){case"find":Zn(Dn);break;case"replace":Ya(re,fe,$r.replacetext)?qe(Dn):Kn(Dn);break;case"replaceall":Ya(re,fe,$r.replacetext,!0,!0),Kn(Dn);break;case"prev":Li(re,fe),qe(Dn);break;case"next":Jt(re,fe),qe(Dn);break;case"matchcase":case"wholewords":case"inselection":Mt(Dn),Kn(Dn);break}Mn(Dn,to.name)},onSubmit:function(Dn){Zn(Dn),Mn(Dn,"find")},onClose:function(){re.focus(),Xr(re,fe),re.undoManager.add()}};_e.set(re.windowManager.open(Le,{inline:"toolbar"}))},Oe=function(re,fe){re.addCommand("SearchReplace",function(){ye(re,fe)})},Me=function(re,fe){return function(){ye(re,fe)}},Rt=function(re,fe){re.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Me(re,fe),icon:"search"}),re.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Me(re,fe),icon:"search"}),re.shortcuts.add("Meta+F","",Me(re,fe))};function nt(){lr.add("searchreplace",function(re){var fe=Jo({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Oe(re,fe),Rt(re,fe),ai(re,fe)})}nt()})();export{t7 as t};
